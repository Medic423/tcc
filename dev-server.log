üöÄ TCC Complete Dev Startup
===========================
‚ñ∂Ô∏è  Launching start-dev.sh...
‚è≥ Waiting for backend health...
üöÄ Starting TCC Development Environment...
üìã Standardized Ports:
   Frontend: http://localhost:3000
   Backend:  http://localhost:5001

üßπ Cleaning up existing processes...
  - Killing nodemon processes...
  - Killing ts-node processes...
‚úÖ Backend healthy at http://localhost:5001/health
üîé Running feed health checks...
  - Killing processes on ports 3000 and 5001...
‚ùå /health -> 000000
‚ö†Ô∏è  /api/tcc/analytics/overview requires auth (set TCC_TOKEN to validate)
‚ö†Ô∏è  /api/tcc/agencies requires auth (set TCC_TOKEN to validate)
‚ö†Ô∏è  /api/dropdown-options requires auth (set TCC_TOKEN to validate)
‚ö†Ô∏è  /api/tcc/hospitals requires auth (set TCC_TOKEN to validate)
‚ö†Ô∏è  /api/ems/analytics/overview requires auth (set TCC_TOKEN to validate)
‚ö†Ô∏è  /api/ems/analytics/trips requires auth (set TCC_TOKEN to validate)
‚ö†Ô∏è  /api/ems/analytics/units requires auth (set TCC_TOKEN to validate)
‚ö†Ô∏è  /api/ems/analytics/performance requires auth (set TCC_TOKEN to validate)
‚ö†Ô∏è  One or more feeds are unhealthy. See results above.
üåê Frontend expected at http://localhost:3000
üîß Backend at http://localhost:5001
üìä Health: http://localhost:5001/health
Press Ctrl+C to stop all servers
‚è≥ Waiting for ports to be released...
üîß Starting Backend Server (Port 5001)...
‚è≥ Waiting for backend to start...

> tcc-backend@1.0.0 dev
> nodemon src/index.ts

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: ts,json[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
‚úÖ Backend server is healthy
üé® Starting Frontend Server (Port 3000)...

> tcc-frontend@1.0.0 dev
> vite


  VITE v5.4.19  ready in 89 ms

  ‚ûú  Local:   http://localhost:3000/
  ‚ûú  Network: use --host to expose

‚úÖ Development servers started successfully!
üåê Frontend: http://localhost:3000
üîß Backend:  http://localhost:5001
üìä Health Check: http://localhost:5001/health

üí° Tips:
   - Use 'npm run dev:health' to check server status
   - Use 'npm run dev:clean' for clean restart
   - Use 'npm run dev:safe' for health check + clean restart

Press Ctrl+C to stop all servers
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - no token found
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - no token found
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - no token found
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - no token found
TCC_DEBUG: Create enhanced trip request received: {
  patientId: 'TEST-E2E-001',
  patientWeight: '180',
  specialNeeds: 'Test end-to-end flow',
  fromLocation: 'UPMC Altoona',
  toLocation: 'General Hospital',
  scheduledTime: '2025-09-09T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'End-to-end test trip',
  priority: 'LOW'
}
TCC_DEBUG: Creating enhanced trip with data: {
  patientId: 'TEST-E2E-001',
  patientWeight: '180',
  specialNeeds: 'Test end-to-end flow',
  insuranceCompany: undefined,
  fromLocation: 'UPMC Altoona',
  pickupLocationId: undefined,
  toLocation: 'General Hospital',
  scheduledTime: '2025-09-09T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'End-to-end test trip',
  priority: 'LOW'
}
TCC_DEBUG: Enhanced trip created successfully: cmgf1q3rr000162m6dxg14is0
TCC_DEBUG: Enhanced trip created successfully: {
  success: true,
  data: {
    id: 'cmgf1q3rr000162m6dxg14is0',
    tripNumber: 'TRP-1759750017685',
    patientId: 'TEST-E2E-001',
    patientWeight: '180',
    specialNeeds: 'Test end-to-end flow',
    originFacilityId: null,
    destinationFacilityId: null,
    fromLocation: 'UPMC Altoona',
    toLocation: 'General Hospital',
    scheduledTime: 2025-09-09T15:00:00.000Z,
    transportLevel: 'BLS',
    urgencyLevel: 'Routine',
    priority: 'LOW',
    status: 'PENDING',
    specialRequirements: 'Test end-to-end flow',
    diagnosis: 'General Medical',
    mobilityLevel: 'Ambulatory',
    oxygenRequired: false,
    monitoringRequired: false,
    generateQRCode: false,
    qrCodeData: null,
    selectedAgencies: [],
    notificationRadius: 100,
    requestTimestamp: 2025-10-06T11:26:57.685Z,
    acceptedTimestamp: null,
    pickupTimestamp: null,
    arrivalTimestamp: null,
    departureTimestamp: null,
    completionTimestamp: null,
    pickupLocationId: null,
    assignedAgencyId: null,
    assignedUnitId: null,
    createdById: null,
    healthcareCreatedById: null,
    isolation: false,
    bariatric: false,
    notes: 'End-to-end test trip',
    createdAt: 2025-10-06T11:26:57.687Z,
    updatedAt: 2025-10-06T11:26:57.687Z
  }
}
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - no token found
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - no token found
TCC_DEBUG: Update trip status request: {
  id: 'cmgf1q3rr000162m6dxg14is0',
  body: { status: 'ACCEPTED', assignedAgencyId: 'test-agency-id' }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgf1q3rr000162m6dxg14is0',
  data: {
    status: 'ACCEPTED',
    assignedAgencyId: 'test-agency-id',
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgf1q3rr000162m6dxg14is0
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - no token found
TCC_DEBUG: Login request received: {
  email: 'fferguson@movalleyems.com',
  password: '***',
  body: { email: 'fferguson@movalleyems.com', password: 'movalley123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '62',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'keep-alive',
    referer: 'http://localhost:3000/',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc0OTYzMiwiZXhwIjoxNzU5ODM2MDMyfQ.qWemI3PtW3-JSoPljX5OUn3FNiXNhJbb1XJAvQDVJgs',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'fferguson@movalleyems.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgct0avc0001l4rbufgkdsq1',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  isActive: true,
  userType: 'EMS'
}
TCC_DEBUG: Using agencyId for EMS user: {
  userId: 'cmgct0avc0001l4rbufgkdsq1',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Login successful, user ID in token: cmgct0avc0001l4rbufgkdsq1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
TCC_DEBUG: EMS Login request received: { email: 'fferguson@movalleyems.com', password: '***' }
TCC_DEBUG: EMS Login request received: { email: 'fferguson@movalleyems.com', password: '***' }
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMwMywiZXhwIjoxNzU5ODM2NzAzfQ.vaZETcB4xe4Dh_NOszjZJ1rzsy3RMtg64tIfxPcKFr0
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 9
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMwMywiZXhwIjoxNzU5ODM2NzAzfQ.vaZETcB4xe4Dh_NOszjZJ1rzsy3RMtg64tIfxPcKFr0
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 9
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMwMywiZXhwIjoxNzU5ODM2NzAzfQ.vaZETcB4xe4Dh_NOszjZJ1rzsy3RMtg64tIfxPcKFr0
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 9
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMwMywiZXhwIjoxNzU5ODM2NzAzfQ.vaZETcB4xe4Dh_NOszjZJ1rzsy3RMtg64tIfxPcKFr0
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMwMywiZXhwIjoxNzU5ODM2NzAzfQ.vaZETcB4xe4Dh_NOszjZJ1rzsy3RMtg64tIfxPcKFr0
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMwMywiZXhwIjoxNzU5ODM2NzAzfQ.vaZETcB4xe4Dh_NOszjZJ1rzsy3RMtg64tIfxPcKFr0
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS,COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS,COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 6
TCC_DEBUG: Create enhanced trip request received: {
  patientId: 'TEST-E2E-001',
  patientWeight: '180',
  specialNeeds: 'Test end-to-end flow',
  fromLocation: 'UPMC Altoona',
  toLocation: 'General Hospital',
  scheduledTime: '2025-09-09T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'End-to-end test trip',
  priority: 'LOW'
}
TCC_DEBUG: Creating enhanced trip with data: {
  patientId: 'TEST-E2E-001',
  patientWeight: '180',
  specialNeeds: 'Test end-to-end flow',
  insuranceCompany: undefined,
  fromLocation: 'UPMC Altoona',
  pickupLocationId: undefined,
  toLocation: 'General Hospital',
  scheduledTime: '2025-09-09T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'End-to-end test trip',
  priority: 'LOW'
}
TCC_DEBUG: Enhanced trip created successfully: cmgf1w8py000362m6ldi4qqwf
TCC_DEBUG: Enhanced trip created successfully: {
  success: true,
  data: {
    id: 'cmgf1w8py000362m6ldi4qqwf',
    tripNumber: 'TRP-1759750304038',
    patientId: 'TEST-E2E-001',
    patientWeight: '180',
    specialNeeds: 'Test end-to-end flow',
    originFacilityId: null,
    destinationFacilityId: null,
    fromLocation: 'UPMC Altoona',
    toLocation: 'General Hospital',
    scheduledTime: 2025-09-09T15:00:00.000Z,
    transportLevel: 'BLS',
    urgencyLevel: 'Routine',
    priority: 'LOW',
    status: 'PENDING',
    specialRequirements: 'Test end-to-end flow',
    diagnosis: 'General Medical',
    mobilityLevel: 'Ambulatory',
    oxygenRequired: false,
    monitoringRequired: false,
    generateQRCode: false,
    qrCodeData: null,
    selectedAgencies: [],
    notificationRadius: 100,
    requestTimestamp: 2025-10-06T11:31:44.038Z,
    acceptedTimestamp: null,
    pickupTimestamp: null,
    arrivalTimestamp: null,
    departureTimestamp: null,
    completionTimestamp: null,
    pickupLocationId: null,
    assignedAgencyId: null,
    assignedUnitId: null,
    createdById: null,
    healthcareCreatedById: null,
    isolation: false,
    bariatric: false,
    notes: 'End-to-end test trip',
    createdAt: 2025-10-06T11:31:44.038Z,
    updatedAt: 2025-10-06T11:31:44.038Z
  }
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMwMywiZXhwIjoxNzU5ODM2NzAzfQ.vaZETcB4xe4Dh_NOszjZJ1rzsy3RMtg64tIfxPcKFr0
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 10
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMwMywiZXhwIjoxNzU5ODM2NzAzfQ.vaZETcB4xe4Dh_NOszjZJ1rzsy3RMtg64tIfxPcKFr0
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Update trip status request: {
  id: 'cmgf1w8py000362m6ldi4qqwf',
  body: { status: 'ACCEPTED', assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1' }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgf1w8py000362m6ldi4qqwf',
  data: {
    status: 'ACCEPTED',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgf1w8py000362m6ldi4qqwf
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMwMywiZXhwIjoxNzU5ODM2NzAzfQ.vaZETcB4xe4Dh_NOszjZJ1rzsy3RMtg64tIfxPcKFr0
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS,COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS,COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 7
TCC_DEBUG: Login request received: {
  email: 'fferguson@movalleyems.com',
  password: '***',
  body: { email: 'fferguson@movalleyems.com', password: 'movalley123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '62',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'keep-alive',
    referer: 'http://localhost:3000/',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDA0NCwiZXhwIjoxNzU5ODM2NDQ0fQ.B2Nt-n-wyAQx0V-4jjosT5VAMzxWMZTdqBD3TC9v8Rk',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'fferguson@movalleyems.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgct0avc0001l4rbufgkdsq1',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  isActive: true,
  userType: 'EMS'
}
TCC_DEBUG: Using agencyId for EMS user: {
  userId: 'cmgct0avc0001l4rbufgkdsq1',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Login successful, user ID in token: cmgct0avc0001l4rbufgkdsq1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 2
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 5
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 2
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get on-duty units request from user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Getting on-duty units for agency: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getOnDutyUnits called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Update trip status request: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  body: {
    status: 'ACCEPTED',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    acceptedTimestamp: '2025-10-06T12:19:49.793Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  data: {
    status: 'ACCEPTED',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    acceptedTimestamp: '2025-10-06T12:19:49.793Z',
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Validating unit assignment: {
  unitId: 'cmgeynijz000110gsj4i3kah1',
  agencyId: 'cmgct0avc0001l4rbufgkdsq1'
}
TCC_DEBUG: Unit does not belong to agency: cmgeynijz000110gsj4i3kah1 agencyId: cmgct0avc0001l4rbufgkdsq1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get on-duty units request from user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Getting on-duty units for agency: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getOnDutyUnits called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Update trip status request: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  body: {
    status: 'ACCEPTED',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    acceptedTimestamp: '2025-10-06T12:21:59.506Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  data: {
    status: 'ACCEPTED',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    acceptedTimestamp: '2025-10-06T12:21:59.506Z',
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Validating unit assignment: {
  unitId: 'cmgeynijz000110gsj4i3kah1',
  agencyId: 'cmgct0avc0001l4rbufgkdsq1'
}
TCC_DEBUG: Unit does not belong to agency: cmgeynijz000110gsj4i3kah1 agencyId: cmgct0avc0001l4rbufgkdsq1
TCC_DEBUG: Update trip status request: {
  id: 'cmgf1w8py000362m6ldi4qqwf',
  body: {
    status: 'IN_PROGRESS',
    pickupTimestamp: '2025-10-06T12:24:11.754Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgf1w8py000362m6ldi4qqwf',
  data: {
    status: 'IN_PROGRESS',
    assignedAgencyId: undefined,
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: '2025-10-06T12:24:11.754Z',
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgf1w8py000362m6ldi4qqwf
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 2
TCC_DEBUG: Update trip status request: {
  id: 'cmgf1w8py000362m6ldi4qqwf',
  body: {
    status: 'COMPLETED',
    completionTimestamp: '2025-10-06T12:24:26.743Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgf1w8py000362m6ldi4qqwf',
  data: {
    status: 'COMPLETED',
    assignedAgencyId: undefined,
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: '2025-10-06T12:24:26.743Z',
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgf1w8py000362m6ldi4qqwf
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
8:26:34 AM [vite] hmr update /src/App.tsx, /src/index.css, /src/components/Login.tsx, /src/components/HealthcareLogin.tsx, /src/components/EMSLogin.tsx, /src/components/Notifications.tsx, /src/components/Overview.tsx, /src/components/Hospitals.tsx, /src/components/TripsView.tsx, /src/components/HealthcarePortal.tsx, /src/components/Agencies.tsx, /src/components/NotificationSettings.tsx, /src/components/UserManagement.tsx, /src/components/FinancialDashboard.tsx, /src/components/TCCRouteOptimizer.tsx, /src/components/TCCUnitsManagement.tsx, /src/components/UnitsManagement.tsx, /src/components/UnitSelectionModal.tsx, /src/components/EnhancedTripForm.tsx, /src/components/HospitalSettings.tsx, /src/components/RevenueOptimizationPanel.tsx
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
8:27:28 AM [vite] hmr update /src/components/UnitSelectionModal.tsx, /src/index.css
8:27:52 AM [vite] hmr update /src/components/UnitSelectionModal.tsx, /src/index.css
8:28:00 AM [vite] hmr update /src/components/EMSDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
8:28:09 AM [vite] hmr update /src/components/EMSDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
8:28:31 AM [vite] hmr update /src/components/EMSDashboard.tsx, /src/index.css
8:28:31 AM [vite] hmr update /src/App.tsx, /src/index.css, /src/components/Login.tsx, /src/components/HealthcareLogin.tsx, /src/components/EMSLogin.tsx, /src/components/Notifications.tsx, /src/components/Overview.tsx, /src/components/Hospitals.tsx, /src/components/TripsView.tsx, /src/components/HealthcarePortal.tsx, /src/components/Agencies.tsx, /src/components/NotificationSettings.tsx, /src/components/UserManagement.tsx, /src/components/FinancialDashboard.tsx, /src/components/TCCRouteOptimizer.tsx, /src/components/TCCUnitsManagement.tsx, /src/components/UnitsManagement.tsx, /src/components/UnitSelectionModal.tsx, /src/components/EnhancedTripForm.tsx, /src/components/HospitalSettings.tsx, /src/components/RevenueOptimizationPanel.tsx
8:28:31 AM [vite] hmr update /src/components/UnitSelectionModal.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 1,
  committedUnits: 1,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0.5
}
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get on-duty units request from user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Getting on-duty units for agency: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getOnDutyUnits called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Update trip status request: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  body: {
    status: 'ACCEPTED',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    acceptedTimestamp: '2025-10-06T12:28:47.750Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  data: {
    status: 'ACCEPTED',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    acceptedTimestamp: '2025-10-06T12:28:47.750Z',
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Validating unit assignment: {
  unitId: 'cmgeynijz000110gsj4i3kah1',
  agencyId: 'cmgct0avc0001l4rbufgkdsq1'
}
TCC_DEBUG: Unit does not belong to agency: cmgeynijz000110gsj4i3kah1 agencyId: cmgct0avc0001l4rbufgkdsq1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get on-duty units request from user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Getting on-duty units for agency: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getOnDutyUnits called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Update trip status request: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  body: {
    status: 'ACCEPTED',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    acceptedTimestamp: '2025-10-06T12:29:28.319Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  data: {
    status: 'ACCEPTED',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    acceptedTimestamp: '2025-10-06T12:29:28.319Z',
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Validating unit assignment: {
  unitId: 'cmgeynijz000110gsj4i3kah1',
  agencyId: 'cmgct0avc0001l4rbufgkdsq1'
}
TCC_DEBUG: Unit does not belong to agency: cmgeynijz000110gsj4i3kah1 agencyId: cmgct0avc0001l4rbufgkdsq1
8:31:09 AM [vite] hmr update /src/components/UnitSelectionModal.tsx, /src/index.css
8:31:39 AM [vite] hmr update /src/components/UnitSelectionModal.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get on-duty units request from user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Getting on-duty units for agency: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getOnDutyUnits called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Update trip status request: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  body: {
    status: 'ACCEPTED',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    assignedAgencyId: 'cmgcp4jh70004j210zxd9wda3',
    acceptedTimestamp: '2025-10-06T12:32:09.121Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgdu76po0004yu9xw177sqy8',
  data: {
    status: 'ACCEPTED',
    assignedAgencyId: 'cmgcp4jh70004j210zxd9wda3',
    assignedUnitId: 'cmgeynijz000110gsj4i3kah1',
    acceptedTimestamp: '2025-10-06T12:32:09.121Z',
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Validating unit assignment: {
  unitId: 'cmgeynijz000110gsj4i3kah1',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Unit assignment validated successfully: cmgeynijz000110gsj4i3kah1
TCC_DEBUG: Updating unit status: { unitId: 'cmgeynijz000110gsj4i3kah1', status: 'COMMITTED' }
TCC_DEBUG: Unit status updated successfully: cmgeynijz000110gsj4i3kah1 to COMMITTED
TCC_DEBUG: Trip status updated successfully: cmgdu76po0004yu9xw177sqy8
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get on-duty units request from user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Getting on-duty units for agency: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getOnDutyUnits called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found on-duty units: 0
TCC_DEBUG: Found on-duty units: 0
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 0,
  committedUnits: 2,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0
}
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Calculated analytics: {
  totalUnits: 2,
  availableUnits: 0,
  committedUnits: 2,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0
}
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: Found units: 2
üîç Units API: units found: 2
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
üîç Units API POST: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API POST: agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API POST: body: {
  unitNumber: '421',
  type: 'AMBULANCE',
  capabilities: [ 'BLS', 'ALS' ],
  customCapabilities: [],
  isActive: true
}
TCC_DEBUG: createUnit called with data: {
  unitNumber: '421',
  type: 'AMBULANCE',
  capabilities: [ 'BLS', 'ALS' ],
  customCapabilities: [],
  isActive: true
}
TCC_DEBUG: Unit created successfully: {
  id: 'cmgf457ux000562m64u77u84h',
  agencyId: 'cmgcp4jh70004j210zxd9wda3',
  unitNumber: '421',
  type: 'AMBULANCE',
  capabilities: [ 'BLS', 'ALS' ],
  currentStatus: 'AVAILABLE',
  currentLocation: 'Station 1',
  crew: [],
  isActive: true,
  totalTripsCompleted: 0,
  averageResponseTime: 0,
  lastMaintenanceDate: 2025-10-06T12:34:42.056Z,
  nextMaintenanceDate: 2025-11-05T12:34:42.056Z,
  createdAt: 2025-10-06T12:34:42.057Z,
  updatedAt: 2025-10-06T12:34:42.057Z
}
üîç Units API POST: unit created: {
  id: 'cmgf457ux000562m64u77u84h',
  agencyId: 'cmgcp4jh70004j210zxd9wda3',
  unitNumber: '421',
  type: 'AMBULANCE',
  capabilities: [ 'BLS', 'ALS' ],
  currentStatus: 'AVAILABLE',
  currentLocation: 'Station 1',
  crew: [],
  isActive: true,
  totalTripsCompleted: 0,
  averageResponseTime: 0,
  lastMaintenanceDate: 2025-10-06T12:34:42.056Z,
  nextMaintenanceDate: 2025-11-05T12:34:42.056Z,
  createdAt: 2025-10-06T12:34:42.057Z,
  updatedAt: 2025-10-06T12:34:42.057Z
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get on-duty units request from user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Getting on-duty units for agency: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getOnDutyUnits called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Found on-duty units: 1
TCC_DEBUG: Update trip status request: {
  id: 'cmgdsgy4u0000va566w9bzrcb',
  body: {
    status: 'ACCEPTED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedAgencyId: 'cmgcp4jh70004j210zxd9wda3',
    acceptedTimestamp: '2025-10-06T12:35:22.828Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgdsgy4u0000va566w9bzrcb',
  data: {
    status: 'ACCEPTED',
    assignedAgencyId: 'cmgcp4jh70004j210zxd9wda3',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    acceptedTimestamp: '2025-10-06T12:35:22.828Z',
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Validating unit assignment: {
  unitId: 'cmgf457ux000562m64u77u84h',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Unit assignment validated successfully: cmgf457ux000562m64u77u84h
TCC_DEBUG: Updating unit status: { unitId: 'cmgf457ux000562m64u77u84h', status: 'COMMITTED' }
TCC_DEBUG: Unit status updated successfully: cmgf457ux000562m64u77u84h to COMMITTED
TCC_DEBUG: Trip status updated successfully: cmgdsgy4u0000va566w9bzrcb
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 6
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 3,
  availableUnits: 0,
  committedUnits: 3,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 3,
  availableUnits: 0,
  committedUnits: 3,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0
}
TCC_DEBUG: Found units: 3
üîç Units API: units found: 3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found units: 3
üîç Units API: units found: 3
TCC_DEBUG: Update trip status request: {
  id: 'cmgf1q3rr000162m6dxg14is0',
  body: {
    status: 'IN_PROGRESS',
    pickupTimestamp: '2025-10-06T12:35:44.622Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgf1q3rr000162m6dxg14is0',
  data: {
    status: 'IN_PROGRESS',
    assignedAgencyId: undefined,
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: '2025-10-06T12:35:44.622Z',
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgf1q3rr000162m6dxg14is0
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 6
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Update trip status request: {
  id: 'cmgf1q3rr000162m6dxg14is0',
  body: {
    status: 'COMPLETED',
    completionTimestamp: '2025-10-06T12:35:53.174Z'
  }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgf1q3rr000162m6dxg14is0',
  data: {
    status: 'COMPLETED',
    assignedAgencyId: undefined,
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: '2025-10-06T12:35:53.174Z',
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgf1q3rr000162m6dxg14is0
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Update trip status request: { id: 'cmgdr40ek0000edg9ab8iumzf', body: { status: 'CANCELLED' } }
TCC_DEBUG: Updating trip status: {
  id: 'cmgdr40ek0000edg9ab8iumzf',
  data: {
    status: 'CANCELLED',
    assignedAgencyId: undefined,
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgdr40ek0000edg9ab8iumzf
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 0
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 0
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitAnalytics called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 3,
  availableUnits: 0,
  committedUnits: 3,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0
}
TCC_DEBUG: Calculated analytics: {
  totalUnits: 3,
  availableUnits: 0,
  committedUnits: 3,
  outOfServiceUnits: 0,
  maintenanceUnits: 0,
  offDutyUnits: 0,
  totalTripsToday: 0,
  averageResponseTime: 0,
  efficiency: 0
}
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
üîç Units API: req.user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
üîç Units API: agencyId for EMS user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getUnitsByAgency called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found units: 3
üîç Units API: units found: 3
TCC_DEBUG: Found units: 3
üîç Units API: units found: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 0
TCC_DEBUG: Found trips: 0
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 5
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Login request received: {
  email: 'nurse@altoonaregional.org',
  password: '***',
  body: { email: 'nurse@altoonaregional.org', password: 'nurse123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '59',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'keep-alive',
    referer: 'http://localhost:3000/',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1MDMzNCwiZXhwIjoxNzU5ODM2NzM0fQ.V1yE99zunYTMDW4k3yILqP9VWFjuggezSDdhmSTM0Eo',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site',
    priority: 'u=0'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'nurse@altoonaregional.org', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  name: 'Sarah Johnson',
  isActive: true,
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Login successful, user ID in token: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get notifications request for user: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 10
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 10
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 10
TCC_DEBUG: EMS Login request received: { email: 'fferguson@movalleyems.com', password: '***' }
TCC_DEBUG: Create enhanced trip request received: {
  patientId: 'SEED-PEND-001',
  patientWeight: '175',
  specialNeeds: 'Seeded for Phase 3',
  fromLocation: 'UPMC Altoona',
  toLocation: 'General Hospital',
  scheduledTime: '2025-10-10T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'Seeded',
  priority: 'LOW'
}
TCC_DEBUG: Creating enhanced trip with data: {
  patientId: 'SEED-PEND-001',
  patientWeight: '175',
  specialNeeds: 'Seeded for Phase 3',
  insuranceCompany: undefined,
  fromLocation: 'UPMC Altoona',
  pickupLocationId: undefined,
  toLocation: 'General Hospital',
  scheduledTime: '2025-10-10T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'Seeded',
  priority: 'LOW'
}
TCC_DEBUG: Enhanced trip created successfully: cmgf4cs8o000762m6i1bk9i8m
TCC_DEBUG: Enhanced trip created successfully: {
  success: true,
  data: {
    id: 'cmgf4cs8o000762m6i1bk9i8m',
    tripNumber: 'TRP-1759754435063',
    patientId: 'SEED-PEND-001',
    patientWeight: '175',
    specialNeeds: 'Seeded for Phase 3',
    originFacilityId: null,
    destinationFacilityId: null,
    fromLocation: 'UPMC Altoona',
    toLocation: 'General Hospital',
    scheduledTime: 2025-10-10T15:00:00.000Z,
    transportLevel: 'BLS',
    urgencyLevel: 'Routine',
    priority: 'LOW',
    status: 'PENDING',
    specialRequirements: 'Seeded for Phase 3',
    diagnosis: 'General Medical',
    mobilityLevel: 'Ambulatory',
    oxygenRequired: false,
    monitoringRequired: false,
    generateQRCode: false,
    qrCodeData: null,
    selectedAgencies: [],
    notificationRadius: 100,
    requestTimestamp: 2025-10-06T12:40:35.063Z,
    acceptedTimestamp: null,
    pickupTimestamp: null,
    arrivalTimestamp: null,
    departureTimestamp: null,
    completionTimestamp: null,
    pickupLocationId: null,
    assignedAgencyId: null,
    assignedUnitId: null,
    createdById: null,
    healthcareCreatedById: null,
    isolation: false,
    bariatric: false,
    notes: 'Seeded',
    createdAt: 2025-10-06T12:40:35.064Z,
    updatedAt: 2025-10-06T12:40:35.064Z
  }
}
TCC_DEBUG: Create enhanced trip request received: {
  patientId: 'SEED-PEND-002',
  patientWeight: '175',
  specialNeeds: 'Seeded for Phase 3',
  fromLocation: 'UPMC Altoona',
  toLocation: 'General Hospital',
  scheduledTime: '2025-10-10T15:00:00.000Z',
  transportLevel: 'ALS',
  urgencyLevel: 'Urgent',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'Seeded',
  priority: 'LOW'
}
TCC_DEBUG: Creating enhanced trip with data: {
  patientId: 'SEED-PEND-002',
  patientWeight: '175',
  specialNeeds: 'Seeded for Phase 3',
  insuranceCompany: undefined,
  fromLocation: 'UPMC Altoona',
  pickupLocationId: undefined,
  toLocation: 'General Hospital',
  scheduledTime: '2025-10-10T15:00:00.000Z',
  transportLevel: 'ALS',
  urgencyLevel: 'Urgent',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'Seeded',
  priority: 'LOW'
}
TCC_DEBUG: Enhanced trip created successfully: cmgf4cs90000962m62c6ntuou
TCC_DEBUG: Enhanced trip created successfully: {
  success: true,
  data: {
    id: 'cmgf4cs90000962m62c6ntuou',
    tripNumber: 'TRP-1759754435075',
    patientId: 'SEED-PEND-002',
    patientWeight: '175',
    specialNeeds: 'Seeded for Phase 3',
    originFacilityId: null,
    destinationFacilityId: null,
    fromLocation: 'UPMC Altoona',
    toLocation: 'General Hospital',
    scheduledTime: 2025-10-10T15:00:00.000Z,
    transportLevel: 'ALS',
    urgencyLevel: 'Urgent',
    priority: 'LOW',
    status: 'PENDING',
    specialRequirements: 'Seeded for Phase 3',
    diagnosis: 'General Medical',
    mobilityLevel: 'Ambulatory',
    oxygenRequired: false,
    monitoringRequired: false,
    generateQRCode: false,
    qrCodeData: null,
    selectedAgencies: [],
    notificationRadius: 100,
    requestTimestamp: 2025-10-06T12:40:35.075Z,
    acceptedTimestamp: null,
    pickupTimestamp: null,
    arrivalTimestamp: null,
    departureTimestamp: null,
    completionTimestamp: null,
    pickupLocationId: null,
    assignedAgencyId: null,
    assignedUnitId: null,
    createdById: null,
    healthcareCreatedById: null,
    isolation: false,
    bariatric: false,
    notes: 'Seeded',
    createdAt: 2025-10-06T12:40:35.076Z,
    updatedAt: 2025-10-06T12:40:35.076Z
  }
}
TCC_DEBUG: Create enhanced trip request received: {
  patientId: 'SEED-INPROG-001',
  patientWeight: '175',
  specialNeeds: 'Seeded for Phase 3',
  fromLocation: 'UPMC Altoona',
  toLocation: 'General Hospital',
  scheduledTime: '2025-10-10T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'Seeded',
  priority: 'LOW'
}
TCC_DEBUG: Creating enhanced trip with data: {
  patientId: 'SEED-INPROG-001',
  patientWeight: '175',
  specialNeeds: 'Seeded for Phase 3',
  insuranceCompany: undefined,
  fromLocation: 'UPMC Altoona',
  pickupLocationId: undefined,
  toLocation: 'General Hospital',
  scheduledTime: '2025-10-10T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'Seeded',
  priority: 'LOW'
}
TCC_DEBUG: Enhanced trip created successfully: cmgf4cs9a000b62m6udiktr14
TCC_DEBUG: Enhanced trip created successfully: {
  success: true,
  data: {
    id: 'cmgf4cs9a000b62m6udiktr14',
    tripNumber: 'TRP-1759754435086',
    patientId: 'SEED-INPROG-001',
    patientWeight: '175',
    specialNeeds: 'Seeded for Phase 3',
    originFacilityId: null,
    destinationFacilityId: null,
    fromLocation: 'UPMC Altoona',
    toLocation: 'General Hospital',
    scheduledTime: 2025-10-10T15:00:00.000Z,
    transportLevel: 'BLS',
    urgencyLevel: 'Routine',
    priority: 'LOW',
    status: 'PENDING',
    specialRequirements: 'Seeded for Phase 3',
    diagnosis: 'General Medical',
    mobilityLevel: 'Ambulatory',
    oxygenRequired: false,
    monitoringRequired: false,
    generateQRCode: false,
    qrCodeData: null,
    selectedAgencies: [],
    notificationRadius: 100,
    requestTimestamp: 2025-10-06T12:40:35.086Z,
    acceptedTimestamp: null,
    pickupTimestamp: null,
    arrivalTimestamp: null,
    departureTimestamp: null,
    completionTimestamp: null,
    pickupLocationId: null,
    assignedAgencyId: null,
    assignedUnitId: null,
    createdById: null,
    healthcareCreatedById: null,
    isolation: false,
    bariatric: false,
    notes: 'Seeded',
    createdAt: 2025-10-06T12:40:35.087Z,
    updatedAt: 2025-10-06T12:40:35.087Z
  }
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDQzNSwiZXhwIjoxNzU5ODQwODM1fQ.hR_ntZW7eYep2Wya_-u3avFP4B-5zbbpvnI4S0ZacUE
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get on-duty units request from user: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  userType: 'EMS',
  agencyName: 'Altoona EMS',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Getting on-duty units for agency: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: getOnDutyUnits called with agencyId: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Found on-duty units: 0
TCC_DEBUG: Found on-duty units: 0
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDQzNSwiZXhwIjoxNzU5ODQwODM1fQ.hR_ntZW7eYep2Wya_-u3avFP4B-5zbbpvnI4S0ZacUE
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDQzNSwiZXhwIjoxNzU5ODQwODM1fQ.hR_ntZW7eYep2Wya_-u3avFP4B-5zbbpvnI4S0ZacUE
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 5
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 13
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 13
TCC_DEBUG: EMS Login request received: { email: 'fferguson@movalleyems.com', password: '***' }
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 13
TCC_DEBUG: EMS Login request received: { email: 'fferguson@movalleyems.com', password: '***' }
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 13
TCC_DEBUG: EMS Login request received: { email: 'fferguson@movalleyems.com', password: '***' }
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDUzNywiZXhwIjoxNzU5ODQwOTM3fQ.M6U-a4czPiRjr_lqE_Uwx_qA63udZ84P4UVFVbceB7E
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 13
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDUzNywiZXhwIjoxNzU5ODQwOTM3fQ.M6U-a4czPiRjr_lqE_Uwx_qA63udZ84P4UVFVbceB7E
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 13
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDUzNywiZXhwIjoxNzU5ODQwOTM3fQ.M6U-a4czPiRjr_lqE_Uwx_qA63udZ84P4UVFVbceB7E
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 13
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDUzNywiZXhwIjoxNzU5ODQwOTM3fQ.M6U-a4czPiRjr_lqE_Uwx_qA63udZ84P4UVFVbceB7E
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDUzNywiZXhwIjoxNzU5ODQwOTM3fQ.M6U-a4czPiRjr_lqE_Uwx_qA63udZ84P4UVFVbceB7E
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDUzNywiZXhwIjoxNzU5ODQwOTM3fQ.M6U-a4czPiRjr_lqE_Uwx_qA63udZ84P4UVFVbceB7E
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS,COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS,COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 9
TCC_DEBUG: Create enhanced trip request received: {
  patientId: 'TEST-E2E-001',
  patientWeight: '180',
  specialNeeds: 'Test end-to-end flow',
  fromLocation: 'UPMC Altoona',
  toLocation: 'General Hospital',
  scheduledTime: '2025-09-09T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'End-to-end test trip',
  priority: 'LOW'
}
TCC_DEBUG: Creating enhanced trip with data: {
  patientId: 'TEST-E2E-001',
  patientWeight: '180',
  specialNeeds: 'Test end-to-end flow',
  insuranceCompany: undefined,
  fromLocation: 'UPMC Altoona',
  pickupLocationId: undefined,
  toLocation: 'General Hospital',
  scheduledTime: '2025-09-09T15:00:00.000Z',
  transportLevel: 'BLS',
  urgencyLevel: 'Routine',
  diagnosis: 'General Medical',
  mobilityLevel: 'Ambulatory',
  oxygenRequired: false,
  monitoringRequired: false,
  generateQRCode: false,
  selectedAgencies: [],
  notificationRadius: 100,
  notes: 'End-to-end test trip',
  priority: 'LOW'
}
TCC_DEBUG: Enhanced trip created successfully: cmgf4ez4l000d62m670i27ykd
TCC_DEBUG: Enhanced trip created successfully: {
  success: true,
  data: {
    id: 'cmgf4ez4l000d62m670i27ykd',
    tripNumber: 'TRP-1759754537300',
    patientId: 'TEST-E2E-001',
    patientWeight: '180',
    specialNeeds: 'Test end-to-end flow',
    originFacilityId: null,
    destinationFacilityId: null,
    fromLocation: 'UPMC Altoona',
    toLocation: 'General Hospital',
    scheduledTime: 2025-09-09T15:00:00.000Z,
    transportLevel: 'BLS',
    urgencyLevel: 'Routine',
    priority: 'LOW',
    status: 'PENDING',
    specialRequirements: 'Test end-to-end flow',
    diagnosis: 'General Medical',
    mobilityLevel: 'Ambulatory',
    oxygenRequired: false,
    monitoringRequired: false,
    generateQRCode: false,
    qrCodeData: null,
    selectedAgencies: [],
    notificationRadius: 100,
    requestTimestamp: 2025-10-06T12:42:17.300Z,
    acceptedTimestamp: null,
    pickupTimestamp: null,
    arrivalTimestamp: null,
    departureTimestamp: null,
    completionTimestamp: null,
    pickupLocationId: null,
    assignedAgencyId: null,
    assignedUnitId: null,
    createdById: null,
    healthcareCreatedById: null,
    isolation: false,
    bariatric: false,
    notes: 'End-to-end test trip',
    createdAt: 2025-10-06T12:42:17.301Z,
    updatedAt: 2025-10-06T12:42:17.301Z
  }
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDUzNywiZXhwIjoxNzU5ODQwOTM3fQ.M6U-a4czPiRjr_lqE_Uwx_qA63udZ84P4UVFVbceB7E
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDUzNywiZXhwIjoxNzU5ODQwOTM3fQ.M6U-a4czPiRjr_lqE_Uwx_qA63udZ84P4UVFVbceB7E
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Update trip status request: {
  id: 'cmgf4ez4l000d62m670i27ykd',
  body: { status: 'ACCEPTED', assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1' }
}
TCC_DEBUG: Updating trip status: {
  id: 'cmgf4ez4l000d62m670i27ykd',
  data: {
    status: 'ACCEPTED',
    assignedAgencyId: 'cmgct0avc0001l4rbufgkdsq1',
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgf4ez4l000d62m670i27ykd
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDUzNywiZXhwIjoxNzU5ODQwOTM3fQ.M6U-a4czPiRjr_lqE_Uwx_qA63udZ84P4UVFVbceB7E
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS,COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS,COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 10
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: Login request received: {
  email: 'fferguson@movalleyems.com',
  password: '***',
  body: { email: 'fferguson@movalleyems.com', password: 'movalley123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '62',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'keep-alive',
    referer: 'http://localhost:3000/',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTQzODAsImV4cCI6MTc1OTg0MDc4MH0.gjAKWvnFbi1EgBrd97F4Ap5FIshdt0WXYGzm5zDAab0',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'fferguson@movalleyems.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgct0avc0001l4rbufgkdsq1',
  email: 'fferguson@movalleyems.com',
  name: 'Frank Ferguson',
  isActive: true,
  userType: 'EMS'
}
TCC_DEBUG: Using agencyId for EMS user: {
  userId: 'cmgct0avc0001l4rbufgkdsq1',
  agencyId: 'cmgcp4jh70004j210zxd9wda3'
}
TCC_DEBUG: Login successful, user ID in token: cmgct0avc0001l4rbufgkdsq1
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 6
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Found trips: 6
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
8:48:33 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
8:49:38 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
8:50:52 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
8:51:19 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 14
8:51:19 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 3
TCC_DEBUG: Found trips: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: Get notifications request for user: cmgcp4jh70004j210zxd9wda3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'ACCEPTED,IN_PROGRESS' }
TCC_DEBUG: Getting trips with filters: {
  status: 'ACCEPTED,IN_PROGRESS',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 6
TCC_DEBUG: Found trips: 6
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jh70004j210zxd9wda3',
  email: 'fferguson@movalleyems.com',
  userType: 'EMS'
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'COMPLETED' }
TCC_DEBUG: Getting trips with filters: {
  status: 'COMPLETED',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Found trips: 4
TCC_DEBUG: Login request received: {
  email: 'nurse@altoonaregional.org',
  password: '***',
  body: { email: 'nurse@altoonaregional.org', password: 'nurse123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '59',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'keep-alive',
    referer: 'http://localhost:3000/',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpoNzAwMDRqMjEwenhkOXdkYTMiLCJlbWFpbCI6ImZmZXJndXNvbkBtb3ZhbGxleWVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc1NDYyNywiZXhwIjoxNzU5ODQxMDI3fQ.8DaBI42N4byi54-NngDV7enuxrPMk38_rCLickJiCuI',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site',
    priority: 'u=0'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'nurse@altoonaregional.org', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  name: 'Sarah Johnson',
  isActive: true,
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Login successful, user ID in token: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: Get notifications request for user: cmgcp4jnh0008j210rphmwfsp
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Update trip status request: { id: 'cmgf4cs8o000762m6i1bk9i8m', body: { status: 'CANCELLED' } }
TCC_DEBUG: Updating trip status: {
  id: 'cmgf4cs8o000762m6i1bk9i8m',
  data: {
    status: 'CANCELLED',
    assignedAgencyId: undefined,
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgf4cs8o000762m6i1bk9i8m
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: Update trip status request: { id: 'cmgf4cs90000962m62c6ntuou', body: { status: 'CANCELLED' } }
TCC_DEBUG: Updating trip status: {
  id: 'cmgf4cs90000962m62c6ntuou',
  data: {
    status: 'CANCELLED',
    assignedAgencyId: undefined,
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Trip status updated successfully: cmgf4cs90000962m62c6ntuou
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
8:56:47 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
8:56:47 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
8:57:14 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Update trip status request: { id: 'cmgf4cs9a000b62m6udiktr14', body: { status: 'CANCELLED' } }
TCC_DEBUG: Updating trip status: {
  id: 'cmgf4cs9a000b62m6udiktr14',
  data: {
    status: 'CANCELLED',
    assignedAgencyId: undefined,
    assignedUnitId: undefined,
    acceptedTimestamp: undefined,
    pickupTimestamp: undefined,
    arrivalTimestamp: undefined,
    departureTimestamp: undefined,
    completionTimestamp: undefined,
    urgencyLevel: undefined,
    transportLevel: undefined,
    diagnosis: undefined,
    mobilityLevel: undefined,
    insuranceCompany: undefined,
    specialNeeds: undefined,
    oxygenRequired: undefined,
    monitoringRequired: undefined
  }
}
TCC_DEBUG: Trip status updated successfully: cmgf4cs9a000b62m6udiktr14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
9:00:29 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 14
9:00:52 AM [vite] hmr update /src/components/HealthcareDashboard.tsx, /src/index.css
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpuaDAwMDhqMjEwcnBobXdmc3AiLCJlbWFpbCI6Im51cnNlQGFsdG9vbmFyZWdpb25hbC5vcmciLCJ1c2VyVHlwZSI6IkhFQUxUSENBUkUiLCJpYXQiOjE3NTk3NTUxMTgsImV4cCI6MTc1OTg0MTUxOH0.5-2ZvbdeNJU8QqHQx3aQaKmFBfVHV1PXjWBOv3fKk0c'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jnh0008j210rphmwfsp',
  email: 'nurse@altoonaregional.org',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 14
