
> tcc-backend@1.0.0 dev
> nodemon src/index.ts

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: ts,json[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:294:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:311:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:294:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:311:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:859
    return new TSError(diagnosticText, diagnosticCodes, diagnostics);
           ^
TSError: ‚®Ø Unable to compile TypeScript:
src/routes/auth.ts(145,11): error TS2451: Cannot redeclare block-scoped variable 'centerDB'.
src/routes/auth.ts(171,11): error TS2451: Cannot redeclare block-scoped variable 'centerDB'.

    at createTSError (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1617:30)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14) {
  diagnosticCodes: [ 2451, 2451 ]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
TCC_DEBUG: Login request received: {
  email: 'admin@tcc.com',
  password: '***',
  body: { email: 'admin@tcc.com', password: 'admin123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '47',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'keep-alive',
    referer: 'http://localhost:3000/',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2d5cjR5YjAwMDFlNGM4MHJqcGd4c2wiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5ODY4NTA0LCJleHAiOjE3NTk5NTQ5MDR9.dEf4eTxx2kmmsI8Y3aJI0ohA_82lo6f3TTxEmYleQpQ',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site',
    priority: 'u=0'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'admin@tcc.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  isActive: true,
  userType: 'ADMIN'
}
TCC_DEBUG: Login successful, user ID in token: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:294:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:311:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
TCC_DEBUG: Login request received: {
  email: 'admin@tcc.com',
  password: '***',
  body: { email: 'admin@tcc.com', password: 'admin123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '47',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'keep-alive',
    referer: 'http://localhost:3000/',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0MzY1LCJleHAiOjE3NTk5NjA3NjV9.oHOpJMwTI4yQqf33D1ICmm4Jo9xSWg_zyry6Aoo2mBQ',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site',
    priority: 'u=0'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'admin@tcc.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  isActive: true,
  userType: 'ADMIN'
}
TCC_DEBUG: Login successful, user ID in token: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
üîç TCC Units API: req.user: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined
}
üîç TCC Units API: emsDB obtained: true
üîç TCC Units API: req.user: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined
}
üîç TCC Units API: emsDB obtained: true
üîç TCC Units API: units found: 3
üîç TCC Units API: units found: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Performance metrics - data: {
  totalTrips: 0,
  completedTrips: 0,
  averageResponseTime: 0,
  averageTripTime: 0,
  totalRevenue: 0,
  efficiency: 0,
  customerSatisfaction: 4.2
}
üîç TCC Units API: req.user: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined
}
üîç TCC Units API: emsDB obtained: true
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
üîç TCC Units API: req.user: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined
}
üîç TCC Units API: emsDB obtained: true
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
üîç TCC Units API: units found: 3
üîç TCC Units API: units found: 3
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Performance metrics - data: {
  totalTrips: 0,
  completedTrips: 0,
  averageResponseTime: 0,
  averageTripTime: 0,
  totalRevenue: 0,
  efficiency: 0,
  customerSatisfaction: 4.2
}
TCC_DEBUG: Found trips: 2
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: Found trips: 2
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notification preferences for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notification preferences for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Simplified getCostAnalysisSummary called - complex cost analysis disabled for Phase 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Simplified getCostAnalysisSummary called - complex cost analysis disabled for Phase 3
TCC_DEBUG: Simplified getTripCostBreakdowns called - complex cost analysis disabled for Phase 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Simplified getTripCostBreakdowns called - complex cost analysis disabled for Phase 3
TCC_DEBUG: Simplified getProfitabilityAnalysis called - complex profitability analysis disabled for Phase 3
TCC_DEBUG: Simplified getProfitabilityAnalysis called - complex profitability analysis disabled for Phase 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Simplified getProfitabilityAnalysis called - complex profitability analysis disabled for Phase 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Simplified getCostAnalysisSummary called - complex cost analysis disabled for Phase 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Simplified getProfitabilityAnalysis called - complex profitability analysis disabled for Phase 3
TCC_DEBUG: Simplified getTripCostBreakdowns called - complex cost analysis disabled for Phase 3
TCC_DEBUG: Simplified getTripCostBreakdowns called - complex cost analysis disabled for Phase 3
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Simplified getCostAnalysisSummary called - complex cost analysis disabled for Phase 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: Simplified getCostAnalysisSummary called - complex cost analysis disabled for Phase 3
TCC_DEBUG: Simplified getProfitabilityAnalysis called - complex profitability analysis disabled for Phase 3
TCC_DEBUG: Simplified getTripCostBreakdowns called - complex cost analysis disabled for Phase 3
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: Simplified getCostAnalysisSummary called - complex cost analysis disabled for Phase 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Simplified getProfitabilityAnalysis called - complex profitability analysis disabled for Phase 3
TCC_DEBUG: Simplified getTripCostBreakdowns called - complex cost analysis disabled for Phase 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
üîç TCC Units API: req.user: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined
}
üîç TCC Units API: emsDB obtained: true
üîç TCC Units API: req.user: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined
}
üîç TCC Units API: emsDB obtained: true
üîç TCC Units API: units found: 3
üîç TCC Units API: units found: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Performance metrics - data: {
  totalTrips: 0,
  completedTrips: 0,
  averageResponseTime: 0,
  averageTripTime: 0,
  totalRevenue: 0,
  efficiency: 0,
  customerSatisfaction: 4.2
}
TCC_DEBUG: Performance metrics - data: {
  totalTrips: 0,
  completedTrips: 0,
  averageResponseTime: 0,
  averageTripTime: 0,
  totalRevenue: 0,
  efficiency: 0,
  customerSatisfaction: 4.2
}
TCC_DEBUG: authenticateAdmin - authHeader: undefined
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - no token found
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:859
    return new TSError(diagnosticText, diagnosticCodes, diagnostics);
           ^
TSError: ‚®Ø Unable to compile TypeScript:
src/services/analyticsService.ts(66,7): error TS2739: Type '{ totalTrips: number; activeAgencies: number; activeFacilities: number; totalUnits: number; activeUnits: number; }' is missing the following properties from type 'SystemOverview': totalHospitals, totalAgencies, totalFacilities, activeHospitals
src/services/analyticsService.ts(75,7): error TS2739: Type '{ totalTrips: number; activeAgencies: number; activeFacilities: number; totalUnits: number; activeUnits: number; }' is missing the following properties from type 'SystemOverview': totalHospitals, totalAgencies, totalFacilities, activeHospitals

    at createTSError (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1617:30)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14) {
  diagnosticCodes: [ 2739, 2739 ]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get notifications request for user: cmgcp4jgz0000j210gyylcbfs
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
üîç TCC Units API: req.user: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined
}
üîç TCC Units API: emsDB obtained: true
üîç TCC Units API: req.user: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  userType: 'ADMIN',
  facilityName: undefined,
  agencyName: undefined,
  agencyId: undefined
}
üîç TCC Units API: emsDB obtained: true
üîç TCC Units API: units found: 3
üîç TCC Units API: units found: 3
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: Found trips: 19
TCC_DEBUG: Trips sample fields ‚Üí [
  {
    id: 'cmgffco4700098swdberogg4m',
    status: 'COMPLETED',
    assignedUnitId: 'cmgf457ux000562m64u77u84h',
    assignedUnit: {
      id: 'cmgf457ux000562m64u77u84h',
      unitNumber: '421',
      type: 'AMBULANCE'
    }
  },
  {
    id: 'cmgffb9a600088swdbu1b4k27',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  },
  {
    id: 'cmgff9xgt00078swdx5pjnfx9',
    status: 'PENDING',
    assignedUnitId: null,
    assignedUnit: null
  }
]
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2NwNGpnejAwMDBqMjEwZ3l5bGNiZnMiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5ODc0NjM0LCJleHAiOjE3NTk5NjEwMzR9.1kg9sO6yMjC-EwzhBBvlEI05W2s7BPdEILT_lieEt74'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgcp4jgz0000j210gyylcbfs',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}

üõë Shutting down server...
npm error Lifecycle script `dev` failed with error:
npm error code 143
npm error path /Users/scooper/Code/tcc-new-project/backend
npm error workspace tcc-backend@1.0.0
npm error location /Users/scooper/Code/tcc-new-project/backend
npm error command failed
npm error command sh -c nodemon src/index.ts
