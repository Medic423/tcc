
> tcc-backend@1.0.0 dev
> nodemon src/index.ts

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: ts,json[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
TCC_DEBUG: Login request received: {
  email: 'admin@tcc.com',
  password: '***',
  body: { email: 'admin@tcc.com', password: 'admin123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'curl/8.7.1',
    accept: '*/*',
    'content-type': 'application/json',
    'content-length': '50'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'admin@tcc.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  isActive: true,
  userType: 'ADMIN'
}
TCC_DEBUG: Login successful, user ID in token: cmfzpfsgg0000fl2mh10f13vp
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTE0LCJleHAiOjE3NTk4Nzg5MTR9.fDFv_9rgyivADAexLQRIXL28yA0GiOjpBT-A7mORRP8
TCC_DEBUG: authenticateAdmin - cookies: [Object: null prototype] {}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:292:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:309:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:859
    return new TSError(diagnosticText, diagnosticCodes, diagnostics);
           ^
TSError: ‚®Ø Unable to compile TypeScript:
src/services/unitService.ts(130,11): error TS2322: Type '{ address: string; coordinates: { lat: number; lng: number; }; }' is not assignable to type 'string'.

    at createTSError (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1617:30)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14) {
  diagnosticCodes: [ 2322 ]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:294:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:311:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
sh: ts-node: command not found
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[31m[nodemon] failed to start process, "ts-node" exec not found[39m
[31m[nodemon] Error
    at Bus.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/nodemon.js:164:25)
    at Bus.emit (node:events:519:35)
    at ChildProcess.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/monitor/run.js:199:11)
    at ChildProcess.emit (node:events:507:28)
    at ChildProcess._handle.onexit (node:internal/child_process:294:12)[39m
ur-super-secret-jwt-key-here
/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:859
    return new TSError(diagnosticText, diagnosticCodes, diagnostics);
           ^
TSError: ‚®Ø Unable to compile TypeScript:
src/services/unitService.ts(130,11): error TS2322: Type '{ address: string; coordinates: { lat: number; lng: number; }; }' is not assignable to type 'string'.

    at createTSError (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1617:30)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14) {
  diagnosticCodes: [ 2322 ]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:294:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:311:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
sh: ts-node: command not found
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[31m[nodemon] failed to start process, "ts-node" exec not found[39m
[31m[nodemon] Error
    at Bus.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/nodemon.js:164:25)
    at Bus.emit (node:events:519:35)
    at ChildProcess.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/monitor/run.js:199:11)
    at ChildProcess.emit (node:events:507:28)
    at ChildProcess._handle.onexit (node:internal/child_process:294:12)[39m
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      [32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:292:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:309:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:859
    return new TSError(diagnosticText, diagnosticCodes, diagnostics);
           ^
TSError: ‚®Ø Unable to compile TypeScript:
src/services/unitService.ts(130,11): error TS2322: Type '{ address: string; coordinates: { lat: number; lng: number; }; }' is not assignable to type 'string'.

    at createTSError (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1617:30)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14) {
  diagnosticCodes: [ 2322 ]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:294:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:311:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
sh: ts-node: command not found
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[31m[nodemon] failed to start process, "ts-node" exec not found[39m
[31m[nodemon] Error
    at Bus.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/nodemon.js:164:25)
    at Bus.emit (node:events:519:35)
    at ChildProcess.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/monitor/run.js:199:11)
    at ChildProcess.emit (node:events:507:28)
    at ChildProcess._handle.onexit (node:internal/child_process:294:12)[39m
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  [32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
üöÄ TCC Backend server running on port 5001
üìä Health check: http://localhost:5001/health
üîê Auth endpoint: http://localhost:5001/api/auth/login
üöó Trips API: http://localhost:5001/api/trips
üè• Hospitals API: http://localhost:5001/api/tcc/hospitals
üöë Agencies API: http://localhost:5001/api/tcc/agencies
üè¢ Facilities API: http://localhost:5001/api/tcc/facilities
üìà Analytics API: http://localhost:5001/api/tcc/analytics
TCC_DEBUG: Login request received: {
  email: 'admin@tcc.com',
  password: '***',
  body: { email: 'admin@tcc.com', password: 'admin123' },
  headers: {
    host: 'localhost:5001',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0',
    accept: 'application/json, text/plain, */*',
    'accept-language': 'en-US,en;q=0.5',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'content-type': 'application/json',
    'content-length': '47',
    origin: 'http://localhost:3000',
    dnt: '1',
    'sec-gpc': '1',
    connection: 'keep-alive',
    referer: 'http://localhost:3000/',
    cookie: 'tcc_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyMzc2LCJleHAiOjE3NTk4Nzg3NzZ9.YEnmDY9-uydZlgNcbUZ6ibfAlj0jS2EUnXvg-Nbrh70',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site',
    priority: 'u=0'
  }
}
TCC_DEBUG: AuthService.login called with: { email: 'admin@tcc.com', password: '***' }
TCC_DEBUG: User found in database: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  name: 'TCC Administrator',
  isActive: true,
  userType: 'ADMIN'
}
TCC_DEBUG: Login successful, user ID in token: cmfzpfsgg0000fl2mh10f13vp
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZnpwZnNnZzAwMDBmbDJtaDEwZjEzdnAiLCJlbWFpbCI6ImFkbWluQHRjYy5jb20iLCJ1c2VyVHlwZSI6IkFETUlOIiwiaWF0IjoxNzU5NzkyNTc5LCJleHAiOjE3NTk4Nzg5Nzl9._Gk00XIdYFAT-X86dVwV-TGepYpDV-YDoFYjiH_33TQ'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmfzpfsgg0000fl2mh10f13vp',
  email: 'admin@tcc.com',
  userType: 'ADMIN'
}
TCC_DEBUG: Healthcare Login request received: { email: 'test@hospital.com', password: '***' }
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgfpi9dm00006dqrk7vxa0l1',
  email: 'test@hospital.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgfpi9dm00006dqrk7vxa0l1',
  email: 'test@hospital.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgfpi9dm00006dqrk7vxa0l1',
  email: 'test@hospital.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
prisma:error 
Invalid `prisma.trip.findMany()` invocation in
/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:39

  159 }
  160 // Note: assignedAgencyId doesn't exist in TransportRequest model, so we'll skip this filter for now
  161 
‚Üí 162 const trips = await prisma.trip.findMany(
The column `agency_responses.responseTimestamp` does not exist in the current database.
TCC_DEBUG: Error getting trips: PrismaClientKnownRequestError: 
Invalid `prisma.trip.findMany()` invocation in
/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:39

  159 }
  160 // Note: assignedAgencyId doesn't exist in TransportRequest model, so we'll skip this filter for now
  161 
‚Üí 162 const trips = await prisma.trip.findMany(
The column `agency_responses.responseTimestamp` does not exist in the current database.
    at $n.handleRequestError (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:7315)
    at $n.handleAndLogRequestError (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:6623)
    at $n.request (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:6307)
    at async l (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:130:9633)
    at async TripService.getTrips (/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:21)
    at async /Users/scooper/Code/tcc-new-project/backend/src/routes/trips.ts:194:20 {
  code: 'P2022',
  clientVersion: '5.22.0',
  meta: { modelName: 'Trip', column: 'agency_responses.responseTimestamp' }
}
TCC_DEBUG: Get trips request with query: {}
TCC_DEBUG: Getting trips with filters: {
  status: undefined,
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
prisma:error 
Invalid `prisma.trip.findMany()` invocation in
/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:39

  159 }
  160 // Note: assignedAgencyId doesn't exist in TransportRequest model, so we'll skip this filter for now
  161 
‚Üí 162 const trips = await prisma.trip.findMany(
The column `agency_responses.responseTimestamp` does not exist in the current database.
TCC_DEBUG: Error getting trips: PrismaClientKnownRequestError: 
Invalid `prisma.trip.findMany()` invocation in
/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:39

  159 }
  160 // Note: assignedAgencyId doesn't exist in TransportRequest model, so we'll skip this filter for now
  161 
‚Üí 162 const trips = await prisma.trip.findMany(
The column `agency_responses.responseTimestamp` does not exist in the current database.
    at $n.handleRequestError (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:7315)
    at $n.handleAndLogRequestError (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:6623)
    at $n.request (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:6307)
    at async l (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:130:9633)
    at async TripService.getTrips (/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:21)
    at async /Users/scooper/Code/tcc-new-project/backend/src/routes/trips.ts:194:20 {
  code: 'P2022',
  clientVersion: '5.22.0',
  meta: { modelName: 'Trip', column: 'agency_responses.responseTimestamp' }
}
TCC_DEBUG: Get agency responses request with query: {}
TCC_DEBUG: Getting agency responses with filters: {
  tripId: undefined,
  agencyId: undefined,
  response: undefined,
  isSelected: undefined,
  dateFrom: undefined,
  dateTo: undefined
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgfpi9dm00006dqrk7vxa0l1',
  email: 'test@hospital.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgfpi9dm00006dqrk7vxa0l1',
  email: 'test@hospital.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5NzkyNjQ1LCJleHAiOjE3NTk4NzkwNDV9.fW9c17zkQGk5V45odhuYJl-gTxM--F4dSSkE4ZmbPNY'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgfpi9dm00006dqrk7vxa0l1',
  email: 'test@hospital.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: EMS Login request received: { email: 'test@ems.com', password: '***' }
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6bnVsbCwiZW1haWwiOiJ0ZXN0QGVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc5MjY3NCwiZXhwIjoxNzU5ODc5MDc0fQ.-jdI0e8WSSUaYZ2l8EvuIdIIaTR_VwEnvkjGsgqbyFg
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6bnVsbCwiZW1haWwiOiJ0ZXN0QGVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc5MjY3NCwiZXhwIjoxNzU5ODc5MDc0fQ.-jdI0e8WSSUaYZ2l8EvuIdIIaTR_VwEnvkjGsgqbyFg'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: { id: null, email: 'test@ems.com', userType: 'EMS' }
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6bnVsbCwiZW1haWwiOiJ0ZXN0QGVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc5MjY3NCwiZXhwIjoxNzU5ODc5MDc0fQ.-jdI0e8WSSUaYZ2l8EvuIdIIaTR_VwEnvkjGsgqbyFg
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6bnVsbCwiZW1haWwiOiJ0ZXN0QGVtcy5jb20iLCJ1c2VyVHlwZSI6IkVNUyIsImlhdCI6MTc1OTc5MjY3NCwiZXhwIjoxNzU5ODc5MDc0fQ.-jdI0e8WSSUaYZ2l8EvuIdIIaTR_VwEnvkjGsgqbyFg'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: { id: null, email: 'test@ems.com', userType: 'EMS' }
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
TCC_DEBUG: Get trips request with query: { status: 'PENDING' }
TCC_DEBUG: Getting trips with filters: {
  status: 'PENDING',
  transportLevel: undefined,
  priority: undefined,
  agencyId: undefined
}
prisma:error 
Invalid `prisma.trip.findMany()` invocation in
/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:39

  159 }
  160 // Note: assignedAgencyId doesn't exist in TransportRequest model, so we'll skip this filter for now
  161 
‚Üí 162 const trips = await prisma.trip.findMany(
The column `agency_responses.responseTimestamp` does not exist in the current database.
TCC_DEBUG: Error getting trips: PrismaClientKnownRequestError: 
Invalid `prisma.trip.findMany()` invocation in
/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:39

  159 }
  160 // Note: assignedAgencyId doesn't exist in TransportRequest model, so we'll skip this filter for now
  161 
‚Üí 162 const trips = await prisma.trip.findMany(
The column `agency_responses.responseTimestamp` does not exist in the current database.
    at $n.handleRequestError (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:7315)
    at $n.handleAndLogRequestError (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:6623)
    at $n.request (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:6307)
    at async l (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:130:9633)
    at async TripService.getTrips (/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:21)
    at async /Users/scooper/Code/tcc-new-project/backend/src/routes/trips.ts:194:20 {
  code: 'P2022',
  clientVersion: '5.22.0',
  meta: { modelName: 'Trip', column: 'agency_responses.responseTimestamp' }
}
prisma:error 
Invalid `prisma.trip.findMany()` invocation in
/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:39

  159 }
  160 // Note: assignedAgencyId doesn't exist in TransportRequest model, so we'll skip this filter for now
  161 
‚Üí 162 const trips = await prisma.trip.findMany(
The column `agency_responses.responseTimestamp` does not exist in the current database.
TCC_DEBUG: Error getting trips: PrismaClientKnownRequestError: 
Invalid `prisma.trip.findMany()` invocation in
/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:39

  159 }
  160 // Note: assignedAgencyId doesn't exist in TransportRequest model, so we'll skip this filter for now
  161 
‚Üí 162 const trips = await prisma.trip.findMany(
The column `agency_responses.responseTimestamp` does not exist in the current database.
    at $n.handleRequestError (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:7315)
    at $n.handleAndLogRequestError (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:6623)
    at $n.request (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:121:6307)
    at async l (/Users/scooper/Code/tcc-new-project/backend/node_modules/@prisma/client/runtime/library.js:130:9633)
    at async TripService.getTrips (/Users/scooper/Code/tcc-new-project/backend/src/services/tripService.ts:162:21)
    at async /Users/scooper/Code/tcc-new-project/backend/src/routes/trips.ts:194:20 {
  code: 'P2022',
  clientVersion: '5.22.0',
  meta: { modelName: 'Trip', column: 'agency_responses.responseTimestamp' }
}
TCC_DEBUG: Healthcare Login request received: { email: 'nurse@altoonaregional.org', password: '***' }
TCC_DEBUG: No Healthcare user found for email: nurse@altoonaregional.org
TCC_DEBUG: Healthcare Login request received: { email: 'test@hospital.com', password: '***' }
TCC_DEBUG: authenticateAdmin - authHeader: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5ODY0MzQ1LCJleHAiOjE3NTk5NTA3NDV9.TdEn8eSdArEo9jOY0zcyhSVt_nHrbuj-U5ces3J1tmA
TCC_DEBUG: authenticateAdmin - cookies: {
  tcc_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNtZ2ZwaTlkbTAwMDA2ZHFyazd2eGEwbDEiLCJlbWFpbCI6InRlc3RAaG9zcGl0YWwuY29tIiwidXNlclR5cGUiOiJIRUFMVEhDQVJFIiwiaWF0IjoxNzU5ODY0MzQ1LCJleHAiOjE3NTk5NTA3NDV9.TdEn8eSdArEo9jOY0zcyhSVt_nHrbuj-U5ces3J1tmA'
}
TCC_DEBUG: authenticateAdmin - token from header: eyJhbGciOiJIUzI1NiIs...
TCC_DEBUG: verifyToken called with JWT_SECRET: SET
TCC_DEBUG: Token decoded successfully: {
  id: 'cmgfpi9dm00006dqrk7vxa0l1',
  email: 'test@hospital.com',
  userType: 'HEALTHCARE'
}
TCC_DEBUG: au[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:859
    return new TSError(diagnosticText, diagnosticCodes, diagnostics);
           ^
TSError: ‚®Ø Unable to compile TypeScript:
src/services/unitService.ts(130,11): error TS2322: Type '{ address: string; coordinates: { lat: number; lng: number; }; }' is not assignable to type 'string'.

    at createTSError (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1617:30)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14) {
  diagnosticCodes: [ 2322 ]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:294:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:311:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
sh: ts-node: command not found
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[31m[nodemon] failed to start process, "ts-node" exec not found[39m
[31m[nodemon] Error
    at Bus.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/nodemon.js:164:25)
    at Bus.emit (node:events:519:35)
    at ChildProcess.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/monitor/run.js:199:11)
    at ChildProcess.emit (node:events:507:28)
    at ChildProcess._handle.onexit (node:internal/child_process:294:12)[39m
24:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14) {
  diagnosticCodes: [ 2322 ]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
TCC_DEBUG: AuthService constructor - JWT_SECRET loaded: YES
TCC_DEBUG: JWT_SECRET value: your-super-secret-jwt-key-here
TCC_DEBUG: SMS carriers initialized: 5
TCC_DEBUG: Twilio credentials not configured
TCC_DEBUG: SendGrid API key not configured
Error: listen EADDRINUSE: address already in use :::5001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/scooper/Code/tcc-new-project/backend/node_modules/express/lib/application.js:635:24)
    at startServer (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:294:9)
    at Object.<anonymous> (/Users/scooper/Code/tcc-new-project/backend/src/index.ts:311:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/scooper/Code/tcc-new-project/backend/node_modules/ts-node/src/index.ts:1621:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5001
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
sh: ts-node: command not found
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[31m[nodemon] failed to start process, "ts-node" exec not found[39m
[31m[nodemon] Error
    at Bus.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/nodemon.js:164:25)
    at Bus.emit (node:events:519:35)
    at ChildProcess.<anonymous> (/Users/scooper/Code/tcc-new-project/node_modules/nodemon/lib/monitor/run.js:199:11)
    at ChildProcess.emit (node:events:507:28)
    at ChildProcess._handle.onexit (node:internal/child_process:294:12)[39m
