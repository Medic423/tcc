var LE=Object.defineProperty;var RE=(e,t,r)=>t in e?LE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kl=(e,t,r)=>RE(e,typeof t!="symbol"?t+"":t,r);function DE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function $n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vw={exports:{}},Uu={},bw={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=Symbol.for("react.element"),_E=Symbol.for("react.portal"),IE=Symbol.for("react.fragment"),$E=Symbol.for("react.strict_mode"),FE=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),zE=Symbol.for("react.context"),UE=Symbol.for("react.forward_ref"),WE=Symbol.for("react.suspense"),HE=Symbol.for("react.memo"),qE=Symbol.for("react.lazy"),D0=Symbol.iterator;function KE(e){return e===null||typeof e!="object"?null:(e=D0&&e[D0]||e["@@iterator"],typeof e=="function"?e:null)}var jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ww=Object.assign,Nw={};function di(e,t,r){this.props=e,this.context=t,this.refs=Nw,this.updater=r||jw}di.prototype.isReactComponent={};di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sw(){}Sw.prototype=di.prototype;function xp(e,t,r){this.props=e,this.context=t,this.refs=Nw,this.updater=r||jw}var gp=xp.prototype=new Sw;gp.constructor=xp;ww(gp,di.prototype);gp.isPureReactComponent=!0;var _0=Array.isArray,Cw=Object.prototype.hasOwnProperty,yp={current:null},kw={key:!0,ref:!0,__self:!0,__source:!0};function Pw(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Cw.call(t,n)&&!kw.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Go,type:e,key:i,ref:o,props:s,_owner:yp.current}}function GE(e,t){return{$$typeof:Go,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Go}function VE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var I0=/\/+/g;function ym(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VE(""+e.key):t.toString(36)}function cc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Go:case _E:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ym(o,0):n,_0(s)?(r="",e!=null&&(r=e.replace(I0,"$&/")+"/"),cc(s,t,r,"",function(d){return d})):s!=null&&(vp(s)&&(s=GE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(I0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",_0(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ym(i,l);o+=cc(i,t,r,c,s)}else if(c=KE(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ym(i,l++),o+=cc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Pl(e,t,r){if(e==null)return e;var n=[],s=0;return cc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function YE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},uc={transition:null},XE={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:uc,ReactCurrentOwner:yp};function Ew(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Pl,forEach:function(e,t,r){Pl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Pl(e,function(){t++}),t},toArray:function(e){return Pl(e,function(t){return t})||[]},only:function(e){if(!vp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=di;de.Fragment=IE;de.Profiler=FE;de.PureComponent=xp;de.StrictMode=$E;de.Suspense=WE;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XE;de.act=Ew;de.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ww({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=yp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Cw.call(t,c)&&!kw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Go,type:e.type,key:s,ref:i,props:n,_owner:o}};de.createContext=function(e){return e={$$typeof:zE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:BE,_context:e},e.Consumer=e};de.createElement=Pw;de.createFactory=function(e){var t=Pw.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:UE,render:e}};de.isValidElement=vp;de.lazy=function(e){return{$$typeof:qE,_payload:{_status:-1,_result:e},_init:YE}};de.memo=function(e,t){return{$$typeof:HE,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=uc.transition;uc.transition={};try{e()}finally{uc.transition=t}};de.unstable_act=Ew;de.useCallback=function(e,t){return $t.current.useCallback(e,t)};de.useContext=function(e){return $t.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};de.useEffect=function(e,t){return $t.current.useEffect(e,t)};de.useId=function(){return $t.current.useId()};de.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};de.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return $t.current.useMemo(e,t)};de.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};de.useRef=function(e){return $t.current.useRef(e)};de.useState=function(e){return $t.current.useState(e)};de.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};de.useTransition=function(){return $t.current.useTransition()};de.version="18.3.1";bw.exports=de;var x=bw.exports;const Wu=$n(x),Aw=DE({__proto__:null,default:Wu},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE=x,ZE=Symbol.for("react.element"),JE=Symbol.for("react.fragment"),eA=Object.prototype.hasOwnProperty,tA=QE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rA={key:!0,ref:!0,__self:!0,__source:!0};function Ow(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)eA.call(t,n)&&!rA.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ZE,type:e,key:i,ref:o,props:s,_owner:tA.current}}Uu.Fragment=JE;Uu.jsx=Ow;Uu.jsxs=Ow;vw.exports=Uu;var a=vw.exports,jf={},Tw={exports:{}},hr={},Mw={exports:{}},Lw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,K){var R=B.length;B.push(K);e:for(;0<R;){var U=R-1>>>1,q=B[U];if(0<s(q,K))B[U]=K,B[R]=q,R=U;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var K=B[0],R=B.pop();if(R!==K){B[0]=R;e:for(var U=0,q=B.length,D=q>>>1;U<D;){var S=2*(U+1)-1,_=B[S],G=S+1,se=B[G];if(0>s(_,R))G<q&&0>s(se,_)?(B[U]=se,B[G]=R,U=G):(B[U]=_,B[S]=R,U=S);else if(G<q&&0>s(se,R))B[U]=se,B[G]=R,U=G;else break e}}return K}function s(B,K){var R=B.sortIndex-K.sortIndex;return R!==0?R:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,f=3,h=!1,p=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(B){for(var K=r(d);K!==null;){if(K.callback===null)n(d);else if(K.startTime<=B)n(d),K.sortIndex=K.expirationTime,t(c,K);else break;K=r(d)}}function w(B){if(y=!1,j(B),!p)if(r(c)!==null)p=!0,k(N);else{var K=r(d);K!==null&&$(w,K.startTime-B)}}function N(B,K){p=!1,y&&(y=!1,v(M),M=-1),h=!0;var R=f;try{for(j(K),m=r(c);m!==null&&(!(m.expirationTime>K)||B&&!F());){var U=m.callback;if(typeof U=="function"){m.callback=null,f=m.priorityLevel;var q=U(m.expirationTime<=K);K=e.unstable_now(),typeof q=="function"?m.callback=q:m===r(c)&&n(c),j(K)}else n(c);m=r(c)}if(m!==null)var D=!0;else{var S=r(d);S!==null&&$(w,S.startTime-K),D=!1}return D}finally{m=null,f=R,h=!1}}var C=!1,P=null,M=-1,E=5,O=-1;function F(){return!(e.unstable_now()-O<E)}function I(){if(P!==null){var B=e.unstable_now();O=B;var K=!0;try{K=P(!0,B)}finally{K?T():(C=!1,P=null)}}else C=!1}var T;if(typeof b=="function")T=function(){b(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=I,T=function(){Q.postMessage(null)}}else T=function(){g(I,0)};function k(B){P=B,C||(C=!0,T())}function $(B,K){M=g(function(){B(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,k(N))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(B){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var R=f;f=K;try{return B()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var R=f;f=B;try{return K()}finally{f=R}},e.unstable_scheduleCallback=function(B,K,R){var U=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?U+R:U):R=U,B){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=R+q,B={id:u++,callback:K,priorityLevel:B,startTime:R,expirationTime:q,sortIndex:-1},R>U?(B.sortIndex=R,t(d,B),r(c)===null&&B===r(d)&&(y?(v(M),M=-1):y=!0,$(w,R-U))):(B.sortIndex=q,t(c,B),p||h||(p=!0,k(N))),B},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(B){var K=f;return function(){var R=f;f=K;try{return B.apply(this,arguments)}finally{f=R}}}})(Lw);Mw.exports=Lw;var nA=Mw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA=x,mr=nA;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rw=new Set,ho={};function ms(e,t){Hs(e,t),Hs(e+"Capture",t)}function Hs(e,t){for(ho[e]=t,e=0;e<t.length;e++)Rw.add(t[e])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=Object.prototype.hasOwnProperty,sA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$0={},F0={};function iA(e){return wf.call(F0,e)?!0:wf.call($0,e)?!1:sA.test(e)?F0[e]=!0:($0[e]=!0,!1)}function oA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lA(e,t,r,n){if(t===null||typeof t>"u"||oA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var bp=/[\-:]([a-z])/g;function jp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bp,jp);vt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bp,jp);vt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bp,jp);vt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function wp(e,t,r,n){var s=vt.hasOwnProperty(t)?vt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lA(t,r,s,n)&&(r=null),n||s===null?iA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fn=aA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,El=Symbol.for("react.element"),js=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),Np=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),Dw=Symbol.for("react.provider"),_w=Symbol.for("react.context"),Sp=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),Cf=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),Yn=Symbol.for("react.lazy"),Iw=Symbol.for("react.offscreen"),B0=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,vm;function Gi(e){if(vm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);vm=t&&t[1]||""}return`
`+vm+e}var bm=!1;function jm(e,t){if(!e||bm)return"";bm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{bm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Gi(e):""}function cA(e){switch(e.tag){case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return e=jm(e.type,!1),e;case 11:return e=jm(e.type.render,!1),e;case 1:return e=jm(e.type,!0),e;default:return""}}function kf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ws:return"Fragment";case js:return"Portal";case Nf:return"Profiler";case Np:return"StrictMode";case Sf:return"Suspense";case Cf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _w:return(e.displayName||"Context")+".Consumer";case Dw:return(e._context.displayName||"Context")+".Provider";case Sp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cp:return t=e.displayName||null,t!==null?t:kf(e.type)||"Memo";case Yn:t=e._payload,e=e._init;try{return kf(e(t))}catch{}}return null}function uA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kf(t);case 8:return t===Np?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $w(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dA(e){var t=$w(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Al(e){e._valueTracker||(e._valueTracker=dA(e))}function Fw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$w(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pf(e,t){var r=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function z0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=pa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bw(e,t){t=t.checked,t!=null&&wp(e,"checked",t,!1)}function Ef(e,t){Bw(e,t);var r=pa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Af(e,t.type,r):t.hasOwnProperty("defaultValue")&&Af(e,t.type,pa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function U0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Af(e,t,r){(t!=="number"||Pc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vi=Array.isArray;function Rs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+pa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Of(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function W0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(Vi(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pa(r)}}function zw(e,t){var r=pa(t.value),n=pa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function H0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ol,Ww=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ol=Ol||document.createElement("div"),Ol.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ol.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function po(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mA=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(e){mA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eo[t]=eo[e]})});function Hw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||eo.hasOwnProperty(e)&&eo[e]?(""+t).trim():t+"px"}function qw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Hw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var fA=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mf(e,t){if(t){if(fA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function Lf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=null;function kp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Df=null,Ds=null,_s=null;function q0(e){if(e=Xo(e)){if(typeof Df!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Vu(t),Df(e.stateNode,e.type,t))}}function Kw(e){Ds?_s?_s.push(e):_s=[e]:Ds=e}function Gw(){if(Ds){var e=Ds,t=_s;if(_s=Ds=null,q0(e),t)for(e=0;e<t.length;e++)q0(t[e])}}function Vw(e,t){return e(t)}function Yw(){}var wm=!1;function Xw(e,t,r){if(wm)return e(t,r);wm=!0;try{return Vw(e,t,r)}finally{wm=!1,(Ds!==null||_s!==null)&&(Yw(),Gw())}}function xo(e,t){var r=e.stateNode;if(r===null)return null;var n=Vu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var _f=!1;if(An)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){_f=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{_f=!1}function hA(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var to=!1,Ec=null,Ac=!1,If=null,pA={onError:function(e){to=!0,Ec=e}};function xA(e,t,r,n,s,i,o,l,c){to=!1,Ec=null,hA.apply(pA,arguments)}function gA(e,t,r,n,s,i,o,l,c){if(xA.apply(this,arguments),to){if(to){var d=Ec;to=!1,Ec=null}else throw Error(X(198));Ac||(Ac=!0,If=d)}}function fs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function K0(e){if(fs(e)!==e)throw Error(X(188))}function yA(e){var t=e.alternate;if(!t){if(t=fs(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return K0(s),e;if(i===n)return K0(s),t;i=i.sibling}throw Error(X(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function Zw(e){return e=yA(e),e!==null?Jw(e):null}function Jw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jw(e);if(t!==null)return t;e=e.sibling}return null}var eN=mr.unstable_scheduleCallback,G0=mr.unstable_cancelCallback,vA=mr.unstable_shouldYield,bA=mr.unstable_requestPaint,We=mr.unstable_now,jA=mr.unstable_getCurrentPriorityLevel,Pp=mr.unstable_ImmediatePriority,tN=mr.unstable_UserBlockingPriority,Oc=mr.unstable_NormalPriority,wA=mr.unstable_LowPriority,rN=mr.unstable_IdlePriority,Hu=null,tn=null;function NA(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Hu,e,void 0,(e.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:kA,SA=Math.log,CA=Math.LN2;function kA(e){return e>>>=0,e===0?32:31-(SA(e)/CA|0)|0}var Tl=64,Ml=4194304;function Yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Yi(l):(i&=o,i!==0&&(n=Yi(i)))}else o=r&~s,o!==0?n=Yi(o):i!==0&&(n=Yi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Wr(t),s=1<<r,n|=e[r],t&=~s;return n}function PA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Wr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=PA(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function $f(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nN(){var e=Tl;return Tl<<=1,!(Tl&4194240)&&(Tl=64),e}function Nm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wr(t),e[t]=r}function AA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Wr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ep(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Wr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ye=0;function aN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sN,Ap,iN,oN,lN,Ff=!1,Ll=[],sa=null,ia=null,oa=null,go=new Map,yo=new Map,Jn=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V0(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":go.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Mi(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Xo(t),t!==null&&Ap(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function TA(e,t,r,n,s){switch(t){case"focusin":return sa=Mi(sa,e,t,r,n,s),!0;case"dragenter":return ia=Mi(ia,e,t,r,n,s),!0;case"mouseover":return oa=Mi(oa,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return go.set(i,Mi(go.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,yo.set(i,Mi(yo.get(i)||null,e,t,r,n,s)),!0}return!1}function cN(e){var t=Da(e.target);if(t!==null){var r=fs(t);if(r!==null){if(t=r.tag,t===13){if(t=Qw(r),t!==null){e.blockedOn=t,lN(e.priority,function(){iN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Rf=n,r.target.dispatchEvent(n),Rf=null}else return t=Xo(r),t!==null&&Ap(t),e.blockedOn=r,!1;t.shift()}return!0}function Y0(e,t,r){dc(e)&&r.delete(t)}function MA(){Ff=!1,sa!==null&&dc(sa)&&(sa=null),ia!==null&&dc(ia)&&(ia=null),oa!==null&&dc(oa)&&(oa=null),go.forEach(Y0),yo.forEach(Y0)}function Li(e,t){e.blockedOn===t&&(e.blockedOn=null,Ff||(Ff=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,MA)))}function vo(e){function t(s){return Li(s,e)}if(0<Ll.length){Li(Ll[0],e);for(var r=1;r<Ll.length;r++){var n=Ll[r];n.blockedOn===e&&(n.blockedOn=null)}}for(sa!==null&&Li(sa,e),ia!==null&&Li(ia,e),oa!==null&&Li(oa,e),go.forEach(t),yo.forEach(t),r=0;r<Jn.length;r++)n=Jn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jn.length&&(r=Jn[0],r.blockedOn===null);)cN(r),r.blockedOn===null&&Jn.shift()}var Is=Fn.ReactCurrentBatchConfig,Mc=!0;function LA(e,t,r,n){var s=ye,i=Is.transition;Is.transition=null;try{ye=1,Op(e,t,r,n)}finally{ye=s,Is.transition=i}}function RA(e,t,r,n){var s=ye,i=Is.transition;Is.transition=null;try{ye=4,Op(e,t,r,n)}finally{ye=s,Is.transition=i}}function Op(e,t,r,n){if(Mc){var s=Bf(e,t,r,n);if(s===null)Lm(e,t,n,Lc,r),V0(e,n);else if(TA(s,e,t,r,n))n.stopPropagation();else if(V0(e,n),t&4&&-1<OA.indexOf(e)){for(;s!==null;){var i=Xo(s);if(i!==null&&sN(i),i=Bf(e,t,r,n),i===null&&Lm(e,t,n,Lc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Lm(e,t,n,null,r)}}var Lc=null;function Bf(e,t,r,n){if(Lc=null,e=kp(n),e=Da(e),e!==null)if(t=fs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lc=e,null}function uN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jA()){case Pp:return 1;case tN:return 4;case Oc:case wA:return 16;case rN:return 536870912;default:return 16}default:return 16}}var ra=null,Tp=null,mc=null;function dN(){if(mc)return mc;var e,t=Tp,r=t.length,n,s="value"in ra?ra.value:ra.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return mc=s.slice(e,1<n?1-n:void 0)}function fc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function X0(){return!1}function pr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rl:X0,this.isPropagationStopped=X0,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mp=pr(mi),Yo=$e({},mi,{view:0,detail:0}),DA=pr(Yo),Sm,Cm,Ri,qu=$e({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Sm=e.screenX-Ri.screenX,Cm=e.screenY-Ri.screenY):Cm=Sm=0,Ri=e),Sm)},movementY:function(e){return"movementY"in e?e.movementY:Cm}}),Q0=pr(qu),_A=$e({},qu,{dataTransfer:0}),IA=pr(_A),$A=$e({},Yo,{relatedTarget:0}),km=pr($A),FA=$e({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),BA=pr(FA),zA=$e({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),UA=pr(zA),WA=$e({},mi,{data:0}),Z0=pr(WA),HA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KA[e])?!!t[e]:!1}function Lp(){return GA}var VA=$e({},Yo,{key:function(e){if(e.key){var t=HA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(e){return e.type==="keypress"?fc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YA=pr(VA),XA=$e({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J0=pr(XA),QA=$e({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),ZA=pr(QA),JA=$e({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),eO=pr(JA),tO=$e({},qu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rO=pr(tO),nO=[9,13,27,32],Rp=An&&"CompositionEvent"in window,ro=null;An&&"documentMode"in document&&(ro=document.documentMode);var aO=An&&"TextEvent"in window&&!ro,mN=An&&(!Rp||ro&&8<ro&&11>=ro),ey=" ",ty=!1;function fN(e,t){switch(e){case"keyup":return nO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function sO(e,t){switch(e){case"compositionend":return hN(t);case"keypress":return t.which!==32?null:(ty=!0,ey);case"textInput":return e=t.data,e===ey&&ty?null:e;default:return null}}function iO(e,t){if(Ns)return e==="compositionend"||!Rp&&fN(e,t)?(e=dN(),mc=Tp=ra=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mN&&t.locale!=="ko"?null:t.data;default:return null}}var oO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oO[e.type]:t==="textarea"}function pN(e,t,r,n){Kw(n),t=Rc(t,"onChange"),0<t.length&&(r=new Mp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var no=null,bo=null;function lO(e){kN(e,0)}function Ku(e){var t=ks(e);if(Fw(t))return e}function cO(e,t){if(e==="change")return t}var xN=!1;if(An){var Pm;if(An){var Em="oninput"in document;if(!Em){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Em=typeof ny.oninput=="function"}Pm=Em}else Pm=!1;xN=Pm&&(!document.documentMode||9<document.documentMode)}function ay(){no&&(no.detachEvent("onpropertychange",gN),bo=no=null)}function gN(e){if(e.propertyName==="value"&&Ku(bo)){var t=[];pN(t,bo,e,kp(e)),Xw(lO,t)}}function uO(e,t,r){e==="focusin"?(ay(),no=t,bo=r,no.attachEvent("onpropertychange",gN)):e==="focusout"&&ay()}function dO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(bo)}function mO(e,t){if(e==="click")return Ku(t)}function fO(e,t){if(e==="input"||e==="change")return Ku(t)}function hO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gr=typeof Object.is=="function"?Object.is:hO;function jo(e,t){if(Gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!wf.call(t,s)||!Gr(e[s],t[s]))return!1}return!0}function sy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iy(e,t){var r=sy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sy(r)}}function yN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vN(){for(var e=window,t=Pc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pc(e.document)}return t}function Dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pO(e){var t=vN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yN(r.ownerDocument.documentElement,r)){if(n!==null&&Dp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=iy(r,i);var o=iy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xO=An&&"documentMode"in document&&11>=document.documentMode,Ss=null,zf=null,ao=null,Uf=!1;function oy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uf||Ss==null||Ss!==Pc(n)||(n=Ss,"selectionStart"in n&&Dp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ao&&jo(ao,n)||(ao=n,n=Rc(zf,"onSelect"),0<n.length&&(t=new Mp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ss)))}function Dl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cs={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},Am={},bN={};An&&(bN=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Gu(e){if(Am[e])return Am[e];if(!Cs[e])return e;var t=Cs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bN)return Am[e]=t[r];return e}var jN=Gu("animationend"),wN=Gu("animationiteration"),NN=Gu("animationstart"),SN=Gu("transitionend"),CN=new Map,ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(e,t){CN.set(e,t),ms(t,[e])}for(var Om=0;Om<ly.length;Om++){var Tm=ly[Om],gO=Tm.toLowerCase(),yO=Tm[0].toUpperCase()+Tm.slice(1);ba(gO,"on"+yO)}ba(jN,"onAnimationEnd");ba(wN,"onAnimationIteration");ba(NN,"onAnimationStart");ba("dblclick","onDoubleClick");ba("focusin","onFocus");ba("focusout","onBlur");ba(SN,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function cy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gA(n,t,void 0,e),e.currentTarget=null}function kN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;cy(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;cy(s,l,d),i=c}}}if(Ac)throw e=If,Ac=!1,If=null,e}function Ce(e,t){var r=t[Gf];r===void 0&&(r=t[Gf]=new Set);var n=e+"__bubble";r.has(n)||(PN(t,e,2,!1),r.add(n))}function Mm(e,t,r){var n=0;t&&(n|=4),PN(r,e,n,t)}var _l="_reactListening"+Math.random().toString(36).slice(2);function wo(e){if(!e[_l]){e[_l]=!0,Rw.forEach(function(r){r!=="selectionchange"&&(vO.has(r)||Mm(r,!1,e),Mm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_l]||(t[_l]=!0,Mm("selectionchange",!1,t))}}function PN(e,t,r,n){switch(uN(t)){case 1:var s=LA;break;case 4:s=RA;break;default:s=Op}r=s.bind(null,t,r,e),s=void 0,!_f||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Lm(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Da(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Xw(function(){var d=i,u=kp(r),m=[];e:{var f=CN.get(e);if(f!==void 0){var h=Mp,p=e;switch(e){case"keypress":if(fc(r)===0)break e;case"keydown":case"keyup":h=YA;break;case"focusin":p="focus",h=km;break;case"focusout":p="blur",h=km;break;case"beforeblur":case"afterblur":h=km;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=IA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ZA;break;case jN:case wN:case NN:h=BA;break;case SN:h=eO;break;case"scroll":h=DA;break;case"wheel":h=rO;break;case"copy":case"cut":case"paste":h=UA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=J0}var y=(t&4)!==0,g=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var b=d,j;b!==null;){j=b;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,v!==null&&(w=xo(b,v),w!=null&&y.push(No(b,w,j)))),g)break;b=b.return}0<y.length&&(f=new h(f,p,null,r,u),m.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==Rf&&(p=r.relatedTarget||r.fromElement)&&(Da(p)||p[On]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=d,p=p?Da(p):null,p!==null&&(g=fs(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=d),h!==p)){if(y=Q0,w="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=J0,w="onPointerLeave",v="onPointerEnter",b="pointer"),g=h==null?f:ks(h),j=p==null?f:ks(p),f=new y(w,b+"leave",h,r,u),f.target=g,f.relatedTarget=j,w=null,Da(u)===d&&(y=new y(v,b+"enter",p,r,u),y.target=j,y.relatedTarget=g,w=y),g=w,h&&p)t:{for(y=h,v=p,b=0,j=y;j;j=ys(j))b++;for(j=0,w=v;w;w=ys(w))j++;for(;0<b-j;)y=ys(y),b--;for(;0<j-b;)v=ys(v),j--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=ys(y),v=ys(v)}y=null}else y=null;h!==null&&uy(m,f,h,y,!1),p!==null&&g!==null&&uy(m,g,p,y,!0)}}e:{if(f=d?ks(d):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var N=cO;else if(ry(f))if(xN)N=fO;else{N=dO;var C=uO}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=mO);if(N&&(N=N(e,d))){pN(m,N,r,u);break e}C&&C(e,f,d),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Af(f,"number",f.value)}switch(C=d?ks(d):window,e){case"focusin":(ry(C)||C.contentEditable==="true")&&(Ss=C,zf=d,ao=null);break;case"focusout":ao=zf=Ss=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,oy(m,r,u);break;case"selectionchange":if(xO)break;case"keydown":case"keyup":oy(m,r,u)}var P;if(Rp)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Ns?fN(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(mN&&r.locale!=="ko"&&(Ns||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ns&&(P=dN()):(ra=u,Tp="value"in ra?ra.value:ra.textContent,Ns=!0)),C=Rc(d,M),0<C.length&&(M=new Z0(M,e,null,r,u),m.push({event:M,listeners:C}),P?M.data=P:(P=hN(r),P!==null&&(M.data=P)))),(P=aO?sO(e,r):iO(e,r))&&(d=Rc(d,"onBeforeInput"),0<d.length&&(u=new Z0("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=P))}kN(m,t)})}function No(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xo(e,r),i!=null&&n.unshift(No(e,i,s)),i=xo(e,t),i!=null&&n.push(No(e,i,s))),e=e.return}return n}function ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=xo(r,i),c!=null&&o.unshift(No(r,c,l))):s||(c=xo(r,i),c!=null&&o.push(No(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var bO=/\r\n?/g,jO=/\u0000|\uFFFD/g;function dy(e){return(typeof e=="string"?e:""+e).replace(bO,`
`).replace(jO,"")}function Il(e,t,r){if(t=dy(t),dy(e)!==t&&r)throw Error(X(425))}function Dc(){}var Wf=null,Hf=null;function qf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,wO=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,NO=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(e){return my.resolve(null).then(e).catch(SO)}:Kf;function SO(e){setTimeout(function(){throw e})}function Rm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),vo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);vo(t)}function la(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),Jr="__reactFiber$"+fi,So="__reactProps$"+fi,On="__reactContainer$"+fi,Gf="__reactEvents$"+fi,CO="__reactListeners$"+fi,kO="__reactHandles$"+fi;function Da(e){var t=e[Jr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[On]||r[Jr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fy(e);e!==null;){if(r=e[Jr])return r;e=fy(e)}return t}e=r,r=e.parentNode}return null}function Xo(e){return e=e[Jr]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Vu(e){return e[So]||null}var Vf=[],Ps=-1;function ja(e){return{current:e}}function Ee(e){0>Ps||(e.current=Vf[Ps],Vf[Ps]=null,Ps--)}function Se(e,t){Ps++,Vf[Ps]=e.current,e.current=t}var xa={},At=ja(xa),Kt=ja(!1),Xa=xa;function qs(e,t){var r=e.type.contextTypes;if(!r)return xa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(e){return e=e.childContextTypes,e!=null}function _c(){Ee(Kt),Ee(At)}function hy(e,t,r){if(At.current!==xa)throw Error(X(168));Se(At,t),Se(Kt,r)}function EN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(X(108,uA(e)||"Unknown",s));return $e({},r,n)}function Ic(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xa,Xa=At.current,Se(At,e),Se(Kt,Kt.current),!0}function py(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=EN(e,t,Xa),n.__reactInternalMemoizedMergedChildContext=e,Ee(Kt),Ee(At),Se(At,e)):Ee(Kt),Se(Kt,r)}var xn=null,Yu=!1,Dm=!1;function AN(e){xn===null?xn=[e]:xn.push(e)}function PO(e){Yu=!0,AN(e)}function wa(){if(!Dm&&xn!==null){Dm=!0;var e=0,t=ye;try{var r=xn;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xn=null,Yu=!1}catch(s){throw xn!==null&&(xn=xn.slice(e+1)),eN(Pp,wa),s}finally{ye=t,Dm=!1}}return null}var Es=[],As=0,$c=null,Fc=0,jr=[],wr=0,Qa=null,vn=1,bn="";function Oa(e,t){Es[As++]=Fc,Es[As++]=$c,$c=e,Fc=t}function ON(e,t,r){jr[wr++]=vn,jr[wr++]=bn,jr[wr++]=Qa,Qa=e;var n=vn;e=bn;var s=32-Wr(n)-1;n&=~(1<<s),r+=1;var i=32-Wr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,vn=1<<32-Wr(t)+s|r<<s|n,bn=i+e}else vn=1<<i|r<<s|n,bn=e}function _p(e){e.return!==null&&(Oa(e,1),ON(e,1,0))}function Ip(e){for(;e===$c;)$c=Es[--As],Es[As]=null,Fc=Es[--As],Es[As]=null;for(;e===Qa;)Qa=jr[--wr],jr[wr]=null,bn=jr[--wr],jr[wr]=null,vn=jr[--wr],jr[wr]=null}var lr=null,ir=null,Me=!1,$r=null;function TN(e,t){var r=Sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lr=e,ir=la(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lr=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qa!==null?{id:vn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lr=e,ir=null,!0):!1;default:return!1}}function Yf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xf(e){if(Me){var t=ir;if(t){var r=t;if(!xy(e,t)){if(Yf(e))throw Error(X(418));t=la(r.nextSibling);var n=lr;t&&xy(e,t)?TN(n,r):(e.flags=e.flags&-4097|2,Me=!1,lr=e)}}else{if(Yf(e))throw Error(X(418));e.flags=e.flags&-4097|2,Me=!1,lr=e}}}function gy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lr=e}function $l(e){if(e!==lr)return!1;if(!Me)return gy(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qf(e.type,e.memoizedProps)),t&&(t=ir)){if(Yf(e))throw MN(),Error(X(418));for(;t;)TN(e,t),t=la(t.nextSibling)}if(gy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ir=la(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=lr?la(e.stateNode.nextSibling):null;return!0}function MN(){for(var e=ir;e;)e=la(e.nextSibling)}function Ks(){ir=lr=null,Me=!1}function $p(e){$r===null?$r=[e]:$r.push(e)}var EO=Fn.ReactCurrentBatchConfig;function Di(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yy(e){var t=e._init;return t(e._payload)}function LN(e){function t(v,b){if(e){var j=v.deletions;j===null?(v.deletions=[b],v.flags|=16):j.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=ma(v,b),v.index=0,v.sibling=null,v}function i(v,b,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<b?(v.flags|=2,b):j):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,j,w){return b===null||b.tag!==6?(b=Um(j,v.mode,w),b.return=v,b):(b=s(b,j),b.return=v,b)}function c(v,b,j,w){var N=j.type;return N===ws?u(v,b,j.props.children,w,j.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Yn&&yy(N)===b.type)?(w=s(b,j.props),w.ref=Di(v,b,j),w.return=v,w):(w=bc(j.type,j.key,j.props,null,v.mode,w),w.ref=Di(v,b,j),w.return=v,w)}function d(v,b,j,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Wm(j,v.mode,w),b.return=v,b):(b=s(b,j.children||[]),b.return=v,b)}function u(v,b,j,w,N){return b===null||b.tag!==7?(b=Ha(j,v.mode,w,N),b.return=v,b):(b=s(b,j),b.return=v,b)}function m(v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Um(""+b,v.mode,j),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case El:return j=bc(b.type,b.key,b.props,null,v.mode,j),j.ref=Di(v,null,b),j.return=v,j;case js:return b=Wm(b,v.mode,j),b.return=v,b;case Yn:var w=b._init;return m(v,w(b._payload),j)}if(Vi(b)||Oi(b))return b=Ha(b,v.mode,j,null),b.return=v,b;Fl(v,b)}return null}function f(v,b,j,w){var N=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(v,b,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case El:return j.key===N?c(v,b,j,w):null;case js:return j.key===N?d(v,b,j,w):null;case Yn:return N=j._init,f(v,b,N(j._payload),w)}if(Vi(j)||Oi(j))return N!==null?null:u(v,b,j,w,null);Fl(v,j)}return null}function h(v,b,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(j)||null,l(b,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case El:return v=v.get(w.key===null?j:w.key)||null,c(b,v,w,N);case js:return v=v.get(w.key===null?j:w.key)||null,d(b,v,w,N);case Yn:var C=w._init;return h(v,b,j,C(w._payload),N)}if(Vi(w)||Oi(w))return v=v.get(j)||null,u(b,v,w,N,null);Fl(b,w)}return null}function p(v,b,j,w){for(var N=null,C=null,P=b,M=b=0,E=null;P!==null&&M<j.length;M++){P.index>M?(E=P,P=null):E=P.sibling;var O=f(v,P,j[M],w);if(O===null){P===null&&(P=E);break}e&&P&&O.alternate===null&&t(v,P),b=i(O,b,M),C===null?N=O:C.sibling=O,C=O,P=E}if(M===j.length)return r(v,P),Me&&Oa(v,M),N;if(P===null){for(;M<j.length;M++)P=m(v,j[M],w),P!==null&&(b=i(P,b,M),C===null?N=P:C.sibling=P,C=P);return Me&&Oa(v,M),N}for(P=n(v,P);M<j.length;M++)E=h(P,v,M,j[M],w),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?M:E.key),b=i(E,b,M),C===null?N=E:C.sibling=E,C=E);return e&&P.forEach(function(F){return t(v,F)}),Me&&Oa(v,M),N}function y(v,b,j,w){var N=Oi(j);if(typeof N!="function")throw Error(X(150));if(j=N.call(j),j==null)throw Error(X(151));for(var C=N=null,P=b,M=b=0,E=null,O=j.next();P!==null&&!O.done;M++,O=j.next()){P.index>M?(E=P,P=null):E=P.sibling;var F=f(v,P,O.value,w);if(F===null){P===null&&(P=E);break}e&&P&&F.alternate===null&&t(v,P),b=i(F,b,M),C===null?N=F:C.sibling=F,C=F,P=E}if(O.done)return r(v,P),Me&&Oa(v,M),N;if(P===null){for(;!O.done;M++,O=j.next())O=m(v,O.value,w),O!==null&&(b=i(O,b,M),C===null?N=O:C.sibling=O,C=O);return Me&&Oa(v,M),N}for(P=n(v,P);!O.done;M++,O=j.next())O=h(P,v,M,O.value,w),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?M:O.key),b=i(O,b,M),C===null?N=O:C.sibling=O,C=O);return e&&P.forEach(function(I){return t(v,I)}),Me&&Oa(v,M),N}function g(v,b,j,w){if(typeof j=="object"&&j!==null&&j.type===ws&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case El:e:{for(var N=j.key,C=b;C!==null;){if(C.key===N){if(N=j.type,N===ws){if(C.tag===7){r(v,C.sibling),b=s(C,j.props.children),b.return=v,v=b;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Yn&&yy(N)===C.type){r(v,C.sibling),b=s(C,j.props),b.ref=Di(v,C,j),b.return=v,v=b;break e}r(v,C);break}else t(v,C);C=C.sibling}j.type===ws?(b=Ha(j.props.children,v.mode,w,j.key),b.return=v,v=b):(w=bc(j.type,j.key,j.props,null,v.mode,w),w.ref=Di(v,b,j),w.return=v,v=w)}return o(v);case js:e:{for(C=j.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(v,b.sibling),b=s(b,j.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=Wm(j,v.mode,w),b.return=v,v=b}return o(v);case Yn:return C=j._init,g(v,b,C(j._payload),w)}if(Vi(j))return p(v,b,j,w);if(Oi(j))return y(v,b,j,w);Fl(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(v,b.sibling),b=s(b,j),b.return=v,v=b):(r(v,b),b=Um(j,v.mode,w),b.return=v,v=b),o(v)):r(v,b)}return g}var Gs=LN(!0),RN=LN(!1),Bc=ja(null),zc=null,Os=null,Fp=null;function Bp(){Fp=Os=zc=null}function zp(e){var t=Bc.current;Ee(Bc),e._currentValue=t}function Qf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $s(e,t){zc=e,Fp=Os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ht=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(Fp!==e)if(e={context:e,memoizedValue:t,next:null},Os===null){if(zc===null)throw Error(X(308));Os=e,zc.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var _a=null;function Up(e){_a===null?_a=[e]:_a.push(e)}function DN(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Up(t)):(r.next=s.next,s.next=r),t.interleaved=r,Tn(e,n)}function Tn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xn=!1;function Wp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _N(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ca(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Tn(e,r)}return s=n.interleaved,s===null?(t.next=t,Up(n)):(t.next=s.next,s.next=t),n.interleaved=t,Tn(e,r)}function hc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ep(e,r)}}function vy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Uc(e,t,r,n){var s=e.updateQueue;Xn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,h=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(f=t,h=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){m=p.call(h,m,f);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,m,f):p,f==null)break e;m=$e({},m,f);break e;case 2:Xn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=m):u=u.next=h,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ja|=o,e.lanes=o,e.memoizedState=m}}function by(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(X(191,s));s.call(n)}}}var Qo={},rn=ja(Qo),Co=ja(Qo),ko=ja(Qo);function Ia(e){if(e===Qo)throw Error(X(174));return e}function Hp(e,t){switch(Se(ko,t),Se(Co,e),Se(rn,Qo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tf(t,e)}Ee(rn),Se(rn,t)}function Vs(){Ee(rn),Ee(Co),Ee(ko)}function IN(e){Ia(ko.current);var t=Ia(rn.current),r=Tf(t,e.type);t!==r&&(Se(Co,e),Se(rn,r))}function qp(e){Co.current===e&&(Ee(rn),Ee(Co))}var _e=ja(0);function Wc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _m=[];function Kp(){for(var e=0;e<_m.length;e++)_m[e]._workInProgressVersionPrimary=null;_m.length=0}var pc=Fn.ReactCurrentDispatcher,Im=Fn.ReactCurrentBatchConfig,Za=0,Ie=null,Ze=null,it=null,Hc=!1,so=!1,Po=0,AO=0;function jt(){throw Error(X(321))}function Gp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gr(e[r],t[r]))return!1;return!0}function Vp(e,t,r,n,s,i){if(Za=i,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pc.current=e===null||e.memoizedState===null?LO:RO,e=r(n,s),so){i=0;do{if(so=!1,Po=0,25<=i)throw Error(X(301));i+=1,it=Ze=null,t.updateQueue=null,pc.current=DO,e=r(n,s)}while(so)}if(pc.current=qc,t=Ze!==null&&Ze.next!==null,Za=0,it=Ze=Ie=null,Hc=!1,t)throw Error(X(300));return e}function Yp(){var e=Po!==0;return Po=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ie.memoizedState=it=e:it=it.next=e,it}function Er(){if(Ze===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=it===null?Ie.memoizedState:it.next;if(t!==null)it=t,Ze=e;else{if(e===null)throw Error(X(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},it===null?Ie.memoizedState=it=e:it=it.next=e}return it}function Eo(e,t){return typeof t=="function"?t(e):t}function $m(e){var t=Er(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=Ze,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Za&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,Ie.lanes|=u,Ja|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Gr(n,t.memoizedState)||(Ht=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ie.lanes|=i,Ja|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fm(e){var t=Er(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Gr(i,t.memoizedState)||(Ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $N(){}function FN(e,t){var r=Ie,n=Er(),s=t(),i=!Gr(n.memoizedState,s);if(i&&(n.memoizedState=s,Ht=!0),n=n.queue,Xp(UN.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,Ao(9,zN.bind(null,r,n,s,t),void 0,null),lt===null)throw Error(X(349));Za&30||BN(r,t,s)}return s}function BN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zN(e,t,r,n){t.value=r,t.getSnapshot=n,WN(t)&&HN(e)}function UN(e,t,r){return r(function(){WN(t)&&HN(e)})}function WN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gr(e,r)}catch{return!0}}function HN(e){var t=Tn(e,1);t!==null&&Hr(t,e,1,-1)}function jy(e){var t=Zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=MO.bind(null,Ie,e),[t.memoizedState,e]}function Ao(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qN(){return Er().memoizedState}function xc(e,t,r,n){var s=Zr();Ie.flags|=e,s.memoizedState=Ao(1|t,r,void 0,n===void 0?null:n)}function Xu(e,t,r,n){var s=Er();n=n===void 0?null:n;var i=void 0;if(Ze!==null){var o=Ze.memoizedState;if(i=o.destroy,n!==null&&Gp(n,o.deps)){s.memoizedState=Ao(t,r,i,n);return}}Ie.flags|=e,s.memoizedState=Ao(1|t,r,i,n)}function wy(e,t){return xc(8390656,8,e,t)}function Xp(e,t){return Xu(2048,8,e,t)}function KN(e,t){return Xu(4,2,e,t)}function GN(e,t){return Xu(4,4,e,t)}function VN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YN(e,t,r){return r=r!=null?r.concat([e]):null,Xu(4,4,VN.bind(null,t,e),r)}function Qp(){}function XN(e,t){var r=Er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function QN(e,t){var r=Er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ZN(e,t,r){return Za&21?(Gr(r,t)||(r=nN(),Ie.lanes|=r,Ja|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=r)}function OO(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=Im.transition;Im.transition={};try{e(!1),t()}finally{ye=r,Im.transition=n}}function JN(){return Er().memoizedState}function TO(e,t,r){var n=da(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},e1(e))t1(t,r);else if(r=DN(e,t,r,n),r!==null){var s=It();Hr(r,e,n,s),r1(r,t,n)}}function MO(e,t,r){var n=da(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(e1(e))t1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Gr(l,o)){var c=t.interleaved;c===null?(s.next=s,Up(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=DN(e,t,s,n),r!==null&&(s=It(),Hr(r,e,n,s),r1(r,t,n))}}function e1(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function t1(e,t){so=Hc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function r1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ep(e,r)}}var qc={readContext:Pr,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},LO={readContext:Pr,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:Pr,useEffect:wy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xc(4194308,4,VN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xc(4194308,4,e,t)},useInsertionEffect:function(e,t){return xc(4,2,e,t)},useMemo:function(e,t){var r=Zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=TO.bind(null,Ie,e),[n.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:jy,useDebugValue:Qp,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=jy(!1),t=e[0];return e=OO.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ie,s=Zr();if(Me){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),lt===null)throw Error(X(349));Za&30||BN(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,wy(UN.bind(null,n,i,e),[e]),n.flags|=2048,Ao(9,zN.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Zr(),t=lt.identifierPrefix;if(Me){var r=bn,n=vn;r=(n&~(1<<32-Wr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Po++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=AO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RO={readContext:Pr,useCallback:XN,useContext:Pr,useEffect:Xp,useImperativeHandle:YN,useInsertionEffect:KN,useLayoutEffect:GN,useMemo:QN,useReducer:$m,useRef:qN,useState:function(){return $m(Eo)},useDebugValue:Qp,useDeferredValue:function(e){var t=Er();return ZN(t,Ze.memoizedState,e)},useTransition:function(){var e=$m(Eo)[0],t=Er().memoizedState;return[e,t]},useMutableSource:$N,useSyncExternalStore:FN,useId:JN,unstable_isNewReconciler:!1},DO={readContext:Pr,useCallback:XN,useContext:Pr,useEffect:Xp,useImperativeHandle:YN,useInsertionEffect:KN,useLayoutEffect:GN,useMemo:QN,useReducer:Fm,useRef:qN,useState:function(){return Fm(Eo)},useDebugValue:Qp,useDeferredValue:function(e){var t=Er();return Ze===null?t.memoizedState=e:ZN(t,Ze.memoizedState,e)},useTransition:function(){var e=Fm(Eo)[0],t=Er().memoizedState;return[e,t]},useMutableSource:$N,useSyncExternalStore:FN,useId:JN,unstable_isNewReconciler:!1};function Dr(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Zf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:$e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qu={isMounted:function(e){return(e=e._reactInternals)?fs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=It(),s=da(e),i=Cn(n,s);i.payload=t,r!=null&&(i.callback=r),t=ca(e,i,s),t!==null&&(Hr(t,e,s,n),hc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=It(),s=da(e),i=Cn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ca(e,i,s),t!==null&&(Hr(t,e,s,n),hc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=It(),n=da(e),s=Cn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ca(e,s,n),t!==null&&(Hr(t,e,n,r),hc(t,e,n))}};function Ny(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!jo(r,n)||!jo(s,i):!0}function n1(e,t,r){var n=!1,s=xa,i=t.contextType;return typeof i=="object"&&i!==null?i=Pr(i):(s=Gt(t)?Xa:At.current,n=t.contextTypes,i=(n=n!=null)?qs(e,s):xa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qu.enqueueReplaceState(t,t.state,null)}function Jf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Wp(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Pr(i):(i=Gt(t)?Xa:At.current,s.context=qs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Zf(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Qu.enqueueReplaceState(s,s.state,null),Uc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ys(e,t){try{var r="",n=t;do r+=cA(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Bm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function eh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _O=typeof WeakMap=="function"?WeakMap:Map;function a1(e,t,r){r=Cn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Gc||(Gc=!0,uh=n),eh(e,t)},r}function s1(e,t,r){r=Cn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){eh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){eh(e,t),typeof n!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Cy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _O;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=XO.bind(null,e,t,r),t.then(e,e))}function ky(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Py(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Cn(-1,1),t.tag=2,ca(r,t,1))),r.lanes|=1),e)}var IO=Fn.ReactCurrentOwner,Ht=!1;function Tt(e,t,r,n){t.child=e===null?RN(t,null,r,n):Gs(t,e.child,r,n)}function Ey(e,t,r,n,s){r=r.render;var i=t.ref;return $s(t,s),n=Vp(e,t,r,n,i,s),r=Yp(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mn(e,t,s)):(Me&&r&&_p(t),t.flags|=1,Tt(e,t,n,s),t.child)}function Ay(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!sx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,i1(e,t,i,n,s)):(e=bc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:jo,r(o,n)&&e.ref===t.ref)return Mn(e,t,s)}return t.flags|=1,e=ma(i,n),e.ref=t.ref,e.return=t,t.child=e}function i1(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(jo(i,n)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ht=!0);else return t.lanes=e.lanes,Mn(e,t,s)}return th(e,t,r,n,s)}function o1(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ms,tr),tr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Ms,tr),tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Se(Ms,tr),tr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Se(Ms,tr),tr|=n;return Tt(e,t,s,r),t.child}function l1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function th(e,t,r,n,s){var i=Gt(r)?Xa:At.current;return i=qs(t,i),$s(t,s),r=Vp(e,t,r,n,i,s),n=Yp(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mn(e,t,s)):(Me&&n&&_p(t),t.flags|=1,Tt(e,t,r,s),t.child)}function Oy(e,t,r,n,s){if(Gt(r)){var i=!0;Ic(t)}else i=!1;if($s(t,s),t.stateNode===null)gc(e,t),n1(t,r,n),Jf(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Pr(d):(d=Gt(r)?Xa:At.current,d=qs(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Sy(t,o,n,d),Xn=!1;var f=t.memoizedState;o.state=f,Uc(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Kt.current||Xn?(typeof u=="function"&&(Zf(t,r,u,n),c=t.memoizedState),(l=Xn||Ny(t,r,l,n,f,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,_N(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Dr(t.type,l),o.props=d,m=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pr(c):(c=Gt(r)?Xa:At.current,c=qs(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&Sy(t,o,n,c),Xn=!1,f=t.memoizedState,o.state=f,Uc(t,n,o,s);var p=t.memoizedState;l!==m||f!==p||Kt.current||Xn?(typeof h=="function"&&(Zf(t,r,h,n),p=t.memoizedState),(d=Xn||Ny(t,r,d,n,f,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return rh(e,t,r,n,i,s)}function rh(e,t,r,n,s,i){l1(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&py(t,r,!1),Mn(e,t,i);n=t.stateNode,IO.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Gs(t,e.child,null,i),t.child=Gs(t,null,l,i)):Tt(e,t,l,i),t.memoizedState=n.state,s&&py(t,r,!0),t.child}function c1(e){var t=e.stateNode;t.pendingContext?hy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hy(e,t.context,!1),Hp(e,t.containerInfo)}function Ty(e,t,r,n,s){return Ks(),$p(s),t.flags|=256,Tt(e,t,r,n),t.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function ah(e){return{baseLanes:e,cachePool:null,transitions:null}}function u1(e,t,r){var n=t.pendingProps,s=_e.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Se(_e,s&1),e===null)return Xf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ed(o,n,0,null),e=Ha(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ah(r),t.memoizedState=nh,e):Zp(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $O(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ma(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ma(l,i):(i=Ha(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ah(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=nh,n}return i=e.child,e=i.sibling,n=ma(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Zp(e,t){return t=ed({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bl(e,t,r,n){return n!==null&&$p(n),Gs(t,e.child,null,r),e=Zp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $O(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Bm(Error(X(422))),Bl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ed({mode:"visible",children:n.children},s,0,null),i=Ha(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Gs(t,e.child,null,o),t.child.memoizedState=ah(o),t.memoizedState=nh,i);if(!(t.mode&1))return Bl(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(X(419)),n=Bm(i,n,void 0),Bl(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ht||l){if(n=lt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tn(e,s),Hr(n,e,s,-1))}return ax(),n=Bm(Error(X(421))),Bl(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=QO.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ir=la(s.nextSibling),lr=t,Me=!0,$r=null,e!==null&&(jr[wr++]=vn,jr[wr++]=bn,jr[wr++]=Qa,vn=e.id,bn=e.overflow,Qa=t),t=Zp(t,n.children),t.flags|=4096,t)}function My(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qf(e.return,t,r)}function zm(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function d1(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Tt(e,t,n.children,r),n=_e.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&My(e,r,t);else if(e.tag===19)My(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Se(_e,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Wc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),zm(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Wc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}zm(t,!0,r,null,i);break;case"together":zm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ja|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=ma(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ma(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function FO(e,t,r){switch(t.tag){case 3:c1(t),Ks();break;case 5:IN(t);break;case 1:Gt(t.type)&&Ic(t);break;case 4:Hp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Se(Bc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Se(_e,_e.current&1),t.flags|=128,null):r&t.child.childLanes?u1(e,t,r):(Se(_e,_e.current&1),e=Mn(e,t,r),e!==null?e.sibling:null);Se(_e,_e.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return d1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(_e,_e.current),n)break;return null;case 22:case 23:return t.lanes=0,o1(e,t,r)}return Mn(e,t,r)}var m1,sh,f1,h1;m1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sh=function(){};f1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ia(rn.current);var i=null;switch(r){case"input":s=Pf(e,s),n=Pf(e,n),i=[];break;case"select":s=$e({},s,{value:void 0}),n=$e({},n,{value:void 0}),i=[];break;case"textarea":s=Of(e,s),n=Of(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Dc)}Mf(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ho.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ho.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ce("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};h1=function(e,t,r,n){r!==n&&(t.flags|=4)};function _i(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function BO(e,t,r){var n=t.pendingProps;switch(Ip(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Gt(t.type)&&_c(),wt(t),null;case 3:return n=t.stateNode,Vs(),Ee(Kt),Ee(At),Kp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$r!==null&&(fh($r),$r=null))),sh(e,t),wt(t),null;case 5:qp(t);var s=Ia(ko.current);if(r=t.type,e!==null&&t.stateNode!=null)f1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return wt(t),null}if(e=Ia(rn.current),$l(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Jr]=t,n[So]=i,e=(t.mode&1)!==0,r){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<Xi.length;s++)Ce(Xi[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":z0(n,i),Ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",n);break;case"textarea":W0(n,i),Ce("invalid",n)}Mf(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Il(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Il(n.textContent,l,e),s=["children",""+l]):ho.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ce("scroll",n)}switch(r){case"input":Al(n),U0(n,i,!0);break;case"textarea":Al(n),H0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Dc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Jr]=t,e[So]=n,m1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lf(r,n),r){case"dialog":Ce("cancel",e),Ce("close",e),s=n;break;case"iframe":case"object":case"embed":Ce("load",e),s=n;break;case"video":case"audio":for(s=0;s<Xi.length;s++)Ce(Xi[s],e);s=n;break;case"source":Ce("error",e),s=n;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),s=n;break;case"details":Ce("toggle",e),s=n;break;case"input":z0(e,n),s=Pf(e,n),Ce("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=$e({},n,{value:void 0}),Ce("invalid",e);break;case"textarea":W0(e,n),s=Of(e,n),Ce("invalid",e);break;default:s=n}Mf(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?qw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ww(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&po(e,c):typeof c=="number"&&po(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ho.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ce("scroll",e):c!=null&&wp(e,i,c,o))}switch(r){case"input":Al(e),U0(e,n,!1);break;case"textarea":Al(e),H0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+pa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Rs(e,!!n.multiple,i,!1):n.defaultValue!=null&&Rs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Dc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)h1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=Ia(ko.current),Ia(rn.current),$l(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jr]=t,(i=n.nodeValue!==r)&&(e=lr,e!==null))switch(e.tag){case 3:Il(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Il(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jr]=t,t.stateNode=n}return wt(t),null;case 13:if(Ee(_e),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&ir!==null&&t.mode&1&&!(t.flags&128))MN(),Ks(),t.flags|=98560,i=!1;else if(i=$l(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Jr]=t}else Ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else $r!==null&&(fh($r),$r=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?et===0&&(et=3):ax())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Vs(),sh(e,t),e===null&&wo(t.stateNode.containerInfo),wt(t),null;case 10:return zp(t.type._context),wt(t),null;case 17:return Gt(t.type)&&_c(),wt(t),null;case 19:if(Ee(_e),i=t.memoizedState,i===null)return wt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)_i(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Wc(e),o!==null){for(t.flags|=128,_i(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se(_e,_e.current&1|2),t.child}e=e.sibling}i.tail!==null&&We()>Xs&&(t.flags|=128,n=!0,_i(i,!1),t.lanes=4194304)}else{if(!n)if(e=Wc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Me)return wt(t),null}else 2*We()-i.renderingStartTime>Xs&&r!==1073741824&&(t.flags|=128,n=!0,_i(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=We(),t.sibling=null,r=_e.current,Se(_e,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return nx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tr&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function zO(e,t){switch(Ip(t),t.tag){case 1:return Gt(t.type)&&_c(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vs(),Ee(Kt),Ee(At),Kp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qp(t),null;case 13:if(Ee(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(_e),null;case 4:return Vs(),null;case 10:return zp(t.type._context),null;case 22:case 23:return nx(),null;case 24:return null;default:return null}}var zl=!1,St=!1,UO=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ts(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(e,t,n)}else r.current=null}function ih(e,t,r){try{r()}catch(n){Be(e,t,n)}}var Ly=!1;function WO(e,t){if(Wf=Mc,e=vN(),Dp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var h;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)f=m,m=h;for(;;){if(m===e)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===n&&(c=o),(h=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hf={focusedElem:e,selectionRange:r},Mc=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,g=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Dr(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(w){Be(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return p=Ly,Ly=!1,p}function io(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ih(t,r,i)}s=s.next}while(s!==n)}}function Zu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function oh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function p1(e){var t=e.alternate;t!==null&&(e.alternate=null,p1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jr],delete t[So],delete t[Gf],delete t[CO],delete t[kO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x1(e){return e.tag===5||e.tag===3||e.tag===4}function Ry(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Dc));else if(n!==4&&(e=e.child,e!==null))for(lh(e,t,r),e=e.sibling;e!==null;)lh(e,t,r),e=e.sibling}function ch(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ch(e,t,r),e=e.sibling;e!==null;)ch(e,t,r),e=e.sibling}var ft=null,Ir=!1;function Gn(e,t,r){for(r=r.child;r!==null;)g1(e,t,r),r=r.sibling}function g1(e,t,r){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Hu,r)}catch{}switch(r.tag){case 5:St||Ts(r,t);case 6:var n=ft,s=Ir;ft=null,Gn(e,t,r),ft=n,Ir=s,ft!==null&&(Ir?(e=ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ft.removeChild(r.stateNode));break;case 18:ft!==null&&(Ir?(e=ft,r=r.stateNode,e.nodeType===8?Rm(e.parentNode,r):e.nodeType===1&&Rm(e,r),vo(e)):Rm(ft,r.stateNode));break;case 4:n=ft,s=Ir,ft=r.stateNode.containerInfo,Ir=!0,Gn(e,t,r),ft=n,Ir=s;break;case 0:case 11:case 14:case 15:if(!St&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ih(r,t,o),s=s.next}while(s!==n)}Gn(e,t,r);break;case 1:if(!St&&(Ts(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Be(r,t,l)}Gn(e,t,r);break;case 21:Gn(e,t,r);break;case 22:r.mode&1?(St=(n=St)||r.memoizedState!==null,Gn(e,t,r),St=n):Gn(e,t,r);break;default:Gn(e,t,r)}}function Dy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new UO),t.forEach(function(n){var s=ZO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Rr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,Ir=!1;break e;case 3:ft=l.stateNode.containerInfo,Ir=!0;break e;case 4:ft=l.stateNode.containerInfo,Ir=!0;break e}l=l.return}if(ft===null)throw Error(X(160));g1(i,o,s),ft=null,Ir=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Be(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y1(t,e),t=t.sibling}function y1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rr(t,e),Xr(e),n&4){try{io(3,e,e.return),Zu(3,e)}catch(y){Be(e,e.return,y)}try{io(5,e,e.return)}catch(y){Be(e,e.return,y)}}break;case 1:Rr(t,e),Xr(e),n&512&&r!==null&&Ts(r,r.return);break;case 5:if(Rr(t,e),Xr(e),n&512&&r!==null&&Ts(r,r.return),e.flags&32){var s=e.stateNode;try{po(s,"")}catch(y){Be(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Bw(s,i),Lf(l,o);var d=Lf(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?qw(s,m):u==="dangerouslySetInnerHTML"?Ww(s,m):u==="children"?po(s,m):wp(s,u,m,d)}switch(l){case"input":Ef(s,i);break;case"textarea":zw(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Rs(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Rs(s,!!i.multiple,i.defaultValue,!0):Rs(s,!!i.multiple,i.multiple?[]:"",!1))}s[So]=i}catch(y){Be(e,e.return,y)}}break;case 6:if(Rr(t,e),Xr(e),n&4){if(e.stateNode===null)throw Error(X(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Be(e,e.return,y)}}break;case 3:if(Rr(t,e),Xr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vo(t.containerInfo)}catch(y){Be(e,e.return,y)}break;case 4:Rr(t,e),Xr(e);break;case 13:Rr(t,e),Xr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tx=We())),n&4&&Dy(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(St=(d=St)||u,Rr(t,e),St=d):Rr(t,e),Xr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(te=e,u=e.child;u!==null;){for(m=te=u;te!==null;){switch(f=te,h=f.child,f.tag){case 0:case 11:case 14:case 15:io(4,f,f.return);break;case 1:Ts(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Be(n,r,y)}}break;case 5:Ts(f,f.return);break;case 22:if(f.memoizedState!==null){Iy(m);continue}}h!==null?(h.return=f,te=h):Iy(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Hw("display",o))}catch(y){Be(e,e.return,y)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(y){Be(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Rr(t,e),Xr(e),n&4&&Dy(e);break;case 21:break;default:Rr(t,e),Xr(e)}}function Xr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(x1(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(po(s,""),n.flags&=-33);var i=Ry(e);ch(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ry(e);lh(e,l,o);break;default:throw Error(X(161))}}catch(c){Be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HO(e,t,r){te=e,v1(e)}function v1(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||zl;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||St;l=zl;var d=St;if(zl=o,(St=c)&&!d)for(te=s;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?$y(s):c!==null?(c.return=o,te=c):$y(s);for(;i!==null;)te=i,v1(i),i=i.sibling;te=s,zl=l,St=d}_y(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):_y(e)}}function _y(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||Zu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!St)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Dr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&by(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}by(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&vo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}St||t.flags&512&&oh(t)}catch(f){Be(t,t.return,f)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function Iy(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function $y(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zu(4,t)}catch(c){Be(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Be(t,s,c)}}var i=t.return;try{oh(t)}catch(c){Be(t,i,c)}break;case 5:var o=t.return;try{oh(t)}catch(c){Be(t,o,c)}}}catch(c){Be(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var qO=Math.ceil,Kc=Fn.ReactCurrentDispatcher,Jp=Fn.ReactCurrentOwner,kr=Fn.ReactCurrentBatchConfig,pe=0,lt=null,Ye=null,gt=0,tr=0,Ms=ja(0),et=0,Oo=null,Ja=0,Ju=0,ex=0,oo=null,zt=null,tx=0,Xs=1/0,pn=null,Gc=!1,uh=null,ua=null,Ul=!1,na=null,Vc=0,lo=0,dh=null,yc=-1,vc=0;function It(){return pe&6?We():yc!==-1?yc:yc=We()}function da(e){return e.mode&1?pe&2&&gt!==0?gt&-gt:EO.transition!==null?(vc===0&&(vc=nN()),vc):(e=ye,e!==0||(e=window.event,e=e===void 0?16:uN(e.type)),e):1}function Hr(e,t,r,n){if(50<lo)throw lo=0,dh=null,Error(X(185));Vo(e,r,n),(!(pe&2)||e!==lt)&&(e===lt&&(!(pe&2)&&(Ju|=r),et===4&&ea(e,gt)),Vt(e,n),r===1&&pe===0&&!(t.mode&1)&&(Xs=We()+500,Yu&&wa()))}function Vt(e,t){var r=e.callbackNode;EA(e,t);var n=Tc(e,e===lt?gt:0);if(n===0)r!==null&&G0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&G0(r),t===1)e.tag===0?PO(Fy.bind(null,e)):AN(Fy.bind(null,e)),NO(function(){!(pe&6)&&wa()}),r=null;else{switch(aN(n)){case 1:r=Pp;break;case 4:r=tN;break;case 16:r=Oc;break;case 536870912:r=rN;break;default:r=Oc}r=P1(r,b1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function b1(e,t){if(yc=-1,vc=0,pe&6)throw Error(X(327));var r=e.callbackNode;if(Fs()&&e.callbackNode!==r)return null;var n=Tc(e,e===lt?gt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Yc(e,n);else{t=n;var s=pe;pe|=2;var i=w1();(lt!==e||gt!==t)&&(pn=null,Xs=We()+500,Wa(e,t));do try{VO();break}catch(l){j1(e,l)}while(!0);Bp(),Kc.current=i,pe=s,Ye!==null?t=0:(lt=null,gt=0,t=et)}if(t!==0){if(t===2&&(s=$f(e),s!==0&&(n=s,t=mh(e,s))),t===1)throw r=Oo,Wa(e,0),ea(e,n),Vt(e,We()),r;if(t===6)ea(e,n);else{if(s=e.current.alternate,!(n&30)&&!KO(s)&&(t=Yc(e,n),t===2&&(i=$f(e),i!==0&&(n=i,t=mh(e,i))),t===1))throw r=Oo,Wa(e,0),ea(e,n),Vt(e,We()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:Ta(e,zt,pn);break;case 3:if(ea(e,n),(n&130023424)===n&&(t=tx+500-We(),10<t)){if(Tc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){It(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kf(Ta.bind(null,e,zt,pn),t);break}Ta(e,zt,pn);break;case 4:if(ea(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Wr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=We()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qO(n/1960))-n,10<n){e.timeoutHandle=Kf(Ta.bind(null,e,zt,pn),n);break}Ta(e,zt,pn);break;case 5:Ta(e,zt,pn);break;default:throw Error(X(329))}}}return Vt(e,We()),e.callbackNode===r?b1.bind(null,e):null}function mh(e,t){var r=oo;return e.current.memoizedState.isDehydrated&&(Wa(e,t).flags|=256),e=Yc(e,t),e!==2&&(t=zt,zt=r,t!==null&&fh(t)),e}function fh(e){zt===null?zt=e:zt.push.apply(zt,e)}function KO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Gr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ea(e,t){for(t&=~ex,t&=~Ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wr(t),n=1<<r;e[r]=-1,t&=~n}}function Fy(e){if(pe&6)throw Error(X(327));Fs();var t=Tc(e,0);if(!(t&1))return Vt(e,We()),null;var r=Yc(e,t);if(e.tag!==0&&r===2){var n=$f(e);n!==0&&(t=n,r=mh(e,n))}if(r===1)throw r=Oo,Wa(e,0),ea(e,t),Vt(e,We()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ta(e,zt,pn),Vt(e,We()),null}function rx(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(Xs=We()+500,Yu&&wa())}}function es(e){na!==null&&na.tag===0&&!(pe&6)&&Fs();var t=pe;pe|=1;var r=kr.transition,n=ye;try{if(kr.transition=null,ye=1,e)return e()}finally{ye=n,kr.transition=r,pe=t,!(pe&6)&&wa()}}function nx(){tr=Ms.current,Ee(Ms)}function Wa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wO(r)),Ye!==null)for(r=Ye.return;r!==null;){var n=r;switch(Ip(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_c();break;case 3:Vs(),Ee(Kt),Ee(At),Kp();break;case 5:qp(n);break;case 4:Vs();break;case 13:Ee(_e);break;case 19:Ee(_e);break;case 10:zp(n.type._context);break;case 22:case 23:nx()}r=r.return}if(lt=e,Ye=e=ma(e.current,null),gt=tr=t,et=0,Oo=null,ex=Ju=Ja=0,zt=oo=null,_a!==null){for(t=0;t<_a.length;t++)if(r=_a[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}_a=null}return e}function j1(e,t){do{var r=Ye;try{if(Bp(),pc.current=qc,Hc){for(var n=Ie.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Hc=!1}if(Za=0,it=Ze=Ie=null,so=!1,Po=0,Jp.current=null,r===null||r.return===null){et=1,Oo=t,Ye=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=gt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=ky(o);if(h!==null){h.flags&=-257,Py(h,o,l,i,t),h.mode&1&&Cy(i,d,t),t=h,c=d;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){Cy(i,d,t),ax();break e}c=Error(X(426))}}else if(Me&&l.mode&1){var g=ky(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Py(g,o,l,i,t),$p(Ys(c,l));break e}}i=c=Ys(c,l),et!==4&&(et=2),oo===null?oo=[i]:oo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=a1(i,c,t);vy(i,v);break e;case 1:l=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ua===null||!ua.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=s1(i,l,t);vy(i,w);break e}}i=i.return}while(i!==null)}S1(r)}catch(N){t=N,Ye===r&&r!==null&&(Ye=r=r.return);continue}break}while(!0)}function w1(){var e=Kc.current;return Kc.current=qc,e===null?qc:e}function ax(){(et===0||et===3||et===2)&&(et=4),lt===null||!(Ja&268435455)&&!(Ju&268435455)||ea(lt,gt)}function Yc(e,t){var r=pe;pe|=2;var n=w1();(lt!==e||gt!==t)&&(pn=null,Wa(e,t));do try{GO();break}catch(s){j1(e,s)}while(!0);if(Bp(),pe=r,Kc.current=n,Ye!==null)throw Error(X(261));return lt=null,gt=0,et}function GO(){for(;Ye!==null;)N1(Ye)}function VO(){for(;Ye!==null&&!vA();)N1(Ye)}function N1(e){var t=k1(e.alternate,e,tr);e.memoizedProps=e.pendingProps,t===null?S1(e):Ye=t,Jp.current=null}function S1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zO(r,t),r!==null){r.flags&=32767,Ye=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ye=null;return}}else if(r=BO(r,t,tr),r!==null){Ye=r;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);et===0&&(et=5)}function Ta(e,t,r){var n=ye,s=kr.transition;try{kr.transition=null,ye=1,YO(e,t,r,n)}finally{kr.transition=s,ye=n}return null}function YO(e,t,r,n){do Fs();while(na!==null);if(pe&6)throw Error(X(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(AA(e,i),e===lt&&(Ye=lt=null,gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ul||(Ul=!0,P1(Oc,function(){return Fs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=kr.transition,kr.transition=null;var o=ye;ye=1;var l=pe;pe|=4,Jp.current=null,WO(e,r),y1(r,e),pO(Hf),Mc=!!Wf,Hf=Wf=null,e.current=r,HO(r),bA(),pe=l,ye=o,kr.transition=i}else e.current=r;if(Ul&&(Ul=!1,na=e,Vc=s),i=e.pendingLanes,i===0&&(ua=null),NA(r.stateNode),Vt(e,We()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Gc)throw Gc=!1,e=uh,uh=null,e;return Vc&1&&e.tag!==0&&Fs(),i=e.pendingLanes,i&1?e===dh?lo++:(lo=0,dh=e):lo=0,wa(),null}function Fs(){if(na!==null){var e=aN(Vc),t=kr.transition,r=ye;try{if(kr.transition=null,ye=16>e?16:e,na===null)var n=!1;else{if(e=na,na=null,Vc=0,pe&6)throw Error(X(331));var s=pe;for(pe|=4,te=e.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(te=d;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:io(8,u,i)}var m=u.child;if(m!==null)m.return=u,te=m;else for(;te!==null;){u=te;var f=u.sibling,h=u.return;if(p1(u),u===d){te=null;break}if(f!==null){f.return=h,te=f;break}te=h}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(y!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:io(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,te=v;break e}te=i.return}}var b=e.current;for(te=b;te!==null;){o=te;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,te=j;else e:for(o=b;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zu(9,l)}}catch(N){Be(l,l.return,N)}if(l===o){te=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,te=w;break e}te=l.return}}if(pe=s,wa(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Hu,e)}catch{}n=!0}return n}finally{ye=r,kr.transition=t}}return!1}function By(e,t,r){t=Ys(r,t),t=a1(e,t,1),e=ca(e,t,1),t=It(),e!==null&&(Vo(e,1,t),Vt(e,t))}function Be(e,t,r){if(e.tag===3)By(e,e,r);else for(;t!==null;){if(t.tag===3){By(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ua===null||!ua.has(n))){e=Ys(r,e),e=s1(t,e,1),t=ca(t,e,1),e=It(),t!==null&&(Vo(t,1,e),Vt(t,e));break}}t=t.return}}function XO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(gt&r)===r&&(et===4||et===3&&(gt&130023424)===gt&&500>We()-tx?Wa(e,0):ex|=r),Vt(e,t)}function C1(e,t){t===0&&(e.mode&1?(t=Ml,Ml<<=1,!(Ml&130023424)&&(Ml=4194304)):t=1);var r=It();e=Tn(e,t),e!==null&&(Vo(e,t,r),Vt(e,r))}function QO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),C1(e,r)}function ZO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),C1(e,r)}var k1;k1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kt.current)Ht=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ht=!1,FO(e,t,r);Ht=!!(e.flags&131072)}else Ht=!1,Me&&t.flags&1048576&&ON(t,Fc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;gc(e,t),e=t.pendingProps;var s=qs(t,At.current);$s(t,r),s=Vp(null,t,n,e,s,r);var i=Yp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(n)?(i=!0,Ic(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wp(t),s.updater=Qu,t.stateNode=s,s._reactInternals=t,Jf(t,n,e,r),t=rh(null,t,n,!0,i,r)):(t.tag=0,Me&&i&&_p(t),Tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(gc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=eT(n),e=Dr(n,e),s){case 0:t=th(null,t,n,e,r);break e;case 1:t=Oy(null,t,n,e,r);break e;case 11:t=Ey(null,t,n,e,r);break e;case 14:t=Ay(null,t,n,Dr(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),th(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),Oy(e,t,n,s,r);case 3:e:{if(c1(t),e===null)throw Error(X(387));n=t.pendingProps,i=t.memoizedState,s=i.element,_N(e,t),Uc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ys(Error(X(423)),t),t=Ty(e,t,n,r,s);break e}else if(n!==s){s=Ys(Error(X(424)),t),t=Ty(e,t,n,r,s);break e}else for(ir=la(t.stateNode.containerInfo.firstChild),lr=t,Me=!0,$r=null,r=RN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ks(),n===s){t=Mn(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return IN(t),e===null&&Xf(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,qf(n,s)?o=null:i!==null&&qf(n,i)&&(t.flags|=32),l1(e,t),Tt(e,t,o,r),t.child;case 6:return e===null&&Xf(t),null;case 13:return u1(e,t,r);case 4:return Hp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Gs(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),Ey(e,t,n,s,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Se(Bc,n._currentValue),n._currentValue=o,i!==null)if(Gr(i.value,o)){if(i.children===s.children&&!Kt.current){t=Mn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Cn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Qf(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Qf(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$s(t,r),s=Pr(s),n=n(s),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,s=Dr(n,t.pendingProps),s=Dr(n.type,s),Ay(e,t,n,s,r);case 15:return i1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),gc(e,t),t.tag=1,Gt(n)?(e=!0,Ic(t)):e=!1,$s(t,r),n1(t,n,s),Jf(t,n,s,r),rh(null,t,n,!0,e,r);case 19:return d1(e,t,r);case 22:return o1(e,t,r)}throw Error(X(156,t.tag))};function P1(e,t){return eN(e,t)}function JO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,r,n){return new JO(e,t,r,n)}function sx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eT(e){if(typeof e=="function")return sx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sp)return 11;if(e===Cp)return 14}return 2}function ma(e,t){var r=e.alternate;return r===null?(r=Sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function bc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")sx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ws:return Ha(r.children,s,i,t);case Np:o=8,s|=8;break;case Nf:return e=Sr(12,r,t,s|2),e.elementType=Nf,e.lanes=i,e;case Sf:return e=Sr(13,r,t,s),e.elementType=Sf,e.lanes=i,e;case Cf:return e=Sr(19,r,t,s),e.elementType=Cf,e.lanes=i,e;case Iw:return ed(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dw:o=10;break e;case _w:o=9;break e;case Sp:o=11;break e;case Cp:o=14;break e;case Yn:o=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Sr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ha(e,t,r,n){return e=Sr(7,e,n,t),e.lanes=r,e}function ed(e,t,r,n){return e=Sr(22,e,n,t),e.elementType=Iw,e.lanes=r,e.stateNode={isHidden:!1},e}function Um(e,t,r){return e=Sr(6,e,null,t),e.lanes=r,e}function Wm(e,t,r){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ix(e,t,r,n,s,i,o,l,c){return e=new tT(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Sr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wp(i),e}function rT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function E1(e){if(!e)return xa;e=e._reactInternals;e:{if(fs(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Gt(r))return EN(e,r,t)}return t}function A1(e,t,r,n,s,i,o,l,c){return e=ix(r,n,!0,e,s,i,o,l,c),e.context=E1(null),r=e.current,n=It(),s=da(r),i=Cn(n,s),i.callback=t??null,ca(r,i,s),e.current.lanes=s,Vo(e,s,n),Vt(e,n),e}function td(e,t,r,n){var s=t.current,i=It(),o=da(s);return r=E1(r),t.context===null?t.context=r:t.pendingContext=r,t=Cn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ca(s,t,o),e!==null&&(Hr(e,s,o,i),hc(e,s,o)),o}function Xc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ox(e,t){zy(e,t),(e=e.alternate)&&zy(e,t)}function nT(){return null}var O1=typeof reportError=="function"?reportError:function(e){console.error(e)};function lx(e){this._internalRoot=e}rd.prototype.render=lx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));td(e,t,null,null)};rd.prototype.unmount=lx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;es(function(){td(null,e,null,null)}),t[On]=null}};function rd(e){this._internalRoot=e}rd.prototype.unstable_scheduleHydration=function(e){if(e){var t=oN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jn.length&&t!==0&&t<Jn[r].priority;r++);Jn.splice(r,0,e),r===0&&cN(e)}};function cx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uy(){}function aT(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=Xc(o);i.call(d)}}var o=A1(t,n,e,0,null,!1,!1,"",Uy);return e._reactRootContainer=o,e[On]=o.current,wo(e.nodeType===8?e.parentNode:e),es(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Xc(c);l.call(d)}}var c=ix(e,0,!1,null,null,!1,!1,"",Uy);return e._reactRootContainer=c,e[On]=c.current,wo(e.nodeType===8?e.parentNode:e),es(function(){td(t,c,r,n)}),c}function ad(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Xc(o);l.call(c)}}td(t,o,e,s)}else o=aT(r,t,e,s,n);return Xc(o)}sN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yi(t.pendingLanes);r!==0&&(Ep(t,r|1),Vt(t,We()),!(pe&6)&&(Xs=We()+500,wa()))}break;case 13:es(function(){var n=Tn(e,1);if(n!==null){var s=It();Hr(n,e,1,s)}}),ox(e,1)}};Ap=function(e){if(e.tag===13){var t=Tn(e,134217728);if(t!==null){var r=It();Hr(t,e,134217728,r)}ox(e,134217728)}};iN=function(e){if(e.tag===13){var t=da(e),r=Tn(e,t);if(r!==null){var n=It();Hr(r,e,t,n)}ox(e,t)}};oN=function(){return ye};lN=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};Df=function(e,t,r){switch(t){case"input":if(Ef(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Vu(n);if(!s)throw Error(X(90));Fw(n),Ef(n,s)}}}break;case"textarea":zw(e,r);break;case"select":t=r.value,t!=null&&Rs(e,!!r.multiple,t,!1)}};Vw=rx;Yw=es;var sT={usingClientEntryPoint:!1,Events:[Xo,ks,Vu,Kw,Gw,rx]},Ii={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iT={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||nT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Hu=Wl.inject(iT),tn=Wl}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sT;hr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cx(t))throw Error(X(200));return rT(e,t,null,r)};hr.createRoot=function(e,t){if(!cx(e))throw Error(X(299));var r=!1,n="",s=O1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ix(e,1,!1,null,null,r,!1,n,s),e[On]=t.current,wo(e.nodeType===8?e.parentNode:e),new lx(t)};hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Zw(t),e=e===null?null:e.stateNode,e};hr.flushSync=function(e){return es(e)};hr.hydrate=function(e,t,r){if(!nd(t))throw Error(X(200));return ad(null,e,t,!0,r)};hr.hydrateRoot=function(e,t,r){if(!cx(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=O1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=A1(t,null,e,1,r??null,s,!1,i,o),e[On]=t.current,wo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new rd(t)};hr.render=function(e,t,r){if(!nd(t))throw Error(X(200));return ad(null,e,t,!1,r)};hr.unmountComponentAtNode=function(e){if(!nd(e))throw Error(X(40));return e._reactRootContainer?(es(function(){ad(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};hr.unstable_batchedUpdates=rx;hr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!nd(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return ad(e,t,r,!1,n)};hr.version="18.3.1-next-f1338f8080-20240426";function T1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T1)}catch(e){console.error(e)}}T1(),Tw.exports=hr;var ux=Tw.exports,Wy=ux;jf.createRoot=Wy.createRoot,jf.hydrateRoot=Wy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},To.apply(this,arguments)}var aa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(aa||(aa={}));const Hy="popstate";function oT(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return hh("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qc(s)}return cT(t,r,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function M1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lT(){return Math.random().toString(36).substr(2,8)}function qy(e,t){return{usr:e.state,key:e.key,idx:t}}function hh(e,t,r,n){return r===void 0&&(r=null),To({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hi(t):t,{state:r,key:t&&t.key||n||lT()})}function Qc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cT(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=aa.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(To({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=aa.Pop;let g=u(),v=g==null?null:g-d;d=g,c&&c({action:l,location:y.location,delta:v})}function f(g,v){l=aa.Push;let b=hh(y.location,g,v);d=u()+1;let j=qy(b,d),w=y.createHref(b);try{o.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(w)}i&&c&&c({action:l,location:y.location,delta:1})}function h(g,v){l=aa.Replace;let b=hh(y.location,g,v);d=u();let j=qy(b,d),w=y.createHref(b);o.replaceState(j,"",w),i&&c&&c({action:l,location:y.location,delta:0})}function p(g){let v=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof g=="string"?g:Qc(g);return b=b.replace(/ $/,"%20"),He(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let y={get action(){return l},get location(){return e(s,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Hy,m),c=g,()=>{s.removeEventListener(Hy,m),c=null}},createHref(g){return t(s,g)},createURL:p,encodeLocation(g){let v=p(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(g){return o.go(g)}};return y}var Ky;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ky||(Ky={}));function uT(e,t,r){return r===void 0&&(r="/"),dT(e,t,r)}function dT(e,t,r,n){let s=typeof t=="string"?hi(t):t,i=dx(s.pathname||"/",r);if(i==null)return null;let o=L1(e);mT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ST(i);l=jT(o[c],d)}return l}function L1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=fa([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(He(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),L1(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:vT(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of R1(i.path))s(i,o,c)}),t}function R1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=R1(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function mT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fT=/^:[\w-]+$/,hT=3,pT=2,xT=1,gT=10,yT=-2,Gy=e=>e==="*";function vT(e,t){let r=e.split("/"),n=r.length;return r.some(Gy)&&(n+=yT),t&&(n+=pT),r.filter(s=>!Gy(s)).reduce((s,i)=>s+(fT.test(i)?hT:i===""?xT:gT),n)}function bT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function jT(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=wT({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:fa([i,m.pathname]),pathnameBase:ET(fa([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=fa([i,m.pathnameBase]))}return o}function wT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NT(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?d[f]=void 0:d[f]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function NT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),M1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ST(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return M1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function CT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?hi(e):e;return{pathname:r?r.startsWith("/")?r:kT(r,t):t,search:AT(n),hash:OT(s)}}function kT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Hm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mx(e,t){let r=PT(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fx(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=hi(e):(s=To({},e),He(!s.pathname||!s.pathname.includes("?"),Hm("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),Hm("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),Hm("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=CT(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const fa=e=>e.join("/").replace(/\/\/+/g,"/"),ET=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const D1=["post","put","patch","delete"];new Set(D1);const MT=["get",...D1];new Set(MT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mo.apply(this,arguments)}const hx=x.createContext(null),LT=x.createContext(null),Na=x.createContext(null),sd=x.createContext(null),Sa=x.createContext({outlet:null,matches:[],isDataRoute:!1}),_1=x.createContext(null);function RT(e,t){let{relative:r}=t===void 0?{}:t;pi()||He(!1);let{basename:n,navigator:s}=x.useContext(Na),{hash:i,pathname:o,search:l}=$1(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:fa([n,o])),s.createHref({pathname:c,search:l,hash:i})}function pi(){return x.useContext(sd)!=null}function xi(){return pi()||He(!1),x.useContext(sd).location}function I1(e){x.useContext(Na).static||x.useLayoutEffect(e)}function id(){let{isDataRoute:e}=x.useContext(Sa);return e?GT():DT()}function DT(){pi()||He(!1);let e=x.useContext(hx),{basename:t,future:r,navigator:n}=x.useContext(Na),{matches:s}=x.useContext(Sa),{pathname:i}=xi(),o=JSON.stringify(mx(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return I1(()=>{l.current=!0}),x.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=fx(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:fa([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,o,i,e])}function $1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Na),{matches:s}=x.useContext(Sa),{pathname:i}=xi(),o=JSON.stringify(mx(s,n.v7_relativeSplatPath));return x.useMemo(()=>fx(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function _T(e,t){return IT(e,t)}function IT(e,t,r,n){pi()||He(!1);let{navigator:s}=x.useContext(Na),{matches:i}=x.useContext(Sa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=xi(),u;if(t){var m;let g=typeof t=="string"?hi(t):t;c==="/"||(m=g.pathname)!=null&&m.startsWith(c)||He(!1),u=g}else u=d;let f=u.pathname||"/",h=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=uT(e,{pathname:h}),y=UT(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:fa([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:fa([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&y?x.createElement(sd.Provider,{value:{location:Mo({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:aa.Pop}},y):y}function $T(){let e=KT(),t=TT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const FT=x.createElement($T,null);class BT extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Sa.Provider,{value:this.props.routeContext},x.createElement(_1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zT(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(hx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Sa.Provider,{value:t},n)}function UT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||He(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:f,errors:h}=r,p=m.route.loader&&f[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,f)=>{let h,p=!1,y=null,g=null;r&&(h=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||FT,c&&(d<0&&f===0?(VT("route-fallback"),p=!0,g=null):d===f&&(p=!0,g=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),b=()=>{let j;return h?j=y:p?j=g:m.route.Component?j=x.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,x.createElement(zT,{match:m,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?x.createElement(BT,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var F1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(F1||{}),B1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(B1||{});function WT(e){let t=x.useContext(hx);return t||He(!1),t}function HT(e){let t=x.useContext(LT);return t||He(!1),t}function qT(e){let t=x.useContext(Sa);return t||He(!1),t}function z1(e){let t=qT(),r=t.matches[t.matches.length-1];return r.route.id||He(!1),r.route.id}function KT(){var e;let t=x.useContext(_1),r=HT(),n=z1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function GT(){let{router:e}=WT(F1.UseNavigateStable),t=z1(B1.UseNavigateStable),r=x.useRef(!1);return I1(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Mo({fromRouteId:t},i)))},[e,t])}const Vy={};function VT(e,t,r){Vy[e]||(Vy[e]=!0)}function YT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function XT(e){let{to:t,replace:r,state:n,relative:s}=e;pi()||He(!1);let{future:i,static:o}=x.useContext(Na),{matches:l}=x.useContext(Sa),{pathname:c}=xi(),d=id(),u=fx(t,mx(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(u);return x.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:s}),[d,m,s,r,n]),null}function Ve(e){He(!1)}function QT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=aa.Pop,navigator:i,static:o=!1,future:l}=e;pi()&&He(!1);let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:i,static:o,future:Mo({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=hi(n));let{pathname:u="/",search:m="",hash:f="",state:h=null,key:p="default"}=n,y=x.useMemo(()=>{let g=dx(u,c);return g==null?null:{location:{pathname:g,search:m,hash:f,state:h,key:p},navigationType:s}},[c,u,m,f,h,p,s]);return y==null?null:x.createElement(Na.Provider,{value:d},x.createElement(sd.Provider,{children:r,value:y}))}function ph(e){let{children:t,location:r}=e;return _T(xh(t),r)}new Promise(()=>{});function xh(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,xh(n.props.children,i));return}n.type!==Ve&&He(!1),!n.props.index||!n.props.children||He(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=xh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}function ZT(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function JT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e5(e,t){return e.button===0&&(!t||t==="_self")&&!JT(e)}const t5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],r5="6";try{window.__reactRouterVersion=r5}catch{}const n5="startTransition",Yy=Aw[n5];function a5(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=oT({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=x.useCallback(m=>{d&&Yy?Yy(()=>c(m)):c(m)},[c,d]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>YT(n),[n]),x.createElement(QT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const s5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vn=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,f=ZT(t,t5),{basename:h}=x.useContext(Na),p,y=!1;if(typeof d=="string"&&i5.test(d)&&(p=d,s5))try{let j=new URL(window.location.href),w=d.startsWith("//")?new URL(j.protocol+d):new URL(d),N=dx(w.pathname,h);w.origin===j.origin&&N!=null?d=N+w.search+w.hash:y=!0}catch{}let g=RT(d,{relative:s}),v=o5(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||v(j)}return x.createElement("a",gh({},f,{href:p||g,onClick:y||i?n:b,ref:r,target:c}))});var Xy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xy||(Xy={}));var Qy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qy||(Qy={}));function o5(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=id(),d=xi(),u=$1(e,{relative:o});return x.useCallback(m=>{if(e5(m,r)){m.preventDefault();let f=n!==void 0?n:Qc(d)===Qc(u);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,r,e,i,o,l])}function U1(e,t){return function(){return e.apply(t,arguments)}}const{toString:l5}=Object.prototype,{getPrototypeOf:px}=Object,{iterator:od,toStringTag:W1}=Symbol,ld=(e=>t=>{const r=l5.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vr=e=>(e=e.toLowerCase(),t=>ld(t)===e),cd=e=>t=>typeof t===e,{isArray:gi}=Array,Qs=cd("undefined");function Zo(e){return e!==null&&!Qs(e)&&e.constructor!==null&&!Qs(e.constructor)&&Yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const H1=Vr("ArrayBuffer");function c5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&H1(e.buffer),t}const u5=cd("string"),Yt=cd("function"),q1=cd("number"),Jo=e=>e!==null&&typeof e=="object",d5=e=>e===!0||e===!1,jc=e=>{if(ld(e)!=="object")return!1;const t=px(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(W1 in e)&&!(od in e)},m5=e=>{if(!Jo(e)||Zo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},f5=Vr("Date"),h5=Vr("File"),p5=Vr("Blob"),x5=Vr("FileList"),g5=e=>Jo(e)&&Yt(e.pipe),y5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yt(e.append)&&((t=ld(e))==="formdata"||t==="object"&&Yt(e.toString)&&e.toString()==="[object FormData]"))},v5=Vr("URLSearchParams"),[b5,j5,w5,N5]=["ReadableStream","Request","Response","Headers"].map(Vr),S5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function el(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),gi(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Zo(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function K1(e,t){if(Zo(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const $a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,G1=e=>!Qs(e)&&e!==$a;function yh(){const{caseless:e,skipUndefined:t}=G1(this)&&this||{},r={},n=(s,i)=>{const o=e&&K1(r,i)||i;jc(r[o])&&jc(s)?r[o]=yh(r[o],s):jc(s)?r[o]=yh({},s):gi(s)?r[o]=s.slice():(!t||!Qs(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&el(arguments[s],n);return r}const C5=(e,t,r,{allOwnKeys:n}={})=>(el(t,(s,i)=>{r&&Yt(s)?e[i]=U1(s,r):e[i]=s},{allOwnKeys:n}),e),k5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),P5=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},E5=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&px(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},A5=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},O5=e=>{if(!e)return null;if(gi(e))return e;let t=e.length;if(!q1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},T5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&px(Uint8Array)),M5=(e,t)=>{const n=(e&&e[od]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},L5=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},R5=Vr("HTMLFormElement"),D5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Zy=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),_5=Vr("RegExp"),V1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};el(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},I5=e=>{V1(e,(t,r)=>{if(Yt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Yt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$5=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return gi(e)?n(e):n(String(e).split(t)),r},F5=()=>{},B5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function z5(e){return!!(e&&Yt(e.append)&&e[W1]==="FormData"&&e[od])}const U5=e=>{const t=new Array(10),r=(n,s)=>{if(Jo(n)){if(t.indexOf(n)>=0)return;if(Zo(n))return n;if(!("toJSON"in n)){t[s]=n;const i=gi(n)?[]:{};return el(n,(o,l)=>{const c=r(o,s+1);!Qs(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},W5=Vr("AsyncFunction"),H5=e=>e&&(Jo(e)||Yt(e))&&Yt(e.then)&&Yt(e.catch),Y1=((e,t)=>e?setImmediate:t?((r,n)=>($a.addEventListener("message",({source:s,data:i})=>{s===$a&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),$a.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Yt($a.postMessage)),q5=typeof queueMicrotask<"u"?queueMicrotask.bind($a):typeof process<"u"&&process.nextTick||Y1,K5=e=>e!=null&&Yt(e[od]),W={isArray:gi,isArrayBuffer:H1,isBuffer:Zo,isFormData:y5,isArrayBufferView:c5,isString:u5,isNumber:q1,isBoolean:d5,isObject:Jo,isPlainObject:jc,isEmptyObject:m5,isReadableStream:b5,isRequest:j5,isResponse:w5,isHeaders:N5,isUndefined:Qs,isDate:f5,isFile:h5,isBlob:p5,isRegExp:_5,isFunction:Yt,isStream:g5,isURLSearchParams:v5,isTypedArray:T5,isFileList:x5,forEach:el,merge:yh,extend:C5,trim:S5,stripBOM:k5,inherits:P5,toFlatObject:E5,kindOf:ld,kindOfTest:Vr,endsWith:A5,toArray:O5,forEachEntry:M5,matchAll:L5,isHTMLForm:R5,hasOwnProperty:Zy,hasOwnProp:Zy,reduceDescriptors:V1,freezeMethods:I5,toObjectSet:$5,toCamelCase:D5,noop:F5,toFiniteNumber:B5,findKey:K1,global:$a,isContextDefined:G1,isSpecCompliantForm:z5,toJSONObject:U5,isAsyncFn:W5,isThenable:H5,setImmediate:Y1,asap:q5,isIterable:K5};function ue(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}W.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const X1=ue.prototype,Q1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Q1[e]={value:e}});Object.defineProperties(ue,Q1);Object.defineProperty(X1,"isAxiosError",{value:!0});ue.from=(e,t,r,n,s,i)=>{const o=Object.create(X1);W.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ue.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const G5=null;function vh(e){return W.isPlainObject(e)||W.isArray(e)}function Z1(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function Jy(e,t,r){return e?e.concat(t).map(function(s,i){return s=Z1(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function V5(e){return W.isArray(e)&&!e.some(vh)}const Y5=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function ud(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!W.isUndefined(g[y])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(s))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(W.isDate(p))return p.toISOString();if(W.isBoolean(p))return p.toString();if(!c&&W.isBlob(p))throw new ue("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(p)||W.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,y,g){let v=p;if(p&&!g&&typeof p=="object"){if(W.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(W.isArray(p)&&V5(p)||(W.isFileList(p)||W.endsWith(y,"[]"))&&(v=W.toArray(p)))return y=Z1(y),v.forEach(function(j,w){!(W.isUndefined(j)||j===null)&&t.append(o===!0?Jy([y],w,i):o===null?y:y+"[]",d(j))}),!1}return vh(p)?!0:(t.append(Jy(g,y,i),d(p)),!1)}const m=[],f=Object.assign(Y5,{defaultVisitor:u,convertValue:d,isVisitable:vh});function h(p,y){if(!W.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(p),W.forEach(p,function(v,b){(!(W.isUndefined(v)||v===null)&&s.call(t,v,W.isString(b)?b.trim():b,y,f))===!0&&h(v,y?y.concat(b):[b])}),m.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return h(e),t}function ev(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function xx(e,t){this._pairs=[],e&&ud(e,this,t)}const J1=xx.prototype;J1.append=function(t,r){this._pairs.push([t,r])};J1.toString=function(t){const r=t?function(n){return t.call(this,n,ev)}:ev;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function X5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function e2(e,t,r){if(!t)return e;const n=r&&r.encode||X5;W.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=W.isURLSearchParams(t)?t.toString():new xx(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class tv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(n){n!==null&&t(n)})}}const t2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q5=typeof URLSearchParams<"u"?URLSearchParams:xx,Z5=typeof FormData<"u"?FormData:null,J5=typeof Blob<"u"?Blob:null,e4={isBrowser:!0,classes:{URLSearchParams:Q5,FormData:Z5,Blob:J5},protocols:["http","https","file","blob","url","data"]},gx=typeof window<"u"&&typeof document<"u",bh=typeof navigator=="object"&&navigator||void 0,t4=gx&&(!bh||["ReactNative","NativeScript","NS"].indexOf(bh.product)<0),r4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",n4=gx&&window.location.href||"http://localhost",a4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gx,hasStandardBrowserEnv:t4,hasStandardBrowserWebWorkerEnv:r4,navigator:bh,origin:n4},Symbol.toStringTag,{value:"Module"})),kt={...a4,...e4};function s4(e,t){return ud(e,new kt.classes.URLSearchParams,{visitor:function(r,n,s,i){return kt.isNode&&W.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function i4(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function o4(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function r2(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&W.isArray(s)?s.length:o,c?(W.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!W.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&W.isArray(s[o])&&(s[o]=o4(s[o])),!l)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(n,s)=>{t(i4(n),s,r,0)}),r}return null}function l4(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const tl={transitional:t2,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=W.isObject(t);if(i&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return s?JSON.stringify(r2(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return s4(t,this.formSerializer).toString();if((l=W.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ud(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),l4(t)):t}],transformResponse:[function(t){const r=this.transitional||tl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ue.from(l,ue.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{tl.headers[e]={}});const c4=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),u4=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&c4[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},rv=Symbol("internals");function $i(e){return e&&String(e).trim().toLowerCase()}function wc(e){return e===!1||e==null?e:W.isArray(e)?e.map(wc):String(e)}function d4(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const m4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qm(e,t,r,n,s){if(W.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!W.isString(t)){if(W.isString(n))return t.indexOf(n)!==-1;if(W.isRegExp(n))return n.test(t)}}function f4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function h4(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Xt=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,d){const u=$i(c);if(!u)throw new Error("header name must be a non-empty string");const m=W.findKey(s,u);(!m||s[m]===void 0||d===!0||d===void 0&&s[m]!==!1)&&(s[m||c]=wc(l))}const o=(l,c)=>W.forEach(l,(d,u)=>i(d,u,c));if(W.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(W.isString(t)&&(t=t.trim())&&!m4(t))o(u4(t),r);else if(W.isObject(t)&&W.isIterable(t)){let l={},c,d;for(const u of t){if(!W.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?W.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=$i(t),t){const n=W.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return d4(s);if(W.isFunction(r))return r.call(this,s,n);if(W.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=$i(t),t){const n=W.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||qm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=$i(o),o){const l=W.findKey(n,o);l&&(!r||qm(n,n[l],l,r))&&(delete n[l],s=!0)}}return W.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||qm(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return W.forEach(this,(s,i)=>{const o=W.findKey(n,i);if(o){r[o]=wc(s),delete r[i];return}const l=t?f4(i):String(i).trim();l!==i&&delete r[i],r[l]=wc(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&W.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[rv]=this[rv]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=$i(o);n[l]||(h4(s,o),n[l]=!0)}return W.isArray(t)?t.forEach(i):i(t),this}};Xt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Xt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});W.freezeMethods(Xt);function Km(e,t){const r=this||tl,n=t||r,s=Xt.from(n.headers);let i=n.data;return W.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function n2(e){return!!(e&&e.__CANCEL__)}function yi(e,t,r){ue.call(this,e??"canceled",ue.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(yi,ue,{__CANCEL__:!0});function a2(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ue("Request failed with status code "+r.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function p4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function x4(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[s]=c,n[s]=d;let m=i,f=0;for(;m!==s;)f+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<t)return;const h=u&&d-u;return h?Math.round(f*1e3/h):void 0}}function g4(e,t){let r=0,n=1e3/t,s,i;const o=(d,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-r;m>=n?o(d,u):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const Zc=(e,t,r=3)=>{let n=0;const s=x4(50,250);return g4(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=s(c),u=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},nv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},av=e=>(...t)=>W.asap(()=>e(...t)),y4=kt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,kt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,v4=kt.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];W.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),W.isString(n)&&o.push("path="+n),W.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function b4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function j4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function s2(e,t,r){let n=!b4(t);return e&&(n||r==!1)?j4(e,t):t}const sv=e=>e instanceof Xt?{...e}:e;function ts(e,t){t=t||{};const r={};function n(d,u,m,f){return W.isPlainObject(d)&&W.isPlainObject(u)?W.merge.call({caseless:f},d,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function s(d,u,m,f){if(W.isUndefined(u)){if(!W.isUndefined(d))return n(void 0,d,m,f)}else return n(d,u,m,f)}function i(d,u){if(!W.isUndefined(u))return n(void 0,u)}function o(d,u){if(W.isUndefined(u)){if(!W.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,m){if(m in t)return n(d,u);if(m in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,m)=>s(sv(d),sv(u),m,!0)};return W.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||s,f=m(e[u],t[u],u);W.isUndefined(f)&&m!==l||(r[u]=f)}),r}const i2=e=>{const t=ts({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Xt.from(o),t.url=e2(s2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(r)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&o.set(u,m)})}}if(kt.hasStandardBrowserEnv&&(n&&W.isFunction(n)&&(n=n(t)),n||n!==!1&&y4(t.url))){const c=s&&i&&v4.read(i);c&&o.set(s,c)}return t},w4=typeof XMLHttpRequest<"u",N4=w4&&function(e){return new Promise(function(r,n){const s=i2(e);let i=s.data;const o=Xt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=s,u,m,f,h,p;function y(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function v(){if(!g)return;const j=Xt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:e,request:g};a2(function(P){r(P),y()},function(P){n(P),y()},N),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(n(new ue("Request aborted",ue.ECONNABORTED,e,g)),g=null)},g.onerror=function(w){const N=w&&w.message?w.message:"Network Error",C=new ue(N,ue.ERR_NETWORK,e,g);C.event=w||null,n(C),g=null},g.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||t2;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new ue(w,N.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&W.forEach(o.toJSON(),function(w,N){g.setRequestHeader(N,w)}),W.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),l&&l!=="json"&&(g.responseType=s.responseType),d&&([f,p]=Zc(d,!0),g.addEventListener("progress",f)),c&&g.upload&&([m,h]=Zc(c),g.upload.addEventListener("progress",m),g.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(u=j=>{g&&(n(!j||j.type?new yi(null,e,g):j),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const b=p4(s.url);if(b&&kt.protocols.indexOf(b)===-1){n(new ue("Unsupported protocol "+b+":",ue.ERR_BAD_REQUEST,e));return}g.send(i||null)})},S4=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(d){if(!s){s=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof ue?u:new yi(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new ue(`timeout ${t} of ms exceeded`,ue.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>W.asap(l),c}},C4=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},k4=async function*(e,t){for await(const r of P4(e))yield*C4(r,t)},P4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},iv=(e,t,r,n)=>{const s=k4(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){l(),c.close();return}let m=u.byteLength;if(r){let f=i+=m;r(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},ov=64*1024,{isFunction:Hl}=W,E4=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:lv,TextEncoder:cv}=W.global,uv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},A4=e=>{e=W.merge.call({skipUndefined:!0},E4,e);const{fetch:t,Request:r,Response:n}=e,s=t?Hl(t):typeof fetch=="function",i=Hl(r),o=Hl(n);if(!s)return!1;const l=s&&Hl(lv),c=s&&(typeof cv=="function"?(p=>y=>p.encode(y))(new cv):async p=>new Uint8Array(await new r(p).arrayBuffer())),d=i&&l&&uv(()=>{let p=!1;const y=new r(kt.origin,{body:new lv,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),u=o&&l&&uv(()=>W.isReadableStream(new n("").body)),m={stream:u&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!m[p]&&(m[p]=(y,g)=>{let v=y&&y[p];if(v)return v.call(y);throw new ue(`Response type '${p}' is not supported`,ue.ERR_NOT_SUPPORT,g)})});const f=async p=>{if(p==null)return 0;if(W.isBlob(p))return p.size;if(W.isSpecCompliantForm(p))return(await new r(kt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(W.isArrayBufferView(p)||W.isArrayBuffer(p))return p.byteLength;if(W.isURLSearchParams(p)&&(p=p+""),W.isString(p))return(await c(p)).byteLength},h=async(p,y)=>{const g=W.toFiniteNumber(p.getContentLength());return g??f(y)};return async p=>{let{url:y,method:g,data:v,signal:b,cancelToken:j,timeout:w,onDownloadProgress:N,onUploadProgress:C,responseType:P,headers:M,withCredentials:E="same-origin",fetchOptions:O}=i2(p),F=t||fetch;P=P?(P+"").toLowerCase():"text";let I=S4([b,j&&j.toAbortSignal()],w),T=null;const V=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let Q;try{if(C&&d&&g!=="get"&&g!=="head"&&(Q=await h(M,v))!==0){let U=new r(y,{method:"POST",body:v,duplex:"half"}),q;if(W.isFormData(v)&&(q=U.headers.get("content-type"))&&M.setContentType(q),U.body){const[D,S]=nv(Q,Zc(av(C)));v=iv(U.body,ov,D,S)}}W.isString(E)||(E=E?"include":"omit");const k=i&&"credentials"in r.prototype,$={...O,signal:I,method:g.toUpperCase(),headers:M.normalize().toJSON(),body:v,duplex:"half",credentials:k?E:void 0};T=i&&new r(y,$);let B=await(i?F(T,O):F(y,$));const K=u&&(P==="stream"||P==="response");if(u&&(N||K&&V)){const U={};["status","statusText","headers"].forEach(_=>{U[_]=B[_]});const q=W.toFiniteNumber(B.headers.get("content-length")),[D,S]=N&&nv(q,Zc(av(N),!0))||[];B=new n(iv(B.body,ov,D,()=>{S&&S(),V&&V()}),U)}P=P||"text";let R=await m[W.findKey(m,P)||"text"](B,p);return!K&&V&&V(),await new Promise((U,q)=>{a2(U,q,{data:R,headers:Xt.from(B.headers),status:B.status,statusText:B.statusText,config:p,request:T})})}catch(k){throw V&&V(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,p,T),{cause:k.cause||k}):ue.from(k,k&&k.code,p,T)}}},O4=new Map,o2=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,d,u=O4;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:A4(t)),u=d;return d};o2();const jh={http:G5,xhr:N4,fetch:{get:o2}};W.forEach(jh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dv=e=>`- ${e}`,T4=e=>W.isFunction(e)||e===null||e===!1,l2={getAdapter:(e,t)=>{e=W.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!T4(n)&&(s=jh[(l=String(n)).toLowerCase()],s===void 0))throw new ue(`Unknown adapter '${l}'`);if(s&&(W.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(dv).join(`
`):" "+dv(o[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:jh};function Gm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yi(null,e)}function mv(e){return Gm(e),e.headers=Xt.from(e.headers),e.data=Km.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),l2.getAdapter(e.adapter||tl.adapter,e)(e).then(function(n){return Gm(e),n.data=Km.call(e,e.transformResponse,n),n.headers=Xt.from(n.headers),n},function(n){return n2(n)||(Gm(e),n&&n.response&&(n.response.data=Km.call(e,e.transformResponse,n.response),n.response.headers=Xt.from(n.response.headers))),Promise.reject(n)})}const c2="1.12.2",dd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{dd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const fv={};dd.transitional=function(t,r,n){function s(i,o){return"[Axios v"+c2+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new ue(s(o," has been removed"+(r?" in "+r:"")),ue.ERR_DEPRECATED);return r&&!fv[o]&&(fv[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};dd.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function M4(e,t,r){if(typeof e!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ue("option "+i+" must be "+c,ue.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ue("Unknown option "+i,ue.ERR_BAD_OPTION)}}const Nc={assertOptions:M4,validators:dd},Qr=Nc.validators;let qa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new tv,response:new tv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ts(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Nc.assertOptions(n,{silentJSONParsing:Qr.transitional(Qr.boolean),forcedJSONParsing:Qr.transitional(Qr.boolean),clarifyTimeoutError:Qr.transitional(Qr.boolean)},!1),s!=null&&(W.isFunction(s)?r.paramsSerializer={serialize:s}:Nc.assertOptions(s,{encode:Qr.function,serialize:Qr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Nc.assertOptions(r,{baseUrl:Qr.spelling("baseURL"),withXsrfToken:Qr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&W.merge(i.common,i[r.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Xt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let u,m=0,f;if(!c){const p=[mv.bind(this),void 0];for(p.unshift(...l),p.push(...d),f=p.length,u=Promise.resolve(r);m<f;)u=u.then(p[m++],p[m++]);return u}f=l.length;let h=r;for(;m<f;){const p=l[m++],y=l[m++];try{h=p(h)}catch(g){y.call(this,g);break}}try{u=mv.call(this,h)}catch(p){return Promise.reject(p)}for(m=0,f=d.length;m<f;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=ts(this.defaults,t);const r=s2(t.baseURL,t.url,t.allowAbsoluteUrls);return e2(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){qa.prototype[t]=function(r,n){return this.request(ts(n||{},{method:t,url:r,data:(n||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(ts(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}qa.prototype[t]=r(),qa.prototype[t+"Form"]=r(!0)});let L4=class u2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new yi(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new u2(function(s){t=s}),cancel:t}}};function R4(e){return function(r){return e.apply(null,r)}}function D4(e){return W.isObject(e)&&e.isAxiosError===!0}const wh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wh).forEach(([e,t])=>{wh[t]=e});function d2(e){const t=new qa(e),r=U1(qa.prototype.request,t);return W.extend(r,qa.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return d2(ts(e,s))},r}const Ke=d2(tl);Ke.Axios=qa;Ke.CanceledError=yi;Ke.CancelToken=L4;Ke.isCancel=n2;Ke.VERSION=c2;Ke.toFormData=ud;Ke.AxiosError=ue;Ke.Cancel=Ke.CanceledError;Ke.all=function(t){return Promise.all(t)};Ke.spread=R4;Ke.isAxiosError=D4;Ke.mergeConfig=ts;Ke.AxiosHeaders=Xt;Ke.formToJSON=e=>r2(W.isHTMLForm(e)?new FormData(e):e);Ke.getAdapter=l2.getAdapter;Ke.HttpStatusCode=wh;Ke.default=Ke;const{Axios:fq,AxiosError:hq,CanceledError:pq,isCancel:xq,CancelToken:gq,VERSION:yq,all:vq,Cancel:bq,isAxiosError:jq,spread:wq,toFormData:Nq,AxiosHeaders:Sq,HttpStatusCode:Cq,formToJSON:kq,getAdapter:Pq,mergeConfig:Eq}=Ke,m2="production",_4="https://vercel-9n7wf0kfd-chuck-ferrells-projects.vercel.app",Vm="http://localhost:5001";let Zs=_4;try{typeof window<"u"&&window.location.hostname==="localhost"&&Zs!==Vm&&(console.warn("TCC_WARN: Localhost detected but API_BASE_URL is not local. For safety using",Vm),Zs=Vm)}catch{}console.log("TCC_DEBUG: API_BASE_URL is set to:",Zs,"ENV:",m2);const ee=Ke.create({baseURL:Zs,withCredentials:!0,headers:{"Content-Type":"application/json"}});ee.interceptors.request.use(e=>{var r;const t=localStorage.getItem("token");t&&(e.headers.Authorization=`Bearer ${t}`);try{const n=new URL(Zs).origin,s=typeof window<"u"?window.location.origin:n,i=n===s;!(e.url||"").toString().startsWith("/api/auth/")&&i?e.headers["X-TCC-Env"]=m2:e.headers["X-TCC-Env"]&&delete e.headers["X-TCC-Env"]}catch{}try{const n=(e.baseURL||"")+(e.url||"");(n.includes("/api/tcc/agencies")||n.includes("/api/tcc/analytics")||n.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API request →",(r=e.method)==null?void 0:r.toUpperCase(),n,"params:",e.params,"data:",e.data)}catch{}return e});ee.interceptors.response.use(e=>{var t,r;try{const n=((t=e.config)==null?void 0:t.baseURL)+(((r=e.config)==null?void 0:r.url)||"");(n!=null&&n.includes("/api/tcc/agencies")||n.includes("/api/tcc/analytics")||n.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API response ←",e.status,n,"data:",e.data)}catch{}return e},e=>{var t,r,n,s,i,o,l;try{const c=(((r=(t=e.response)==null?void 0:t.config)==null?void 0:r.baseURL)||"")+(((s=(n=e.response)==null?void 0:n.config)==null?void 0:s.url)||"");(c.includes("/api/tcc/agencies")||c.includes("/api/tcc/analytics")||c.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API error ✖",(i=e.response)==null?void 0:i.status,c,"data:",(o=e.response)==null?void 0:o.data)}catch{}return((l=e.response)==null?void 0:l.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const Lo={login:e=>(console.log("TCC_DEBUG: API login called with URL:",Zs+"/api/auth/login"),console.log("TCC_DEBUG: API login called with credentials:",e),ee.post("/api/auth/login",e)),logout:()=>ee.post("/api/auth/logout"),verify:()=>ee.get("/api/auth/verify"),register:e=>ee.post("/api/auth/register",e),healthcareRegister:e=>ee.post("/api/auth/healthcare/register",e),emsRegister:e=>ee.post("/api/auth/ems/register",e),healthcareLogin:e=>ee.post("/api/auth/healthcare/login",e),emsLogin:e=>ee.post("/api/auth/ems/login",e),getUsers:()=>ee.get("/api/auth/users")},f2={getOverview:()=>ee.get("/api/tcc/analytics/overview"),getTrips:()=>ee.get("/api/tcc/analytics/trips"),getCostAnalysis:e=>ee.get("/api/tcc/analytics/cost-analysis",{params:e}),getProfitability:e=>ee.get("/api/tcc/analytics/profitability",{params:e}),getCostBreakdowns:e=>ee.get("/api/tcc/analytics/cost-breakdowns",{params:e})},Js={getOverview:()=>ee.get("/api/tcc/analytics/overview"),getTrips:()=>ee.get("/api/tcc/analytics/trips"),getCostAnalysis:e=>ee.get("/api/tcc/analytics/cost-analysis",{params:e}),getProfitability:e=>ee.get("/api/tcc/analytics/profitability",{params:e})},_r={getAll:e=>ee.get("/api/trips",{params:e}),create:e=>ee.post("/api/trips",e),createEnhanced:e=>ee.post("/api/trips/with-responses",e),update:(e,t)=>ee.put(`/api/trips/${e}`,t),delete:e=>ee.delete(`/api/trips/${e}`),getOptions:{diagnosis:()=>ee.get("/api/trips/options/diagnosis"),mobility:()=>ee.get("/api/trips/options/mobility"),transportLevel:()=>ee.get("/api/trips/options/transport-level"),urgency:()=>ee.get("/api/trips/options/urgency"),insurance:()=>ee.get("/api/trips/options/insurance")},getAgenciesForHospital:(e,t)=>ee.get(`/api/trips/agencies/${encodeURIComponent(e)}`,{params:{radius:t}}),getPickupLocationsForHospital:e=>ee.get(`/api/tcc/pickup-locations/hospital/${encodeURIComponent(e)}`)},Sc={getAll:e=>ee.get("/api/tcc/agencies",{params:e}),create:e=>ee.post("/api/tcc/agencies",e),update:(e,t)=>ee.put(`/api/tcc/agencies/${e}`,t),delete:e=>ee.delete(`/api/tcc/agencies/${e}`)},h2={getAll:e=>ee.get("/api/tcc/facilities",{params:e}),create:e=>ee.post("/api/tcc/facilities",e),update:(e,t)=>ee.put(`/api/tcc/facilities/${e}`,t),delete:e=>ee.delete(`/api/tcc/facilities/${e}`)},Qi={getOverview:()=>ee.get("/api/ems/analytics/overview"),getTrips:()=>ee.get("/api/ems/analytics/trips"),getUnits:()=>ee.get("/api/ems/analytics/units"),getPerformance:()=>ee.get("/api/ems/analytics/performance")},bs={getCategories:()=>ee.get("/api/dropdown-options"),getByCategory:e=>ee.get(`/api/dropdown-options/${encodeURIComponent(e)}`),create:e=>ee.post("/api/dropdown-options",e),update:(e,t)=>ee.put(`/api/dropdown-options/${e}`,t),delete:e=>ee.delete(`/api/dropdown-options/${e}`)},md=Object.freeze(Object.defineProperty({__proto__:null,agenciesAPI:Sc,analyticsAPI:Js,authAPI:Lo,default:ee,dropdownOptionsAPI:bs,emsAnalyticsAPI:Qi,facilitiesAPI:h2,tccAnalyticsAPI:f2,tripsAPI:_r},Symbol.toStringTag,{value:"Module"})),I4=({onLogin:e})=>{const[t,r]=x.useState({email:"",password:""}),[n,s]=x.useState(!1),[i,o]=x.useState(""),l=async d=>{var u,m,f,h;d.preventDefault(),s(!0),o("");try{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("TCC_DEBUG: Attempting login with:",t);const p=await Lo.login(t);console.log("TCC_DEBUG: Login response:",p.data),p.data.success?(console.log("TCC_DEBUG: Login successful, calling onLogin"),e(p.data.user,p.data.token)):(console.log("TCC_DEBUG: Login failed:",p.data.error),o(p.data.error||"Login failed"))}catch(p){console.log("TCC_DEBUG: Login error:",p),console.log("TCC_DEBUG: Error response:",p.response),console.log("TCC_DEBUG: Error status:",(u=p.response)==null?void 0:u.status),console.log("TCC_DEBUG: Error data:",(m=p.response)==null?void 0:m.data),o(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||"Login failed")}finally{s(!1)}},c=d=>{r(u=>({...u,[d.target.name]:d.target.value}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100",children:a.jsx("svg",{className:"h-8 w-8 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"TCC Admin Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Transport Control Center"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t.email,onChange:c})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t.password,onChange:c})]})]}),i&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsx("div",{className:"text-sm text-red-700",children:i})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing in...":"Sign in"})})]})]})})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>x.createElement("svg",{ref:u,...$4,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${F4(e)}`,l].join(" "),...d},[...t.map(([m,f])=>x.createElement(m,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=oe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=oe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=oe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=oe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=oe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=oe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=oe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=oe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=oe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=oe("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=oe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=oe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=oe("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=oe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=oe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Y4=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!0),[s,i]=x.useState(""),[o,l]=x.useState([]),[c,d]=x.useState(!0);if(x.useEffect(()=>{(async()=>{var h,p;try{const y=await Js.getOverview();t(y.data.data)}catch(y){i(((p=(h=y.response)==null?void 0:h.data)==null?void 0:p.error)||"Failed to load overview")}finally{n(!1)}})(),(async()=>{const h=[{path:"/api/tcc/analytics/overview",label:"Analytics Overview"},{path:"/api/tcc/agencies",label:"Agencies"},{path:"/api/dropdown-options",label:"Dropdown Categories"},{path:"/api/tcc/hospitals",label:"Hospitals"}],p=[];await Promise.all(h.map(async y=>{var g,v;try{const b=await ee.get(y.path);(b.status!==200||((g=b.data)==null?void 0:g.success)===!1)&&p.push(`${y.label}: ${b.status}`)}catch(b){const j=((v=b==null?void 0:b.response)==null?void 0:v.status)||"ERR";p.push(`${y.label}: ${j}`)}})),l(p)})()},[]),r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(s)return a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"text-red-800",children:s})});const u=[{name:"Total Healthcare Facilities",value:(e==null?void 0:e.totalHospitals)||0,active:(e==null?void 0:e.activeHospitals)||0,icon:Qt,color:"bg-blue-500"},{name:"EMS Agencies",value:(e==null?void 0:e.totalAgencies)||0,active:(e==null?void 0:e.activeAgencies)||0,icon:Pe,color:"bg-green-500"},{name:"Facilities",value:(e==null?void 0:e.totalFacilities)||0,active:(e==null?void 0:e.activeFacilities)||0,icon:yt,color:"bg-purple-500"},{name:"EMS Units",value:(e==null?void 0:e.totalUnits)||0,active:(e==null?void 0:e.activeUnits)||0,icon:ar,color:"bg-orange-500"}];return a.jsxs("div",{children:[c&&o.length>0&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-800 p-4 rounded",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Feed warnings detected"}),a.jsx("ul",{className:"list-disc ml-5 mt-1 text-sm",children:o.map((m,f)=>a.jsx("li",{children:m},f))})]}),a.jsx("button",{onClick:()=>d(!1),className:"text-sm underline",children:"Dismiss"})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Overview"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor the status of hospitals, EMS agencies, and facilities in the system."})]}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:u.map(m=>a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`p-3 rounded-md ${m.color}`,children:a.jsx(m.icon,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:m.name}),a.jsxs("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:m.value}),a.jsxs("div",{className:"ml-2 text-sm text-gray-500",children:["(",m.active," active)"]})]})]})})]})})},m.name))}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("a",{href:"/dashboard/trips",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:a.jsx(Pe,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Trips"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"View, manage, and monitor all transport requests."})]})]}),a.jsxs("a",{href:"/dashboard/hospitals",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:a.jsx(Qt,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Healthcare Facilities"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Add, edit, or remove healthcare facilities from the system."})]})]}),a.jsxs("a",{href:"/dashboard/agencies",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:a.jsx(Pe,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage EMS Agencies"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Add, edit, or remove EMS agencies and their units."})]})]})]})]})]})},X4=({trip:e,user:t})=>{const[r,n]=x.useState(!1),[s,i]=x.useState([]);x.useEffect(()=>{i((()=>{const f=[];return e.createdAt&&f.push({event:"Trip Created",timestamp:e.createdAt,description:""}),e.requestTimestamp&&f.push({event:"Request Sent",timestamp:e.requestTimestamp,description:""}),e.transferRequestTime&&f.push({event:"Transfer Requested",timestamp:e.transferRequestTime,description:""}),e.acceptedTimestamp&&f.push({event:"Accepted by EMS",timestamp:e.acceptedTimestamp,description:""}),e.emsArrivalTime&&f.push({event:"EMS Arrived",timestamp:e.emsArrivalTime,description:""}),e.pickupTimestamp&&f.push({event:"Patient Picked Up",timestamp:e.pickupTimestamp,description:""}),e.actualStartTime&&f.push({event:"Trip Started",timestamp:e.actualStartTime,description:""}),e.actualEndTime&&f.push({event:"Trip Ended",timestamp:e.actualEndTime,description:""}),e.completionTimestamp&&f.push({event:"Trip Completed",timestamp:e.completionTimestamp,description:""}),f.sort((h,p)=>new Date(h.timestamp).getTime()-new Date(p.timestamp).getTime())})())},[e]);const o=m=>new Date(m).toLocaleString(),l=m=>{console.log("Edit trip:",m.id)},c=m=>{window.confirm(`Are you sure you want to delete trip ${m.tripNumber}?`)&&console.log("Delete trip:",m.id)},d=m=>{switch(m){case"EMERGENT":return"bg-red-100 text-red-800";case"URGENT":return"bg-orange-100 text-orange-800";case"ROUTINE":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},u=m=>{switch(m){case"CRITICAL":return"EMERGENT";case"HIGH":return"URGENT";case"MEDIUM":case"LOW":return"ROUTINE";default:return m}};return a.jsxs("div",{className:"bg-white shadow rounded-lg border",children:[a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[a.jsx("div",{children:"PATIENT"}),a.jsx("div",{children:"ROUTE"}),a.jsx("div",{children:"PICKUP LOCATION"}),a.jsx("div",{children:"PRIORITY"}),a.jsx("div",{children:"ACTIONS"})]})}),a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:e.patientId}),a.jsx("div",{className:"text-sm text-gray-500",children:o(e.scheduledTime)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:e.fromLocation}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(p2,{className:"w-3 h-3 mr-1"}),e.toLocation]})]}),a.jsx("div",{children:e.pickupLocation?a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:e.pickupLocation.name}),e.pickupLocation.floor&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Floor: ",e.pickupLocation.floor]}),e.pickupLocation.room&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Room: ",e.pickupLocation.room]}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Contact:"})]}),a.jsx("div",{className:"text-blue-600",children:e.pickupLocation.contactPhone}),a.jsx("div",{className:"text-blue-600",children:e.pickupLocation.contactEmail})]})]}):a.jsx("span",{className:"text-gray-400 italic",children:"No specific location"})}),a.jsx("div",{children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d(u(e.priority))}`,children:u(e.priority)})}),a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-green-700",children:"Accept"}),a.jsx("button",{className:"bg-red-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-red-700",children:"Decline"})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>l(e),className:"bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-blue-700",children:"Edit"}),a.jsx("button",{onClick:()=>c(e),className:"bg-gray-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-gray-700",children:"Delete"})]})]})]})}),a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:["Level: ",e.transportLevel]}),a.jsxs("div",{children:["Distance: ",e.distanceMiles?`${e.distanceMiles} miles`:"N/A"]}),a.jsxs("div",{children:["Time: ",e.estimatedTripTimeMinutes?`${e.estimatedTripTimeMinutes} minutes`:"N/A"]}),a.jsxs("div",{children:["Revenue: ",e.tripCost?`$${Number(e.tripCost).toFixed(2)}`:"N/A"]})]})}),s.length>0&&a.jsxs("div",{className:"border-t",children:[a.jsxs("button",{onClick:()=>n(!r),className:"w-full px-6 py-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center justify-between",children:[a.jsxs("span",{children:["Trip Timeline (",s.length," events)"]}),r?a.jsx(co,{className:"w-4 h-4"}):a.jsx(Bs,{className:"w-4 h-4"})]}),r&&a.jsx("div",{className:"px-6 pb-4 bg-gray-50",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((m,f)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mr-3"}),a.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.event}),a.jsx("p",{className:"text-xs text-gray-400",children:o(m.timestamp)})]})]},f))})})]})]})},Q4=({user:e})=>{const t=id(),[r,n]=x.useState([]),[s,i]=x.useState([]),[o,l]=x.useState(!0),[c,d]=x.useState(""),[u,m]=x.useState(new Date),[f,h]=x.useState(""),[p,y]=x.useState("ALL"),[g,v]=x.useState("ALL"),[b,j]=x.useState("ALL"),[w,N]=x.useState("ALL"),[C,P]=x.useState("ALL"),[M,E]=x.useState(!1),[O,F]=x.useState(null),[I,T]=x.useState(!1),[V,Q]=x.useState("createdAt"),[k,$]=x.useState("desc"),B=async()=>{var D,S;try{l(!0);const _=await _r.getAll();_.data.success?(n(_.data.data),i(_.data.data),m(new Date)):d(_.data.error||"Failed to fetch trips")}catch(_){d(((S=(D=_.response)==null?void 0:D.data)==null?void 0:S.error)||"Failed to fetch trips")}finally{l(!1)}};x.useEffect(()=>{B()},[]),x.useEffect(()=>{const D=setInterval(B,3e4);return()=>clearInterval(D)},[]),x.useEffect(()=>{let D=[...r];if(f){const S=f.toLowerCase();D=D.filter(_=>{var G;return _.tripNumber.toLowerCase().includes(S)||_.patientId.toLowerCase().includes(S)||_.fromLocation.toLowerCase().includes(S)||_.toLocation.toLowerCase().includes(S)||(((G=_.assignedAgency)==null?void 0:G.name)||"").toLowerCase().includes(S)})}if(p!=="ALL"&&(D=D.filter(S=>S.status===p)),g!=="ALL"&&(D=D.filter(S=>S.priority===g)),b!=="ALL"&&(D=D.filter(S=>S.transportLevel===b)),w!=="ALL"){const S=new Date,_=new Date;switch(w){case"24H":_.setHours(S.getHours()-24);break;case"7D":_.setDate(S.getDate()-7);break;case"30D":_.setDate(S.getDate()-30);break}w!=="ALL"&&(D=D.filter(G=>new Date(G.createdAt)>=_))}e.userType!=="ADMIN"&&e.facilityName&&(D=D.filter(S=>S.fromLocation.toLowerCase().includes(e.facilityName.toLowerCase()))),D.sort((S,_)=>{const G=S[V],se=_[V];return G<se?k==="asc"?-1:1:G>se?k==="asc"?1:-1:0}),i(D)},[r,f,p,g,b,w,C,V,k,e]);const K=D=>{const S={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:xt},ACCEPTED:{color:"bg-blue-100 text-blue-800",icon:qe},DECLINED:{color:"bg-orange-100 text-orange-800",icon:cr},IN_PROGRESS:{color:"bg-purple-100 text-purple-800",icon:Pe},COMPLETED:{color:"bg-green-100 text-green-800",icon:qe},CANCELLED:{color:"bg-red-100 text-red-800",icon:cr}},_=S[D]||S.PENDING,G=_.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.color}`,children:[a.jsx(G,{className:"w-3 h-3 mr-1"}),D.replace("_"," ")]})},R=D=>{const S={LOW:{color:"bg-gray-100 text-gray-800"},MEDIUM:{color:"bg-yellow-100 text-yellow-800"},HIGH:{color:"bg-orange-100 text-orange-800"},CRITICAL:{color:"bg-red-100 text-red-800"}},_=S[D]||S.LOW;return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.color}`,children:D})},U=D=>new Date(D).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),q=()=>{const D=["Trip Number","Patient ID","From Location","Pickup Location","Pickup Floor","Pickup Room","Pickup Contact","To Location","Status","Priority","Transport Level","Scheduled Time","Assigned Agency","Created At"],S=s.map(Y=>{var le,L,A,J,Z,fe;return[Y.tripNumber,Y.patientId,Y.fromLocation,((le=Y.pickupLocation)==null?void 0:le.name)||"N/A",((L=Y.pickupLocation)==null?void 0:L.floor)||"N/A",((A=Y.pickupLocation)==null?void 0:A.room)||"N/A",((J=Y.pickupLocation)==null?void 0:J.contactPhone)||((Z=Y.pickupLocation)==null?void 0:Z.contactEmail)||"N/A",Y.toLocation,Y.status,Y.priority,Y.transportLevel,U(Y.scheduledTime),((fe=Y.assignedAgency)==null?void 0:fe.name)||"Unassigned",U(Y.createdAt)]}),_=[D,...S].map(Y=>Y.map(le=>`"${le}"`).join(",")).join(`
`),G=new Blob([_],{type:"text/csv"}),se=window.URL.createObjectURL(G),ie=document.createElement("a");ie.href=se,ie.download=`trips-${new Date().toISOString().split("T")[0]}.csv`,ie.click(),window.URL.revokeObjectURL(se)};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trip Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and monitor all transport requests"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:B,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:q,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(on,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3",children:[a.jsx("button",{onClick:()=>t("/dashboard/trips/create"),className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(Pe,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Create Trip"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"New Transport Request"})]})})]})})}),a.jsx("button",{onClick:()=>window.location.href="/dashboard/units",className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx(Pe,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Units"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"Manage Units"})]})})]})})}),a.jsx("button",{onClick:()=>window.location.href="/dashboard/route-optimization",className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-purple-500",children:a.jsx(yt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Route Optimization"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"Optimize Routes"})]})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx(Pe,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(xt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(D=>D.status==="PENDING").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-purple-500",children:a.jsx(Pe,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"In Progress"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(D=>D.status==="IN_PROGRESS").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(qe,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(D=>D.status==="COMPLETED").length})]})})]})})})]}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Filters"}),a.jsxs("button",{onClick:()=>E(!M),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(fd,{className:"w-4 h-4 mr-2"}),M?"Hide Filters":"Show Filters",M?a.jsx(co,{className:"w-4 h-4 ml-2"}):a.jsx(Bs,{className:"w-4 h-4 ml-2"})]})]}),M&&a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(gd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:f,onChange:D=>h(D.target.value),className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search trips..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{value:p,onChange:D=>y(D.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Statuses"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"ACCEPTED",children:"Accepted"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),a.jsxs("select",{value:g,onChange:D=>v(D.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Priorities"}),a.jsx("option",{value:"LOW",children:"Low"}),a.jsx("option",{value:"MEDIUM",children:"Medium"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"CRITICAL",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport Level"}),a.jsxs("select",{value:b,onChange:D=>j(D.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Levels"}),a.jsx("option",{value:"BLS",children:"BLS"}),a.jsx("option",{value:"ALS",children:"ALS"}),a.jsx("option",{value:"CCT",children:"CCT"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date Range"}),a.jsxs("select",{value:w,onChange:D=>N(D.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Time"}),a.jsx("option",{value:"24H",children:"Last 24 Hours"}),a.jsx("option",{value:"7D",children:"Last 7 Days"}),a.jsx("option",{value:"30D",children:"Last 30 Days"})]})]}),e.userType==="ADMIN"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hospital"}),a.jsx("select",{value:C,onChange:D=>P(D.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:a.jsx("option",{value:"ALL",children:"All Hospitals"})})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:s.length})," of"," ",a.jsx("span",{className:"font-medium",children:r.length})," trips"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",u.toLocaleTimeString()]})]}),a.jsxs("div",{className:"space-y-4",children:[s.map(D=>a.jsx(X4,{trip:D,user:e},D.id)),s.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pe,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No trips found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:f||p!=="ALL"||g!=="ALL"||b!=="ALL"||w!=="ALL"?"Try adjusting your filters to see more results.":"No trips have been created yet."})]})]}),I&&O&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>T(!1)}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Trip Details - ",O.tripNumber]}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(cr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Patient ID"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:O.patientId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("div",{className:"mt-1",children:K(O.status)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),a.jsx("div",{className:"mt-1",children:R(O.priority)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport Level"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:O.transportLevel})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Location"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:O.fromLocation})]}),O.pickupLocation&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pickup Location"}),a.jsxs("div",{className:"mt-1 p-3 bg-blue-50 rounded-md",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.pickupLocation.name}),O.pickupLocation.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.pickupLocation.description}),a.jsxs("div",{className:"mt-2 space-y-1",children:[O.pickupLocation.floor&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Floor:"})," ",O.pickupLocation.floor]}),O.pickupLocation.room&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Room:"})," ",O.pickupLocation.room]}),O.pickupLocation.contactPhone&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",O.pickupLocation.contactPhone]}),O.pickupLocation.contactEmail&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",O.pickupLocation.contactEmail]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Location"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:O.toLocation})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scheduled Time"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:U(O.scheduledTime)})]}),O.assignedAgency&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Agency"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:O.assignedAgency.name})]}),O.diagnosis&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Diagnosis"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:O.diagnosis})]}),O.mobilityLevel&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobility Level"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:O.mobilityLevel})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Oxygen Required"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:O.oxygenRequired?"Yes":"No"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monitoring Required"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:O.monitoringRequired?"Yes":"No"})]})]})]})]}),a.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:a.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>T(!1),children:"Close"})})]})]})})]})},Z4=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null);x.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const E=await ee.get("/api/tcc/hospitals");t(E.data.data||[])}catch(E){i(E.message),console.error("Error fetching hospitals:",E)}finally{n(!1)}},l=async E=>{try{const O=await ee.put(`/api/tcc/hospitals/${E}/approve`);console.log("Hospital approved:",O.data),await o()}catch(O){console.error("Error approving hospital:",O),i("Failed to approve hospital")}},c=async E=>{try{const O=await ee.put(`/api/tcc/hospitals/${E}/reject`);console.log("Hospital rejected:",O.data),await o()}catch(O){console.error("Error rejecting hospital:",O),i("Failed to reject hospital")}},[d,u]=x.useState(null),[m,f]=x.useState({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",type:"",capabilities:[],region:"",latitude:"",longitude:""}),[h,p]=x.useState(!1),[y,g]=x.useState(null),[v,b]=x.useState(!1),j=E=>{var F,I;const O=e.find(T=>T.id===E);O&&(u(O),f({name:O.name,address:O.address,city:O.city,state:O.state,zipCode:O.zipCode,phone:O.phone||"",email:O.email||"",type:O.type,capabilities:O.capabilities,region:O.region,latitude:((F=O.latitude)==null?void 0:F.toString())||"",longitude:((I=O.longitude)==null?void 0:I.toString())||""}),g(null))},w=E=>{const{name:O,value:F}=E.target;f(I=>({...I,[O]:F}))},N=async()=>{if(!m.address||!m.city||!m.state||!m.zipCode){g("Please fill in address, city, state, and ZIP code before looking up coordinates");return}b(!0),g(null);try{const E=`${m.address}, ${m.city}, ${m.state} ${m.zipCode}`,O=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(E)}&limit=1`);if(!O.ok)throw new Error("Geocoding service unavailable");const F=await O.json();if(F&&F.length>0){const I=F[0];f(T=>({...T,latitude:I.lat,longitude:I.lon})),g(null)}else g("Address not found. Please enter coordinates manually.")}catch(E){console.error("Geocoding error:",E),g("Failed to lookup coordinates. Please enter them manually.")}finally{b(!1)}},C=async E=>{if(E.preventDefault(),!!d){p(!0),g(null);try{const O=await ee.put(`/api/tcc/hospitals/${d.id}`,m);await o(),u(null)}catch(O){console.error("Error updating hospital:",O),g(O.message||"Failed to update hospital")}finally{p(!1)}}},P=()=>{u(null),g(null)},M=async E=>{if(window.confirm("Are you sure you want to delete this hospital? This action cannot be undone."))try{const O=await ee.delete(`/api/tcc/hospitals/${E}`);console.log("Hospital deleted:",O.data),await o()}catch(O){console.error("Error deleting hospital:",O),i("Failed to delete hospital")}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading hospitals..."})]})}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(or,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading hospitals"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:s})]})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Healthcare Facilities"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Manage healthcare facilities in the system. ",e.length," facilities found."]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Healthcare Facilities List"}),a.jsxs("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/?register=healthcare"},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Add Healthcare Facility"]})]})}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Qt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hospitals found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new hospital."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facility"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),a.jsx("div",{className:"text-sm text-gray-500",children:E.email})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[E.city,", ",E.state," ",E.zipCode]}),a.jsx("div",{className:"text-sm text-gray-500",children:E.address})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:E.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[E.isActive?a.jsx(qe,{className:"h-4 w-4 text-green-500 mr-1"}):E.requiresReview?a.jsx(xt,{className:"h-4 w-4 text-yellow-500 mr-1"}):a.jsx(or,{className:"h-4 w-4 text-red-500 mr-1"}),a.jsx("span",{className:`text-sm font-medium ${E.isActive?"text-green-800":E.requiresReview?"text-yellow-800":"text-red-800"}`,children:E.isActive?"Active":E.requiresReview?"Pending Review":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[E.requiresReview&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>l(E.id),className:"text-green-600 hover:text-green-900",children:"Approve"}),a.jsx("button",{onClick:()=>c(E.id),className:"text-red-600 hover:text-red-900",children:"Reject"})]}),a.jsx("button",{onClick:()=>j(E.id),className:"text-blue-600 hover:text-blue-900",title:"Edit hospital",children:a.jsx(pd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>M(E.id),className:"text-red-600 hover:text-red-900",title:"Delete hospital",children:a.jsx(nl,{className:"h-4 w-4"})})]})})]},E.id))})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Healthcare Facility"}),a.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600",children:a.jsx(or,{className:"h-6 w-6"})})]}),y&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(or,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:y})})]})}),a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Facility Name *"}),a.jsx("input",{type:"text",name:"name",value:m.name,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address *"}),a.jsx("input",{type:"text",name:"address",value:m.address,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City *"}),a.jsx("input",{type:"text",name:"city",value:m.city,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State *"}),a.jsx("input",{type:"text",name:"state",value:m.state,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zip Code *"}),a.jsx("input",{type:"text",name:"zipCode",value:m.zipCode,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:m.email,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type *"}),a.jsxs("select",{name:"type",value:m.type,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select type"}),a.jsx("option",{value:"Hospital",children:"Hospital"}),a.jsx("option",{value:"Clinic",children:"Clinic"}),a.jsx("option",{value:"Urgent Care",children:"Urgent Care"}),a.jsx("option",{value:"Rehabilitation Facility",children:"Rehabilitation Facility"}),a.jsx("option",{value:"Doctor's Office",children:"Doctor's Office"}),a.jsx("option",{value:"Dialysis Center",children:"Dialysis Center"}),a.jsx("option",{value:"Nursing Home",children:"Nursing Home"}),a.jsx("option",{value:"Assisted Living",children:"Assisted Living"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Region *"}),a.jsx("input",{type:"text",name:"region",value:m.region,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Qt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for agency distance calculations. You can either lookup coordinates automatically or enter them manually."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:N,disabled:v||!m.address||!m.city||!m.state||!m.zipCode,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from the address"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",name:"latitude",value:m.latitude,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",name:"longitude",value:m.longitude,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., -78.5678"})]})]}),m.latitude&&m.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:["✓ Coordinates set: ",m.latitude,", ",m.longitude]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:h?"Updating...":"Update Facility"})]})]})]})})})]})},J4=()=>{console.log("TCC_DEBUG: Agencies component mounted/rendered");const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(""),[c,d]=x.useState("all"),[u,m]=x.useState(null),[f,h]=x.useState({name:"",contactName:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",serviceType:"BLS/ALS"}),[p,y]=x.useState(!1),[g,v]=x.useState(null);x.useEffect(()=>{console.log("TCC_DEBUG: Agencies.useEffect() initial load"),b()},[]);const b=async()=>{try{n(!0),console.log("TCC_DEBUG: Agencies.loadAgencies(): calling agenciesAPI.getAll");const E=await Sc.getAll();if(console.log("TCC_DEBUG: Agencies.loadAgencies(): response status",E.status),console.log("TCC_DEBUG: Agencies.loadAgencies(): response data",E.data),E.data.success){const O=E.data.data.map(F=>{var I,T,V,Q,k,$,B,K,R,U,q,D;return{...F,contactName:((I=F.contactInfo)==null?void 0:I.contactName)||"N/A",phone:((T=F.contactInfo)==null?void 0:T.phone)||"N/A",email:((V=F.contactInfo)==null?void 0:V.email)||"N/A",address:((Q=F.contactInfo)==null?void 0:Q.address)||"N/A",city:((k=F.contactInfo)==null?void 0:k.city)||"N/A",state:(($=F.contactInfo)==null?void 0:$.state)||"N/A",zipCode:((B=F.contactInfo)==null?void 0:B.zipCode)||"N/A",capabilities:((K=F.contactInfo)==null?void 0:K.capabilities)||[],serviceArea:((R=F.contactInfo)==null?void 0:R.serviceArea)||[],operatingHours:((U=F.contactInfo)==null?void 0:U.operatingHours)||null,pricingStructure:((q=F.contactInfo)==null?void 0:q.pricingStructure)||null,status:((D=F.contactInfo)==null?void 0:D.status)||"ACTIVE"}});console.log("TCC_DEBUG: Agencies.loadAgencies(): transformed count",O.length),t(O)}else i("Failed to load agencies")}catch(E){console.error("TCC_DEBUG: Agencies.loadAgencies(): error",E),i("Failed to load agencies")}finally{n(!1)}},j=E=>{m(E),h({name:E.name,contactName:E.contactName,phone:E.phone,email:E.email,address:E.address,city:E.city,state:E.state,zipCode:E.zipCode,serviceType:"BLS/ALS"}),v(null)},w=E=>{const{name:O,value:F}=E.target;h(I=>({...I,[O]:F}))},N=async E=>{var O,F;if(E.preventDefault(),!!u){y(!0),v(null);try{const I=await Sc.update(u.id,f);I.data.success?(t(e.map(T=>T.id===u.id?{...T,...f,updatedAt:new Date().toISOString()}:T)),m(null)):v(I.data.error||"Failed to update agency")}catch(I){console.error("Error updating agency:",I),v(((F=(O=I.response)==null?void 0:O.data)==null?void 0:F.error)||"Failed to update agency")}finally{y(!1)}}},C=()=>{m(null),h({name:"",contactName:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",serviceType:"BLS/ALS"}),v(null)},P=async E=>{if(window.confirm("Are you sure you want to delete this agency?"))try{await Sc.delete(E),await b()}catch(O){console.error("Error deleting agency:",O),i("Failed to delete agency")}},M=e.filter(E=>{const O=E.name.toLowerCase().includes(o.toLowerCase())||E.contactName.toLowerCase().includes(o.toLowerCase())||E.city.toLowerCase().includes(o.toLowerCase()),F=c==="all"||c==="active"&&E.isActive||c==="inactive"&&!E.isActive;return O&&F});return r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"EMS Agencies"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage EMS agencies and their capabilities."})]}),s&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(gd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search agencies...",value:o,onChange:E=>l(E.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]}),a.jsxs("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/?register=ems"},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Add Agency"]}),a.jsx("button",{onClick:b,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:a.jsx(Lt,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:M.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pe,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No agencies found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search terms.":"Get started by adding a new agency."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",E.id]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:E.contactName}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(xd,{className:"h-3 w-3 mr-1"}),E.phone]}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(hd,{className:"h-3 w-3 mr-1"}),E.email]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[E.city,", ",E.state]}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(yt,{className:"h-3 w-3 mr-1"}),E.address]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:E.capabilities&&E.capabilities.length>0?E.capabilities.map(O=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:O},O)):a.jsx("span",{className:"text-gray-500 text-sm",children:"No capabilities"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[E.isActive?a.jsx(qe,{className:"h-4 w-4 text-green-500 mr-2"}):a.jsx(or,{className:"h-4 w-4 text-red-500 mr-2"}),a.jsx("span",{className:`text-sm font-medium ${E.isActive?"text-green-600":"text-red-600"}`,children:E.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>j(E),className:"text-primary-600 hover:text-primary-900",children:a.jsx(pd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>P(E.id),className:"text-red-600 hover:text-red-900",children:a.jsx(nl,{className:"h-4 w-4"})})]})})]},E.id))})]})})}),u&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Agency"}),a.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600",children:a.jsx(or,{className:"h-6 w-6"})})]}),g&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(or,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:g})})]})}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agency Name"}),a.jsx("input",{type:"text",name:"name",value:f.name,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),a.jsx("input",{type:"text",name:"contactName",value:f.contactName,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:f.email,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("input",{type:"text",name:"address",value:f.address,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",name:"city",value:f.city,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",name:"state",value:f.state,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zipCode",value:f.zipCode,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),a.jsxs("select",{name:"serviceType",value:f.serviceType,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"BLS",children:"BLS Only"}),a.jsx("option",{value:"ALS",children:"ALS Only"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:p?"Saving...":"Save Changes"})]})]})]})})})]})},e6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,l]=x.useState(!1),[c,d]=x.useState(null),[u,m]=x.useState({patientId:"",originFacilityId:"",destinationFacilityId:"",transportLevel:"BLS",priority:"MEDIUM",specialRequirements:"",readyStart:"",readyEnd:"",isolation:!1,bariatric:!1});x.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const y=await h2.getAll();t(y.data.data||[])}catch(y){console.error("TCC_DEBUG: Error loading facilities:",y),d("Failed to load facilities")}finally{n(!1)}},h=y=>{const{name:g,value:v,type:b}=y.target;if(b==="checkbox"){const j=y.target.checked;m(w=>({...w,[g]:j}))}else m(j=>({...j,[g]:v}))},p=async y=>{var g,v;if(y.preventDefault(),!u.patientId||!u.originFacilityId||!u.destinationFacilityId){d("Please fill in all required fields");return}if(!u.readyStart||!u.readyEnd){d("Please select ready time window");return}try{i(!0),d(null);const b=await _r.create(u);b.data.success?(l(!0),m({patientId:"",originFacilityId:"",destinationFacilityId:"",transportLevel:"BLS",priority:"MEDIUM",specialRequirements:"",readyStart:"",readyEnd:"",isolation:!1,bariatric:!1}),setTimeout(()=>l(!1),5e3)):d(b.data.error||"Failed to create transport request")}catch(b){console.error("TCC_DEBUG: Error creating trip:",b),d(((v=(g=b.response)==null?void 0:g.data)==null?void 0:v.error)||"Failed to create transport request")}finally{i(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ln,{className:"h-6 w-6 text-primary-600 mr-3"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Transport Request"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Submit a new transport request for patient transfer"})]}),a.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[o&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(qe,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Transport request created successfully!"})})]})}),c&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(or,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"patientId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID *"}),a.jsx("input",{type:"text",id:"patientId",name:"patientId",value:u.patientId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter patient ID",required:!0})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"originFacilityId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Origin Facility *"}),a.jsxs("select",{id:"originFacilityId",name:"originFacilityId",value:u.originFacilityId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"",children:"Select origin facility"}),e.map(y=>a.jsxs("option",{value:y.id,children:[y.name," - ",y.city,", ",y.state]},y.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"destinationFacilityId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Facility *"}),a.jsxs("select",{id:"destinationFacilityId",name:"destinationFacilityId",value:u.destinationFacilityId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"",children:"Select destination facility"}),e.map(y=>a.jsxs("option",{value:y.id,children:[y.name," - ",y.city,", ",y.state]},y.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"transportLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Level of Service *"}),a.jsxs("select",{id:"transportLevel",name:"transportLevel",value:u.transportLevel,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"BLS",children:"BLS - Basic Life Support"}),a.jsx("option",{value:"ALS",children:"ALS - Advanced Life Support"}),a.jsx("option",{value:"CCT",children:"CCT - Critical Care Transport"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level *"}),a.jsxs("select",{id:"priority",name:"priority",value:u.priority,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"LOW",children:"LOW - Non-urgent"}),a.jsx("option",{value:"MEDIUM",children:"MEDIUM - Standard"}),a.jsx("option",{value:"HIGH",children:"HIGH - Urgent"}),a.jsx("option",{value:"CRITICAL",children:"CRITICAL - Emergency"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"readyStart",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ready Start Time *"}),a.jsx("input",{type:"datetime-local",id:"readyStart",name:"readyStart",value:u.readyStart,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"readyEnd",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ready End Time *"}),a.jsx("input",{type:"datetime-local",id:"readyEnd",name:"readyEnd",value:u.readyEnd,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"specialRequirements",className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),a.jsx("textarea",{id:"specialRequirements",name:"specialRequirements",value:u.specialRequirements,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter any special requirements or notes..."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Special Requirements"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isolation",name:"isolation",checked:u.isolation,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isolation",className:"ml-2 block text-sm text-gray-900",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yx,{className:"h-4 w-4 text-yellow-600 mr-1"}),"Isolation Required"]})})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"bariatric",name:"bariatric",checked:u.bariatric,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"bariatric",className:"ml-2 block text-sm text-gray-900",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(G4,{className:"h-4 w-4 text-blue-600 mr-1"}),"Bariatric Transport"]})})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Request..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Create Transport Request"]})})})]})]})})},t6=!1,x2=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,i]=x.useState(!1);return x.useEffect(()=>{},[]),e.filter(o=>!o.read).length,null},ql={AMBULANCE:"Ambulance",WHEELCHAIR_VAN:"Wheelchair Van",CRITICAL_CARE:"Critical Care",OTHER:"Other"},Nv={AVAILABLE:"Available",COMMITTED:"Committed",OUT_OF_SERVICE:"Out of Service",MAINTENANCE:"Maintenance",OFF_DUTY:"Off Duty"},r6={AVAILABLE:"text-green-600 bg-green-100",COMMITTED:"text-blue-600 bg-blue-100",OUT_OF_SERVICE:"text-red-600 bg-red-100",MAINTENANCE:"text-yellow-600 bg-yellow-100",OFF_DUTY:"text-gray-600 bg-gray-100"},Sv={BLS:"Basic Life Support",ALS:"Advanced Life Support",CCT:"Critical Care Transport",WHEELCHAIR:"Wheelchair Transport",STRETCHER:"Stretcher Transport",OXYGEN:"Oxygen Delivery",MONITORING:"Patient Monitoring",VENTILATOR:"Ventilator Support",CUSTOM:"Custom Capability"},n6=({user:e})=>{const[t,r]=x.useState([]),[n,s]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState(null),[d,u]=x.useState(!1),[m,f]=x.useState(!1),[h,p]=x.useState(null),[y,g]=x.useState(""),[v,b]=x.useState("ALL"),[j,w]=x.useState("ALL"),[N,C]=x.useState({unitNumber:"",type:"AMBULANCE",capabilities:["BLS"],customCapabilities:[],isActive:!0}),[P,M]=x.useState(!1),[E,O]=x.useState(null),F=async()=>{var R;try{console.log("🔍 UnitsManagement: fetchUnits called"),o(!0);const U=localStorage.getItem("token"),q="https://vercel-9n7wf0kfd-chuck-ferrells-projects.vercel.app";console.log("🔍 UnitsManagement: API_BASE_URL:",q),console.log("🔍 UnitsManagement: token present:",!!U);const D=await fetch(`${q}/api/units`,{headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"}});if(!D.ok)throw new Error("Failed to fetch units");const S=await D.json();if(console.log("🔍 UnitsManagement: API response:",S),S.success)console.log("🔍 UnitsManagement: Units count:",((R=S.data)==null?void 0:R.length)||0),r(S.data||[]);else throw new Error(S.error||"Failed to fetch units")}catch(U){console.error("Error fetching units:",U),c(U.message)}finally{o(!1)}},I=async()=>{try{const R=localStorage.getItem("token"),q=await fetch("https://vercel-9n7wf0kfd-chuck-ferrells-projects.vercel.app/api/units/analytics",{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"}});if(!q.ok)throw new Error("Failed to fetch analytics");const D=await q.json();D.success&&s(D.data)}catch(R){console.error("Error fetching analytics:",R)}};x.useEffect(()=>{console.log("🔍 UnitsManagement: useEffect called, component mounted"),F(),I()},[]);const T=async R=>{R.preventDefault(),M(!0),O(null);try{const U=localStorage.getItem("token"),q="https://vercel-9n7wf0kfd-chuck-ferrells-projects.vercel.app",D=h?`${q}/api/units/${h.id}`:`${q}/api/units`,G=await(await fetch(D,{method:h?"PUT":"POST",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(N)})).json();if(G.success)await F(),await I(),u(!1),f(!1),p(null),Q();else throw new Error(G.error||"Failed to save unit")}catch(U){console.error("Error saving unit:",U),O(U.message)}finally{M(!1)}},V=async R=>{if(confirm("Are you sure you want to delete this unit?"))try{const U=localStorage.getItem("token"),S=await(await fetch(`https://vercel-9n7wf0kfd-chuck-ferrells-projects.vercel.app/api/units/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"}})).json();if(S.success)await F(),await I();else throw new Error(S.error||"Failed to delete unit")}catch(U){console.error("Error deleting unit:",U),c(U.message)}},Q=()=>{C({unitNumber:"",type:"AMBULANCE",capabilities:["BLS"],customCapabilities:[],isActive:!0}),O(null)},k=R=>{p(R),C({unitNumber:R.unitNumber,type:R.type,capabilities:R.capabilities,customCapabilities:[],isActive:R.isActive}),f(!0)},$=t.filter(R=>{const U=R.unitNumber.toLowerCase().includes(y.toLowerCase())||ql[R.type].toLowerCase().includes(y.toLowerCase()),q=v==="ALL"||R.currentStatus===v,D=j==="ALL"||R.type===j;return U&&q&&D}),B=R=>{const U=r6[R];return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U}`,children:Nv[R]})},K=R=>R.map(U=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 mr-1 mb-1",children:Sv[U]},U));return i?a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(Lt,{className:"h-8 w-8 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading units..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Units Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage your EMS units and track their status"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:[a.jsx(ln,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Unit"})]})]}),n&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pe,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Units"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.totalUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qe,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.availableUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ar,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.committedUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Efficiency"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(n.efficiency*100),"%"]})]})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(gd,{className:"h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search units...",value:y,onChange:R=>g(R.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fd,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:v,onChange:R=>b(R.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"ALL",children:"All Statuses"}),Object.entries(Nv).map(([R,U])=>a.jsx("option",{value:R,children:U},R))]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{value:j,onChange:R=>w(R.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"ALL",children:"All Types"}),Object.entries(ql).map(([R,U])=>a.jsx("option",{value:R,children:U},R))]})}),a.jsxs("button",{onClick:()=>{F(),I()},className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[a.jsx(Lt,{className:"h-4 w-4"}),a.jsx("span",{children:"Refresh"})]})]})}),l&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(nn,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["Units (",$.length,")"]}),$.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Pe,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No units found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t.length===0?"Get started by creating your first unit.":"Try adjusting your search or filter criteria."}),t.length===0&&a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Add Unit"]})})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.unitNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:R.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:ql[R.type]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(R.currentStatus)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex flex-wrap",children:K(R.capabilities)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("div",{children:[a.jsxs("div",{children:[R.totalTripsCompleted," trips"]}),R.averageResponseTime&&a.jsxs("div",{className:"text-gray-500",children:[R.averageResponseTime.toFixed(1),"min avg"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>k(R),className:"text-orange-600 hover:text-orange-900",children:a.jsx(pd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>V(R.id),className:"text-red-600 hover:text-red-900",children:a.jsx(nl,{className:"h-4 w-4"})})]})})]},R.id))})]})})]})}),(d||m)&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:h?"Edit Unit":"Create New Unit"}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Number"}),a.jsx("input",{type:"text",required:!0,value:N.unitNumber,onChange:R=>C({...N,unitNumber:R.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., A-101"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Type"}),a.jsx("select",{value:N.type,onChange:R=>C({...N,type:R.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:Object.entries(ql).map(([R,U])=>a.jsx("option",{value:R,children:U},R))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capabilities"}),a.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(Sv).map(([R,U])=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:N.capabilities.includes(R),onChange:q=>{const D=R;q.target.checked?C({...N,capabilities:[...N.capabilities,D]}):C({...N,capabilities:N.capabilities.filter(S=>S!==D)})},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:U})]},R))})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:N.isActive,onChange:R=>C({...N,isActive:R.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"On Duty"}),a.jsx("p",{className:"ml-2 text-xs text-gray-500",children:"Check if unit is currently on duty"})]}),E&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:a.jsx("p",{className:"text-sm text-red-700",children:E})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{u(!1),f(!1),p(null),Q()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:P,className:"px-4 py-2 bg-orange-600 text-white rounded-md text-sm font-medium hover:bg-orange-700 disabled:opacity-50",children:P?"Saving...":h?"Update":"Create"})]})]})]})})})]})},g2=()=>{var ie,Y,le;const[e,t]=x.useState(()=>{const L=localStorage.getItem("revenue_settings");return L?JSON.parse(L):{baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialRequirementsSurcharge:50,insuranceRates:{medicare:.85,medicaid:.8,private:1},crewRoles:{EMT:25,Paramedic:35,RN:45,CCTSpecialist:40,CriticalCareParamedic:42},overtimeMultiplier:1.5,shiftLengthHours:12,maxOvertimeHours:4,vehicleCostPerMile:.75,fuelCostPerMile:.25,maintenanceCostPerMile:.15,crewComposition:{BLS:["EMT","EMT"],ALS:["EMT","Paramedic"],CCT:["RN","CriticalCareParamedic"]},timeBasedPricing:{peakHourMultipliers:{"6-9AM":1.3,"5-8PM":1.4,Other:1},weekendMultipliers:{Saturday:1.2,Sunday:1.3,Weekday:1},seasonalMultipliers:{Winter:1.1,Spring:1,Summer:1,Fall:1}},geographicPricing:{zoneMultipliers:{Urban:1,Suburban:1.1,Rural:1.3,Remote:1.5},distanceTiers:{"0-10mi":1,"10-25mi":.95,"25-50mi":.9,"50+mi":.85}},serviceSpecificPricing:{specialRequirements:{Oxygen:25,Monitoring:50,Isolation:75,Bariatric:100},isolationPricing:75,bariatricPricing:100,oxygenPricing:25,monitoringPricing:50},insuranceSpecificRates:{Medicare:.85,Medicaid:.8,Private:1,SelfPay:1.2},routeOptimization:{deadheadMileWeight:1,waitTimeWeight:1,backhaulBonusWeight:1,overtimeRiskWeight:1,revenueWeight:1,crewAvailabilityWeight:1,equipmentCompatibilityWeight:1,patientPriorityWeight:1,maxDeadheadMiles:50,maxWaitTimeMinutes:30,maxOvertimeHours:4,maxResponseTimeMinutes:15,maxServiceDistance:100,backhaulTimeWindow:60,backhaulDistanceLimit:25,backhaulRevenueBonus:50,enableBackhaulOptimization:!0,targetLoadedMileRatio:.75,targetRevenuePerHour:200,targetResponseTime:12,targetEfficiency:.85,optimizationAlgorithm:"HYBRID",maxOptimizationTime:30,enableRealTimeOptimization:!0}}}),[r,n]=x.useState({standardRate:0,mileageRate:0,insuranceRate:0,crewCost:0,vehicleCost:0,totalCost:0,netProfit:0,profitMargin:0}),[s,i]=x.useState({totalRevenue:0,totalDeadheadMiles:0,totalWaitTime:0,totalOvertimeRisk:0,backhaulPairs:0,loadedMileRatio:0,averageEfficiency:0,averageResponseTime:0,totalMiles:0,loadedMiles:0,optimizationResults:[],backhaulOpportunities:[]}),[o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(!1),[m,f]=x.useState(null),[h,p]=x.useState(null),[y,g]=x.useState([]),[v,b]=x.useState(!1),[j,w]=x.useState("month"),[N]=x.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[C,P]=x.useState({totalTrips:0,completedTrips:0,averageResponseTime:0,averageTripTime:0,totalRevenue:0,efficiency:0}),[M,E]=x.useState(!1),[O,F]=x.useState(!1),I=Wu.useRef(null),[T,V]=x.useState(""),[Q,k]=x.useState(""),[$,B]=x.useState(null);x.useEffect(()=>{U()},[]),x.useEffect(()=>{D(),S()},[e]),x.useEffect(()=>{G()},[j,N]);const K=async()=>{if(I.current)return;const L=localStorage.getItem("token");if(!L){console.log("No token available for SSE connection");return}const A=`https://vercel-9n7wf0kfd-chuck-ferrells-projects.vercel.app/api/optimize/stream?token=${encodeURIComponent(L)}`;console.log("Creating EventSource connection to:",A);const J=new EventSource(A);I.current=J,J.addEventListener("connected",Z=>{console.log("SSE connected event received:",Z),E(!0)}),J.addEventListener("metrics",Z=>{try{console.log("SSE metrics event received:",Z.data);const fe=JSON.parse(Z.data),H=fe.summary||fe;P({totalTrips:H.totalTrips||0,completedTrips:H.completedTrips||0,averageResponseTime:H.averageResponseTime||0,averageTripTime:H.averageTripTime||0,totalRevenue:H.totalRevenue||0,efficiency:H.efficiency||0,customerSatisfaction:H.customerSatisfaction||4.2,lastUpdated:fe.timestamp||new Date().toISOString()})}catch(fe){console.error("Error parsing SSE metrics:",fe)}}),J.addEventListener("error",Z=>{console.error("SSE error event:",Z),E(!1)}),J.onopen=()=>{console.log("SSE connection opened successfully"),E(!0)},J.onerror=Z=>{console.error("SSE connection error:",Z),console.error("EventSource readyState:",J.readyState),E(!1)}},R=()=>{I.current&&(I.current.close(),I.current=null),E(!1)};x.useEffect(()=>(localStorage.getItem("token")&&!O&&K().catch(console.error),()=>{R()}),[]),x.useEffect(()=>{O?R():K().catch(console.error)},[O]);const U=()=>{try{const L=localStorage.getItem("revenue_settings");if(L){const A=JSON.parse(L);t(J=>({...J,...A}))}}catch(L){console.error("Error loading saved settings:",L)}},q=()=>{try{localStorage.setItem("revenue_settings",JSON.stringify(e)),c(!0),setTimeout(()=>c(!1),2e3)}catch(L){console.error("Error saving settings:",L)}},D=()=>{const L="ALS",A="MEDIUM",Z="medicare",H=e.baseRates[L],ce=e.priorityMultipliers[A],De=e.perMileRates[L],dt=e.insuranceRates[Z],hn=H*ce,Cl=hn+De*15,gs=Cl*dt,xm=e.crewComposition[L];let gm=0;xm.forEach(TE=>{const ME=e.crewRoles[TE];gm+=ME*2.5});const M0=(e.vehicleCostPerMile+e.fuelCostPerMile+e.maintenanceCostPerMile)*15,L0=gm+M0,R0=gs-L0,OE=gs>0?R0/gs*100:0;n({standardRate:Math.round(hn*100)/100,mileageRate:Math.round(Cl*100)/100,insuranceRate:Math.round(gs*100)/100,crewCost:Math.round(gm*100)/100,vehicleCost:Math.round(M0*100)/100,totalCost:Math.round(L0*100)/100,netProfit:Math.round(R0*100)/100,profitMargin:Math.round(OE*100)/100})},S=async()=>{try{u(!0);const A=[{id:"req1",transportLevel:"ALS",priority:"MEDIUM",originLocation:{lat:40.75,lng:-73.98},destinationLocation:{lat:40.76,lng:-73.99},scheduledTime:new Date(Date.now()+30*60*1e3),tripCost:275},{id:"req2",transportLevel:"BLS",priority:"LOW",originLocation:{lat:40.74,lng:-73.97},destinationLocation:{lat:40.77,lng:-74},scheduledTime:new Date(Date.now()+60*60*1e3),tripCost:150}].reduce((gs,xm)=>gs+(xm.tripCost||0),0),J=25.5,Z=45,fe=.5,H=1,ce=e.routeOptimization.targetLoadedMileRatio,De=e.routeOptimization.targetEfficiency,dt=e.routeOptimization.targetResponseTime,hn=J/(1-ce),Cl=hn-J;i({totalRevenue:A,totalDeadheadMiles:J,totalWaitTime:Z,totalOvertimeRisk:fe,backhaulPairs:H,loadedMileRatio:ce,averageEfficiency:De,averageResponseTime:dt,totalMiles:hn,loadedMiles:Cl,optimizationResults:[],backhaulOpportunities:[]})}catch(L){console.error("Error calculating optimization preview:",L)}finally{u(!1)}},_=(L,A,J)=>{t(Z=>{const fe=Z[L];return{...Z,[L]:{...fe,[A]:J}}})},G=async()=>{var L,A,J;try{console.log("Loading cost analysis data..."),b(!0);const Z=localStorage.getItem("token");console.log("Token available for data loading:",!!Z);const fe={"Content-Type":"application/json"};Z&&(fe.Authorization=`Bearer ${Z}`);const H=await ee.get(`/api/tcc/analytics/cost-analysis?startDate=${N.start}&endDate=${N.end}`);console.log("Summary response status:",H.status),(L=H.data)!=null&&L.success?(console.log("Summary data received:",H.data),f(H.data.data)):console.error("Summary response error:",H.data);const ce=await ee.get(`/api/tcc/analytics/profitability?period=${j}`);(A=ce.data)!=null&&A.success&&p(ce.data.data);const De=await ee.get("/api/tcc/analytics/cost-breakdowns?limit=50");(J=De.data)!=null&&J.success&&g(De.data.data)}catch(Z){console.error("Error loading cost analysis data:",Z)}finally{b(!1)}},se=async()=>{var L,A;try{console.log("Starting sample cost breakdown creation...");const J=localStorage.getItem("token");console.log("Token available:",!!J);const Z={baseRevenue:250,mileageRevenue:56.25,priorityRevenue:27.5,specialRequirementsRevenue:0,insuranceAdjustment:-50.625,totalRevenue:283.125,crewLaborCost:87.5,vehicleCost:11.25,fuelCost:3.75,maintenanceCost:2.25,overheadCost:15,totalCost:119.75,grossProfit:163.375,profitMargin:57.7,revenuePerMile:18.88,costPerMile:7.98,loadedMileRatio:.8,deadheadMileRatio:.2,utilizationRate:.85,tripDistance:15,loadedMiles:12,deadheadMiles:3,tripDurationHours:2.5,transportLevel:"ALS",priorityLevel:"MEDIUM"};console.log("Creating sample cost breakdown...");const fe={"Content-Type":"application/json"};J&&(fe.Authorization=`Bearer ${J}`);const H=await ee.post("/api/tcc/analytics/cost-breakdown",{tripId:`sample-trip-${Date.now()}`,breakdownData:Z});(L=H.data)!=null&&L.success?(console.log("Sample cost breakdown created successfully"),await G()):(console.error("Error creating sample cost breakdown:",H.data),alert(`Error creating sample data: ${((A=H.data)==null?void 0:A.error)||"Unknown error"}`))}catch(J){console.error("Error creating sample cost breakdown:",J),alert(`Error creating sample data: ${J instanceof Error?J.message:"Unknown error"}`)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Revenue Calculation Settings"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:q,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:[a.jsx(q4,{className:"h-4 w-4 mr-2"}),l?"Saved!":"Save Settings"]})})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Configure pricing rates and see real-time revenue projections."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Base Rates by Transport Level"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.baseRates).map(([L,A])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[L," Base Rate ($):"]}),a.jsx("input",{type:"number",value:A,onChange:J=>_("baseRates",L,parseFloat(J.target.value)||0),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},L))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Per Mile Rates"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.perMileRates).map(([L,A])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[L," Per Mile ($):"]}),a.jsx("input",{type:"number",step:"0.01",value:A,onChange:J=>_("perMileRates",L,parseFloat(J.target.value)||0),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},L))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Priority Multipliers"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.priorityMultipliers).map(([L,A])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[L," Priority:"]}),a.jsx("input",{type:"number",step:"0.1",value:A,onChange:J=>_("priorityMultipliers",L,parseFloat(J.target.value)||1),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},L))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Fees"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Special Requirements Surcharge ($):"}),a.jsx("input",{type:"number",value:e.specialRequirementsSurcharge,onChange:L=>t(A=>({...A,specialRequirementsSurcharge:parseFloat(L.target.value)||0})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Insurance Rate Multipliers"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.insuranceRates).map(([L,A])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[L.charAt(0).toUpperCase()+L.slice(1),":"]}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"2",value:A,onChange:J=>_("insuranceRates",L,parseFloat(J.target.value)||1),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},L))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(K4,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Crew Cost Management"})]}),a.jsxs("div",{className:"space-y-4",children:[Object.entries(e.crewRoles).map(([L,A])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[L," Hourly Rate ($):"]}),a.jsx("input",{type:"number",step:"0.01",value:A,onChange:J=>_("crewRoles",L,parseFloat(J.target.value)||0),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},L)),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Overtime Multiplier:"}),a.jsx("input",{type:"number",step:"0.1",value:e.overtimeMultiplier,onChange:L=>t(A=>({...A,overtimeMultiplier:parseFloat(L.target.value)||1.5})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Shift Length (hours):"}),a.jsx("input",{type:"number",step:"0.5",value:e.shiftLengthHours,onChange:L=>t(A=>({...A,shiftLengthHours:parseFloat(L.target.value)||12})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Overtime (hours):"}),a.jsx("input",{type:"number",step:"0.5",value:e.maxOvertimeHours,onChange:L=>t(A=>({...A,maxOvertimeHours:parseFloat(L.target.value)||4})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Pe,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vehicle & Operational Costs"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vehicle Cost per Mile ($):"}),a.jsx("input",{type:"number",step:"0.01",value:e.vehicleCostPerMile,onChange:L=>t(A=>({...A,vehicleCostPerMile:parseFloat(L.target.value)||0})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fuel Cost per Mile ($):"}),a.jsx("input",{type:"number",step:"0.01",value:e.fuelCostPerMile,onChange:L=>t(A=>({...A,fuelCostPerMile:parseFloat(L.target.value)||0})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Maintenance Cost per Mile ($):"}),a.jsx("input",{type:"number",step:"0.01",value:e.maintenanceCostPerMile,onChange:L=>t(A=>({...A,maintenanceCostPerMile:parseFloat(L.target.value)||0})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(xt,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Crew Composition by Transport Level"})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.crewComposition).map(([L,A])=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[L," Crew:"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:A.map((J,Z)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:J},Z))}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Total crew cost: $",A.reduce((J,Z)=>J+(e.crewRoles[Z]||0),0).toFixed(2),"/hour"]})]},L))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(xt,{className:"h-5 w-5 text-orange-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Time-based Pricing"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Peak Hour Multipliers"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(e.timeBasedPricing.peakHourMultipliers).map(([L,A])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:L}),a.jsx("input",{type:"number",step:"0.1",value:A,onChange:J=>t(Z=>({...Z,timeBasedPricing:{...Z.timeBasedPricing,peakHourMultipliers:{...Z.timeBasedPricing.peakHourMultipliers,[L]:parseFloat(J.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]},L))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Weekend Multipliers"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(e.timeBasedPricing.weekendMultipliers).map(([L,A])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:L}),a.jsx("input",{type:"number",step:"0.1",value:A,onChange:J=>t(Z=>({...Z,timeBasedPricing:{...Z.timeBasedPricing,weekendMultipliers:{...Z.timeBasedPricing.weekendMultipliers,[L]:parseFloat(J.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]},L))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Seasonal Multipliers"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(e.timeBasedPricing.seasonalMultipliers).map(([L,A])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:L}),a.jsx("input",{type:"number",step:"0.1",value:A,onChange:J=>t(Z=>({...Z,timeBasedPricing:{...Z.timeBasedPricing,seasonalMultipliers:{...Z.timeBasedPricing.seasonalMultipliers,[L]:parseFloat(J.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]},L))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(yt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Geographic Pricing"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Zone Multipliers"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(e.geographicPricing.zoneMultipliers).map(([L,A])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:L}),a.jsx("input",{type:"number",step:"0.1",value:A,onChange:J=>t(Z=>({...Z,geographicPricing:{...Z.geographicPricing,zoneMultipliers:{...Z.geographicPricing.zoneMultipliers,[L]:parseFloat(J.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]},L))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Distance Tiers"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(e.geographicPricing.distanceTiers).map(([L,A])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:L}),a.jsx("input",{type:"number",step:"0.05",value:A,onChange:J=>t(Z=>({...Z,geographicPricing:{...Z.geographicPricing,distanceTiers:{...Z.geographicPricing.distanceTiers,[L]:parseFloat(J.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]},L))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(an,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Service-specific Pricing"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Special Requirements Surcharges"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(e.serviceSpecificPricing.specialRequirements).map(([L,A])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:L}),a.jsx("input",{type:"number",step:"5",value:A,onChange:J=>t(Z=>({...Z,serviceSpecificPricing:{...Z.serviceSpecificPricing,specialRequirements:{...Z.serviceSpecificPricing.specialRequirements,[L]:parseFloat(J.target.value)||0}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]},L))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Individual Service Pricing"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Isolation Protocol"}),a.jsx("input",{type:"number",step:"5",value:e.serviceSpecificPricing.isolationPricing,onChange:L=>t(A=>({...A,serviceSpecificPricing:{...A.serviceSpecificPricing,isolationPricing:parseFloat(L.target.value)||0}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Bariatric Transport"}),a.jsx("input",{type:"number",step:"5",value:e.serviceSpecificPricing.bariatricPricing,onChange:L=>t(A=>({...A,serviceSpecificPricing:{...A.serviceSpecificPricing,bariatricPricing:parseFloat(L.target.value)||0}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Oxygen Therapy"}),a.jsx("input",{type:"number",step:"5",value:e.serviceSpecificPricing.oxygenPricing,onChange:L=>t(A=>({...A,serviceSpecificPricing:{...A.serviceSpecificPricing,oxygenPricing:parseFloat(L.target.value)||0}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Continuous Monitoring"}),a.jsx("input",{type:"number",step:"5",value:e.serviceSpecificPricing.monitoringPricing,onChange:L=>t(A=>({...A,serviceSpecificPricing:{...A.serviceSpecificPricing,monitoringPricing:parseFloat(L.target.value)||0}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(W4,{className:"h-5 w-5 text-indigo-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Insurance-specific Rates"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(e.insuranceSpecificRates).map(([L,A])=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[L," Rate"]}),a.jsx("input",{type:"number",step:"0.05",value:A,onChange:J=>t(Z=>({...Z,insuranceSpecificRates:{...Z.insuranceSpecificRates,[L]:parseFloat(J.target.value)||1}})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),a.jsx("p",{className:"text-xs text-gray-500",children:A<1?`${((1-A)*100).toFixed(1)}% discount`:A>1?`${((A-1)*100).toFixed(1)}% surcharge`:"Standard rate"})]},L))})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(bv,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Route Optimization Weights"})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Primary Optimization Weights"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Deadhead Miles Weight (α): ",e.routeOptimization.deadheadMileWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.deadheadMileWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,deadheadMileWeight:parseFloat(L.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Penalty for empty return miles"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Wait Time Weight (β): ",e.routeOptimization.waitTimeWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.waitTimeWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,waitTimeWeight:parseFloat(L.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Penalty for waiting time"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Backhaul Bonus Weight (γ): ",e.routeOptimization.backhaulBonusWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.backhaulBonusWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,backhaulBonusWeight:parseFloat(L.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Bonus for backhaul pairs"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Overtime Risk Weight (δ): ",e.routeOptimization.overtimeRiskWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.overtimeRiskWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,overtimeRiskWeight:parseFloat(L.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Penalty for overtime risk"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Secondary Weights"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Revenue Weight: ",e.routeOptimization.revenueWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.revenueWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,revenueWeight:parseFloat(L.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Crew Availability Weight: ",e.routeOptimization.crewAvailabilityWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.crewAvailabilityWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,crewAvailabilityWeight:parseFloat(L.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Equipment Compatibility Weight: ",e.routeOptimization.equipmentCompatibilityWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.equipmentCompatibilityWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,equipmentCompatibilityWeight:parseFloat(L.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Patient Priority Weight: ",e.routeOptimization.patientPriorityWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.patientPriorityWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,patientPriorityWeight:parseFloat(L.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(vx,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Constraint Settings"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Deadhead Miles:"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.maxDeadheadMiles,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,maxDeadheadMiles:parseFloat(L.target.value)||50}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Wait Time (min):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.maxWaitTimeMinutes,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,maxWaitTimeMinutes:parseInt(L.target.value)||30}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Overtime (hrs):"}),a.jsx("input",{type:"number",step:"0.5",value:e.routeOptimization.maxOvertimeHours,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,maxOvertimeHours:parseFloat(L.target.value)||4}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Response Time (min):"}),a.jsx("input",{type:"number",step:"1",value:e.routeOptimization.maxResponseTimeMinutes,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,maxResponseTimeMinutes:parseInt(L.target.value)||15}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Service Distance (mi):"}),a.jsx("input",{type:"number",step:"10",value:e.routeOptimization.maxServiceDistance,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,maxServiceDistance:parseFloat(L.target.value)||100}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(V4,{className:"h-5 w-5 text-yellow-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backhaul Optimization"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enable Backhaul Optimization:"}),a.jsx("input",{type:"checkbox",checked:e.routeOptimization.enableBackhaulOptimization,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,enableBackhaulOptimization:L.target.checked}})),className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Time Window (min):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.backhaulTimeWindow,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,backhaulTimeWindow:parseInt(L.target.value)||60}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Distance Limit (mi):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.backhaulDistanceLimit,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,backhaulDistanceLimit:parseFloat(L.target.value)||25}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Revenue Bonus ($):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.backhaulRevenueBonus,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,backhaulRevenueBonus:parseFloat(L.target.value)||50}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(pt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Targets"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Target Loaded Mile Ratio:"}),a.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:e.routeOptimization.targetLoadedMileRatio,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,targetLoadedMileRatio:parseFloat(L.target.value)||.75}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Target Revenue/Hour ($):"}),a.jsx("input",{type:"number",step:"10",value:e.routeOptimization.targetRevenuePerHour,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,targetRevenuePerHour:parseFloat(L.target.value)||200}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Target Response Time (min):"}),a.jsx("input",{type:"number",step:"1",value:e.routeOptimization.targetResponseTime,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,targetResponseTime:parseInt(L.target.value)||12}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Target Efficiency:"}),a.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:e.routeOptimization.targetEfficiency,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,targetEfficiency:parseFloat(L.target.value)||.85}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(an,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Algorithm Settings"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Optimization Algorithm:"}),a.jsxs("select",{value:e.routeOptimization.optimizationAlgorithm,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,optimizationAlgorithm:L.target.value}})),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:"HYBRID",children:"Hybrid"}),a.jsx("option",{value:"GREEDY",children:"Greedy"}),a.jsx("option",{value:"GENETIC",children:"Genetic"}),a.jsx("option",{value:"SIMULATED_ANNEALING",children:"Simulated Annealing"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Optimization Time (sec):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.maxOptimizationTime,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,maxOptimizationTime:parseInt(L.target.value)||30}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enable Real-time Optimization:"}),a.jsx("input",{type:"checkbox",checked:e.routeOptimization.enableRealTimeOptimization,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,enableRealTimeOptimization:L.target.checked}})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("span",{className:"h-2 w-2 rounded-full mr-2",style:{backgroundColor:M?"#16a34a":"#9ca3af"}}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Real-time Optimization"}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:M?"Live":"Disconnected"}),a.jsx("button",{onClick:()=>F(L=>!L),className:"ml-auto px-3 py-1 text-xs rounded border border-gray-300 hover:bg-gray-50",children:O?"Resume":"Pause"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Total Trips (5m)"}),a.jsx("div",{className:"text-lg font-semibold",children:C.totalTrips})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Completed Trips"}),a.jsx("div",{className:"text-lg font-semibold",children:C.completedTrips})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Avg Response (min)"}),a.jsx("div",{className:"text-lg font-semibold",children:C.averageResponseTime.toFixed(1)})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Avg Trip Time (min)"}),a.jsx("div",{className:"text-lg font-semibold",children:C.averageTripTime.toFixed(1)})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Revenue (est)"}),a.jsxs("div",{className:"text-lg font-semibold",children:["$",C.totalRevenue.toFixed(2)]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Efficiency"}),a.jsxs("div",{className:"text-lg font-semibold",children:[(C.efficiency*100).toFixed(0),"%"]})]})]}),C.lastUpdated&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Updated ",new Date(C.lastUpdated).toLocaleTimeString()]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(z4,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Preview"})]}),a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Sample trip:"})," ALS transport, MEDIUM priority, 15 miles, medicare insurance"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Revenue Breakdown"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Standard Rate:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",r.standardRate]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mileage Rate:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",r.mileageRate]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Insurance Rate:"}),a.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:["$",r.insuranceRate]})]})]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-3",children:"Cost Breakdown"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Crew Cost:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",r.crewCost]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Vehicle Cost:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",r.vehicleCost]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost:"}),a.jsxs("span",{className:"text-lg font-semibold text-red-600",children:["$",r.totalCost]})]})]})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-3",children:"Profitability Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Net Profit:"}),a.jsxs("span",{className:`text-lg font-semibold ${r.netProfit>=0?"text-green-600":"text-red-600"}`,children:["$",r.netProfit]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Profit Margin:"}),a.jsxs("span",{className:`text-lg font-semibold ${r.profitMargin>=0?"text-green-600":"text-red-600"}`,children:[r.profitMargin,"%"]})]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"What-if Scenario"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Deadhead Mile Weight"}),a.jsx("input",{type:"number",step:"0.1",value:e.routeOptimization.deadheadMileWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,deadheadMileWeight:parseFloat(L.target.value)||0}})),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Wait Time Weight"}),a.jsx("input",{type:"number",step:"0.1",value:e.routeOptimization.waitTimeWeight,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,waitTimeWeight:parseFloat(L.target.value)||0}})),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Backhaul Bonus"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.backhaulRevenueBonus,onChange:L=>t(A=>({...A,routeOptimization:{...A.routeOptimization,backhaulRevenueBonus:parseFloat(L.target.value)||0}})),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Unit IDs (comma-separated, optional)"}),a.jsx("input",{type:"text",value:T,onChange:L=>V(L.target.value),className:"w-full px-3 py-2 border rounded",placeholder:"leave blank to auto-select"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Request IDs (comma-separated, optional)"}),a.jsx("input",{type:"text",value:Q,onChange:L=>k(L.target.value),className:"w-full px-3 py-2 border rounded",placeholder:"leave blank to auto-select"})]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[a.jsx("button",{onClick:async()=>{try{u(!0);let L=T.split(",").map(ce=>ce.trim()).filter(Boolean);if(L.length===0)try{const De=(await ee.get("/api/units")).data;L=((De==null?void 0:De.data)||[]).slice(0,3).map(dt=>dt.id)}catch{}let A=Q.split(",").map(ce=>ce.trim()).filter(Boolean);if(A.length===0)try{const De=(await ee.get("/api/trips?status=PENDING")).data;A=((De==null?void 0:De.data)||[]).slice(0,5).map(dt=>dt.id)}catch{}const J={...e.routeOptimization},Z={...e.routeOptimization},H=(await ee.post("/api/optimize/what-if",{unitIds:L,requestIds:A,scenarioSettings:J,baseSettings:Z})).data;B((H==null?void 0:H.data)||null)}finally{u(!1)}},className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",disabled:d,children:d?"Running...":"Run What-if"}),$?a.jsxs("div",{className:"text-sm text-gray-600",children:["Δ Revenue: $",(((ie=$==null?void 0:$.differences)==null?void 0:ie.revenueDifference)||0).toFixed(2)," · Δ Deadhead: ",(((Y=$==null?void 0:$.differences)==null?void 0:Y.deadheadMilesDifference)||0).toFixed(1)," mi · Δ Efficiency: ",((((le=$==null?void 0:$.differences)==null?void 0:le.efficiencyDifference)||0)*100).toFixed(0),"%"]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Ready to simulate changes using current weights and constraints."})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(bv,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Optimization Preview"})]}),a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Sample scenario:"})," 2 units, 2 requests with current optimization settings"]})}),d?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Lt,{className:"h-6 w-6 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Calculating optimization..."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Optimization Metrics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Revenue:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",s.totalRevenue.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loaded Mile Ratio:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[(s.loadedMileRatio*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Backhaul Pairs:"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:s.backhaulPairs})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Miles:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.totalMiles.toFixed(1)," mi"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Deadhead Miles:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.totalDeadheadMiles.toFixed(1)," mi"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Avg Response Time:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.averageResponseTime.toFixed(1)," min"]})]})]})]})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-3",children:"Performance vs Targets"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loaded Mile Ratio:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[(s.loadedMileRatio*100).toFixed(1),"%"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["/ ",(e.routeOptimization.targetLoadedMileRatio*100).toFixed(1),"%"]}),a.jsx("span",{className:`text-xs ${s.loadedMileRatio>=e.routeOptimization.targetLoadedMileRatio?"text-green-600":"text-red-600"}`,children:s.loadedMileRatio>=e.routeOptimization.targetLoadedMileRatio?"✓":"✗"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Revenue/Hour:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",(s.totalRevenue/2).toFixed(2)]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["/ $",e.routeOptimization.targetRevenuePerHour]}),a.jsx("span",{className:`text-xs ${s.totalRevenue/2>=e.routeOptimization.targetRevenuePerHour?"text-green-600":"text-red-600"}`,children:s.totalRevenue/2>=e.routeOptimization.targetRevenuePerHour?"✓":"✗"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Response Time:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.averageResponseTime.toFixed(1)," min"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["/ ",e.routeOptimization.targetResponseTime," min"]}),a.jsx("span",{className:`text-xs ${s.averageResponseTime<=e.routeOptimization.targetResponseTime?"text-green-600":"text-red-600"}`,children:s.averageResponseTime<=e.routeOptimization.targetResponseTime?"✓":"✗"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Efficiency:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[(s.averageEfficiency*100).toFixed(1),"%"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["/ ",(e.routeOptimization.targetEfficiency*100).toFixed(1),"%"]}),a.jsx("span",{className:`text-xs ${s.averageEfficiency>=e.routeOptimization.targetEfficiency?"text-green-600":"text-red-600"}`,children:s.averageEfficiency>=e.routeOptimization.targetEfficiency?"✓":"✗"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Current Optimization Weights"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Deadhead (α):"}),a.jsx("span",{className:"font-medium",children:e.routeOptimization.deadheadMileWeight})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Wait Time (β):"}),a.jsx("span",{className:"font-medium",children:e.routeOptimization.waitTimeWeight})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Backhaul (γ):"}),a.jsx("span",{className:"font-medium",children:e.routeOptimization.backhaulBonusWeight})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Overtime (δ):"}),a.jsx("span",{className:"font-medium",children:e.routeOptimization.overtimeRiskWeight})]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>{t({baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialRequirementsSurcharge:50,insuranceRates:{medicare:.85,medicaid:.8,private:1},crewRoles:{EMT:25,Paramedic:35,RN:45,CCTSpecialist:40,CriticalCareParamedic:42},overtimeMultiplier:1.5,shiftLengthHours:12,maxOvertimeHours:4,vehicleCostPerMile:.75,fuelCostPerMile:.25,maintenanceCostPerMile:.15,crewComposition:{BLS:["EMT","EMT"],ALS:["EMT","Paramedic"],CCT:["RN","CriticalCareParamedic"]},timeBasedPricing:{peakHourMultipliers:{"6-9AM":1.3,"5-8PM":1.4,Other:1},weekendMultipliers:{Saturday:1.2,Sunday:1.3,Weekday:1},seasonalMultipliers:{Winter:1.1,Spring:1,Summer:1,Fall:1}},geographicPricing:{zoneMultipliers:{Urban:1,Suburban:1.1,Rural:1.3,Remote:1.5},distanceTiers:{"0-10mi":1,"10-25mi":.95,"25-50mi":.9,"50+mi":.85}},serviceSpecificPricing:{specialRequirements:{Oxygen:25,Monitoring:50,Isolation:75,Bariatric:100},isolationPricing:75,bariatricPricing:100,oxygenPricing:25,monitoringPricing:50},insuranceSpecificRates:{Medicare:.85,Medicaid:.8,Private:1,SelfPay:1.2},routeOptimization:{deadheadMileWeight:1,waitTimeWeight:1,backhaulBonusWeight:1,overtimeRiskWeight:1,revenueWeight:1,crewAvailabilityWeight:1,equipmentCompatibilityWeight:1,patientPriorityWeight:1,maxDeadheadMiles:50,maxWaitTimeMinutes:30,maxOvertimeHours:4,maxResponseTimeMinutes:15,maxServiceDistance:100,backhaulTimeWindow:60,backhaulDistanceLimit:25,backhaulRevenueBonus:50,enableBackhaulOptimization:!0,targetLoadedMileRatio:.75,targetRevenuePerHour:200,targetResponseTime:12,targetEfficiency:.85,optimizationAlgorithm:"HYBRID",maxOptimizationTime:30,enableRealTimeOptimization:!0}})},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Reset to Defaults"}),a.jsxs("button",{onClick:U,className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:[a.jsx(Lt,{className:"h-4 w-4 inline mr-2"}),"Reload Saved Settings"]})]})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cost Analysis & Profitability Dashboard"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period:"}),a.jsxs("select",{value:j,onChange:L=>w(L.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"week",children:"Week"}),a.jsx("option",{value:"month",children:"Month"}),a.jsx("option",{value:"quarter",children:"Quarter"}),a.jsx("option",{value:"year",children:"Year"})]})]}),a.jsxs("button",{onClick:se,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Add Sample Data"]}),a.jsxs("button",{onClick:G,disabled:v,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx(Lt,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),"Refresh"]})]})]}),v?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(Lt,{className:"h-8 w-8 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-3 text-lg text-gray-600",children:"Loading cost analysis data..."})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Pt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Key Financial Metrics"})]}),m?a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-green-800",children:"Total Revenue"}),a.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["$",m.totalRevenue.toFixed(2)]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-red-800",children:"Total Cost"}),a.jsxs("div",{className:"text-2xl font-bold text-red-900",children:["$",m.totalCost.toFixed(2)]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Gross Profit"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",m.grossProfit.toFixed(2)]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-purple-800",children:"Profit Margin"}),a.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[m.averageProfitMargin.toFixed(1),"%"]})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No cost analysis data available. Click "Add Sample Data" to get started.'})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(ar,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Efficiency Metrics"})]}),m?a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Loaded Mile Ratio"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[(m.averageLoadedMileRatio*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Revenue per Mile"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",m.averageRevenuePerMile.toFixed(2)]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Cost per Mile"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",m.averageCostPerMile.toFixed(2)]})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No efficiency data available."})]}),h&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Ut,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Profitability Trends (",h.period,")"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Revenue Growth"}),a.jsxs("div",{className:`text-xl font-bold ${h.revenueGrowth>=0?"text-green-600":"text-red-600"}`,children:[h.revenueGrowth>=0?"+":"",h.revenueGrowth.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Cost Growth"}),a.jsxs("div",{className:`text-xl font-bold ${h.costGrowth>=0?"text-red-600":"text-green-600"}`,children:[h.costGrowth>=0?"+":"",h.costGrowth.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Profit Growth"}),a.jsxs("div",{className:`text-xl font-bold ${h.profitGrowth>=0?"text-green-600":"text-red-600"}`,children:[h.profitGrowth>=0?"+":"",h.profitGrowth.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Revenue/Hour"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",h.efficiencyMetrics.revenuePerHour.toFixed(2)]})]})]})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(eu,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Trip Breakdowns"})]}),y.length>0?a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:y.slice(0,10).map(L=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium text-sm text-gray-900",children:[L.transportLevel," - ",L.priorityLevel]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[L.tripDistance," miles"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-semibold ${L.grossProfit>=0?"text-green-600":"text-red-600"}`,children:["$",L.grossProfit.toFixed(2)]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[L.profitMargin.toFixed(1),"% margin"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Revenue:"}),a.jsxs("span",{className:"font-medium",children:["$",L.totalRevenue.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Cost:"}),a.jsxs("span",{className:"font-medium",children:["$",L.totalCost.toFixed(2)]})]})]})]},L.id))}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No trip breakdowns available."})]})})]})]})]})},a6=({user:e})=>{var v,b,j;const[t,r]=x.useState("overview"),[n,s]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState(null),[d,u]=x.useState(null),[m,f]=x.useState(null),[h,p]=x.useState(null),y=[{id:"overview",name:"Overview",icon:pt},{id:"performance",name:"Performance",icon:Ut},{id:"units",name:"Unit Management",icon:ar},{id:"revenue-settings",name:"Revenue Settings",icon:an}],g=async()=>{var w,N,C,P;s(!0),o(null);try{const[M,E,O,F]=await Promise.all([Qi.getOverview(),Qi.getTrips(),Qi.getUnits(),Qi.getPerformance()]);c(((w=M.data)==null?void 0:w.data)||null),u(((N=E.data)==null?void 0:N.data)||null),f(((C=O.data)==null?void 0:C.data)||null),p(((P=F.data)==null?void 0:P.data)||null)}catch(M){o("Failed to load analytics data"),console.error("Analytics loading error:",M)}finally{s(!1)}};return x.useEffect(()=>{g()},[]),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["View performance metrics and analytics for ",e.agencyName||"your agency","."]})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:y.map(w=>{const N=w.icon;return a.jsxs("button",{onClick:()=>r(w.id),className:`${t===w.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[a.jsx(N,{className:"h-4 w-4"}),a.jsx("span",{children:w.name})]},w.id)})})}),t==="overview"&&a.jsxs("div",{className:"space-y-6",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading analytics data..."})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),!n&&!i&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:(l==null?void 0:l.agencyName)||e.agencyName||"Your Agency"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Agency Performance Dashboard"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Last Updated"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pt,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(l==null?void 0:l.totalTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ar,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(l==null?void 0:l.completedTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ut,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Efficiency"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l!=null&&l.efficiency?`${(l.efficiency*100).toFixed(1)}%`:"0%"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Pt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Response"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l!=null&&l.averageResponseTime?`${l.averageResponseTime.toFixed(1)} min`:"0 min"})]})})]})})})]}),d&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trip Status Breakdown"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.completedTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Pending"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.pendingTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Cancelled"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.cancelledTrips||0})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transport Level Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"BLS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((v=d.tripsByLevel)==null?void 0:v.BLS)||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"ALS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((b=d.tripsByLevel)==null?void 0:b.ALS)||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"CCT"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((j=d.tripsByLevel)==null?void 0:j.CCT)||0})]})]})]})]}),l&&l.totalTrips===0&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(pt,{className:"mx-auto h-12 w-12 text-blue-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-blue-900",children:"No Trips Yet"}),a.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Your agency hasn't been assigned any trips yet. Once trips are assigned, you'll see detailed analytics and performance metrics here."})]})})]})]}),t==="performance"&&a.jsxs("div",{className:"space-y-6",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading performance data..."})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),!n&&!i&&h&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ut,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Response Time"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:h.averageResponseTime?`${h.averageResponseTime.toFixed(1)} min`:"0 min"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ar,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Trip Time"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:h.averageTripTime?`${h.averageTripTime.toFixed(1)} min`:"0 min"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pt,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completion Rate"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:`${(h.completionRate*100).toFixed(1)}%`})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Pt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["$",h.totalRevenue?h.totalRevenue.toFixed(2):"0.00"]})]})})]})})})]})]}),!n&&!i&&!h&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ut,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Performance Data"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Performance metrics will be displayed here when data is available."})]})]})]}),t==="units"&&a.jsxs("div",{className:"space-y-6",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading unit data..."})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),!n&&!i&&m&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Unit Management Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ar,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:m.totalUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ut,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:m.activeUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pt,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Available Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:m.availableUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Pt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Utilization"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:`${(m.averageUtilization*100).toFixed(1)}%`})]})})]})})})]}),m.topPerformingUnits&&m.topPerformingUnits.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Units"}),a.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Response Time"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.topPerformingUnits.map(w=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.unitNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.totalTripsCompleted}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.averageResponseTime?`${w.averageResponseTime.toFixed(1)} min`:"N/A"})]},w.id))})]})})]})]}),!n&&!i&&!m&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Unit Management Analytics"}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ar,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Unit Data"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unit management data will be displayed here when available."})]})]})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),t==="revenue-settings"&&a.jsx(g2,{})]})},y2=({user:e,onLogout:t})=>{const[r,n]=x.useState("available"),[s,i]=x.useState({agencyName:e.agencyName||"",email:e.email||"",serviceType:"BLS/ALS",contactName:e.name||"",phone:"",address:"",city:"",state:"",zipCode:""}),[o,l]=x.useState(!1),[c,d]=x.useState(null),[u,m]=x.useState(!1),[f,h]=x.useState([]),[p,y]=x.useState([]),[g,v]=x.useState(!1),[b,j]=x.useState(null),[w,N]=x.useState(null),[C,P]=x.useState({status:"",pickupTime:""}),[M,E]=x.useState(!1);x.useEffect(()=>{O()},[]);const O=async()=>{v(!0);try{const S=await fetch("/api/trips?status=PENDING",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok){const G=await S.json();if(G.success&&G.data){const se=G.data.map(ie=>({id:ie.id,patientId:ie.patientId,origin:ie.fromLocation,destination:ie.toLocation,pickupLocation:ie.pickupLocation,transportLevel:ie.transportLevel||"BLS",priority:ie.urgencyLevel||ie.priority,distance:"12.5 miles",estimatedTime:"25 minutes",revenue:"$150",requestTime:new Date(ie.createdAt).toLocaleString(),scheduledTime:ie.scheduledTime}));h(se)}}const _=await fetch("/api/trips?status=ACCEPTED,IN_PROGRESS,COMPLETED",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(_.ok){const G=await _.json();if(G.success&&G.data){const se=G.data.map(ie=>({id:ie.id,patientId:ie.patientId,origin:ie.fromLocation,destination:ie.toLocation,pickupLocation:ie.pickupLocation,transportLevel:ie.transportLevel||"BLS",priority:ie.urgencyLevel||ie.priority,status:ie.status,pickupTime:ie.actualStartTime?new Date(ie.actualStartTime).toLocaleString():"Not started",scheduledTime:ie.scheduledTime}));y(se)}}}catch(S){console.error("Error loading trips:",S),j("Failed to load trips")}finally{v(!1)}},F=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t()},I=S=>{const{name:_,value:G}=S.target;i(se=>({...se,[_]:G}))},T=async S=>{S.preventDefault(),l(!0),d(null);try{console.log("TCC_DEBUG: Frontend sending EMS agency update:",s),console.log("TCC_DEBUG: Frontend token:",localStorage.getItem("token"));const _=await fetch("/api/auth/ems/agency/update",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(console.log("TCC_DEBUG: Frontend response status:",_.status),console.log("TCC_DEBUG: Frontend response ok:",_.ok),!_.ok){const se=await _.json();throw console.log("TCC_DEBUG: Frontend error response:",se),new Error(se.error||"Failed to update agency information")}const G=await _.json();console.log("TCC_DEBUG: Frontend success response:",G),m(!0),n("available"),setTimeout(()=>m(!1),3e3)}catch(_){console.error("TCC_DEBUG: Frontend error updating agency:",_),d(_.message||"Failed to update agency information")}finally{l(!1)}},V=()=>{i({agencyName:e.agencyName||"",email:e.email||"",serviceType:"BLS/ALS",contactName:e.name||"",phone:"",address:"",city:"",state:"",zipCode:""}),d(null),m(!1),n("available")},Q=async S=>{try{const _=await fetch("/api/agency-responses",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({tripId:S,agencyId:e.id,response:"ACCEPTED",responseNotes:"Agency accepted this transport request",estimatedArrival:new Date(Date.now()+9e5).toISOString()})});if(!_.ok){const G=await _.json();throw new Error(G.error||"Failed to accept trip")}await O()}catch(_){console.error("Error accepting trip:",_),j(_.message||"Failed to accept trip")}},k=async S=>{try{const _=await fetch("/api/agency-responses",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({tripId:S,agencyId:e.id,response:"DECLINED",responseNotes:"Agency declined this transport request"})});if(!_.ok){const G=await _.json();throw new Error(G.error||"Failed to decline trip")}await O()}catch(_){console.error("Error declining trip:",_),j(_.message||"Failed to decline trip")}},$=async(S,_)=>{try{const G=await fetch(`/api/trips/${S}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:_,..._==="IN_PROGRESS"&&{pickupTimestamp:new Date().toISOString()},..._==="COMPLETED"&&{completionTimestamp:new Date().toISOString()}})});if(!G.ok){const se=await G.json();throw new Error(se.error||"Failed to update trip status")}await O()}catch(G){console.error("Error updating trip status:",G),j(G.message||"Failed to update trip status")}},B=S=>{N(S.id),P({status:S.status,pickupTime:S.pickupTime==="Not started"?"":S.pickupTime})},K=S=>{const{name:_,value:G}=S.target;P(se=>({...se,[_]:G}))},R=async S=>{E(!0);try{const _={status:C.status};C.pickupTime&&(C.status==="IN_PROGRESS"||C.status==="COMPLETED")&&(_.pickupTimestamp=new Date(C.pickupTime).toISOString()),C.status==="COMPLETED"&&(_.completionTimestamp=new Date().toISOString());const G=await fetch(`/api/trips/${S}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(_)});if(!G.ok){const se=await G.json();throw new Error(se.error||"Failed to update trip")}await O(),N(null),P({status:"",pickupTime:""})}catch(_){console.error("Error updating trip:",_),j(_.message||"Failed to update trip")}finally{E(!1)}},U=()=>{N(null),P({status:"",pickupTime:""})},q=S=>{switch(S){case"Emergent":return"text-black bg-red-200";case"Urgent":return"text-black bg-orange-200";case"Routine":return"text-black bg-transparent";default:return"text-gray-600 bg-gray-100"}},D=S=>{switch(S){case"ACCEPTED":return"text-green-600 bg-green-100";case"EN_ROUTE":return"text-blue-600 bg-blue-100";case"PICKUP":return"text-purple-600 bg-purple-100";case"COMPLETED":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-orange-100 p-2 rounded-lg mr-3",children:a.jsx(Pe,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e.agencyName||"EMS Agency"}),a.jsx("p",{className:"text-sm text-gray-500",children:"EMS Agency Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(x2,{user:e}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ns,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:e.name})]}),a.jsxs("button",{onClick:F,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[a.jsx(Jc,{className:"h-4 w-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"available",name:"Available Trips",icon:yt},{id:"accepted",name:"My Trips",icon:qe},{id:"units",name:"Units",icon:an},{id:"analytics",name:"Analytics",icon:pt},{id:"settings",name:"Settings",icon:ns}].map(S=>{const _=S.icon;return a.jsxs("button",{onClick:()=>{console.log("🔍 EMSDashboard: Tab clicked:",S.id),n(S.id)},className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${r===S.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(_,{className:"h-4 w-4"}),a.jsx("span",{children:S.name})]},S.id)})})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="available"&&a.jsxs("div",{className:"space-y-6",children:[b&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(nn,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:b})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:f.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qe,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xt,{className:"h-8 w-8 text-yellow-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed Today"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"8"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(nn,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Today's Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"$1,250"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Available Transport Requests"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Accept or decline available transport requests"})]}),a.jsx("button",{onClick:O,disabled:g,className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 disabled:opacity-50",children:g?"Loading...":"Refresh"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(S=>a.jsxs(Wu.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Patient ",S.patientId]}),a.jsx("div",{className:"text-sm text-gray-500",children:S.requestTime})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:S.origin}),a.jsxs("div",{className:"text-sm text-gray-500",children:["→ ",S.destination]})]}),a.jsx("td",{className:"px-6 py-4",children:S.pickupLocation?a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-900",children:S.pickupLocation.name}),S.pickupLocation.floor&&a.jsxs("div",{className:"text-gray-500",children:["Floor: ",S.pickupLocation.floor]}),S.pickupLocation.room&&a.jsxs("div",{className:"text-gray-500",children:["Room: ",S.pickupLocation.room]}),(S.pickupLocation.contactPhone||S.pickupLocation.contactEmail)&&a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[a.jsx("div",{className:"font-medium",children:"Contact:"}),S.pickupLocation.contactPhone&&a.jsx("div",{children:S.pickupLocation.contactPhone}),S.pickupLocation.contactEmail&&a.jsx("div",{children:S.pickupLocation.contactEmail})]})]}):a.jsx("span",{className:"text-sm text-gray-400 italic",children:"No specific location"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${q(S.priority)}`,children:S.priority})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>Q(S.id),className:"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 text-xs font-medium",children:"Accept"}),a.jsx("button",{onClick:()=>k(S.id),className:"bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700 text-xs font-medium",children:"Decline"})]})})]}),a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-2 bg-gray-50",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Level:"})," ",S.transportLevel]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Distance:"})," ",S.distance]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Time:"})," ",S.estimatedTime]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Revenue:"})," ",S.revenue]})]})})})]},S.id))})]}),f.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No available transport requests at this time."})]})]})]}),r==="accepted"&&a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Accepted Trips"}),a.jsx("button",{onClick:O,disabled:g,className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 disabled:opacity-50",children:g?"Loading...":"Refresh"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(S=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Patient ",S.patientId]}),a.jsx("div",{className:"text-sm text-gray-500",children:S.requestTime})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:S.origin}),a.jsxs("div",{className:"text-sm text-gray-500",children:["→ ",S.destination]})]}),a.jsx("td",{className:"px-6 py-4",children:S.pickupLocation?a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-900",children:S.pickupLocation.name}),S.pickupLocation.floor&&a.jsxs("div",{className:"text-gray-500",children:["Floor: ",S.pickupLocation.floor]}),S.pickupLocation.room&&a.jsxs("div",{className:"text-gray-500",children:["Room: ",S.pickupLocation.room]}),(S.pickupLocation.contactPhone||S.pickupLocation.contactEmail)&&a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[a.jsx("div",{className:"font-medium",children:"Contact:"}),S.pickupLocation.contactPhone&&a.jsx("div",{children:S.pickupLocation.contactPhone}),S.pickupLocation.contactEmail&&a.jsx("div",{children:S.pickupLocation.contactEmail})]})]}):a.jsx("span",{className:"text-sm text-gray-400 italic",children:"No specific location"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w===S.id?a.jsxs("select",{name:"status",value:C.status,onChange:K,className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:M,children:[a.jsx("option",{value:"ACCEPTED",children:"ACCEPTED"}),a.jsx("option",{value:"IN_PROGRESS",children:"IN_PROGRESS"}),a.jsx("option",{value:"COMPLETED",children:"COMPLETED"}),a.jsx("option",{value:"CANCELLED",children:"CANCELLED"})]}):a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D(S.status)}`,children:S.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w===S.id?a.jsx("input",{type:"datetime-local",name:"pickupTime",value:C.pickupTime,onChange:K,className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:M}):a.jsx("div",{className:"text-sm text-gray-900",children:S.pickupTime})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:w===S.id?a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>R(S.id),disabled:M,className:"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 text-xs font-medium disabled:opacity-50",children:M?"Saving...":"Save"}),a.jsx("button",{onClick:U,disabled:M,className:"bg-gray-600 text-white px-3 py-1 rounded-md hover:bg-gray-700 text-xs font-medium disabled:opacity-50",children:"Cancel"})]}):a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>B(S),className:"bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 text-xs font-medium",children:"Edit"}),S.status==="ACCEPTED"&&a.jsx("button",{onClick:()=>$(S.id,"IN_PROGRESS"),className:"bg-orange-600 text-white px-3 py-1 rounded-md hover:bg-orange-700 text-xs font-medium",children:"Start Trip"}),S.status==="IN_PROGRESS"&&a.jsx("button",{onClick:()=>$(S.id,"COMPLETED"),className:"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 text-xs font-medium",children:"Complete Trip"})]})})]},S.id))})]}),p.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No accepted trips at this time."})]})]}),r==="analytics"&&a.jsx(a6,{user:e}),r==="units"&&a.jsxs(a.Fragment,{children:[console.log("🔍 EMSDashboard: Rendering UnitsManagement component, activeTab:",r),a.jsx(n6,{user:e})]}),r==="settings"&&a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agency Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your agency information"})]}),a.jsxs("div",{className:"p-6",children:[u&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(qe,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Agency information updated successfully!"})})]})}),c&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(nn,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agency Name"}),a.jsx("input",{type:"text",value:s.agencyName,onChange:I,name:"agencyName",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),a.jsx("input",{type:"text",value:s.contactName,onChange:I,name:"contactName",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",value:s.email,onChange:I,name:"email",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",value:s.phone,onChange:I,name:"phone",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),a.jsxs("select",{value:s.serviceType,onChange:I,name:"serviceType",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",children:[a.jsx("option",{value:"BLS",children:"BLS Only"}),a.jsx("option",{value:"ALS",children:"ALS Only"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("input",{type:"text",value:s.address,onChange:I,name:"address",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",value:s.city,onChange:I,name:"city",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",value:s.state,onChange:I,name:"state",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",value:s.zipCode,onChange:I,name:"zipCode",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50",children:o?"Saving...":"Save Changes"})]})]})]})]})]})]})},Cv=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,d]=x.useState(null),[u,m]=x.useState({name:"",email:"",password:"",userType:"USER"});x.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const b=await Lo.getUsers();b.data.success?t(b.data.users):i("Failed to load users")}catch{console.log("UserManagement: API endpoint not available, using mock data"),t([{id:"user-1",email:"admin@tcc.com",name:"TCC Administrator",userType:"ADMIN",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-09-22T15:43:00Z"},{id:"user-2",email:"manager@tcc.com",name:"TCC Manager",userType:"USER",isActive:!0,createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-09-20T10:30:00Z"},{id:"user-3",email:"coordinator@tcc.com",name:"TCC Coordinator",userType:"USER",isActive:!0,createdAt:"2024-02-01T00:00:00Z",updatedAt:"2024-09-18T14:20:00Z"}]),i(null)}finally{n(!1)}},h=async b=>{var j,w;b.preventDefault();try{if(i(null),c)console.log("Update user:",c.id,u),d(null);else{const N=await Lo.register(u);N.data.success?(await f(),l(!1),p()):i(N.data.error||"Failed to create user")}}catch(N){i(((w=(j=N.response)==null?void 0:j.data)==null?void 0:w.error)||"Failed to save user")}},p=()=>{m({name:"",email:"",password:"",userType:"USER"})},y=b=>{d(b),m({name:b.name,email:b.email,password:"",userType:b.userType}),l(!0)},g=()=>{l(!1),d(null),p()},v=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage system users and their access levels."})]}),a.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx(or,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:s})})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:a.jsx(ns,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.name}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(hd,{className:"h-3 w-3 mr-1"}),b.email]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[b.userType==="ADMIN"?a.jsx(yx,{className:"h-4 w-4 text-red-500 mr-2"}):a.jsx(ns,{className:"h-4 w-4 text-blue-500 mr-2"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.userType==="ADMIN"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:b.userType})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.isActive?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"h-3 w-3 mr-1"}),"Active"]}):a.jsxs(a.Fragment,{children:[a.jsx(or,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ro,{className:"h-3 w-3 mr-1"}),v(b.createdAt)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>y(b),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(pd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this user?")&&console.log("Delete user:",b.id)},className:"text-red-600 hover:text-red-900",children:a.jsx(nl,{className:"h-4 w-4"})})]})})]},b.id))})]})})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c?"Edit User":"Add New User"}),a.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600",children:a.jsx(or,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",required:!0,value:u.name,onChange:b=>m({...u,name:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",required:!0,value:u.email,onChange:b=>m({...u,email:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{type:"password",required:!c,value:u.password,onChange:b=>m({...u,password:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:c?"Leave blank to keep current password":""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User Type"}),a.jsxs("select",{value:u.userType,onChange:b=>m({...u,userType:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[a.jsx("option",{value:"USER",children:"User (Standard Access)"}),a.jsx("option",{value:"ADMIN",children:"Admin (Full Access)"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:c?"Update User":"Create User"})]})]})]})})})]})},s6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,l]=x.useState(null);x.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const y=await(await fetch("/api/backup/history",{credentials:"include"})).json();y.success?t(y.data):l({type:"error",text:y.error||"Failed to load backup history"})}catch(p){console.error("Error loading backup history:",p),l({type:"error",text:"Failed to load backup history"})}finally{n(!1)}},d=async()=>{try{i(!0),l(null);const y=await(await fetch("/api/backup/create",{method:"POST",credentials:"include"})).json();y.success?(l({type:"success",text:"Backup created successfully!"}),c()):l({type:"error",text:y.error||"Failed to create backup"})}catch(p){console.error("Error creating backup:",p),l({type:"error",text:"Failed to create backup"})}finally{i(!1)}},u=async p=>{try{const y=await fetch(`/api/backup/download/${p}`,{credentials:"include"});if(y.ok){const g=await y.blob(),v=window.URL.createObjectURL(g),b=document.createElement("a");b.href=v,b.download=p,document.body.appendChild(b),b.click(),window.URL.revokeObjectURL(v),document.body.removeChild(b)}else l({type:"error",text:"Failed to download backup"})}catch(y){console.error("Error downloading backup:",y),l({type:"error",text:"Failed to download backup"})}},m=async p=>{if(window.confirm(`Are you sure you want to delete ${p}?`))try{const g=await(await fetch(`/api/backup/${p}`,{method:"DELETE",credentials:"include"})).json();g.success?(l({type:"success",text:"Backup deleted successfully!"}),c()):l({type:"error",text:g.error||"Failed to delete backup"})}catch(y){console.error("Error deleting backup:",y),l({type:"error",text:"Failed to delete backup"})}},f=p=>{if(p===0)return"0 Bytes";const y=1024,g=["Bytes","KB","MB","GB"],v=Math.floor(Math.log(p)/Math.log(y));return parseFloat((p/Math.pow(y,v)).toFixed(2))+" "+g[v]},h=p=>new Date(p).toLocaleString();return a.jsx("div",{className:"min-h-full bg-gray-100 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Backup Management"}),a.jsx("p",{className:"text-gray-600",children:"Create, download, and manage database backups for data protection and compliance."})]}),o&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[o.type==="success"?a.jsx(qe,{className:"h-5 w-5 mr-2"}):a.jsx(nn,{className:"h-5 w-5 mr-2"}),o.text]}),a.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("button",{onClick:d,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?a.jsx(xt,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(ln,{className:"h-4 w-4 mr-2"}),s?"Creating Backup...":"Create New Backup"]}),a.jsxs("button",{onClick:c,disabled:r,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(xv,{className:"h-4 w-4 mr-2"}),"Refresh List"]})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Backup History"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," backup",e.length!==1?"s":""," found"]})]}),r?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(xt,{className:"h-8 w-8 mx-auto text-gray-400 animate-spin mb-2"}),a.jsx("p",{className:"text-gray-500",children:"Loading backup history..."})]}):e.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(jn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No backups found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first backup to get started."}),a.jsxs("button",{onClick:d,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Create First Backup"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filename"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modified"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(jn,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:p.filename})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f(p.size)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ro,{className:"h-4 w-4 mr-2"}),h(p.created)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(p.modified)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>u(p.filename),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Download backup",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>m(p.filename),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Delete backup",children:a.jsx(nl,{className:"h-4 w-4"})})]})})]},p.filename))})]})})]}),a.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(xv,{className:"h-5 w-5 text-blue-400 mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"External Drive Backup"}),a.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Database backups are stored in ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"database-backups/"})," and automatically copied to ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"/Volumes/Acasis/tcc-database-backups/"}),"when the external drive is available."]})]})]})})]})})},i6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState("all"),[u,m]=x.useState("all");x.useEffect(()=>{f()},[]);const f=async()=>{var v,b,j,w,N;try{if(i(!0),!localStorage.getItem("token")){l("No authentication token found");return}const P=await ee.get("/api/tcc/agencies");if(!((v=P.data)!=null&&v.success))throw new Error(`Failed to fetch agencies: ${((b=P.data)==null?void 0:b.message)||"Unknown error"}`);const M=P.data;console.log("🔍 TCCUnitsManagement: Agencies response:",M),M.success&&n(M.data||[]);const E=await ee.get("/api/tcc/units");if(!((j=E.data)!=null&&j.success))throw new Error(`Failed to fetch units: ${((w=E.data)==null?void 0:w.message)||"Unknown error"}`);const O=E.data;console.log("🔍 TCCUnitsManagement: Units response:",O),O.success&&(t(O.data||[]),console.log("🔍 TCCUnitsManagement: Units count:",((N=O.data)==null?void 0:N.length)||0))}catch(C){console.error("Error fetching data:",C),l(C instanceof Error?C.message:"An error occurred")}finally{i(!1)}},h=v=>{const b=r.find(j=>j.id===v);return b?b.name:`Agency ${v}`},p=v=>{switch(v){case"AVAILABLE":return"bg-green-100 text-green-800";case"COMMITTED":return"bg-blue-100 text-blue-800";case"OUT_OF_SERVICE":return"bg-red-100 text-red-800";case"MAINTENANCE":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},y=v=>{switch(v){case"AMBULANCE":return"bg-red-100 text-red-800";case"WHEELCHAIR_VAN":return"bg-blue-100 text-blue-800";case"CRITICAL_CARE":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},g=e.filter(v=>{const b=c==="all"||v.agencyId===c,j=u==="all"||v.currentStatus===u;return b&&j});return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:o})}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:f,className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",children:"Retry"})})]})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Units Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage and monitor all EMS units across agencies"})]}),a.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Refresh"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Units"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="AVAILABLE").length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Committed"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="COMMITTED").length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Service"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="OUT_OF_SERVICE").length})]})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Agency"}),a.jsxs("select",{value:c,onChange:v=>d(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Agencies"}),r.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),a.jsxs("select",{value:u,onChange:v=>m(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"AVAILABLE",children:"Available"}),a.jsx("option",{value:"COMMITTED",children:"Committed"}),a.jsx("option",{value:"OUT_OF_SERVICE",children:"Out of Service"}),a.jsx("option",{value:"MAINTENANCE",children:"Maintenance"})]})]})]})}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Units (",g.length,")"]}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"All EMS units across all agencies"})]}),a.jsx("div",{className:"border-t border-gray-200",children:g.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No units found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c==="all"&&u==="all"?"No units have been created yet.":"No units match the current filters."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:v.unitNumber})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.unitNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:v.isActive?"Active":"Inactive"})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:h(v.agencyId)}),a.jsx("div",{className:"text-sm text-gray-500",children:v.agencyId})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(v.type)}`,children:v.type.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(v.currentStatus)}`,children:v.currentStatus.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:v.capabilities.map((b,j)=>a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:b},j))})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.totalTripsCompleted}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.lastStatusUpdate).toLocaleString()})]},v.id))})]})})})]})]})};class o6{constructor(){kl(this,"baseUrl","/api/optimize")}async optimizeRoutes(t){try{const r=await fetch(`${this.baseUrl}/routes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||"Failed to optimize routes");return n}catch(r){return console.error("Error optimizing routes:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async analyzeBackhaul(t){try{const r=await fetch(`${this.baseUrl}/backhaul`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({requestIds:t})}),n=await r.json();if(!r.ok)throw new Error(n.error||"Failed to analyze backhaul opportunities");return n}catch(r){return console.error("Error analyzing backhaul:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async getRevenueAnalytics(t="24h",r){try{const n=new URLSearchParams({timeframe:t});r&&n.append("agencyId",r);const s=await fetch(`${this.baseUrl}/revenue?${n}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to get revenue analytics");return i}catch(n){return console.error("Error getting revenue analytics:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getPerformanceMetrics(t="24h",r){try{const n=new URLSearchParams({timeframe:t});r&&n.append("unitId",r);const s=await fetch(`${this.baseUrl}/performance?${n}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to get performance metrics");return i}catch(n){return console.error("Error getting performance metrics:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getAvailableUnits(){try{const t=await fetch("/api/units/available",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get available units");return r.data||[]}catch(t){return console.error("Error getting available units:",t),[]}}async getPendingRequests(){try{const t=await fetch("/api/trips?status=PENDING",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get pending requests");return(r.data||[]).map(n=>{var s,i,o,l;return{id:n.id,patientId:n.patientId,originFacilityId:n.fromFacilityId||"unknown",destinationFacilityId:n.toFacilityId||"unknown",transportLevel:n.transportLevel||"BLS",priority:n.priority||"MEDIUM",status:n.status||"PENDING",specialRequirements:n.specialRequirements||"",requestTimestamp:new Date(n.createdAt),readyStart:new Date(n.scheduledTime||n.createdAt),readyEnd:new Date(new Date(n.scheduledTime||n.createdAt).getTime()+60*60*1e3),originLocation:{lat:((s=n.fromLocation)==null?void 0:s.lat)||40.7128,lng:((i=n.fromLocation)==null?void 0:i.lng)||-74.006},destinationLocation:{lat:((o=n.toLocation)==null?void 0:o.lat)||40.7589,lng:((l=n.toLocation)==null?void 0:l.lng)||-73.9851}}})}catch(t){return console.error("Error getting pending requests:",t),[]}}async updateOptimizationWeights(t){try{const r=await fetch(`${this.baseUrl}/weights`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({weights:t})});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to update optimization weights")}return!0}catch(r){return console.error("Error updating optimization weights:",r),!1}}async getOptimizationSettings(){try{const t=await fetch(`${this.baseUrl}/settings`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get optimization settings");return r.data||{}}catch(t){return console.error("Error getting optimization settings:",t),{}}}async saveOptimizationSettings(t){try{const r=await fetch(`${this.baseUrl}/settings`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to save optimization settings")}return!0}catch(r){return console.error("Error saving optimization settings:",r),!1}}}const Kl=new o6,l6=()=>{const[e,t]=x.useState(""),[r,n]=x.useState([]),[s,i]=x.useState([]),[o,l]=x.useState([]),[c,d]=x.useState(null),[u,m]=x.useState(null),[f,h]=x.useState(null),[p,y]=x.useState(null),[g,v]=x.useState(!1),[b,j]=x.useState(!1),[w,N]=x.useState(!1),[C,P]=x.useState(!1),[M,E]=x.useState(null),[O,F]=x.useState(!1),[I,T]=x.useState({weights:{deadheadMiles:.5,waitTime:.1,backhaulBonus:25,overtimeRisk:2,baseRevenue:1},constraints:{maxDeadheadMiles:50,maxWaitTime:120,maxOvertimeHours:2,maxBackhaulDistance:15,maxBackhaulTimeWindow:90},autoOptimize:!1,refreshInterval:30});x.useEffect(()=>{Q(),V()},[]);const V=()=>{try{const D=localStorage.getItem("tcc_optimization_settings");if(D){const S=JSON.parse(D);T(_=>({..._,...S})),console.log("TCC_DEBUG: Loaded saved optimization settings")}}catch(D){console.error("TCC_DEBUG: Error loading saved settings:",D)}};x.useEffect(()=>{if(I.autoOptimize){const D=setInterval(()=>{e&&o.length>0&&K()},I.refreshInterval*1e3);return()=>clearInterval(D)}},[I.autoOptimize,I.refreshInterval,e,o]);const Q=async()=>{try{await Promise.all([k(),$(),B()])}catch(D){console.error("TCC_DEBUG: Error loading initial data:",D),E("Failed to load initial data")}},k=async()=>{var D,S,_;j(!0);try{if(console.log("TCC_DEBUG: Loading system-wide units for TCC optimization"),!localStorage.getItem("token"))throw new Error("No authentication token found");const se=await ee.get("/api/tcc/units");if(!((D=se.data)!=null&&D.success))throw new Error(`Failed to fetch units: ${((S=se.data)==null?void 0:S.message)||"Unknown error"}`);const ie=se.data;if(console.log("TCC_DEBUG: Units API response:",ie),ie.success)console.log("TCC_DEBUG: Units loaded:",((_=ie.data)==null?void 0:_.length)||0),n(ie.data||[]);else throw new Error(ie.error||"Failed to load units")}catch(G){E("Failed to load units"),console.error("TCC_DEBUG: Units loading error:",G)}finally{j(!1)}},$=async()=>{var D,S;N(!0);try{if(console.log("TCC_DEBUG: Loading system-wide pending requests for TCC optimization"),!localStorage.getItem("token"))throw new Error("No authentication token found");const G=await ee.get("/api/trips?status=PENDING");if(!((D=G.data)!=null&&D.success))throw new Error(`Failed to fetch pending requests: ${((S=G.data)==null?void 0:S.message)||"Unknown error"}`);const se=G.data;if(console.log("TCC_DEBUG: Pending requests API response:",se),se.success){const ie=(se.data||[]).map(Y=>({id:Y.id,patientId:Y.patientId,originFacilityId:Y.fromFacilityId||Y.fromLocation||"Unknown",destinationFacilityId:Y.toFacilityId||Y.toLocation||"Unknown",transportLevel:Y.transportLevel||"BLS",priority:Y.priority||"MEDIUM",status:Y.status||"PENDING",specialRequirements:Y.specialNeeds||Y.specialRequirements||"",requestTimestamp:new Date(Y.requestTimestamp||Y.createdAt),readyStart:new Date(Y.scheduledTime||Y.createdAt),readyEnd:new Date(new Date(Y.scheduledTime||Y.createdAt).getTime()+36e5),originLocation:{lat:Y.originLatitude||40.7128,lng:Y.originLongitude||-74.006},destinationLocation:{lat:Y.destinationLatitude||40.7589,lng:Y.destinationLongitude||-73.9851}}));console.log("TCC_DEBUG: Pending requests loaded:",ie.length),i(ie)}else throw new Error(se.error||"Failed to load pending requests")}catch(_){E("Failed to load pending requests"),console.error("TCC_DEBUG: Requests loading error:",_)}finally{N(!1)}},B=async()=>{P(!0);try{console.log("TCC_DEBUG: Loading analytics data...");const[D,S]=await Promise.all([Kl.getRevenueAnalytics("24h"),Kl.getPerformanceMetrics("24h")]);console.log("TCC_DEBUG: Revenue analytics response:",D),console.log("TCC_DEBUG: Performance metrics response:",S),h(D),y(S)}catch(D){console.error("TCC_DEBUG: Analytics loading error:",D),E("Failed to load analytics data")}finally{P(!1)}},K=async()=>{if(!e||o.length===0){E("Please select a unit and at least one request");return}v(!0),E(null);try{const D=await Kl.optimizeRoutes({unitId:e,requestIds:o,constraints:I.constraints});d(D)}catch(D){E("Failed to optimize routes"),console.error("Optimization error:",D)}finally{v(!1)}},R=async()=>{if(o.length<2){E("Please select at least 2 requests for backhaul analysis");return}v(!0),E(null);try{console.log("TCC_DEBUG: Starting backhaul analysis with selected requests:",o);const D=await Kl.analyzeBackhaul(o);console.log("TCC_DEBUG: Backhaul analysis response:",D),m(D)}catch(D){E("Failed to analyze backhaul opportunities"),console.error("TCC_DEBUG: Backhaul analysis error:",D)}finally{v(!1)}},U=async()=>{var D,S;v(!0),E(null);try{if(console.log("TCC_DEBUG: Starting return trip analysis..."),!localStorage.getItem("token"))throw new Error("No authentication token found");const G=await ee.get("/api/optimize/return-trips");if(!((D=G.data)!=null&&D.success))throw new Error(`Failed to fetch return trips: ${((S=G.data)==null?void 0:S.message)||"Unknown error"}`);const se=G.data;if(console.log("TCC_DEBUG: Return trips response:",se),se.success){const ie={success:!0,data:{pairs:se.data.returnTrips||[],statistics:se.data.statistics||{},recommendations:se.data.recommendations||[]}};m(ie)}else throw new Error(se.error||"Failed to load return trips")}catch(_){E("Failed to analyze return trip opportunities"),console.error("TCC_DEBUG: Return trip analysis error:",_)}finally{v(!1)}},q=D=>{l(S=>S.includes(D)?S.filter(_=>_!==D):[...S,D])};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Route Optimization"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optimize routes across all agencies and units in the system."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>F(!O),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Settings"]}),a.jsxs("button",{onClick:Q,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),O&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Settings"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Auto-Optimization"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Auto-optimize every ",I.refreshInterval," seconds"]}),a.jsx("input",{type:"checkbox",checked:I.autoOptimize,onChange:D=>T(S=>({...S,autoOptimize:D.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Interval (seconds)"}),a.jsx("input",{type:"number",value:I.refreshInterval,onChange:D=>T(S=>({...S,refreshInterval:parseInt(D.target.value)||30})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"10",max:"300"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Optimization Weights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadhead Miles Weight"}),a.jsx("input",{type:"number",step:"0.1",value:I.weights.deadheadMiles,onChange:D=>T(S=>({...S,weights:{...S.weights,deadheadMiles:parseFloat(D.target.value)||.5}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wait Time Weight"}),a.jsx("input",{type:"number",step:"0.1",value:I.weights.waitTime,onChange:D=>T(S=>({...S,weights:{...S.weights,waitTime:parseFloat(D.target.value)||.1}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backhaul Bonus ($)"}),a.jsx("input",{type:"number",step:"5",value:I.weights.backhaulBonus,onChange:D=>T(S=>({...S,weights:{...S.weights,backhaulBonus:parseFloat(D.target.value)||25}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overtime Risk Weight"}),a.jsx("input",{type:"number",step:"0.5",value:I.weights.overtimeRisk,onChange:D=>T(S=>({...S,weights:{...S.weights,overtimeRisk:parseFloat(D.target.value)||2}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"5"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Constraints"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Deadhead Miles"}),a.jsx("input",{type:"number",value:I.constraints.maxDeadheadMiles,onChange:D=>T(S=>({...S,constraints:{...S.constraints,maxDeadheadMiles:parseInt(D.target.value)||50}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"10",max:"200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Wait Time (minutes)"}),a.jsx("input",{type:"number",value:I.constraints.maxWaitTime,onChange:D=>T(S=>({...S,constraints:{...S.constraints,maxWaitTime:parseInt(D.target.value)||120}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"30",max:"300"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Overtime Hours"}),a.jsx("input",{type:"number",value:I.constraints.maxOvertimeHours,onChange:D=>T(S=>({...S,constraints:{...S.constraints,maxOvertimeHours:parseInt(D.target.value)||2}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"8"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Backhaul Distance (miles)"}),a.jsx("input",{type:"number",value:I.constraints.maxBackhaulDistance,onChange:D=>T(S=>({...S,constraints:{...S.constraints,maxBackhaulDistance:parseInt(D.target.value)||15}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"5",max:"50"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{localStorage.setItem("tcc_optimization_settings",JSON.stringify(I)),F(!1)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Unit"}),b?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Lt,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading units..."})]}):a.jsxs("select",{value:e,onChange:D=>t(D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"Select a unit..."}),r&&r.length>0?r.map(D=>a.jsxs("option",{value:D.id,children:[D.unitNumber||"Unknown"," (",D.type||"Unknown",") - ",D.currentStatus||"Unknown"]},D.id)):a.jsx("option",{disabled:!0,children:"No units available"})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Requests"}),w?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Lt,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading requests..."})]}):a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s&&s.length>0?s.map(D=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.includes(D.id),onChange:()=>q(D.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[D.patientId||"Unknown"," - ",D.originFacilityId||"Unknown"," → ",D.destinationFacilityId||"Unknown"]})]},D.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No pending requests available"})})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:K,disabled:g||!e||o.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[g?a.jsx(Lt,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(vv,{className:"h-4 w-4 mr-2"}),"Optimize Routes"]}),a.jsxs("button",{onClick:R,disabled:g||o.length<2,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(vx,{className:"h-4 w-4 mr-2"}),"Analyze Backhaul"]}),a.jsxs("button",{onClick:U,disabled:g,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(vv,{className:"h-4 w-4 mr-2"}),"Find Return Trips"]})]}),M&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(nn,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:M})})]})]})}),c&&c.success&&c.data&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Results"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pt,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Revenue"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:["$",typeof c.data.totalRevenue=="number"?c.data.totalRevenue.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(yt,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Distance"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:[typeof c.data.totalDeadheadMiles=="number"?c.data.totalDeadheadMiles.toFixed(1):"0.0"," mi"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xt,{className:"h-5 w-5 text-orange-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Wait Time"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:[typeof c.data.totalWaitTime=="number"?c.data.totalWaitTime.toFixed(0):"0"," min"]})]})]}),c.data.optimizedRequests&&c.data.optimizedRequests.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Optimized Requests"}),a.jsx("div",{className:"space-y-2",children:c.data.optimizedRequests.map((D,S)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Request ",S+1]}),a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Score: ",typeof D.score=="number"?D.score.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Revenue: $",typeof D.revenue=="number"?D.revenue.toFixed(2):"0.00"," | Deadhead: ",typeof D.deadheadMiles=="number"?D.deadheadMiles.toFixed(1):"0.0"," mi"]})]},S))})]})]}),u&&u.success&&u.data&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Backhaul Analysis"}),a.jsxs("div",{className:"space-y-4",children:[u.data.pairs&&u.data.pairs.map((D,S)=>{var _,G;return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[((_=D.request1)==null?void 0:_.patientId)||"Unknown"," → ",((G=D.request2)==null?void 0:G.patientId)||"Unknown"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Potential savings: $",typeof D.revenueBonus=="number"?D.revenueBonus.toFixed(2):"0.00"]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Distance: ",typeof D.distance=="number"?D.distance.toFixed(1):"0.0"," mi | Time Window: ",D.timeWindow||"0"," min | Efficiency: ",typeof D.efficiency=="number"?(D.efficiency*100).toFixed(1):"0.0","%"]})]}),a.jsx(qe,{className:"h-5 w-5 text-green-500"})]})},S)}),(!u.data.pairs||u.data.pairs.length===0)&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No backhaul opportunities found"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Performance Analytics"}),C?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Lt,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading analytics..."})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f&&f.success&&f.data&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"System Revenue (24h)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue:"}),a.jsxs("span",{className:"text-sm font-medium",children:["$",typeof f.data.totalRevenue=="number"?f.data.totalRevenue.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Revenue per Hour:"}),a.jsxs("span",{className:"text-sm font-medium",children:["$",typeof f.data.revenuePerHour=="number"?f.data.revenuePerHour.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof f.data.loadedMileRatio=="number"?(f.data.loadedMileRatio*100).toFixed(1):"0.0","%"]})]})]})]}),p&&p.success&&p.data&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"System Performance (24h)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Trips:"}),a.jsx("span",{className:"text-sm font-medium",children:p.data.totalTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Average Response Time:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof p.data.averageResponseTime=="number"?p.data.averageResponseTime.toFixed(1):"0.0"," min"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof p.data.efficiency=="number"?(p.data.efficiency*100).toFixed(1):"0.0","%"]})]})]})]})]})]})]})},kv=({showBackhaulPairs:e=!0,showUnitManagement:t=!0,title:r="Revenue Optimization",className:n=""})=>{const[s,i]=x.useState(null),[o,l]=x.useState([]),[,c]=x.useState([]),[d,u]=x.useState(null),[m,f]=x.useState(!0);x.useEffect(()=>{h()},[]);const h=async()=>{try{f(!0);const p=await fetch("/api/optimize/revenue?timeframe=24h");if(p.ok){const v=await p.json();v.success&&i({totalRevenue:v.data.totalRevenue||0,revenuePerHour:v.data.revenuePerHour||0,loadedMileRatio:v.data.loadedMileRatio||0,backhaulPairs:0,averageEfficiency:.75,potentialRevenueIncrease:0,totalTrips:v.data.totalTrips||0,averageRevenuePerTrip:v.data.averageRevenuePerTrip||0,totalMiles:v.data.totalMiles||0,loadedMiles:v.data.loadedMiles||0})}const y=await fetch("/api/optimize/backhaul");if(y.ok){const v=await y.json();v.success&&(l(v.data.pairs||[]),i(b=>{var j,w;return b?{...b,backhaulPairs:((j=v.data.pairs)==null?void 0:j.length)||0,potentialRevenueIncrease:((w=v.data.pairs)==null?void 0:w.reduce((N,C)=>N+(C.revenueBonus||0),0))||0}:null}))}const g=localStorage.getItem("token");if(g){const v={Authorization:`Bearer ${g}`,"Content-Type":"application/json"},b=await fetch("/api/units",{headers:v});if(b.ok){const w=await b.json();w.success&&c(w.data||[])}const j=await fetch("/api/units/analytics",{headers:v});if(j.ok){const w=await j.json();w.success&&u(w.data)}}}catch(p){console.error("Error loading optimization data:",p)}finally{f(!1)}};return m?a.jsx("div",{className:`bg-white rounded-lg p-6 shadow-sm ${n}`,children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})}):a.jsxs("div",{className:`space-y-6 ${n}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(ar,{className:"h-4 w-4"}),a.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Analytics"}),a.jsx(Pt,{className:"h-6 w-6 text-green-600"})]}),s&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue:"}),a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",s.totalRevenue.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Revenue/Hour:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",s.revenuePerHour.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[(s.loadedMileRatio*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Trips:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.totalTrips})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Revenue/Trip:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",s.averageRevenuePerTrip.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backhaul Opportunities"}),a.jsx(gv,{className:"h-6 w-6 text-blue-600"})]}),s&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Available Pairs:"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:s.backhaulPairs})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Efficiency:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[(s.averageEfficiency*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Potential Increase:"}),a.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+$",s.potentialRevenueIncrease.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Miles:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[s.totalMiles.toFixed(1)," mi"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Miles:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[s.loadedMiles.toFixed(1)," mi"]})]})]})]}),t&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Unit Management"}),a.jsx(ar,{className:"h-6 w-6 text-purple-600"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Available Units:"}),a.jsx("span",{className:"text-lg font-semibold text-green-600",children:(d==null?void 0:d.availableUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Committed Units:"}),a.jsx("span",{className:"text-sm font-medium text-yellow-600",children:(d==null?void 0:d.committedUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Units:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:(d==null?void 0:d.totalUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Out of Service:"}),a.jsx("span",{className:"text-sm font-medium text-red-600",children:(d==null?void 0:d.outOfServiceUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:d!=null&&d.efficiency?`${(d.efficiency*100).toFixed(1)}%`:"0%"})]})]})]})]}),e&&o.length>0&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recommended Backhaul Pairs"}),a.jsx(vx,{className:"h-5 w-5 text-blue-600"})]}),a.jsx("div",{className:"space-y-4",children:o.slice(0,5).map((p,y)=>{var g,v,b,j,w,N;return a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(gv,{className:"h-5 w-5 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Pair #",y+1]}),a.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Efficiency: ",(p.efficiency*100).toFixed(1),"%"]})]}),a.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["+$",p.revenueBonus.toFixed(2)," bonus"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"bg-white rounded p-3",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Request 1"}),a.jsxs("div",{children:["Patient: ",((g=p.request1)==null?void 0:g.patientId)||"N/A"]}),a.jsxs("div",{children:["Level: ",((v=p.request1)==null?void 0:v.transportLevel)||"N/A"]}),a.jsxs("div",{children:["Priority: ",((b=p.request1)==null?void 0:b.priority)||"N/A"]})]}),a.jsxs("div",{className:"bg-white rounded p-3",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Request 2"}),a.jsxs("div",{children:["Patient: ",((j=p.request2)==null?void 0:j.patientId)||"N/A"]}),a.jsxs("div",{children:["Level: ",((w=p.request2)==null?void 0:w.transportLevel)||"N/A"]}),a.jsxs("div",{children:["Priority: ",((N=p.request2)==null?void 0:N.priority)||"N/A"]})]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["Distance: ",p.distance.toFixed(1)," mi"]}),a.jsxs("span",{children:["Time Window: ",p.timeWindow," min"]})]})]},y)})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Metrics"}),a.jsx(pt,{className:"h-5 w-5 text-indigo-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s?(s.loadedMileRatio*100).toFixed(1):"0.0","%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",s?s.revenuePerHour.toFixed(0):"0","/hr"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Revenue per Hour"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?s.totalTrips:0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Trips"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Backhaul Pairs"})]})]})]})]})},c6=()=>{var f,h,p,y,g,v,b;const[e,t]=x.useState("overview"),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!0),[c,d]=x.useState(null),u=[{id:"overview",name:"System Overview",icon:pt},{id:"revenue",name:"Revenue Optimization",icon:Pt},{id:"revenue-settings",name:"Revenue Settings",icon:an},{id:"performance",name:"Performance",icon:Ut},{id:"units",name:"Unit Management",icon:ar}];x.useEffect(()=>{m()},[]);const m=async()=>{var j,w,N,C;try{l(!0),d(null);const[P,M]=await Promise.all([Js.getOverview(),Js.getTrips()]);(j=P.data)!=null&&j.success&&n(P.data.data),(w=M.data)!=null&&w.success&&i(M.data.data)}catch(P){console.error("Error loading analytics data:",P),d(((C=(N=P.response)==null?void 0:N.data)==null?void 0:C.error)||"Failed to load analytics data")}finally{l(!1)}};return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View system-wide analytics, performance metrics, and revenue optimization across all agencies."})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:u.map(j=>{const w=j.icon;return a.jsxs("button",{onClick:()=>t(j.id),className:`${e===j.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[a.jsx(w,{className:"h-4 w-4"}),a.jsx("span",{children:j.name})]},j.id)})})}),e==="overview"&&a.jsx("div",{className:"space-y-6",children:o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):c?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"text-red-800",children:c})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pt,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Healthcare Facilities"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(r==null?void 0:r.totalHospitals)||0,a.jsxs("span",{className:"text-sm text-green-600 ml-2",children:["(",(r==null?void 0:r.activeHospitals)||0," active)"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ar,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"EMS Agencies"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(r==null?void 0:r.totalAgencies)||0,a.jsxs("span",{className:"text-sm text-green-600 ml-2",children:["(",(r==null?void 0:r.activeAgencies)||0," active)"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ut,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"EMS Units"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(r==null?void 0:r.totalUnits)||0,a.jsxs("span",{className:"text-sm text-green-600 ml-2",children:["(",(r==null?void 0:r.activeUnits)||0," active)"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Pt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(s==null?void 0:s.totalTrips)||0,a.jsxs("span",{className:"text-sm text-blue-600 ml-2",children:["(",(s==null?void 0:s.pendingTrips)||0," pending)"]})]})]})})]})})})]}),s&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trips by Transport Level"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"BLS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((f=s.tripsByLevel)==null?void 0:f.BLS)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"ALS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((h=s.tripsByLevel)==null?void 0:h.ALS)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"CCT"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((p=s.tripsByLevel)==null?void 0:p.CCT)||0})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trips by Priority"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Low"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((y=s.tripsByPriority)==null?void 0:y.LOW)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Medium"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((g=s.tripsByPriority)==null?void 0:g.MEDIUM)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"High"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((v=s.tripsByPriority)==null?void 0:v.HIGH)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Urgent"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((b=s.tripsByPriority)==null?void 0:b.URGENT)||0})]})]})]})]})]})}),e==="revenue"&&a.jsx(kv,{showBackhaulPairs:!0,showUnitManagement:!0,title:"Revenue Optimization Analytics"}),e==="revenue-settings"&&a.jsx(g2,{}),e==="performance"&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ut,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:"Performance Dashboard"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Performance metrics and historical data will be displayed here."})]})]}),e==="units"&&a.jsx(kv,{showBackhaulPairs:!1,showUnitManagement:!0,title:"Unit Management Analytics"})]})};function v2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=v2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function he(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=v2(e))&&(n&&(n+=" "),n+=t);return n}var yd={},b2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(b2);var bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(bx);var jx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(jx);var vd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const d=r[i];l?d==="\\"&&i+1<s?(i++,o+=r[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,n.push(o),o=""):o+=d:d==="["?(c=!0,o&&(n.push(o),o="")):d==="."?o&&(n.push(o),o=""):o+=d,i++}return o&&n.push(o),n}e.toPath=t})(vd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b2,r=bx,n=jx,s=vd;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,s.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let m=0;m<c.length;m++){if(u==null||t.isUnsafeProperty(c[m]))return d;u=u[c[m]]}return u===void 0?d:u}e.get=i})(yd);var u6=yd.get;const as=$n(u6);var j2={exports:{}},we={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=Symbol.for("react.transitional.element"),Nx=Symbol.for("react.portal"),bd=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),wd=Symbol.for("react.profiler"),Nd=Symbol.for("react.consumer"),Sd=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),kd=Symbol.for("react.suspense"),Pd=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),Ad=Symbol.for("react.lazy"),d6=Symbol.for("react.view_transition"),m6=Symbol.for("react.client.reference");function Tr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wx:switch(e=e.type,e){case bd:case wd:case jd:case kd:case Pd:case d6:return e;default:switch(e=e&&e.$$typeof,e){case Sd:case Cd:case Ad:case Ed:return e;case Nd:return e;default:return t}}case Nx:return t}}}we.ContextConsumer=Nd;we.ContextProvider=Sd;we.Element=wx;we.ForwardRef=Cd;we.Fragment=bd;we.Lazy=Ad;we.Memo=Ed;we.Portal=Nx;we.Profiler=wd;we.StrictMode=jd;we.Suspense=kd;we.SuspenseList=Pd;we.isContextConsumer=function(e){return Tr(e)===Nd};we.isContextProvider=function(e){return Tr(e)===Sd};we.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wx};we.isForwardRef=function(e){return Tr(e)===Cd};we.isFragment=function(e){return Tr(e)===bd};we.isLazy=function(e){return Tr(e)===Ad};we.isMemo=function(e){return Tr(e)===Ed};we.isPortal=function(e){return Tr(e)===Nx};we.isProfiler=function(e){return Tr(e)===wd};we.isStrictMode=function(e){return Tr(e)===jd};we.isSuspense=function(e){return Tr(e)===kd};we.isSuspenseList=function(e){return Tr(e)===Pd};we.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bd||e===wd||e===jd||e===kd||e===Pd||typeof e=="object"&&e!==null&&(e.$$typeof===Ad||e.$$typeof===Ed||e.$$typeof===Sd||e.$$typeof===Nd||e.$$typeof===Cd||e.$$typeof===m6||e.getModuleId!==void 0)};we.typeOf=Tr;j2.exports=we;var f6=j2.exports,ot=e=>e===0?0:e>0?1:-1,Zt=e=>typeof e=="number"&&e!=+e,Fa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ae=e=>(typeof e=="number"||e instanceof Number)&&!Zt(e),cn=e=>ae(e)||typeof e=="string",h6=0,Do=e=>{var t=++h6;return"".concat(e||"").concat(t)},Et=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(t)&&typeof t!="string")return n;var i;if(Fa(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Zt(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},w2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ve(e,t,r){return ae(e)&&ae(t)?e+r*(t-e):t}function N2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):as(n,t))===r)}var Ae=e=>e===null||typeof e>"u",al=e=>Ae(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),p6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Sx(e){if(typeof e!="string")return!1;var t=p6;return t.includes(e)}var x6=["viewBox","children"],Pv=["points","pathLength"],Ym={svg:x6,polygon:Pv,polyline:Pv},Cx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Sx(s)&&(n[s]=i=>r[s](r,i))}),n},g6=(e,t,r)=>n=>(e(t,r,n),null),sl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];Sx(s)&&typeof i=="function"&&(n||(n={}),n[s]=g6(i,t,r))}),n},y6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function S2(e){if(typeof e!="string")return!1;var t=y6;return t.includes(e)}function Mr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return S2(n)});return Object.fromEntries(t)}var Ev=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Av=null,Xm=null,C2=e=>{if(e===Av&&Array.isArray(Xm))return Xm;var t=[];return x.Children.forEach(e,r=>{Ae(r)||(f6.isFragment(r)?t=t.concat(C2(r.props.children)):t.push(r))}),Xm=t,Av=e,t};function kx(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>Ev(s)):n=[Ev(t)],C2(e).forEach(s=>{var i=as(s,"type.displayName")||as(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var Od=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,v6=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&(Ym==null?void 0:Ym[n]))!==null&&s!==void 0?s:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||S2(t)),c=!!r&&Sx(t);return o||l||c},Oe=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;v6((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},b6=["children","width","height","viewBox","className","style","title","desc"];function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(null,arguments)}function j6(e,t){if(e==null)return{};var r,n,s=w6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function w6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Px=x.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=j6(e,b6),m=i||{width:n,height:s,x:0,y:0},f=he("recharts-surface",o);return x.createElement("svg",Nh({},Oe(u,!0,"svg"),{className:f,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,d),r)}),N6=["children","className"];function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}function S6(e,t){if(e==null)return{};var r,n,s=C6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function C6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ze=x.forwardRef((e,t)=>{var{children:r,className:n}=e,s=S6(e,N6),i=he("recharts-layer",n);return x.createElement("g",Sh({className:i},Oe(s,!0),{ref:t}),r)}),k2=x.createContext(null),k6=()=>x.useContext(k2);function Ne(e){return function(){return e}}const P2=Math.cos,tu=Math.sin,Yr=Math.sqrt,ru=Math.PI,Td=2*ru,Ch=Math.PI,kh=2*Ch,Ma=1e-6,P6=kh-Ma;function E2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function E6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return E2;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class A6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?E2:E6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=s-r,u=o-t,m=l-r,f=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Ma)if(!(Math.abs(m*c-d*u)>Ma)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,p=s-l,y=c*c+d*d,g=h*h+p*p,v=Math.sqrt(y),b=Math.sqrt(f),j=i*Math.tan((Ch-Math.acos((y+f-g)/(2*v*b)))/2),w=j/b,N=j/v;Math.abs(w-1)>Ma&&this._append`L${t+w*u},${r+w*m}`,this._append`A${i},${i},0,0,${+(m*h>u*p)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=t+l,u=r+c,m=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ma||Math.abs(this._y1-u)>Ma)&&this._append`L${d},${u}`,n&&(f<0&&(f=f%kh+kh),f>P6?this._append`A${n},${n},0,1,${m},${t-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=u}`:f>Ma&&this._append`A${n},${n},0,${+(f>=Ch)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Ex(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new A6(t)}function Ax(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function A2(e){this._context=e}A2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Md(e){return new A2(e)}function O2(e){return e[0]}function T2(e){return e[1]}function M2(e,t){var r=Ne(!0),n=null,s=Md,i=null,o=Ex(l);e=typeof e=="function"?e:e===void 0?O2:Ne(e),t=typeof t=="function"?t:t===void 0?T2:Ne(t);function l(c){var d,u=(c=Ax(c)).length,m,f=!1,h;for(n==null&&(i=s(h=o())),d=0;d<=u;++d)!(d<u&&r(m=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,d,c),+t(m,d,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ne(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ne(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ne(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Gl(e,t,r){var n=null,s=Ne(!0),i=null,o=Md,l=null,c=Ex(d);e=typeof e=="function"?e:e===void 0?O2:Ne(+e),t=typeof t=="function"?t:Ne(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?T2:Ne(+r);function d(m){var f,h,p,y=(m=Ax(m)).length,g,v=!1,b,j=new Array(y),w=new Array(y);for(i==null&&(l=o(b=c())),f=0;f<=y;++f){if(!(f<y&&s(g=m[f],f,m))===v)if(v=!v)h=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=f-1;p>=h;--p)l.point(j[p],w[p]);l.lineEnd(),l.areaEnd()}v&&(j[f]=+e(g,f,m),w[f]=+t(g,f,m),l.point(n?+n(g,f,m):j[f],r?+r(g,f,m):w[f]))}if(b)return l=null,b+""||null}function u(){return M2().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ne(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ne(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ne(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ne(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Ne(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ne(+m),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Ne(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class L2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function O6(e){return new L2(e,!0)}function T6(e){return new L2(e,!1)}const Ox={draw(e,t){const r=Yr(t/ru);e.moveTo(r,0),e.arc(0,0,r,0,Td)}},M6={draw(e,t){const r=Yr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},R2=Yr(1/3),L6=R2*2,R6={draw(e,t){const r=Yr(t/L6),n=r*R2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},D6={draw(e,t){const r=Yr(t),n=-r/2;e.rect(n,n,r,r)}},_6=.8908130915292852,D2=tu(ru/10)/tu(7*ru/10),I6=tu(Td/10)*D2,$6=-P2(Td/10)*D2,F6={draw(e,t){const r=Yr(t*_6),n=I6*r,s=$6*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Td*i/5,l=P2(o),c=tu(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Qm=Yr(3),B6={draw(e,t){const r=-Yr(t/(Qm*3));e.moveTo(0,r*2),e.lineTo(-Qm*r,-r),e.lineTo(Qm*r,-r),e.closePath()}},gr=-.5,yr=Yr(3)/2,Ph=1/Yr(12),z6=(Ph/2+1)*3,U6={draw(e,t){const r=Yr(t/z6),n=r/2,s=r*Ph,i=n,o=r*Ph+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(gr*n-yr*s,yr*n+gr*s),e.lineTo(gr*i-yr*o,yr*i+gr*o),e.lineTo(gr*l-yr*c,yr*l+gr*c),e.lineTo(gr*n+yr*s,gr*s-yr*n),e.lineTo(gr*i+yr*o,gr*o-yr*i),e.lineTo(gr*l+yr*c,gr*c-yr*l),e.closePath()}};function W6(e,t){let r=null,n=Ex(s);e=typeof e=="function"?e:Ne(e||Ox),t=typeof t=="function"?t:Ne(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ne(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ne(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function nu(){}function au(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _2(e){this._context=e}_2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:au(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H6(e){return new _2(e)}function I2(e){this._context=e}I2.prototype={areaStart:nu,areaEnd:nu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q6(e){return new I2(e)}function $2(e){this._context=e}$2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K6(e){return new $2(e)}function F2(e){this._context=e}F2.prototype={areaStart:nu,areaEnd:nu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function G6(e){return new F2(e)}function Ov(e){return e<0?-1:1}function Tv(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Ov(i)+Ov(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Mv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zm(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function su(e){this._context=e}su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zm(this,this._t0,Mv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zm(this,Mv(this,r=Tv(this,e,t)),r);break;default:Zm(this,this._t0,r=Tv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function B2(e){this._context=new z2(e)}(B2.prototype=Object.create(su.prototype)).point=function(e,t){su.prototype.point.call(this,t,e)};function z2(e){this._context=e}z2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function V6(e){return new su(e)}function Y6(e){return new B2(e)}function U2(e){this._context=e}U2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Lv(e),s=Lv(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Lv(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function X6(e){return new U2(e)}function Ld(e,t){this._context=e,this._t=t}Ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Q6(e){return new Ld(e,.5)}function Z6(e){return new Ld(e,0)}function J6(e){return new Ld(e,1)}function ei(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Eh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function e3(e,t){return e[t]}function t3(e){const t=[];return t.key=e,t}function r3(){var e=Ne([]),t=Eh,r=ei,n=e3;function s(i){var o=Array.from(e.apply(this,arguments),t3),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,u=Ax(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ne(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ne(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Eh:typeof i=="function"?i:Ne(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??ei,s):r},s}function n3(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}ei(e,t)}}function a3(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ei(e,t)}}function s3(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],m=u[n][1]||0,f=u[n-1][1]||0,h=(m-f)/2,p=0;p<l;++p){var y=e[t[p]],g=y[n][1]||0,v=y[n-1][1]||0;h+=g-v}c+=m,d+=h*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,ei(e,t)}}var i3=["type","size","sizeType"];function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}function Rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rv(Object(r),!0).forEach(function(n){o3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o3(e,t,r){return(t=l3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l3(e){var t=c3(e,"string");return typeof t=="symbol"?t:t+""}function c3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u3(e,t){if(e==null)return{};var r,n,s=d3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function d3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W2={symbolCircle:Ox,symbolCross:M6,symbolDiamond:R6,symbolSquare:D6,symbolStar:F6,symbolTriangle:B6,symbolWye:U6},m3=Math.PI/180,f3=e=>{var t="symbol".concat(al(e));return W2[t]||Ox},h3=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*m3;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},p3=(e,t)=>{W2["symbol".concat(al(e))]=t},Tx=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=u3(e,i3),i=Dv(Dv({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var f=f3(o),h=W6().type(f).size(h3(r,n,o));return h()},{className:c,cx:d,cy:u}=i,m=Oe(i,!0);return d===+d&&u===+u&&r===+r?x.createElement("path",Ah({},m,{className:he("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:l()})):null};Tx.registerSymbol=p3;function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(null,arguments)}function _v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function x3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_v(Object(r),!0).forEach(function(n){Mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_v(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mx(e,t,r){return(t=g3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3(e){var t=y3(e,"string");return typeof t=="symbol"?t:t+""}function y3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vr=32;class Lx extends x.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=vr/2,i=vr/6,o=vr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:vr,y2:s,className:"recharts-legend-icon"});if(c==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(vr,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return x.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var d=x3({},t);return delete d.legendIcon,x.cloneElement(t.legendIcon,d)}return x.createElement(Tx,{fill:l,cx:s,cy:s,size:vr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:vr,height:vr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,m)=>{var f=u.formatter||s,h=he({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?i:u.color,y=f?f(u.value,u,m):u.value;return x.createElement("li",Oh({className:h,style:c,key:"legend-item-".concat(m)},sl(this.props,u,m)),x.createElement(Px,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(y," legend icon")},this.renderIcon(u,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},y))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}Mx(Lx,"displayName","Legend");Mx(Lx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var H2={},q2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(q2);var Rx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Rx);var K2={},Rd={},G2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(G2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Rd);var V2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(V2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rd,r=V2;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(K2);var Y2={},X2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yd;function r(n){return function(s){return t.get(s,n)}}e.property=r})(X2);var Q2={},Jm={},ef={},Dx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Dx);var _x={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(_x);var Ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Ix);var Iv;function v3(){return Iv||(Iv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$x(),r=Dx,n=_x,s=Ix;function i(m,f,h){return typeof h!="function"?t.isMatch(m,f):o(m,f,function p(y,g,v,b,j,w){const N=h(y,g,v,b,j,w);return N!==void 0?!!N:o(y,g,p,w)},new Map)}function o(m,f,h,p){if(f===m)return!0;switch(typeof f){case"object":return l(m,f,h,p);case"function":return Object.keys(f).length>0?o(m,{...f},h,p):s.eq(m,f);default:return r.isObject(m)?typeof f=="string"?f==="":!0:s.eq(m,f)}}function l(m,f,h,p){if(f==null)return!0;if(Array.isArray(f))return d(m,f,h,p);if(f instanceof Map)return c(m,f,h,p);if(f instanceof Set)return u(m,f,h,p);const y=Object.keys(f);if(m==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(f))return p.get(f)===m;p&&p.set(f,m);try{for(let g=0;g<y.length;g++){const v=y[g];if(!n.isPrimitive(m)&&!(v in m)||f[v]===void 0&&m[v]!==void 0||f[v]===null&&m[v]!==null||!h(m[v],f[v],v,m,f,p))return!1}return!0}finally{p&&p.delete(f)}}function c(m,f,h,p){if(f.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,g]of f.entries()){const v=m.get(y);if(h(v,g,y,m,f,p)===!1)return!1}return!0}function d(m,f,h,p){if(f.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let g=0;g<f.length;g++){const v=f[g];let b=!1;for(let j=0;j<m.length;j++){if(y.has(j))continue;const w=m[j];let N=!1;if(h(w,v,g,m,f,p)&&(N=!0),N){y.add(j),b=!0;break}}if(!b)return!1}return!0}function u(m,f,h,p){return f.size===0?!0:m instanceof Set?d([...m],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=u}(ef)),ef}var $v;function $x(){return $v||($v=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v3();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(Jm)),Jm}var Z2={},Fx={},J2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(J2);var Bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Bx);var zx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",m="[object Function]",f="[object ArrayBuffer]",h="[object Object]",p="[object Error]",y="[object DataView]",g="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",w="[object BigUint64Array]",N="[object Int8Array]",C="[object Int16Array]",P="[object Int32Array]",M="[object BigInt64Array]",E="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=u,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=w,e.booleanTag=s,e.dataViewTag=y,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=O,e.functionTag=m,e.int16ArrayTag=C,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=v})(zx);var eS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(eS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2,r=Bx,n=zx,s=_x,i=eS;function o(u,m){return l(u,void 0,u,new Map,m)}function l(u,m,f,h=new Map,p=void 0){const y=p==null?void 0:p(u,m,f,h);if(y!==void 0)return y;if(s.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const g=new Array(u.length);h.set(u,g);for(let v=0;v<u.length;v++)g[v]=l(u[v],v,f,h,p);return Object.hasOwn(u,"index")&&(g.index=u.index),Object.hasOwn(u,"input")&&(g.input=u.input),g}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const g=new RegExp(u.source,u.flags);return g.lastIndex=u.lastIndex,g}if(u instanceof Map){const g=new Map;h.set(u,g);for(const[v,b]of u)g.set(v,l(b,v,f,h,p));return g}if(u instanceof Set){const g=new Set;h.set(u,g);for(const v of u)g.add(l(v,void 0,f,h,p));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const g=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,g);for(let v=0;v<u.length;v++)g[v]=l(u[v],v,f,h,p);return g}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const g=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,g),c(g,u,f,h,p),g}if(typeof File<"u"&&u instanceof File){const g=new File([u],u.name,{type:u.type});return h.set(u,g),c(g,u,f,h,p),g}if(u instanceof Blob){const g=new Blob([u],{type:u.type});return h.set(u,g),c(g,u,f,h,p),g}if(u instanceof Error){const g=new u.constructor;return h.set(u,g),g.message=u.message,g.name=u.name,g.stack=u.stack,g.cause=u.cause,c(g,u,f,h,p),g}if(typeof u=="object"&&d(u)){const g=Object.create(Object.getPrototypeOf(u));return h.set(u,g),c(g,u,f,h,p),g}return u}function c(u,m,f=u,h,p){const y=[...Object.keys(m),...t.getSymbols(m)];for(let g=0;g<y.length;g++){const v=y[g],b=Object.getOwnPropertyDescriptor(u,v);(b==null||b.writable)&&(u[v]=l(m[v],v,f,h,p))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Fx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$x(),r=Z2;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(Q2);var tS={},rS={},nS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fx,r=zx;function n(s,i){return t.cloneDeepWith(s,(o,l,c,d)=>{const u=i==null?void 0:i(o,l,c,d);if(u!==void 0)return u;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(nS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(rS);var aS={},Ux={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ux);var sS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(sS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx,r=Ux,n=sS,s=vd;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const m=c[u];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(aS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$x(),r=jx,n=rS,s=yd,i=aS;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=s.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(tS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rx,r=X2,n=Q2,s=tS;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(Y2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q2,r=Rx,n=K2,s=Y2;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(H2);var b3=H2.uniqBy;const Fv=$n(b3);function iS(e,t,r){return t===!0?Fv(e,r):typeof t=="function"?Fv(e,t):e}var oS={exports:{}},lS={},cS={exports:{}},uS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=x;function j3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var w3=typeof Object.is=="function"?Object.is:j3,N3=ti.useState,S3=ti.useEffect,C3=ti.useLayoutEffect,k3=ti.useDebugValue;function P3(e,t){var r=t(),n=N3({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return C3(function(){s.value=r,s.getSnapshot=t,tf(s)&&i({inst:s})},[e,r,t]),S3(function(){return tf(s)&&i({inst:s}),e(function(){tf(s)&&i({inst:s})})},[e]),k3(r),r}function tf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!w3(e,r)}catch{return!0}}function E3(e,t){return t()}var A3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E3:P3;uS.useSyncExternalStore=ti.useSyncExternalStore!==void 0?ti.useSyncExternalStore:A3;cS.exports=uS;var O3=cS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=x,T3=O3;function M3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L3=typeof Object.is=="function"?Object.is:M3,R3=T3.useSyncExternalStore,D3=Dd.useRef,_3=Dd.useEffect,I3=Dd.useMemo,$3=Dd.useDebugValue;lS.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=D3(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=I3(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return m=p}return m=h}if(p=m,L3(u,h))return p;var y=n(h);return s!==void 0&&s(p,y)?(u=h,p):(u=h,m=y)}var d=!1,u,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var l=R3(e,i[0],i[1]);return _3(function(){o.hasValue=!0,o.value=l},[l]),$3(l),l};oS.exports=lS;var F3=oS.exports,Wx=x.createContext(null),B3=e=>e,Fe=()=>{var e=x.useContext(Wx);return e?e.store.dispatch:B3},Cc=()=>{},z3=()=>Cc,U3=(e,t)=>e===t;function ne(e){var t=x.useContext(Wx);return F3.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:z3,t?t.store.getState:Cc,t?t.store.getState:Cc,t?e:Cc,U3)}function W3(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function H3(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function q3(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Bv=e=>Array.isArray(e)?e:[e];function K3(e){const t=Array.isArray(e[0])?e[0]:e;return q3(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function G3(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var V3=class{constructor(e){this.value=e}deref(){return this.value}},Y3=typeof WeakRef<"u"?WeakRef:V3,X3=0,zv=1;function Vl(){return{s:X3,v:void 0,o:null,p:null}}function dS(e,t={}){let r=Vl();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var m;let l=r;const{length:c}=arguments;for(let f=0,h=c;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const g=y.get(p);g===void 0?(l=Vl(),y.set(p,l)):l=g}else{let y=l.p;y===null&&(l.p=y=new Map);const g=y.get(p);g===void 0?(l=Vl(),y.set(p,l)):l=g}}const d=l;let u;if(l.s===zv)u=l.v;else if(u=e.apply(null,arguments),i++,n){const f=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;f!=null&&n(f,u)&&(u=f,i!==0&&i--),s=typeof u=="object"&&u!==null||typeof u=="function"?new Y3(u):u}return d.s=zv,d.v=u,u}return o.clearCache=()=>{r=Vl(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Q3(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},d=s.pop();typeof d=="object"&&(c=d,d=s.pop()),W3(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:m,memoizeOptions:f=[],argsMemoize:h=dS,argsMemoizeOptions:p=[]}=u,y=Bv(f),g=Bv(p),v=K3(s),b=m(function(){return i++,d.apply(null,arguments)},...y),j=h(function(){o++;const N=G3(v,arguments);return l=b.apply(null,N),l},...g);return Object.assign(j,{resultFunc:d,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var z=Q3(dS),Z3=Object.assign((e,t=z)=>{H3(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>Z3}),mS={},fS={},hS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(hS);var pS={},Hx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Hx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(pS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hS,r=pS,n=vd;function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const d=(h,p)=>{let y=h;for(let g=0;g<p.length&&y!=null;++g)y=y[p[g]];return y},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:d(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?d(p,h):typeof p=="object"?p[h]:p,m=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let y=0;y<m.length;y++){const g=t.compareValues(h.criteria[y],p.criteria[y],l[y]);if(g!==0)return g}return 0}).map(h=>h.original)}e.orderBy=s})(fS);var xS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):s.push(u)}};return o(r,0),s}e.flatten=t})(xS);var qx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux,r=Rd,n=Dx,s=Ix;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(qx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fS,r=xS,n=qx;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(mS);var J3=mS.sortBy;const _d=$n(J3);var gS=e=>e.legend.settings,eM=e=>e.legend.size,tM=e=>e.legend.payload,rM=z([tM,gS],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?_d(n,r):n});function nM(){return ne(rM)}var Yl=1;function yS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Yl||Math.abs(o.left-t.left)>Yl||Math.abs(o.top-t.top)>Yl||Math.abs(o.width-t.width)>Yl)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function mt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aM=typeof Symbol=="function"&&Symbol.observable||"@@observable",Uv=aM,rf=()=>Math.random().toString(36).substring(7).split("").join("."),sM={INIT:`@@redux/INIT${rf()}`,REPLACE:`@@redux/REPLACE${rf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rf()}`},iu=sM;function Kx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function vS(e,t,r){if(typeof e!="function")throw new Error(mt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mt(1));return r(vS)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((g,v)=>{o.set(v,g)}))}function u(){if(c)throw new Error(mt(3));return s}function m(g){if(typeof g!="function")throw new Error(mt(4));if(c)throw new Error(mt(5));let v=!0;d();const b=l++;return o.set(b,g),function(){if(v){if(c)throw new Error(mt(6));v=!1,d(),o.delete(b),i=null}}}function f(g){if(!Kx(g))throw new Error(mt(7));if(typeof g.type>"u")throw new Error(mt(8));if(typeof g.type!="string")throw new Error(mt(17));if(c)throw new Error(mt(9));try{c=!0,s=n(s,g)}finally{c=!1}return(i=o).forEach(b=>{b()}),g}function h(g){if(typeof g!="function")throw new Error(mt(10));n=g,f({type:iu.REPLACE})}function p(){const g=m;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(mt(11));function b(){const w=v;w.next&&w.next(u())}return b(),{unsubscribe:g(b)}},[Uv](){return this}}}return f({type:iu.INIT}),{dispatch:f,subscribe:m,getState:u,replaceReducer:h,[Uv]:p}}function iM(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:iu.INIT})>"u")throw new Error(mt(12));if(typeof r(void 0,{type:iu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mt(13))})}function bS(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{iM(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const d={};for(let u=0;u<n.length;u++){const m=n[u],f=r[m],h=o[m],p=f(h,l);if(typeof p>"u")throw l&&l.type,new Error(mt(14));d[m]=p,c=c||p!==h}return c=c||n.length!==Object.keys(o).length,c?d:o}}function ou(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oM(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(mt(15))};const o={getState:s.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=ou(...l)(s.dispatch),{...s,dispatch:i}}}function jS(e){return Kx(e)&&"type"in e&&typeof e.type=="string"}var wS=Symbol.for("immer-nothing"),Wv=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function zr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ri=Object.getPrototypeOf;function ss(e){return!!e&&!!e[fr]}function Ln(e){var t;return e?NS(e)||Array.isArray(e)||!!e[Wv]||!!((t=e.constructor)!=null&&t[Wv])||il(e)||$d(e):!1}var lM=Object.prototype.constructor.toString();function NS(e){if(!e||typeof e!="object")return!1;const t=ri(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===lM}function lu(e,t){Id(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Id(e){const t=e[fr];return t?t.type_:Array.isArray(e)?1:il(e)?2:$d(e)?3:0}function Th(e,t){return Id(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function SS(e,t,r){const n=Id(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function cM(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function il(e){return e instanceof Map}function $d(e){return e instanceof Set}function La(e){return e.copy_||e.base_}function Mh(e,t){if(il(e))return new Map(e);if($d(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=NS(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[fr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(ri(e),n)}else{const n=ri(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Gx(e,t=!1){return Fd(e)||ss(e)||!Ln(e)||(Id(e)>1&&Object.defineProperties(e,{set:{value:Xl},add:{value:Xl},clear:{value:Xl},delete:{value:Xl}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Gx(r,!0))),e}function Xl(){zr(2)}function Fd(e){return Object.isFrozen(e)}var uM={};function is(e){const t=uM[e];return t||zr(0,e),t}var _o;function CS(){return _o}function dM(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hv(e,t){t&&(is("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lh(e){Rh(e),e.drafts_.forEach(mM),e.drafts_=null}function Rh(e){e===_o&&(_o=e.parent_)}function qv(e){return _o=dM(_o,e)}function mM(e){const t=e[fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Kv(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[fr].modified_&&(Lh(t),zr(4)),Ln(e)&&(e=cu(t,e),t.parent_||uu(t,e)),t.patches_&&is("Patches").generateReplacementPatches_(r[fr].base_,e,t.patches_,t.inversePatches_)):e=cu(t,r,[]),Lh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wS?e:void 0}function cu(e,t,r){if(Fd(t))return t;const n=t[fr];if(!n)return lu(t,(s,i)=>Gv(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return uu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),lu(i,(l,c)=>Gv(e,n,s,l,c,r,o)),uu(e,s,!1),r&&e.patches_&&is("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Gv(e,t,r,n,s,i,o){if(ss(s)){const l=i&&t&&t.type_!==3&&!Th(t.assigned_,n)?i.concat(n):void 0,c=cu(e,s,l);if(SS(r,n,c),ss(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Ln(s)&&!Fd(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;cu(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(il(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&uu(e,s)}}function uu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gx(t,r)}function fM(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:CS(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Vx;r&&(s=[n],i=Io);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var Vx={get(e,t){if(t===fr)return e;const r=La(e);if(!Th(r,t))return hM(e,r,t);const n=r[t];return e.finalized_||!Ln(n)?n:n===nf(e.base_,t)?(af(e),e.copy_[t]=_h(n,e)):n},has(e,t){return t in La(e)},ownKeys(e){return Reflect.ownKeys(La(e))},set(e,t,r){const n=kS(La(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=nf(La(e),t),i=s==null?void 0:s[fr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(cM(r,s)&&(r!==void 0||Th(e.base_,t)))return!0;af(e),Dh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,af(e),Dh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=La(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){zr(11)},getPrototypeOf(e){return ri(e.base_)},setPrototypeOf(){zr(12)}},Io={};lu(Vx,(e,t)=>{Io[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Io.deleteProperty=function(e,t){return Io.set.call(this,e,t,void 0)};Io.set=function(e,t,r){return Vx.set.call(this,e[0],t,r,e[0])};function nf(e,t){const r=e[fr];return(r?La(r):e)[t]}function hM(e,t,r){var s;const n=kS(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function kS(e,t){if(!(t in e))return;let r=ri(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ri(r)}}function Dh(e){e.modified_||(e.modified_=!0,e.parent_&&Dh(e.parent_))}function af(e){e.copy_||(e.copy_=Mh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pM=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&zr(6),n!==void 0&&typeof n!="function"&&zr(7);let s;if(Ln(t)){const i=qv(this),o=_h(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Lh(i):Rh(i)}return Hv(i,n),Kv(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===wS&&(s=void 0),this.autoFreeze_&&Gx(s,!0),n){const i=[],o=[];is("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else zr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ln(e)||zr(8),ss(e)&&(e=kn(e));const t=qv(this),r=_h(e,void 0);return r[fr].isManual_=!0,Rh(t),r}finishDraft(e,t){const r=e&&e[fr];(!r||!r.isManual_)&&zr(9);const{scope_:n}=r;return Hv(n,t),Kv(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=is("Patches").applyPatches_;return ss(e)?n(e,t):this.produce(e,s=>n(s,t))}};function _h(e,t){const r=il(e)?is("MapSet").proxyMap_(e,t):$d(e)?is("MapSet").proxySet_(e,t):fM(e,t);return(t?t.scope_:CS()).drafts_.push(r),r}function kn(e){return ss(e)||zr(10,e),PS(e)}function PS(e){if(!Ln(e)||Fd(e))return e;const t=e[fr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Mh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Mh(e,!0);return lu(r,(n,s)=>{SS(r,n,PS(s))}),t&&(t.finalized_=!1),r}var xM=new pM,ES=xM.produce;function AS(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var gM=AS(),yM=AS,vM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ou:ou.apply(null,arguments)};function Ar(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(ur(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>jS(n)&&n.type===e,r}var OS=class Zi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zi.prototype)}static get[Symbol.species](){return Zi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zi(...t[0].concat(this)):new Zi(...t.concat(this))}};function Vv(e){return Ln(e)?ES(e,()=>{}):e}function Ql(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function bM(e){return typeof e=="boolean"}var jM=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new OS;return r&&(bM(r)?o.push(gM):o.push(yM(r.extraArgument))),o},wM="RTK_autoBatch",Yv=e=>t=>{setTimeout(t,e)},NM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Yv(10):e.type==="callback"?e.queueNotification:Yv(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const m=()=>s&&u(),f=n.subscribe(m);return l.add(u),()=>{f(),l.delete(u)}},dispatch(u){var m;try{return s=!((m=u==null?void 0:u.meta)!=null&&m[wM]),i=!s,i&&(o||(o=!0,c(d))),n.dispatch(u)}finally{s=!0}}})},SM=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new OS(e);return n&&s.push(NM(typeof n=="object"?n:void 0)),s};function CM(e){const t=jM(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Kx(r))l=bS(r);else throw new Error(ur(1));let c;typeof n=="function"?c=n(t):c=t();let d=ou;s&&(d=vM({trace:!1,...typeof s=="object"&&s}));const u=oM(...c),m=SM(u);let f=typeof o=="function"?o(m):m();const h=d(...f);return vS(l,i,h)}function TS(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(ur(28));if(l in t)throw new Error(ur(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function kM(e){return typeof e=="function"}function PM(e,t){let[r,n,s]=TS(t),i;if(kM(e))i=()=>Vv(e());else{const l=Vv(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[s]),d.reduce((u,m)=>{if(m)if(ss(u)){const h=m(u,c);return h===void 0?u:h}else{if(Ln(u))return ES(u,f=>m(f,c));{const f=m(u,c);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},l)}return o.getInitialState=i,o}var EM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",AM=(e=21)=>{let t="",r=e;for(;r--;)t+=EM[Math.random()*64|0];return t},OM=Symbol.for("rtk-slice-createasyncthunk");function TM(e,t){return`${e}/${t}`}function MM({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[OM];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(ur(11));const l=(typeof s.reducers=="function"?s.reducers(RM()):s.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,N){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(ur(12));if(C in d.sliceCaseReducersByType)throw new Error(ur(13));return d.sliceCaseReducersByType[C]=N,u},addMatcher(w,N){return d.sliceMatchers.push({matcher:w,reducer:N}),u},exposeAction(w,N){return d.actionCreators[w]=N,u},exposeCaseReducer(w,N){return d.sliceCaseReducersByName[w]=N,u}};c.forEach(w=>{const N=l[w],C={reducerName:w,type:TM(i,w),createNotation:typeof s.reducers=="function"};_M(N)?$M(C,N,u,t):DM(C,N,u)});function m(){const[w={},N=[],C=void 0]=typeof s.extraReducers=="function"?TS(s.extraReducers):[s.extraReducers],P={...w,...d.sliceCaseReducersByType};return PM(s.initialState,M=>{for(let E in P)M.addCase(E,P[E]);for(let E of d.sliceMatchers)M.addMatcher(E.matcher,E.reducer);for(let E of N)M.addMatcher(E.matcher,E.reducer);C&&M.addDefaultCase(C)})}const f=w=>w,h=new Map,p=new WeakMap;let y;function g(w,N){return y||(y=m()),y(w,N)}function v(){return y||(y=m()),y.getInitialState()}function b(w,N=!1){function C(M){let E=M[w];return typeof E>"u"&&N&&(E=Ql(p,C,v)),E}function P(M=f){const E=Ql(h,N,()=>new WeakMap);return Ql(E,M,()=>{const O={};for(const[F,I]of Object.entries(s.selectors??{}))O[F]=LM(I,M,()=>Ql(p,M,v),N);return O})}return{reducerPath:w,getSelectors:P,get selectors(){return P(C)},selectSlice:C}}const j={name:i,reducer:g,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(w,{reducerPath:N,...C}={}){const P=N??o;return w.inject({reducerPath:P,reducer:g},C),{...j,...b(P,!0)}}};return j}}function LM(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var xr=MM();function RM(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function DM({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!IM(n))throw new Error(ur(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Ar(e,o):Ar(e))}function _M(e){return e._reducerDefinitionType==="asyncThunk"}function IM(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $M({type:e,reducerName:t},r,n,s){if(!s)throw new Error(ur(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,m=s(e,i,u);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),c&&n.addCase(m.rejected,c),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(t,{fulfilled:o||Zl,pending:l||Zl,rejected:c||Zl,settled:d||Zl})}function Zl(){}var FM="task",MS="listener",LS="completed",Yx="cancelled",BM=`task-${Yx}`,zM=`task-${LS}`,Ih=`${MS}-${Yx}`,UM=`${MS}-${LS}`,Bd=class{constructor(e){kl(this,"name","TaskAbortError");kl(this,"message");this.code=e,this.message=`${FM} ${Yx} (reason: ${e})`}},Xx=(e,t)=>{if(typeof e!="function")throw new TypeError(ur(32))},du=()=>{},RS=(e,t=du)=>(e.catch(t),e),DS=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ka=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ga=e=>{if(e.aborted){const{reason:t}=e;throw new Bd(t)}};function _S(e,t){let r=du;return new Promise((n,s)=>{const i=()=>s(new Bd(e.reason));if(e.aborted){i();return}r=DS(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=du})}var WM=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Bd?"cancelled":"rejected",error:r}}finally{t==null||t()}},mu=e=>t=>RS(_S(e,t).then(r=>(Ga(e),r))),IS=e=>{const t=mu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:zs}=Object,Xv={},zd="listenerMiddleware",HM=(e,t)=>{const r=n=>DS(e,()=>Ka(n,e.reason));return(n,s)=>{Xx(n);const i=new AbortController;r(i);const o=WM(async()=>{Ga(e),Ga(i.signal);const l=await n({pause:mu(i.signal),delay:IS(i.signal),signal:i.signal});return Ga(i.signal),l},()=>Ka(i,zM));return s!=null&&s.autoJoin&&t.push(o.catch(du)),{result:mu(e)(o),cancel(){Ka(i,BM)}}}},qM=(e,t)=>{const r=async(n,s)=>{Ga(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(m,f)=>{f.unsubscribe(),c([m,f.getState(),f.getOriginalState()])}});i=()=>{u(),d()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await _S(t,Promise.race(l));return Ga(t),c}finally{i()}};return(n,s)=>RS(r(n,s))},$S=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Ar(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(ur(21));return Xx(i),{predicate:s,type:t,effect:i}},FS=zs(e=>{const{type:t,predicate:r,effect:n}=$S(e);return{id:AM(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ur(22))}}},{withTypes:()=>FS}),Qv=(e,t)=>{const{type:r,effect:n,predicate:s}=$S(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},$h=e=>{e.pending.forEach(t=>{Ka(t,Ih)})},KM=e=>()=>{e.forEach($h),e.clear()},Zv=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},BS=zs(Ar(`${zd}/add`),{withTypes:()=>BS}),GM=Ar(`${zd}/removeAll`),zS=zs(Ar(`${zd}/remove`),{withTypes:()=>zS}),VM=(...e)=>{console.error(`${zd}/error`,...e)},ol=(e={})=>{const t=new Map,{extra:r,onError:n=VM}=e;Xx(n);const s=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),m=>{u.unsubscribe(),m!=null&&m.cancelActive&&$h(u)}),i=u=>{const m=Qv(t,u)??FS(u);return s(m)};zs(i,{withTypes:()=>i});const o=u=>{const m=Qv(t,u);return m&&(m.unsubscribe(),u.cancelActive&&$h(m)),!!m};zs(o,{withTypes:()=>o});const l=async(u,m,f,h)=>{const p=new AbortController,y=qM(i,p.signal),g=[];try{u.pending.add(p),await Promise.resolve(u.effect(m,zs({},f,{getOriginalState:h,condition:(v,b)=>y(v,b).then(Boolean),take:y,delay:IS(p.signal),pause:mu(p.signal),extra:r,signal:p.signal,fork:HM(p.signal,g),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((v,b,j)=>{v!==p&&(Ka(v,Ih),j.delete(v))})},cancel:()=>{Ka(p,Ih),u.pending.delete(p)},throwIfCancelled:()=>{Ga(p.signal)}})))}catch(v){v instanceof Bd||Zv(n,v,{raisedBy:"effect"})}finally{await Promise.all(g),Ka(p,UM),u.pending.delete(p)}},c=KM(t);return{middleware:u=>m=>f=>{if(!jS(f))return m(f);if(BS.match(f))return i(f.payload);if(GM.match(f)){c();return}if(zS.match(f))return o(f.payload);let h=u.getState();const p=()=>{if(h===Xv)throw new Error(ur(23));return h};let y;try{if(y=m(f),t.size>0){const g=u.getState(),v=Array.from(t.values());for(const b of v){let j=!1;try{j=b.predicate(f,g,h)}catch(w){j=!1,Zv(n,w,{raisedBy:"predicate"})}j&&l(b,f,u,p)}}}finally{h=Xv}return y},startListening:i,stopListening:o,clearListeners:c}};function ur(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var YM={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},US=xr({name:"chartLayout",initialState:YM,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:XM,setLayout:QM,setChartSize:ZM,setScale:JM}=US.actions,eL=US.reducer;function Jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jv(Object(r),!0).forEach(function(n){tL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tL(e,t,r){return(t=rL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rL(e){var t=nL(e,"string");return typeof t=="symbol"?t:t+""}function nL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fu=Math.PI/180,aL=e=>e*180/Math.PI,Xe=(e,t,r,n)=>({x:e+Math.cos(-fu*n)*r,y:t+Math.sin(-fu*n)*r}),WS=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sL=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},iL=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=sL({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:aL(c),angleInRadian:c}},oL=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},lL=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},cL=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=iL({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:d}=oL(t),u=i,m;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}return m?eb(eb({},t),{},{radius:s,angle:lL(u,t)}):null};function HS(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tb(Object(r),!0).forEach(function(n){uL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uL(e,t,r){return(t=dL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dL(e){var t=mL(e,"string");return typeof t=="symbol"?t:t+""}function mL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function be(e,t,r){return Ae(e)||Ae(t)?r:cn(t)?as(e,t,r):typeof t=="function"?t(e):r}var fL=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,m=c>=l-1?r[0].coordinate:r[c+1].coordinate,f=void 0;if(ot(u-d)!==ot(m-u)){var h=[];if(ot(m-u)===ot(s[1]-s[0])){f=m;var p=u+s[1]-s[0];h[0]=Math.min(p,(p+d)/2),h[1]=Math.max(p,(p+d)/2)}else{f=d;var y=m+s[1]-s[0];h[0]=Math.min(u,(y+u)/2),h[1]=Math.max(u,(y+u)/2)}var g=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){({index:o}=r[c]);break}}else{var v=Math.min(d,m),b=Math.max(d,m);if(e>(v+u)/2&&e<=(b+u)/2){({index:o}=r[c]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},hL=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ae(e[i]))return Nr(Nr({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ae(e[o]))return Nr(Nr({},e),{},{[o]:e[o]+(s||0)})}return e},fn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",qS=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},KS=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:m,niceTicks:f,axisType:h}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=s==="category"&&o.bandwidth?o.bandwidth()/p:0;if(y=h==="angleAxis"&&i&&i.length>=2?ot(i[0]-i[1])*2*y:y,m||f){var g=(m||f||[]).map((v,b)=>{var j=n?n.indexOf(v):v;return{coordinate:o(j)+y,value:v,offset:y,index:b}});return g.filter(v=>!Zt(v.coordinate))}return c&&d?d.map((v,b)=>({coordinate:o(v)+y,value:v,index:b,offset:y})):o.ticks&&u!=null?o.ticks(u).map((v,b)=>({coordinate:o(v)+y,value:v,offset:y,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+y,value:n?n[v]:v,index:b,offset:y}))},rb=1e-4,pL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-rb,i=Math.max(n[0],n[1])+rb,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},xL=(e,t)=>{if(!t||t.length!==2||!ae(t[0])||!ae(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(s[0]=r),(!ae(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},gL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=Zt(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},yL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=Zt(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},vL={sign:gL,expand:n3,none:ei,silhouette:a3,wiggle:s3,positive:yL},bL=(e,t,r)=>{var n=vL[r],s=r3().keys(t).value((i,o)=>+be(i,o,0)).order(Eh).offset(n);return s(e)};function GS(e){return e==null?void 0:String(e)}function hu(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ae(s[t.dataKey])){var l=N2(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=be(s,Ae(o)?t.dataKey:o);return Ae(c)?null:t.scale(c)}var nb=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=be(i,t.dataKey,t.scale.domain()[o]);return Ae(l)?null:t.scale(l)-s/2+n},jL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},wL=e=>{var t=e.flat(2).filter(ae);return[Math.min(...t),Math.max(...t)]},NL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],SL=(e,t,r)=>{if(e!=null)return NL(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=HS(d,t,r),m=wL(u);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},ab=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,os=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=_d(t,u=>u.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function ib(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return Nr(Nr({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Ca(e,t){if(e)return String(e);if(typeof t=="string")return t}function CL(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?cL({x:e,y:t},n):null}var kL=(e,t,r,n)=>{var s=t.find(d=>d&&d.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return Nr(Nr(Nr({},n),Xe(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return Nr(Nr(Nr({},n),Xe(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},PL=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Bn=e=>e.layout.width,zn=e=>e.layout.height,EL=e=>e.layout.scale,VS=e=>e.layout.margin,Ud=z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wd=z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),YS="data-recharts-item-index",XS="data-recharts-item-data-key",ll=60;function ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ob(Object(r),!0).forEach(function(n){AL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AL(e,t,r){return(t=OL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OL(e){var t=TL(e,"string");return typeof t=="symbol"?t:t+""}function TL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ML=e=>e.brush.height;function LL(e){var t=Wd(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:ll;return r+s}return r},0)}function RL(e){var t=Wd(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:ll;return r+s}return r},0)}function DL(e){var t=Ud(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function _L(e){var t=Ud(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var tt=z([Bn,zn,VS,ML,LL,RL,DL,_L,gS,eM],(e,t,r,n,s,i,o,l,c,d)=>{var u={left:(r.left||0)+s,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},f=Jl(Jl({},m),u),h=f.bottom;f.bottom+=n,f=hL(f,c,d);var p=e-f.left-f.right,y=t-f.top-f.bottom;return Jl(Jl({brushBottom:h},f),{},{width:Math.max(p,0),height:Math.max(y,0)})}),IL=z(tt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Qx=z(Bn,zn,(e,t)=>({x:0,y:0,width:e,height:t})),$L=x.createContext(null),Ot=()=>x.useContext($L)!=null,Hd=e=>e.brush,qd=z([Hd,tt,VS],(e,t,r)=>({height:e.height,x:ae(e.x)?e.x:t.left,y:ae(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ae(e.width)?e.width:t.width})),Zx=()=>{var e,t=Ot(),r=ne(IL),n=ne(qd),s=(e=ne(Hd))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},FL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QS=()=>{var e;return(e=ne(tt))!==null&&e!==void 0?e:FL},Jx=()=>ne(Bn),eg=()=>ne(zn),BL=()=>ne(e=>e.layout.margin),me=e=>e.layout.layoutType,cl=()=>ne(me),zL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZS=xr({name:"legend",initialState:zL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=kn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:lb,setLegendSettings:UL,addLegendPayload:JS,removeLegendPayload:eC}=ZS.actions,WL=ZS.reducer,HL=["contextPayload"];function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(null,arguments)}function cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(r),!0).forEach(function(n){tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tg(e,t,r){return(t=qL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qL(e){var t=KL(e,"string");return typeof t=="symbol"?t:t+""}function KL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GL(e,t){if(e==null)return{};var r,n,s=VL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YL(e){return e.value}function XL(e){var{contextPayload:t}=e,r=GL(e,HL),n=iS(t,e.payloadUniqBy,YL),s=ni(ni({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,s):typeof e.content=="function"?x.createElement(e.content,s):x.createElement(Lx,s)}function QL(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((n||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((s||0)-i.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ni(ni({},d),u)}function ZL(e){var t=Fe();return x.useEffect(()=>{t(UL(e))},[t,e]),null}function JL(e){var t=Fe();return x.useEffect(()=>(t(lb(e)),()=>{t(lb({width:0,height:0}))}),[t,e]),null}function eR(e){var t=nM(),r=k6(),n=BL(),{width:s,height:i,wrapperStyle:o,portal:l}=e,[c,d]=yS([t]),u=Jx(),m=eg();if(u==null||m==null)return null;var f=u-(n.left||0)-(n.right||0),h=dr.getWidthOrHeight(e.layout,i,s,f),p=l?o:ni(ni({position:"absolute",width:(h==null?void 0:h.width)||s||"auto",height:(h==null?void 0:h.height)||i||"auto"},QL(o,e,n,u,m,c)),o),y=l??r;if(y==null)return null;var g=x.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:d},x.createElement(ZL,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(JL,{width:c.width,height:c.height}),x.createElement(XL,Fh({},e,h,{margin:n,chartWidth:u,chartHeight:m,contextPayload:t})));return ux.createPortal(g,y)}class dr extends x.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&ae(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return x.createElement(eR,this.props)}}tg(dr,"displayName","Legend");tg(dr,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(n){tR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tR(e,t,r){return(t=rR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rR(e){var t=nR(e,"string");return typeof t=="symbol"?t:t+""}function nR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aR(e){return Array.isArray(e)&&cn(e[0])&&cn(e[1])?e.join(" ~ "):e}var sR=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:f=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},C=(l?_d(i,l):i).map((P,M)=>{if(P.type==="none")return null;var E=P.formatter||o||aR,{value:O,name:F}=P,I=O,T=F;if(E){var V=E(O,F,P,M,i);if(Array.isArray(V))[I,T]=V;else if(V!=null)I=V;else return null}var Q=sf({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:Q},cn(T)?x.createElement("span",{className:"recharts-tooltip-item-name"},T):null,cn(T)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},I),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:N},C)}return null},p=sf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=sf({margin:0},s),g=!Ae(u),v=g?u:"",b=he("recharts-default-tooltip",c),j=he("recharts-tooltip-label",d);g&&m&&i!==void 0&&i!==null&&(v=m(u,i));var w=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Bh({className:b,style:p},w),x.createElement("p",{className:j,style:y},x.isValidElement(v)?v:"".concat(v)),h())},Fi="recharts-tooltip-wrapper",iR={visibility:"hidden"};function oR(e){var{coordinate:t,translateX:r,translateY:n}=e;return he(Fi,{["".concat(Fi,"-right")]:ae(r)&&t&&ae(t.x)&&r>=t.x,["".concat(Fi,"-left")]:ae(r)&&t&&ae(t.x)&&r<t.x,["".concat(Fi,"-bottom")]:ae(n)&&t&&ae(t.y)&&n>=t.y,["".concat(Fi,"-top")]:ae(n)&&t&&ae(t.y)&&n<t.y})}function db(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&ae(i[n]))return i[n];var u=r[n]-l-(s>0?s:0),m=r[n]+s;if(t[n])return o[n]?u:m;var f=c[n];if(f==null)return 0;if(o[n]){var h=u,p=f;return h<p?Math.max(m,f):Math.max(u,f)}if(d==null)return 0;var y=m+l,g=f+d;return y>g?Math.max(u,f):Math.max(m,f)}function lR(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function cR(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,m;return o.height>0&&o.width>0&&r?(u=db({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=db({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=lR({translateX:u,translateY:m,useTranslate3d:l})):d=iR,{cssProperties:d,cssClasses:oR({translateX:u,translateY:m,coordinate:r})}}function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zh(e,t,r){return(t=uR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uR(e){var t=dR(e,"string");return typeof t=="symbol"?t:t+""}function dR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mR extends x.PureComponent{constructor(){super(...arguments),zh(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zh(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:m,useTranslate3d:f,viewBox:h,wrapperStyle:p,lastBoundingBox:y,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:j}=cR({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:m,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:h}),w=v?{}:ec(ec({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=ec(ec({},w),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:g},i)}}var fR=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Un={devToolsEnabled:!1,isSsr:fR()},tC=()=>ne(e=>e.rootProps.accessibilityLayer);function bt(e){return Number.isFinite(e)}function ai(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uh.apply(null,arguments)}function fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fb(Object(r),!0).forEach(function(n){hR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hR(e,t,r){return(t=pR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pR(e){var t=xR(e,"string");return typeof t=="symbol"?t:t+""}function xR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pb={curveBasisClosed:q6,curveBasisOpen:K6,curveBasis:H6,curveBumpX:O6,curveBumpY:T6,curveLinearClosed:G6,curveLinear:Md,curveMonotoneX:V6,curveMonotoneY:Y6,curveNatural:X6,curveStep:Q6,curveStepAfter:J6,curveStepBefore:Z6},tc=e=>bt(e.x)&&bt(e.y),Bi=e=>e.x,zi=e=>e.y,gR=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(al(e));return(r==="curveMonotone"||r==="curveBump")&&t?pb["".concat(r).concat(t==="vertical"?"Y":"X")]:pb[r]||Md},yR=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=gR(t,s),l=i?r.filter(tc):r,c;if(Array.isArray(n)){var d=i?n.filter(m=>tc(m)):n,u=l.map((m,f)=>hb(hb({},m),{},{base:d[f]}));return s==="vertical"?c=Gl().y(zi).x1(Bi).x0(m=>m.base.x):c=Gl().x(Bi).y1(zi).y0(m=>m.base.y),c.defined(tc).curve(o),c(u)}return s==="vertical"&&ae(n)?c=Gl().y(zi).x1(Bi).x0(n):ae(n)?c=Gl().x(Bi).y1(zi).y0(n):c=M2().x(Bi).y(zi),c.defined(tc).curve(o),c(l)},Us=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?yR(e):n;return x.createElement("path",Uh({},Mr(e),Cx(e),{className:he("recharts-curve",t),d:i===null?void 0:i,ref:s}))},vR=["x","y","top","left","width","height","className"];function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(null,arguments)}function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){jR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jR(e,t,r){return(t=wR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wR(e){var t=NR(e,"string");return typeof t=="symbol"?t:t+""}function NR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SR(e,t){if(e==null)return{};var r,n,s=CR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function CR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kR=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),PR=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=SR(e,vR),d=bR({x:t,y:r,top:n,left:s,width:i,height:o},c);return!ae(t)||!ae(r)||!ae(i)||!ae(o)||!ae(n)||!ae(s)?null:x.createElement("path",Wh({},Oe(d,!0),{className:he("recharts-cross",l),d:kR(t,r,i,o,n,s)}))};function ER(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){OR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OR(e,t,r){return(t=TR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TR(e){var t=MR(e,"string");return typeof t=="symbol"?t:t+""}function MR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rt(e,t){var r=AR({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function LR(){}function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(r),!0).forEach(function(n){RR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RR(e,t,r){return(t=DR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DR(e){var t=_R(e,"string");return typeof t=="symbol"?t:t+""}function _R(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IR=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rC=(e,t,r)=>e.map(n=>"".concat(IR(n)," ").concat(t,"ms ").concat(r)).join(","),$R=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),$o=(e,t)=>Object.keys(t).reduce((r,n)=>vb(vb({},r),{},{[n]:e(n,t[n])}),{});function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){FR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FR(e,t,r){return(t=BR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BR(e){var t=zR(e,"string");return typeof t=="symbol"?t:t+""}function zR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pu=(e,t,r)=>e+(t-e)*r,Hh=e=>{var{from:t,to:r}=e;return t!==r},nC=(e,t,r)=>{var n=$o((s,i)=>{if(Hh(i)){var[o,l]=e(i.from,i.to,i.velocity);return ht(ht({},i),{},{from:o,velocity:l})}return i},t);return r<1?$o((s,i)=>Hh(i)?ht(ht({},i),{},{velocity:pu(i.velocity,n[s].velocity,r),from:pu(i.from,n[s].from,r)}):i,t):nC(e,n,r-1)};function UR(e,t,r,n,s,i){var o,l=n.reduce((f,h)=>ht(ht({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>$o((f,h)=>h.from,l),d=()=>!Object.values(l).filter(Hh).length,u=null,m=f=>{o||(o=f);var h=f-o,p=h/r.dt;l=nC(r,l,p),s(ht(ht(ht({},e),t),c())),o=f,d()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{u()})}function WR(e,t,r,n,s,i,o){var l=null,c=s.reduce((m,f)=>ht(ht({},m),{},{[f]:[e[f],t[f]]}),{}),d,u=m=>{d||(d=m);var f=(m-d)/n,h=$o((y,g)=>pu(...g,r(f)),c);if(i(ht(ht(ht({},e),t),h)),f<1)l=o.setTimeout(u);else{var p=$o((y,g)=>pu(...g,r(1)),c);i(ht(ht(ht({},e),t),p))}};return()=>(l=o.setTimeout(u),()=>{l()})}const HR=(e,t,r,n,s,i)=>{var o=$R(e,t);return r.isStepper===!0?UR(e,t,r,o,s,i):WR(e,t,r,n,o,s,i)};var xu=1e-4,aC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],sC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),jb=(e,t)=>r=>{var n=aC(e,t);return sC(n,r)},qR=(e,t)=>r=>{var n=aC(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return sC(s,r)},wb=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([t,n,r,s]=o);var d=jb(t,r),u=jb(n,s),m=qR(t,r),f=p=>p>1?1:p<0?0:p,h=p=>{for(var y=p>1?1:p,g=y,v=0;v<8;++v){var b=d(g)-y,j=m(g);if(Math.abs(b-y)<xu||j<xu)return u(g);g=f(g-b/j)}return u(g)};return h.isStepper=!1,h},KR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*n,m=c+(d-u)*s/1e3,f=c*s/1e3+o;return Math.abs(f-l)<xu&&Math.abs(m)<xu?[l,0]:[f,m]};return i.isStepper=!0,i.dt=s,i},GR=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wb(e);case"spring":return KR();default:if(e.split("(")[0]==="cubic-bezier")return wb(e)}return typeof e=="function"?e:null};function VR(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,d),c);return}i(c),s=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class YR{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function XR(){return VR(new YR)}var QR=x.createContext(XR);function ZR(e,t){var r=x.useContext(QR);return x.useMemo(()=>t??r(e),[e,t,r])}var JR={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Nb={t:0},of={t:1};function vi(e){var t=rt(e,JR),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=ZR(t.animationId,t.animationManager),[m,f]=x.useState(r?Nb:of),h=x.useRef(null);return x.useEffect(()=>{r||f(of)},[r]),x.useEffect(()=>{if(!r||!n)return LR;var p=HR(Nb,of,GR(i),s,f,u.getTimeoutController()),y=()=>{h.current=p()};return u.start([c,o,y,s,l]),()=>{u.stop(),h.current&&h.current(),l()}},[r,n,s,i,o,c,l,u]),d(m.t)}function bi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Do(t)),n=x.useRef(e);return n.current!==e&&(r.current=Do(t),n.current=e),r.current}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){eD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eD(e,t,r){return(t=tD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tD(e){var t=rD(e,"string");return typeof t=="symbol"?t:t+""}function rD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(null,arguments)}var kb=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&s instanceof Array){for(var u=[0,0,0,0],m=0,f=4;m<f;m++)u[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var h=Math.min(i,s);d="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},nD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iC=e=>{var t=rt(e,nD),r=x.useRef(null),[n,s]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&s(V)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:m,animationDuration:f,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:y}=t,g=x.useRef(l),v=x.useRef(c),b=x.useRef(i),j=x.useRef(o),w=x.useMemo(()=>({x:i,y:o,width:l,height:c,radius:d}),[i,o,l,c,d]),N=bi(w,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var C=he("recharts-rectangle",u);if(!y)return x.createElement("path",gu({},Oe(t,!0),{className:C,d:kb(i,o,l,c,d)}));var P=g.current,M=v.current,E=b.current,O=j.current,F="0px ".concat(n===-1?1:n,"px"),I="".concat(n,"px 0px"),T=rC(["strokeDasharray"],f,typeof m=="string"?m:void 0);return x.createElement(vi,{animationId:N,key:N,canBegin:n>0,duration:f,easing:m,isActive:y,begin:h},V=>{var Q=ve(P,l,V),k=ve(M,c,V),$=ve(E,i,V),B=ve(O,o,V);r.current&&(g.current=Q,v.current=k,b.current=$,j.current=B);var K;return p?V>0?K={transition:T,strokeDasharray:I}:K={strokeDasharray:F}:K={strokeDasharray:I},x.createElement("path",gu({},Oe(t,!0),{className:C,d:kb($,B,Q,k,d),ref:r,style:Cb(Cb({},K),t.style)}))})};function oC(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=Xe(t,r,n,s),l=Xe(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(null,arguments)}var aD=(e,t)=>{var r=ot(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},rc=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/fu,m=c?s:s+i*u,f=Xe(t,r,d,m),h=Xe(t,r,n,m),p=c?s-i*u:s,y=Xe(t,r,d*Math.cos(u*fu),p);return{center:f,circleTangency:h,lineTangency:y,theta:u}},lC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=aD(i,o),c=i+l,d=Xe(t,r,s,i),u=Xe(t,r,s,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=Xe(t,r,n,i),h=Xe(t,r,n,c);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},sD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=ot(d-c),{circleTangency:m,lineTangency:f,theta:h}=rc({cx:t,cy:r,radius:s,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:y,theta:g}=rc({cx:t,cy:r,radius:s,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(c-d):Math.abs(c-d)-h-g;if(v<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):lC({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:d});var b="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:w,theta:N}=rc({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:C,lineTangency:P,theta:M}=rc({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-d):Math.abs(c-d)-N-M;if(E<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},iD={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cC=e=>{var t=rt(e,iD),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=t;if(i<s||d===u)return null;var f=he("recharts-sector",m),h=i-s,p=Et(o,h,0,!0),y;return p>0&&Math.abs(d-u)<360?y=sD({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):y=lC({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),x.createElement("path",qh({},Oe(t,!0),{className:f,d:y}))};function oD(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:m}=t,f=Xe(l,c,d,m),h=Xe(l,c,u,m);n=f.x,s=f.y,i=h.x,o=h.y}else return oC(t);return[{x:n,y:s},{x:i,y:o}]}var uC={},dC={},mC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(mC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(dC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx,r=dC;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=s,s+=o;return c}e.range=n})(uC);var lD=uC.range;const fC=$n(lD);function ha(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cD(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rg(e){let t,r,n;e.length!==2?(t=ha,r=(l,c)=>ha(e(l),c),n=(l,c)=>e(l)-c):(t=e===ha||e===cD?e:uD,r=e,n=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=s(l,c,d,u-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function uD(){return 0}function hC(e){return e===null?NaN:+e}function*dD(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mD=rg(ha),ul=mD.right;rg(hC).center;class Pb extends Map{constructor(t,r=pD){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Eb(this,t))}has(t){return super.has(Eb(this,t))}set(t,r){return super.set(fD(this,t),r)}delete(t){return super.delete(hD(this,t))}}function Eb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function fD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function hD({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function pD(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xD(e=ha){if(e===ha)return pC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gD=Math.sqrt(50),yD=Math.sqrt(10),vD=Math.sqrt(2);function yu(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=gD?10:i>=yD?5:i>=vD?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?yu(e,t,r*2):[l,c,d]}function Kh(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?yu(t,e,r):yu(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function Gh(e,t,r){return t=+t,e=+e,r=+r,yu(e,t,r)[2]}function Vh(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Gh(t,e,r):Gh(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function Ab(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Ob(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function xC(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?pC:xD(s);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),m=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*m/c+f)),p=Math.min(n,Math.floor(t+(c-d)*m/c+f));xC(e,t,h,p,s)}const i=e[t];let o=r,l=n;for(Ui(e,r,t),s(e[n],i)>0&&Ui(e,r,n);o<l;){for(Ui(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Ui(e,r,l):(++l,Ui(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ui(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bD(e,t,r){if(e=Float64Array.from(dD(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Ob(e);if(t>=1)return Ab(e);var n,s=(n-1)*t,i=Math.floor(s),o=Ab(xC(e,i).subarray(0,i+1)),l=Ob(e.subarray(i+1));return o+(l-o)*(s-i)}}function jD(e,t,r=hC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function wD(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Wn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yh=Symbol("implicit");function ng(){var e=new Pb,t=[],r=[],n=Yh;function s(i){let o=e.get(i);if(o===void 0){if(n!==Yh)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Pb;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return ng(t,r).unknown(n)},Lr.apply(s,arguments),s}function ag(){var e=ng().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var f=t().length,h=s<n,p=h?s:n,y=h?n:s;i=(y-p)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),p+=(y-p-i*(f-c))*u,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var g=wD(f).map(function(v){return p+i*v});return r(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),m()):t()},e.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,m()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),m()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,m()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),m()):u},e.copy=function(){return ag(t(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},Lr.apply(m(),arguments)}function gC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gC(t())},e}function ND(){return gC(ag.apply(null,arguments).paddingInner(1))}function sg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function dl(){}var Fo=.7,vu=1/Fo,Ws="\\s*([+-]?\\d+)\\s*",Bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SD=/^#([0-9a-f]{3,8})$/,CD=new RegExp(`^rgb\\(${Ws},${Ws},${Ws}\\)$`),kD=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),PD=new RegExp(`^rgba\\(${Ws},${Ws},${Ws},${Bo}\\)$`),ED=new RegExp(`^rgba\\(${sn},${sn},${sn},${Bo}\\)$`),AD=new RegExp(`^hsl\\(${Bo},${sn},${sn}\\)$`),OD=new RegExp(`^hsla\\(${Bo},${sn},${sn},${Bo}\\)$`),Tb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sg(dl,zo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mb,formatHex:Mb,formatHex8:TD,formatHsl:MD,formatRgb:Lb,toString:Lb});function Mb(){return this.rgb().formatHex()}function TD(){return this.rgb().formatHex8()}function MD(){return vC(this).formatHsl()}function Lb(){return this.rgb().formatRgb()}function zo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=SD.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Rb(t):r===3?new qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CD.exec(e))?new qt(t[1],t[2],t[3],1):(t=kD.exec(e))?new qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PD.exec(e))?nc(t[1],t[2],t[3],t[4]):(t=ED.exec(e))?nc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AD.exec(e))?Ib(t[1],t[2]/100,t[3]/100,1):(t=OD.exec(e))?Ib(t[1],t[2]/100,t[3]/100,t[4]):Tb.hasOwnProperty(e)?Rb(Tb[e]):e==="transparent"?new qt(NaN,NaN,NaN,0):null}function Rb(e){return new qt(e>>16&255,e>>8&255,e&255,1)}function nc(e,t,r,n){return n<=0&&(e=t=r=NaN),new qt(e,t,r,n)}function LD(e){return e instanceof dl||(e=zo(e)),e?(e=e.rgb(),new qt(e.r,e.g,e.b,e.opacity)):new qt}function Xh(e,t,r,n){return arguments.length===1?LD(e):new qt(e,t,r,n??1)}function qt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sg(qt,Xh,yC(dl,{brighter(e){return e=e==null?vu:Math.pow(vu,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fo:Math.pow(Fo,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qt(Va(this.r),Va(this.g),Va(this.b),bu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Db,formatHex:Db,formatHex8:RD,formatRgb:_b,toString:_b}));function Db(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}`}function RD(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}${Ba((isNaN(this.opacity)?1:this.opacity)*255)}`}function _b(){const e=bu(this.opacity);return`${e===1?"rgb(":"rgba("}${Va(this.r)}, ${Va(this.g)}, ${Va(this.b)}${e===1?")":`, ${e})`}`}function bu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Va(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ba(e){return e=Va(e),(e<16?"0":"")+e.toString(16)}function Ib(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ur(e,t,r,n)}function vC(e){if(e instanceof Ur)return new Ur(e.h,e.s,e.l,e.opacity);if(e instanceof dl||(e=zo(e)),!e)return new Ur;if(e instanceof Ur)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Ur(o,l,c,e.opacity)}function DD(e,t,r,n){return arguments.length===1?vC(e):new Ur(e,t,r,n??1)}function Ur(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sg(Ur,DD,yC(dl,{brighter(e){return e=e==null?vu:Math.pow(vu,e),new Ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fo:Math.pow(Fo,e),new Ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new qt(lf(e>=240?e-240:e+120,s,n),lf(e,s,n),lf(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Ur($b(this.h),ac(this.s),ac(this.l),bu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bu(this.opacity);return`${e===1?"hsl(":"hsla("}${$b(this.h)}, ${ac(this.s)*100}%, ${ac(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $b(e){return e=(e||0)%360,e<0?e+360:e}function ac(e){return Math.max(0,Math.min(1,e||0))}function lf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ig=e=>()=>e;function _D(e,t){return function(r){return e+r*t}}function ID(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $D(e){return(e=+e)==1?bC:function(t,r){return r-t?ID(t,r,e):ig(isNaN(t)?r:t)}}function bC(e,t){var r=t-e;return r?_D(e,r):ig(isNaN(e)?t:e)}const Fb=function e(t){var r=$D(t);function n(s,i){var o=r((s=Xh(s)).r,(i=Xh(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=bC(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return n.gamma=e,n}(1);function FD(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function BD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zD(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=ji(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function UD(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ju(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function WD(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ji(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Qh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cf=new RegExp(Qh.source,"g");function HD(e){return function(){return e}}function qD(e){return function(t){return e(t)+""}}function KD(e,t){var r=Qh.lastIndex=cf.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Qh.exec(e))&&(s=cf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:ju(n,s)})),r=cf.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?qD(c[0].x):HD(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function ji(e,t){var r=typeof t,n;return t==null||r==="boolean"?ig(t):(r==="number"?ju:r==="string"?(n=zo(t))?(t=n,Fb):KD:t instanceof zo?Fb:t instanceof Date?UD:BD(t)?FD:Array.isArray(t)?zD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?WD:ju)(e,t)}function og(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function GD(e,t){t===void 0&&(t=e,e=ji);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function VD(e){return function(){return e}}function wu(e){return+e}var Bb=[0,1];function Rt(e){return e}function Zh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VD(isNaN(t)?NaN:.5)}function YD(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function XD(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Zh(s,n),i=r(o,i)):(n=Zh(n,s),i=r(i,o)),function(l){return i(n(l))}}function QD(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Zh(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=ul(e,l,1,n)-1;return i[c](s[c](l))}}function ml(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kd(){var e=Bb,t=Bb,r=ji,n,s,i,o=Rt,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==Rt&&(o=YD(e[0],e[f-1])),l=f>2?QD:XD,c=d=null,m}function m(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return m.invert=function(f){return o(s((d||(d=l(t,e.map(n),ju)))(f)))},m.domain=function(f){return arguments.length?(e=Array.from(f,wu),u()):e.slice()},m.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},m.rangeRound=function(f){return t=Array.from(f),r=og,u()},m.clamp=function(f){return arguments.length?(o=f?!0:Rt,u()):o!==Rt},m.interpolate=function(f){return arguments.length?(r=f,u()):r},m.unknown=function(f){return arguments.length?(i=f,m):i},function(f,h){return n=f,s=h,u()}}function lg(){return Kd()(Rt,Rt)}function ZD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function si(e){return e=Nu(Math.abs(e)),e?e[1]:NaN}function JD(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function e_(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var t_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uo(e){if(!(t=t_.exec(e)))throw new Error("invalid format: "+e);var t;return new cg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uo.prototype=cg.prototype;function cg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r_(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var jC;function n_(e,t){var r=Nu(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(jC=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Nu(e,Math.max(0,t+i-1))[0]}function zb(e,t){var r=Nu(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Ub={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zb(e*100,t),r:zb,s:n_,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wb(e){return e}var Hb=Array.prototype.map,qb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function a_(e){var t=e.grouping===void 0||e.thousands===void 0?Wb:JD(Hb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Wb:e_(Hb.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Uo(m);var f=m.fill,h=m.align,p=m.sign,y=m.symbol,g=m.zero,v=m.width,b=m.comma,j=m.precision,w=m.trim,N=m.type;N==="n"?(b=!0,N="g"):Ub[N]||(j===void 0&&(j=12),w=!0,N="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var C=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=y==="$"?n:/[%p]/.test(N)?o:"",M=Ub[N],E=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function O(F){var I=C,T=P,V,Q,k;if(N==="c")T=M(F)+T,F="";else{F=+F;var $=F<0||1/F<0;if(F=isNaN(F)?c:M(Math.abs(F),j),w&&(F=r_(F)),$&&+F==0&&p!=="+"&&($=!1),I=($?p==="("?p:l:p==="-"||p==="("?"":p)+I,T=(N==="s"?qb[8+jC/3]:"")+T+($&&p==="("?")":""),E){for(V=-1,Q=F.length;++V<Q;)if(k=F.charCodeAt(V),48>k||k>57){T=(k===46?s+F.slice(V+1):F.slice(V))+T,F=F.slice(0,V);break}}}b&&!g&&(F=t(F,1/0));var B=I.length+F.length+T.length,K=B<v?new Array(v-B+1).join(f):"";switch(b&&g&&(F=t(K+F,K.length?v-T.length:1/0),K=""),h){case"<":F=I+F+T+K;break;case"=":F=I+K+F+T;break;case"^":F=K.slice(0,B=K.length>>1)+I+F+T+K.slice(B);break;default:F=K+I+F+T;break}return i(F)}return O.toString=function(){return m+""},O}function u(m,f){var h=d((m=Uo(m),m.type="f",m)),p=Math.max(-8,Math.min(8,Math.floor(si(f)/3)))*3,y=Math.pow(10,-p),g=qb[8+p/3];return function(v){return h(y*v)+g}}return{format:d,formatPrefix:u}}var sc,ug,wC;s_({thousands:",",grouping:[3],currency:["$",""]});function s_(e){return sc=a_(e),ug=sc.format,wC=sc.formatPrefix,sc}function i_(e){return Math.max(0,-si(Math.abs(e)))}function o_(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(si(t)/3)))*3-si(Math.abs(e)))}function l_(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,si(t)-si(e))+1}function NC(e,t,r,n){var s=Vh(e,t,r),i;switch(n=Uo(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=o_(s,o))&&(n.precision=i),wC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=l_(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=i_(s))&&(n.precision=i-(n.type==="%")*2);break}}return ug(n)}function ka(e){var t=e.domain;return e.ticks=function(r){var n=t();return Kh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return NC(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=Gh(o,l,r),d===c)return n[s]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function SC(){var e=lg();return e.copy=function(){return ml(e,SC())},Lr.apply(e,arguments),ka(e)}function CC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,wu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return CC(e).unknown(t)},e=arguments.length?Array.from(e,wu):[0,1],ka(r)}function kC(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function Kb(e){return Math.log(e)}function Gb(e){return Math.exp(e)}function c_(e){return-Math.log(-e)}function u_(e){return-Math.exp(-e)}function d_(e){return isFinite(e)?+("1e"+e):e<0?0:e}function m_(e){return e===10?d_:e===Math.E?Math.exp:t=>Math.pow(e,t)}function f_(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Vb(e){return(t,r)=>-e(-t,r)}function dg(e){const t=e(Kb,Gb),r=t.domain;let n=10,s,i;function o(){return s=f_(n),i=m_(n),r()[0]<0?(s=Vb(s),i=Vb(i),e(c_,u_)):e(Kb,Gb),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let f=s(d),h=s(u),p,y;const g=l==null?10:+l;let v=[];if(!(n%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),d>0){for(;f<=h;++f)for(p=1;p<n;++p)if(y=f<0?p/i(-f):p*i(f),!(y<d)){if(y>u)break;v.push(y)}}else for(;f<=h;++f)for(p=n-1;p>=1;--p)if(y=f>0?p/i(-f):p*i(f),!(y<d)){if(y>u)break;v.push(y)}v.length*2<g&&(v=Kh(d,u,g))}else v=Kh(f,h,Math.min(h-f,g)).map(i);return m?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Uo(c)).precision==null&&(c.trim=!0),c=ug(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let m=u/i(Math.round(s(u)));return m*n<n-.5&&(m*=n),m<=d?c(u):""}},t.nice=()=>r(kC(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function PC(){const e=dg(Kd()).domain([1,10]);return e.copy=()=>ml(e,PC()).base(e.base()),Lr.apply(e,arguments),e}function Yb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Xb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mg(e){var t=1,r=e(Yb(t),Xb(t));return r.constant=function(n){return arguments.length?e(Yb(t=+n),Xb(t)):t},ka(r)}function EC(){var e=mg(Kd());return e.copy=function(){return ml(e,EC()).constant(e.constant())},Lr.apply(e,arguments)}function Qb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function h_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function p_(e){return e<0?-e*e:e*e}function fg(e){var t=e(Rt,Rt),r=1;function n(){return r===1?e(Rt,Rt):r===.5?e(h_,p_):e(Qb(r),Qb(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},ka(t)}function hg(){var e=fg(Kd());return e.copy=function(){return ml(e,hg()).exponent(e.exponent())},Lr.apply(e,arguments),e}function x_(){return hg.apply(null,arguments).exponent(.5)}function Zb(e){return Math.sign(e)*e*e}function g_(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AC(){var e=lg(),t=[0,1],r=!1,n;function s(i){var o=g_(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(Zb(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,wu)).map(Zb)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return AC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Lr.apply(s,arguments),ka(s)}function OC(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=jD(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[ul(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ha),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return OC().domain(e).range(t).unknown(n)},Lr.apply(i,arguments)}function TC(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[ul(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return TC().domain([e,t]).range(s).unknown(i)},Lr.apply(ka(o),arguments)}function MC(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[ul(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return MC().domain(e).range(t).unknown(r)},Lr.apply(s,arguments)}const uf=new Date,df=new Date;function nt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>nt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(uf.setTime(+i),df.setTime(+o),e(uf),e(df),Math.floor(r(uf,df))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Su=nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Su.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Su);Su.range;const wn=1e3,Cr=wn*60,Nn=Cr*60,Rn=Nn*24,pg=Rn*7,Jb=Rn*30,mf=Rn*365,za=nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getUTCSeconds());za.range;const xg=nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wn)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getMinutes());xg.range;const gg=nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getUTCMinutes());gg.range;const yg=nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wn-e.getMinutes()*Cr)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getHours());yg.range;const vg=nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getUTCHours());vg.range;const fl=nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cr)/Rn,e=>e.getDate()-1);fl.range;const Gd=nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rn,e=>e.getUTCDate()-1);Gd.range;const LC=nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rn,e=>Math.floor(e/Rn));LC.range;function hs(e){return nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Cr)/pg)}const Vd=hs(0),Cu=hs(1),y_=hs(2),v_=hs(3),ii=hs(4),b_=hs(5),j_=hs(6);Vd.range;Cu.range;y_.range;v_.range;ii.range;b_.range;j_.range;function ps(e){return nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/pg)}const Yd=ps(0),ku=ps(1),w_=ps(2),N_=ps(3),oi=ps(4),S_=ps(5),C_=ps(6);Yd.range;ku.range;w_.range;N_.range;oi.range;S_.range;C_.range;const bg=nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bg.range;const jg=nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jg.range;const Dn=nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Dn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Dn.range;const _n=nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_n.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_n.range;function RC(e,t,r,n,s,i){const o=[[za,1,wn],[za,5,5*wn],[za,15,15*wn],[za,30,30*wn],[i,1,Cr],[i,5,5*Cr],[i,15,15*Cr],[i,30,30*Cr],[s,1,Nn],[s,3,3*Nn],[s,6,6*Nn],[s,12,12*Nn],[n,1,Rn],[n,2,2*Rn],[r,1,pg],[t,1,Jb],[t,3,3*Jb],[e,1,mf]];function l(d,u,m){const f=u<d;f&&([d,u]=[u,d]);const h=m&&typeof m.range=="function"?m:c(d,u,m),p=h?h.range(d,+u+1):[];return f?p.reverse():p}function c(d,u,m){const f=Math.abs(u-d)/m,h=rg(([,,g])=>g).right(o,f);if(h===o.length)return e.every(Vh(d/mf,u/mf,m));if(h===0)return Su.every(Math.max(Vh(d,u,m),1));const[p,y]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(y)}return[l,c]}const[k_,P_]=RC(_n,jg,Yd,LC,vg,gg),[E_,A_]=RC(Dn,bg,Vd,fl,yg,xg);function ff(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wi(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function O_(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Hi(s),u=qi(s),m=Hi(i),f=qi(i),h=Hi(o),p=qi(o),y=Hi(l),g=qi(l),v=Hi(c),b=qi(c),j={a:$,A:B,b:K,B:R,c:null,d:sj,e:sj,f:J_,g:cI,G:dI,H:X_,I:Q_,j:Z_,L:DC,m:eI,M:tI,p:U,q,Q:lj,s:cj,S:rI,u:nI,U:aI,V:sI,w:iI,W:oI,x:null,X:null,y:lI,Y:uI,Z:mI,"%":oj},w={a:D,A:S,b:_,B:G,c:null,d:ij,e:ij,f:xI,g:kI,G:EI,H:fI,I:hI,j:pI,L:IC,m:gI,M:yI,p:se,q:ie,Q:lj,s:cj,S:vI,u:bI,U:jI,V:wI,w:NI,W:SI,x:null,X:null,y:CI,Y:PI,Z:AI,"%":oj},N={a:O,A:F,b:I,B:T,c:V,d:nj,e:nj,f:K_,g:rj,G:tj,H:aj,I:aj,j:U_,L:q_,m:z_,M:W_,p:E,q:B_,Q:V_,s:Y_,S:H_,u:D_,U:__,V:I_,w:R_,W:$_,x:Q,X:k,y:rj,Y:tj,Z:F_,"%":G_};j.x=C(r,j),j.X=C(n,j),j.c=C(t,j),w.x=C(r,w),w.X=C(n,w),w.c=C(t,w);function C(Y,le){return function(L){var A=[],J=-1,Z=0,fe=Y.length,H,ce,De;for(L instanceof Date||(L=new Date(+L));++J<fe;)Y.charCodeAt(J)===37&&(A.push(Y.slice(Z,J)),(ce=ej[H=Y.charAt(++J)])!=null?H=Y.charAt(++J):ce=H==="e"?" ":"0",(De=le[H])&&(H=De(L,ce)),A.push(H),Z=J+1);return A.push(Y.slice(Z,J)),A.join("")}}function P(Y,le){return function(L){var A=Wi(1900,void 0,1),J=M(A,Y,L+="",0),Z,fe;if(J!=L.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(le&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(Z=hf(Wi(A.y,0,1)),fe=Z.getUTCDay(),Z=fe>4||fe===0?ku.ceil(Z):ku(Z),Z=Gd.offset(Z,(A.V-1)*7),A.y=Z.getUTCFullYear(),A.m=Z.getUTCMonth(),A.d=Z.getUTCDate()+(A.w+6)%7):(Z=ff(Wi(A.y,0,1)),fe=Z.getDay(),Z=fe>4||fe===0?Cu.ceil(Z):Cu(Z),Z=fl.offset(Z,(A.V-1)*7),A.y=Z.getFullYear(),A.m=Z.getMonth(),A.d=Z.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),fe="Z"in A?hf(Wi(A.y,0,1)).getUTCDay():ff(Wi(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(fe+5)%7:A.w+A.U*7-(fe+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,hf(A)):ff(A)}}function M(Y,le,L,A){for(var J=0,Z=le.length,fe=L.length,H,ce;J<Z;){if(A>=fe)return-1;if(H=le.charCodeAt(J++),H===37){if(H=le.charAt(J++),ce=N[H in ej?le.charAt(J++):H],!ce||(A=ce(Y,L,A))<0)return-1}else if(H!=L.charCodeAt(A++))return-1}return A}function E(Y,le,L){var A=d.exec(le.slice(L));return A?(Y.p=u.get(A[0].toLowerCase()),L+A[0].length):-1}function O(Y,le,L){var A=h.exec(le.slice(L));return A?(Y.w=p.get(A[0].toLowerCase()),L+A[0].length):-1}function F(Y,le,L){var A=m.exec(le.slice(L));return A?(Y.w=f.get(A[0].toLowerCase()),L+A[0].length):-1}function I(Y,le,L){var A=v.exec(le.slice(L));return A?(Y.m=b.get(A[0].toLowerCase()),L+A[0].length):-1}function T(Y,le,L){var A=y.exec(le.slice(L));return A?(Y.m=g.get(A[0].toLowerCase()),L+A[0].length):-1}function V(Y,le,L){return M(Y,t,le,L)}function Q(Y,le,L){return M(Y,r,le,L)}function k(Y,le,L){return M(Y,n,le,L)}function $(Y){return o[Y.getDay()]}function B(Y){return i[Y.getDay()]}function K(Y){return c[Y.getMonth()]}function R(Y){return l[Y.getMonth()]}function U(Y){return s[+(Y.getHours()>=12)]}function q(Y){return 1+~~(Y.getMonth()/3)}function D(Y){return o[Y.getUTCDay()]}function S(Y){return i[Y.getUTCDay()]}function _(Y){return c[Y.getUTCMonth()]}function G(Y){return l[Y.getUTCMonth()]}function se(Y){return s[+(Y.getUTCHours()>=12)]}function ie(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var le=C(Y+="",j);return le.toString=function(){return Y},le},parse:function(Y){var le=P(Y+="",!1);return le.toString=function(){return Y},le},utcFormat:function(Y){var le=C(Y+="",w);return le.toString=function(){return Y},le},utcParse:function(Y){var le=P(Y+="",!0);return le.toString=function(){return Y},le}}}var ej={"-":"",_:" ",0:"0"},ct=/^\s*\d+/,T_=/^%/,M_=/[\\^$*+?|[\]().{}]/g;function xe(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function L_(e){return e.replace(M_,"\\$&")}function Hi(e){return new RegExp("^(?:"+e.map(L_).join("|")+")","i")}function qi(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function R_(e,t,r){var n=ct.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function D_(e,t,r){var n=ct.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function __(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function I_(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $_(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tj(e,t,r){var n=ct.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rj(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function F_(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function B_(e,t,r){var n=ct.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function z_(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nj(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function U_(e,t,r){var n=ct.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aj(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function W_(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function H_(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function q_(e,t,r){var n=ct.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function K_(e,t,r){var n=ct.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function G_(e,t,r){var n=T_.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function V_(e,t,r){var n=ct.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Y_(e,t,r){var n=ct.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sj(e,t){return xe(e.getDate(),t,2)}function X_(e,t){return xe(e.getHours(),t,2)}function Q_(e,t){return xe(e.getHours()%12||12,t,2)}function Z_(e,t){return xe(1+fl.count(Dn(e),e),t,3)}function DC(e,t){return xe(e.getMilliseconds(),t,3)}function J_(e,t){return DC(e,t)+"000"}function eI(e,t){return xe(e.getMonth()+1,t,2)}function tI(e,t){return xe(e.getMinutes(),t,2)}function rI(e,t){return xe(e.getSeconds(),t,2)}function nI(e){var t=e.getDay();return t===0?7:t}function aI(e,t){return xe(Vd.count(Dn(e)-1,e),t,2)}function _C(e){var t=e.getDay();return t>=4||t===0?ii(e):ii.ceil(e)}function sI(e,t){return e=_C(e),xe(ii.count(Dn(e),e)+(Dn(e).getDay()===4),t,2)}function iI(e){return e.getDay()}function oI(e,t){return xe(Cu.count(Dn(e)-1,e),t,2)}function lI(e,t){return xe(e.getFullYear()%100,t,2)}function cI(e,t){return e=_C(e),xe(e.getFullYear()%100,t,2)}function uI(e,t){return xe(e.getFullYear()%1e4,t,4)}function dI(e,t){var r=e.getDay();return e=r>=4||r===0?ii(e):ii.ceil(e),xe(e.getFullYear()%1e4,t,4)}function mI(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xe(t/60|0,"0",2)+xe(t%60,"0",2)}function ij(e,t){return xe(e.getUTCDate(),t,2)}function fI(e,t){return xe(e.getUTCHours(),t,2)}function hI(e,t){return xe(e.getUTCHours()%12||12,t,2)}function pI(e,t){return xe(1+Gd.count(_n(e),e),t,3)}function IC(e,t){return xe(e.getUTCMilliseconds(),t,3)}function xI(e,t){return IC(e,t)+"000"}function gI(e,t){return xe(e.getUTCMonth()+1,t,2)}function yI(e,t){return xe(e.getUTCMinutes(),t,2)}function vI(e,t){return xe(e.getUTCSeconds(),t,2)}function bI(e){var t=e.getUTCDay();return t===0?7:t}function jI(e,t){return xe(Yd.count(_n(e)-1,e),t,2)}function $C(e){var t=e.getUTCDay();return t>=4||t===0?oi(e):oi.ceil(e)}function wI(e,t){return e=$C(e),xe(oi.count(_n(e),e)+(_n(e).getUTCDay()===4),t,2)}function NI(e){return e.getUTCDay()}function SI(e,t){return xe(ku.count(_n(e)-1,e),t,2)}function CI(e,t){return xe(e.getUTCFullYear()%100,t,2)}function kI(e,t){return e=$C(e),xe(e.getUTCFullYear()%100,t,2)}function PI(e,t){return xe(e.getUTCFullYear()%1e4,t,4)}function EI(e,t){var r=e.getUTCDay();return e=r>=4||r===0?oi(e):oi.ceil(e),xe(e.getUTCFullYear()%1e4,t,4)}function AI(){return"+0000"}function oj(){return"%"}function lj(e){return+e}function cj(e){return Math.floor(+e/1e3)}var vs,FC,BC;OI({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OI(e){return vs=O_(e),FC=vs.format,vs.parse,BC=vs.utcFormat,vs.utcParse,vs}function TI(e){return new Date(e)}function MI(e){return e instanceof Date?+e:+new Date(+e)}function wg(e,t,r,n,s,i,o,l,c,d){var u=lg(),m=u.invert,f=u.domain,h=d(".%L"),p=d(":%S"),y=d("%I:%M"),g=d("%I %p"),v=d("%a %d"),b=d("%b %d"),j=d("%B"),w=d("%Y");function N(C){return(c(C)<C?h:l(C)<C?p:o(C)<C?y:i(C)<C?g:n(C)<C?s(C)<C?v:b:r(C)<C?j:w)(C)}return u.invert=function(C){return new Date(m(C))},u.domain=function(C){return arguments.length?f(Array.from(C,MI)):f().map(TI)},u.ticks=function(C){var P=f();return e(P[0],P[P.length-1],C??10)},u.tickFormat=function(C,P){return P==null?N:d(P)},u.nice=function(C){var P=f();return(!C||typeof C.range!="function")&&(C=t(P[0],P[P.length-1],C??10)),C?f(kC(P,C)):u},u.copy=function(){return ml(u,wg(e,t,r,n,s,i,o,l,c,d))},u}function LI(){return Lr.apply(wg(E_,A_,Dn,bg,Vd,fl,yg,xg,za,FC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function RI(){return Lr.apply(wg(k_,P_,_n,jg,Yd,Gd,vg,gg,za,BC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xd(){var e=0,t=1,r,n,s,i,o=Rt,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(f){var h,p;return arguments.length?([h,p]=f,o=m(h,p),d):[o(0),o(1)]}}return d.range=u(ji),d.rangeRound=u(og),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),d}}function Pa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zC(){var e=ka(Xd()(Rt));return e.copy=function(){return Pa(e,zC())},Wn.apply(e,arguments)}function UC(){var e=dg(Xd()).domain([1,10]);return e.copy=function(){return Pa(e,UC()).base(e.base())},Wn.apply(e,arguments)}function WC(){var e=mg(Xd());return e.copy=function(){return Pa(e,WC()).constant(e.constant())},Wn.apply(e,arguments)}function Ng(){var e=fg(Xd());return e.copy=function(){return Pa(e,Ng()).exponent(e.exponent())},Wn.apply(e,arguments)}function DI(){return Ng.apply(null,arguments).exponent(.5)}function HC(){var e=[],t=Rt;function r(n){if(n!=null&&!isNaN(n=+n))return t((ul(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ha),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>bD(e,i/n))},r.copy=function(){return HC(t).domain(e)},Wn.apply(r,arguments)}function Qd(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,d=Rt,u,m=!1,f;function h(y){return isNaN(y=+y)?f:(y=.5+((y=+u(y))-i)*(n*y<n*i?l:c),d(m?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,r]=y,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h):[e,t,r]},h.clamp=function(y){return arguments.length?(m=!!y,h):m},h.interpolator=function(y){return arguments.length?(d=y,h):d};function p(y){return function(g){var v,b,j;return arguments.length?([v,b,j]=g,d=GD(y,[v,b,j]),h):[d(0),d(.5),d(1)]}}return h.range=p(ji),h.rangeRound=p(og),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return u=y,s=y(e),i=y(t),o=y(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h}}function qC(){var e=ka(Qd()(Rt));return e.copy=function(){return Pa(e,qC())},Wn.apply(e,arguments)}function KC(){var e=dg(Qd()).domain([.1,1,10]);return e.copy=function(){return Pa(e,KC()).base(e.base())},Wn.apply(e,arguments)}function GC(){var e=mg(Qd());return e.copy=function(){return Pa(e,GC()).constant(e.constant())},Wn.apply(e,arguments)}function Sg(){var e=fg(Qd());return e.copy=function(){return Pa(e,Sg()).exponent(e.exponent())},Wn.apply(e,arguments)}function _I(){return Sg.apply(null,arguments).exponent(.5)}const Ji=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ag,scaleDiverging:qC,scaleDivergingLog:KC,scaleDivergingPow:Sg,scaleDivergingSqrt:_I,scaleDivergingSymlog:GC,scaleIdentity:CC,scaleImplicit:Yh,scaleLinear:SC,scaleLog:PC,scaleOrdinal:ng,scalePoint:ND,scalePow:hg,scaleQuantile:OC,scaleQuantize:TC,scaleRadial:AC,scaleSequential:zC,scaleSequentialLog:UC,scaleSequentialPow:Ng,scaleSequentialQuantile:HC,scaleSequentialSqrt:DI,scaleSequentialSymlog:WC,scaleSqrt:x_,scaleSymlog:EC,scaleThreshold:MC,scaleTime:LI,scaleUtc:RI,tickFormat:NC},Symbol.toStringTag,{value:"Module"}));var Ea=e=>e.chartData,Cg=z([Ea],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hl=(e,t,r,n)=>n?Cg(e):Ea(e);function li(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(bt(t)&&bt(r))return!0}return!1}function uj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function II(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(bt(r))s=r;else if(typeof r=="function")return;if(bt(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(li(o))return o}}function $I(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(li(n))return uj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(ae(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&ab.test(s)){var c=ab.exec(s);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ae(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&sb.test(i)){var u=sb.exec(i);if(u==null||t==null)l=void 0;else{var m=+u[1];l=t[1]+m}}else l=t==null?void 0:t[1];var f=[o,l];if(li(f))return t==null?f:uj(f,t,r)}}}var wi=1e9,FI={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Pg,Le=!0,Or="[DecimalError] ",Ya=Or+"Invalid argument: ",kg=Or+"Exponent out of range: ",Ni=Math.floor,Ra=Math.pow,BI=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,st=1e7,ke=7,VC=9007199254740991,Pu=Ni(VC/ke),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ke;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return Pn(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return je(Pn(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return Qe(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sr))throw Error(Or+"NaN");if(r.s<1)throw Error(Or+(r.s?"NaN":"-Infinity"));return r.eq(sr)?new n(0):(Le=!1,t=Pn(Wo(r,i),Wo(e,i),i),Le=!0,je(t,s))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QC(t,e):YC(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Or+"NaN");return r.s?(Le=!1,t=Pn(r,e,0,1).times(e),Le=!0,r.minus(t)):je(new n(r),s)};re.naturalExponential=re.exp=function(){return XC(this)};re.naturalLogarithm=re.ln=function(){return Wo(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YC(t,e):QC(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ya+e);if(t=Qe(s)+1,n=s.d.length-1,r=n*ke+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Or+"NaN")}for(e=Qe(l),Le=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=en(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Ni((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Pn(l,i,o+2)).times(.5),en(i.d).slice(0,o)===(t=en(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(je(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Le=!0,je(n,r)};re.times=re.mul=function(e){var t,r,n,s,i,o,l,c,d,u=this,m=u.constructor,f=u.d,h=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,r=u.e+e.e,c=f.length,d=h.length,c<d&&(i=f,f=h,h=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+h[n]*f[s-n-1]+t,i[s--]=l%st|0,t=l/st|0;i[s]=(i[s]+t)%st|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Le?je(e,m.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(un(e,0,wi),t===void 0?t=n.rounding:un(t,0,8),je(r,e+Qe(r)+1,t))};re.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=ls(n,!0):(un(e,0,wi),t===void 0?t=s.rounding:un(t,0,8),n=je(new s(n),e+1,t),r=ls(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?ls(s):(un(e,0,wi),t===void 0?t=i.rounding:un(t,0,8),n=je(new i(s),e+Qe(s)+1,t),r=ls(n.abs(),!1,e+Qe(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return je(new t(e),Qe(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(sr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Or+"Infinity");return l}if(l.eq(sr))return l;if(n=c.precision,e.eq(sr))return je(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=VC){for(s=new c(sr),t=Math.ceil(n/ke+4),Le=!1;r%2&&(s=s.times(l),mj(s.d,t)),r=Ni(r/2),r!==0;)l=l.times(l),mj(l.d,t);return Le=!0,e.s<0?new c(sr).div(s):je(s,n)}}else if(i<0)throw Error(Or+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Le=!1,s=e.times(Wo(l,n+d)),Le=!0,s=XC(s),s.s=i,s};re.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Qe(s),n=ls(s,r<=i.toExpNeg||r>=i.toExpPos)):(un(e,1,wi),t===void 0?t=i.rounding:un(t,0,8),s=je(new i(s),e,t),r=Qe(s),n=ls(s,e<=r||r<=i.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(un(e,1,wi),t===void 0?t=n.rounding:un(t,0,8)),je(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qe(e),r=e.constructor;return ls(e,t<=r.toExpNeg||t>=r.toExpPos)};function YC(e,t){var r,n,s,i,o,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Le?je(t,m):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(m/ke),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/st|0,c[i]%=st;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Le?je(t,m):t}function un(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ya+e)}function en(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=ke-n.length,r&&(i+=Qn(r)),i+=n;o=e[t],n=o+"",r=ke-n.length,r&&(i+=Qn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Pn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%st|0,o=i/st|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*st+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,u,m,f,h,p,y,g,v,b,j,w,N,C,P,M,E=n.constructor,O=n.s==s.s?1:-1,F=n.d,I=s.d;if(!n.s)return new E(n);if(!s.s)throw Error(Or+"Division by zero");for(c=n.e-s.e,P=I.length,N=F.length,h=new E(O),p=h.d=[],d=0;I[d]==(F[d]||0);)++d;if(I[d]>(F[d]||0)&&--c,i==null?b=i=E.precision:o?b=i+(Qe(n)-Qe(s))+1:b=i,b<0)return new E(0);if(b=b/ke+2|0,d=0,P==1)for(u=0,I=I[0],b++;(d<N||u)&&b--;d++)j=u*st+(F[d]||0),p[d]=j/I|0,u=j%I|0;else{for(u=st/(I[0]+1)|0,u>1&&(I=e(I,u),F=e(F,u),P=I.length,N=F.length),w=P,y=F.slice(0,P),g=y.length;g<P;)y[g++]=0;M=I.slice(),M.unshift(0),C=I[0],I[1]>=st/2&&++C;do u=0,l=t(I,y,P,g),l<0?(v=y[0],P!=g&&(v=v*st+(y[1]||0)),u=v/C|0,u>1?(u>=st&&(u=st-1),m=e(I,u),f=m.length,g=y.length,l=t(m,y,f,g),l==1&&(u--,r(m,P<f?M:I,f))):(u==0&&(l=u=1),m=I.slice()),f=m.length,f<g&&m.unshift(0),r(y,m,g),l==-1&&(g=y.length,l=t(I,y,P,g),l<1&&(u++,r(y,P<g?M:I,g))),g=y.length):l===0&&(u++,y=[0]),p[d++]=u,l&&y[0]?y[g++]=F[w]||0:(y=[F[w]],g=1);while((w++<N||y[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=c,je(h,o?i+Qe(h)+1:i)}}();function XC(e,t){var r,n,s,i,o,l,c=0,d=0,u=e.constructor,m=u.precision;if(Qe(e)>16)throw Error(kg+Qe(e));if(!e.s)return new u(sr);for(Le=!1,l=m,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Ra(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new u(sr),u.precision=l;;){if(s=je(s.times(e),l),r=r.times(++c),o=i.plus(Pn(s,r,l)),en(o.d).slice(0,l)===en(i.d).slice(0,l)){for(;d--;)i=je(i.times(i),l);return u.precision=m,t==null?(Le=!0,je(i,m)):i}i=o}}function Qe(e){for(var t=e.e*ke,r=e.d[0];r>=10;r/=10)t++;return t}function pf(e,t,r){if(t>e.LN10.sd())throw Le=!0,r&&(e.precision=r),Error(Or+"LN10 precision limit exceeded");return je(new e(e.LN10),t)}function Qn(e){for(var t="";e--;)t+="0";return t}function Wo(e,t){var r,n,s,i,o,l,c,d,u,m=1,f=10,h=e,p=h.d,y=h.constructor,g=y.precision;if(h.s<1)throw Error(Or+(h.s?"NaN":"-Infinity"));if(h.eq(sr))return new y(0);if(t==null?(Le=!1,d=g):d=t,h.eq(10))return t==null&&(Le=!0),pf(y,d);if(d+=f,y.precision=d,r=en(p),n=r.charAt(0),i=Qe(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=en(h.d),n=r.charAt(0),m++;i=Qe(h),n>1?(h=new y("0."+r),i++):h=new y(n+"."+r.slice(1))}else return c=pf(y,d+2,g).times(i+""),h=Wo(new y(n+"."+r.slice(1)),d-f).plus(c),y.precision=g,t==null?(Le=!0,je(h,g)):h;for(l=o=h=Pn(h.minus(sr),h.plus(sr),d),u=je(h.times(h),d),s=3;;){if(o=je(o.times(u),d),c=l.plus(Pn(o,new y(s),d)),en(c.d).slice(0,d)===en(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(pf(y,d+2,g).times(i+""))),l=Pn(l,new y(m),d),y.precision=g,t==null?(Le=!0,je(l,g)):l;l=c,s+=2}}function dj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Ni(r/ke),e.d=[],n=(r+1)%ke,r<0&&(n+=ke),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=ke;n<s;)e.d.push(+t.slice(n,n+=ke));t=t.slice(n),n=ke-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Le&&(e.e>Pu||e.e<-Pu))throw Error(kg+r)}else e.s=0,e.e=0,e.d=[0];return e}function je(e,t,r){var n,s,i,o,l,c,d,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ke,s=t,d=m[u=0];else{if(u=Math.ceil((n+1)/ke),i=m.length,u>=i)return e;for(d=i=m[u],o=1;i>=10;i/=10)o++;n%=ke,s=n-ke+o}if(r!==void 0&&(i=Ra(10,o-s-1),l=d/i%10|0,c=t<0||m[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/Ra(10,o-s):0:m[u-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=Qe(e),m.length=1,t=t-i-1,m[0]=Ra(10,(ke-t%ke)%ke),e.e=Ni(-t/ke)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=u,i=1,u--):(m.length=u+1,i=Ra(10,ke-n),m[u]=s>0?(d/Ra(10,o-s)%Ra(10,s)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==st&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=st)break;m[u--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Le&&(e.e>Pu||e.e<-Pu))throw Error(kg+Qe(e));return e}function QC(e,t){var r,n,s,i,o,l,c,d,u,m,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Le?je(t,h):t;if(c=e.d,m=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),s=Math.max(Math.ceil(h/ke),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){u=c[s]<m[s];break}o=0}for(u&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=st-1;--c[i],c[s]+=st}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Le?je(t,h):t):new f(0)}function ls(e,t,r){var n,s=Qe(e),i=en(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Qn(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Qn(-s-1)+i,r&&(n=r-o)>0&&(i+=Qn(n))):s>=o?(i+=Qn(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Qn(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Qn(n))),e.s<0?"-"+i:i}function mj(e,t){if(e.length>t)return e.length=t,!0}function ZC(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ya+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return dj(o,i.toString())}else if(typeof i!="string")throw Error(Ya+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,BI.test(i))dj(o,i);else throw Error(Ya+i)}if(s.prototype=re,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=ZC,s.config=s.set=zI,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function zI(e){if(!e||typeof e!="object")throw Error(Or+"Object expected");var t,r,n,s=["precision",1,wi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Ni(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ya+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ya+r+": "+n);return this}var Pg=ZC(FI);sr=new Pg(1);const ge=Pg;var UI=e=>e,JC={},ek=e=>e===JC,fj=e=>function t(){return arguments.length===0||arguments.length===1&&ek(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},tk=(e,t)=>e===1?t:fj(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==JC).length;return i>=e?t(...n):tk(e-i,fj(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>ek(u)?l.shift():u);return t(...d,...l)}))}),Zd=e=>tk(e.length,e),Jh=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},WI=Zd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),HI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return UI;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},ep=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),rk=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function nk(e){var t;return e===0?t=1:t=Math.floor(new ge(e).abs().log(10).toNumber())+1,t}function ak(e,t,r){for(var n=new ge(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}Zd((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});Zd((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Zd((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var sk=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},ik=(e,t,r)=>{if(e.lte(0))return new ge(0);var n=nk(e.toNumber()),s=new ge(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new ge(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new ge(c.toNumber()):new ge(Math.ceil(c.toNumber()))},qI=(e,t,r)=>{var n=new ge(1),s=new ge(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new ge(10).pow(nk(e)-1),s=new ge(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new ge(Math.floor(e)))}else e===0?s=new ge(Math.floor((t-1)/2)):r||(s=new ge(Math.floor(e)));var o=Math.floor((t-1)/2),l=HI(WI(c=>s.add(new ge(c-o).mul(n)).toNumber()),Jh);return l(0,t)},ok=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ge(0),tickMin:new ge(0),tickMax:new ge(0)};var o=ik(new ge(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new ge(0):(l=new ge(t).add(r).div(2),l=l.sub(new ge(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new ge(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?ok(t,r,n,s,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new ge(c).mul(o)),tickMax:l.add(new ge(d).mul(o))})};function KI(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=sk([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Jh(0,n-1).map(()=>1/0)]:[...Jh(0,n-1).map(()=>-1/0),l];return t>r?ep(c):c}if(o===l)return qI(o,n,s);var{step:d,tickMin:u,tickMax:m}=ok(o,l,i,s,0),f=ak(u,m.add(new ge(.1).mul(d)),d);return t>r?ep(f):f}function GI(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=sk([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=ik(new ge(o).sub(i).div(l-1),s,0),d=[...ak(new ge(i),new ge(o),c),o];return s===!1&&(d=d.map(u=>Math.round(u))),r>n?ep(d):d}var VI=rk(KI),YI=rk(GI),lk=e=>e.rootProps.maxBarSize,XI=e=>e.rootProps.barGap,ck=e=>e.rootProps.barCategoryGap,QI=e=>e.rootProps.barSize,pl=e=>e.rootProps.stackOffset,Eg=e=>e.options.chartName,Ag=e=>e.rootProps.syncId,uk=e=>e.rootProps.syncMethod,Og=e=>e.options.eventEmitter,gn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Jd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ZI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:gn.reversed,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:gn.type,unit:void 0},JI={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:rr.type,unit:void 0},e$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},t$={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:"category",unit:void 0},Tg=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?e$:ZI,Mg=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?t$:JI,em=e=>e.polarOptions,Lg=z([Bn,zn,tt],WS),dk=z([em,Lg],(e,t)=>{if(e!=null)return Et(e.innerRadius,t,0)}),mk=z([em,Lg],(e,t)=>{if(e!=null)return Et(e.outerRadius,t,t*.8)}),r$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},fk=z([em],r$);z([Tg,fk],Jd);var hk=z([Lg,dk,mk],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});z([Mg,hk],Jd);var pk=z([me,em,dk,mk,Bn,zn],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:Et(o,s,s/2),cy:Et(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Re=(e,t)=>t,xl=(e,t,r)=>r;function tm(e){return e==null?void 0:e.id}var at=e=>{var t=me(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Si=e=>e.tooltip.settings.axisId,ut=e=>{var t=at(e),r=Si(e);return gl(e,t,r)},xk=z([ut],e=>e==null?void 0:e.dataKey);function gk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=tm(l);d.forEach((m,f)=>{var h=i==null||s?f:String(be(m,i,null)),p=be(m,l.dataKey,0),y;o.has(h)?y=o.get(h):y={},Object.assign(y,{[u]:p}),o.set(h,y)})}}),Array.from(o.values())}function rm(e){return e.stackId!=null&&e.dataKey!=null}function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){n$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n$(e,t,r){return(t=a$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a$(e){var t=s$(e,"string");return typeof t=="symbol"?t:t+""}function s$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp=[0,"auto"],Jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},yk=(e,t)=>e.cartesianAxis.xAxis[t],Hn=(e,t)=>{var r=yk(e,t);return r??Jt},er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ll},vk=(e,t)=>e.cartesianAxis.yAxis[t],qn=(e,t)=>{var r=vk(e,t);return r??er},i$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Rg=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??i$},Ge=(e,t,r)=>{switch(t){case"xAxis":return Hn(e,r);case"yAxis":return qn(e,r);case"zAxis":return Rg(e,r);case"angleAxis":return Tg(e,r);case"radiusAxis":return Mg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},o$=(e,t,r)=>{switch(t){case"xAxis":return Hn(e,r);case"yAxis":return qn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gl=(e,t,r)=>{switch(t){case"xAxis":return Hn(e,r);case"yAxis":return qn(e,r);case"angleAxis":return Tg(e,r);case"radiusAxis":return Mg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Dg(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var yl=e=>e.graphicalItems.cartesianItems,l$=z([Re,xl],Dg),_g=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),vl=z([yl,Ge,l$],_g),jk=z([vl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rm)),wk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Nk=z([vl],wk),Ig=e=>e.map(t=>t.data).filter(Boolean).flat(1),c$=z([vl],Ig),$g=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Fg=z([c$,hl],$g),Bg=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:be(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:be(s,n)}))):e.map(n=>({value:n})),nm=z([Fg,Ge,vl],Bg);function Sk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function xs(e){return e.filter(t=>cn(t)||t instanceof Date).map(Number).filter(t=>Zt(t)===!1)}function u$(e,t,r){return!r||typeof t!="number"||Zt(t)?[]:r.length?xs(r.flatMap(n=>{var s=be(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!bt(i)||!bt(o)))return[t-i,t+o]})):[]}var d$=z([jk,hl,ut],gk),Ck=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(tm);return[o,{stackedData:bL(e,c,r),graphicalItems:l}]}))},Ho=z([d$,jk,pl],Ck),kk=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=SL(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},m$=z([Ho,Ea,Re],kk),Pk=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,d=(l=n[o.id])===null||l===void 0?void 0:l.filter(m=>Sk(s,m)),u=be(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:u$(i,u,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:be(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),am=e=>e.errorBars,Ek=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Sk(r,n));z([Nk,am,Re],Ek);var f$=z([Fg,Ge,Nk,am,Re],Pk);function h$(e){var{value:t}=e;if(cn(t)||t instanceof Date)return t}var pj=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=xs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},p$=(e,t,r)=>{var n=e.map(h$).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&w2(n))?fC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},zg=e=>{var t;if(e==null||!("domain"in e))return tp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=xs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:tp},Au=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},Ak=e=>e.referenceElements.dots,Ci=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),x$=z([Ak,Re,xl],Ci),Ok=e=>e.referenceElements.areas,g$=z([Ok,Re,xl],Ci),Tk=e=>e.referenceElements.lines,y$=z([Tk,Re,xl],Ci),Mk=(e,t)=>{var r=xs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},v$=z(x$,Re,Mk),Lk=(e,t)=>{var r=xs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},b$=z([g$,Re],Lk),Rk=(e,t)=>{var r=xs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},j$=z(y$,Re,Rk),w$=z(v$,j$,b$,(e,t,r)=>Au(e,r,t)),Dk=z([Ge],zg),Ug=(e,t,r,n,s,i,o)=>{var l=II(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",d=c?Au(r,s,pj(n)):Au(s,pj(n));return $I(t,d,e.allowDataOverflow)},N$=z([Ge,Dk,m$,f$,w$,me,Re],Ug),S$=[0,1],Wg=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,d=fn(t,i);return d&&l==null?fC(0,r.length):c==="category"?p$(n,e,d):s==="expand"?S$:o}},Hg=z([Ge,me,Fg,nm,pl,Re,N$],Wg),_k=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(al(i));return l in Ji?l:"point"}}},ki=z([Ge,me,bk,Eg,Re],_k);function C$(e){if(e!=null){if(e in Ji)return Ji[e]();var t="scale".concat(al(e));if(t in Ji)return Ji[t]()}}function qg(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=C$(t);if(s!=null){var i=s.domain(r).range(n);return pL(i),i}}}var Kg=(e,t,r)=>{var n=zg(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&li(e))return VI(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&li(e))return YI(e,t.tickCount,t.allowDecimals)}},Gg=z([Hg,gl,ki],Kg),Vg=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&li(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},k$=z([Ge,Hg,Gg,Re],Vg),P$=z(nm,Ge,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(xs(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),Ik=z(P$,me,ck,tt,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!bt(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=Et(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),E$=(e,t)=>{var r=Hn(e,t);return r==null||typeof r.padding!="string"?0:Ik(e,"xAxis",t,r.padding)},A$=(e,t)=>{var r=qn(e,t);return r==null||typeof r.padding!="string"?0:Ik(e,"yAxis",t,r.padding)},O$=z(Hn,E$,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),T$=z(qn,A$,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),M$=z([tt,O$,qd,Hd,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),L$=z([tt,me,T$,qd,Hd,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),bl=(e,t,r,n)=>{var s;switch(t){case"xAxis":return M$(e,r,n);case"yAxis":return L$(e,r,n);case"zAxis":return(s=Rg(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return fk(e);case"radiusAxis":return hk(e,r);default:return}},$k=z([Ge,bl],Jd),Pi=z([Ge,ki,k$,$k],qg);z([vl,am,Re],Ek);function Fk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sm=(e,t)=>t,im=(e,t,r)=>r,R$=z(Ud,sm,im,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Fk)),D$=z(Wd,sm,im,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Fk)),Bk=(e,t)=>({width:e.width,height:t.height}),_$=(e,t)=>{var r=typeof t.width=="number"?t.width:ll;return{width:r,height:e.height}},zk=z(tt,Hn,Bk),I$=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},$$=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},F$=z(zn,tt,R$,sm,im,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=Bk(t,l);o==null&&(o=I$(t,n,e));var d=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),B$=z(Bn,tt,D$,sm,im,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=_$(t,l);o==null&&(o=$$(t,n,e));var d=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),z$=(e,t)=>{var r=Hn(e,t);if(r!=null)return F$(e,r.orientation,r.mirror)},U$=z([tt,Hn,z$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),W$=(e,t)=>{var r=qn(e,t);if(r!=null)return B$(e,r.orientation,r.mirror)},H$=z([tt,qn,W$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),Uk=z(tt,qn,(e,t)=>{var r=typeof t.width=="number"?t.width:ll;return{width:r,height:e.height}}),xj=(e,t,r)=>{switch(t){case"xAxis":return zk(e,r).width;case"yAxis":return Uk(e,r).height;default:return}},Wk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=fn(e,n),c=t.map(d=>d.value);if(o&&l&&i==="category"&&s&&w2(c))return c}},Yg=z([me,nm,Ge,Re],Wk),Hk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=fn(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},Xg=z([me,nm,gl,Re],Hk),gj=z([me,o$,ki,Pi,Yg,Xg,bl,Gg,Re],(e,t,r,n,s,i,o,l,c)=>{if(t==null)return null;var d=fn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}),q$=(e,t,r,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var d=fn(e,c),{type:u,ticks:m,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/h:0;p=c==="angleAxis"&&i!=null&&i.length>=2?ot(i[0]-i[1])*2*p:p;var y=m||s;if(y){var g=y.map((v,b)=>{var j=o?o.indexOf(v):v;return{index:b,coordinate:n(j)+p,value:v,offset:p}});return g.filter(v=>!Zt(v.coordinate))}return d&&l?l.map((v,b)=>({coordinate:n(v)+p,value:v,index:b,offset:p})):n.ticks?n.ticks(f).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,b)=>({coordinate:n(v)+p,value:o?o[v]:v,index:b,offset:p}))}},qk=z([me,gl,ki,Pi,Gg,bl,Yg,Xg,Re],q$),K$=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=fn(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ot(n[0]-n[1])*2*d:d,l&&i?i.map((u,m)=>({coordinate:r(u)+d,value:u,index:m,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,m)=>({coordinate:r(u)+d,value:s?s[u]:u,index:m,offset:d}))}},dn=z([me,gl,Pi,bl,Yg,Xg,Re],K$),mn=z(Ge,Pi,(e,t)=>{if(!(e==null||t==null))return Eu(Eu({},e),{},{scale:t})}),G$=z([Ge,ki,Hg,$k],qg);z((e,t,r)=>Rg(e,r),G$,(e,t)=>{if(!(e==null||t==null))return Eu(Eu({},e),{},{scale:t})});var V$=z([me,Ud,Wd],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Kk=e=>e.options.defaultTooltipEventType,Gk=e=>e.options.validateTooltipEventTypes;function Vk(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Qg(e,t){var r=Kk(e),n=Gk(e);return Vk(t,r,n)}function Y$(e){return ne(t=>Qg(t,e))}var Yk=(e,t)=>{var r,n=Number(t);if(!(Zt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},X$=e=>e.tooltip.settings,ta={active:!1,index:null,dataKey:void 0,coordinate:void 0},Q$={itemInteraction:{click:ta,hover:ta},axisInteraction:{click:ta,hover:ta},keyboardInteraction:ta,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Xk=xr({name:"tooltip",initialState:Q$,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=kn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Z$,removeTooltipEntrySettings:J$,setTooltipSettingsState:eF,setActiveMouseOverItemIndex:Qk,mouseLeaveItem:tF,mouseLeaveChart:Zk,setActiveClickItemIndex:rF,setMouseOverAxisIndex:Jk,setMouseClickAxisIndex:nF,setSyncInteraction:rp,setKeyboardInteraction:np}=Xk.actions,aF=Xk.reducer;function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){sF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sF(e,t,r){return(t=iF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lF(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cF(e){return e.index!=null}var eP=(e,t,r,n)=>{if(t==null)return ta;var s=lF(e,t,r);if(s==null)return ta;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(cF(s)){if(i)return ic(ic({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return ic(ic({},ta),{},{coordinate:s.coordinate})},Zg=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!bt(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},tP=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=s==null?void 0:s[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},rP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},jl=e=>e.options.tooltipPayloadSearcher,Ei=e=>e.tooltip;function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){uF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uF(e,t,r){return(t=dF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fF(e,t){return e??t}var nP=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,m=[];return e.reduce((f,h)=>{var p,{dataDefinedOnItem:y,settings:g}=h,v=fF(y,l),b=Array.isArray(v)?HS(v,d,u):v,j=(p=g==null?void 0:g.dataKey)!==null&&p!==void 0?p:n,w=g==null?void 0:g.nameKey,N;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?N=N2(b,n,s):N=i(b,t,c,w),Array.isArray(N))N.forEach(P=>{var M=bj(bj({},g),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});f.push(ib({tooltipEntrySettings:M,dataKey:P.dataKey,payload:P.payload,value:be(P.payload,P.dataKey),name:P.name}))});else{var C;f.push(ib({tooltipEntrySettings:g,dataKey:j,payload:N,value:be(N,j),name:(C=be(N,w))!==null&&C!==void 0?C:g==null?void 0:g.name}))}return f},m)}},Jg=z([ut,me,bk,Eg,at],_k),hF=z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pF=z([at,Si],Dg),wl=z([hF,ut,pF],_g),xF=z([wl],e=>e.filter(rm)),gF=z([wl],Ig),Ai=z([gF,Ea],$g),yF=z([xF,Ea,ut],gk),e0=z([Ai,ut,wl],Bg),vF=z([ut],zg),bF=z([wl],e=>e.filter(rm)),jF=z([yF,bF,pl],Ck),wF=z([jF,Ea,at],kk),NF=z([wl],wk),SF=z([Ai,ut,NF,am,at],Pk),CF=z([Ak,at,Si],Ci),kF=z([CF,at],Mk),PF=z([Ok,at,Si],Ci),EF=z([PF,at],Lk),AF=z([Tk,at,Si],Ci),OF=z([AF,at],Rk),TF=z([kF,OF,EF],Au),MF=z([ut,vF,wF,SF,TF,me,at],Ug),aP=z([ut,me,Ai,e0,pl,at,MF],Wg),LF=z([aP,ut,Jg],Kg),RF=z([ut,aP,LF,at],Vg),sP=e=>{var t=at(e),r=Si(e),n=!1;return bl(e,t,r,n)},iP=z([ut,sP],Jd),oP=z([ut,Jg,RF,iP],qg),DF=z([me,e0,ut,at],Wk),_F=z([me,e0,ut,at],Hk),IF=(e,t,r,n,s,i,o,l)=>{if(t){var{type:c}=t,d=fn(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return m=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?ot(s[0]-s[1])*2*m:m,d&&o?o.map((f,h)=>({coordinate:n(f)+m,value:f,index:h,offset:m})):n.domain().map((f,h)=>({coordinate:n(f)+m,value:i?i[f]:f,index:h,offset:m}))}}},Kn=z([me,ut,Jg,oP,sP,DF,_F,at],IF),t0=z([Kk,Gk,X$],(e,t,r)=>Vk(r.shared,e,t)),lP=e=>e.tooltip.settings.trigger,r0=e=>e.tooltip.settings.defaultIndex,om=z([Ei,t0,lP,r0],eP),ga=z([om,Ai],Zg),cP=z([Kn,ga],Yk),uP=z([om],e=>{if(e)return e.dataKey}),dP=z([Ei,t0,lP,r0],rP),$F=z([Bn,zn,me,tt,Kn,r0,dP,jl],tP),FF=z([om,$F],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),BF=z([om],e=>e.active),zF=z([dP,ga,Ea,xk,cP,jl,t0],nP),UF=z([zF],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){WF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WF(e,t,r){return(t=HF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=qF(e,"string");return typeof t=="symbol"?t:t+""}function qF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KF=()=>ne(ut),GF=()=>{var e=KF(),t=ne(Kn),r=ne(oP);return os(wj(wj({},e),{},{scale:r}),t)},mP=()=>ne(Eg),n0=(e,t)=>t,fP=(e,t,r)=>r,a0=(e,t,r,n)=>n,VF=z(Kn,e=>_d(e,t=>t.coordinate)),s0=z([Ei,n0,fP,a0],eP),hP=z([s0,Ai],Zg),YF=(e,t,r)=>{if(t!=null){var n=Ei(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},pP=z([Ei,n0,fP,a0],rP),Ou=z([Bn,zn,me,tt,Kn,a0,pP,jl],tP),XF=z([s0,Ou],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),xP=z(Kn,hP,Yk),QF=z([pP,hP,Ea,xk,xP,jl,n0],nP),ZF=z([s0],e=>({isActive:e.active,activeIndex:e.index})),JF=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=CL(e.chartX,e.chartY,t,r,l);if(c){var d=PL(c,t),u=fL(d,o,i,n,s),m=kL(t,i,u,c);return{activeIndex:String(u),activeCoordinate:m}}}};function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(null,arguments)}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){eB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eB(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nB(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,m=r,f=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var h,p;if(d==="ScatterChart")h=u,p=PR;else if(d==="BarChart")h=ER(o,u,s,i),p=iC;else if(o==="radial"){var{cx:y,cy:g,radius:v,startAngle:b,endAngle:j}=oC(u);h={cx:y,cy:g,startAngle:b,endAngle:j,innerRadius:v,outerRadius:v},p=cC}else h={points:oD(o,u,s)},p=Us;var w=typeof l=="object"&&"className"in l?l.className:void 0,N=oc(oc(oc(oc({stroke:"#ccc",pointerEvents:"none"},s),h),Oe(l,!1)),{},{payload:m,payloadIndex:f,className:he("recharts-tooltip-cursor",w)});return x.isValidElement(l)?x.cloneElement(l,N):x.createElement(p,N)}function aB(e){var t=GF(),r=QS(),n=cl(),s=mP();return x.createElement(nB,ap({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var gP=x.createContext(null),sB=()=>x.useContext(gP),yP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,m||c,f),p=r?r+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,h=m.length,p=new Array(h);f<h;f++)p[f]=m[f].fn;return p},l.prototype.listenerCount=function(d){var u=r?r+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,f,h,p){var y=r?r+d:d;if(!this._events[y])return!1;var g=this._events[y],v=arguments.length,b,j;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,m),!0;case 4:return g.fn.call(g.context,u,m,f),!0;case 5:return g.fn.call(g.context,u,m,f,h),!0;case 6:return g.fn.call(g.context,u,m,f,h,p),!0}for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];g.fn.apply(g.context,b)}else{var w=g.length,N;for(j=0;j<w;j++)switch(g[j].once&&this.removeListener(d,g[j].fn,void 0,!0),v){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,u);break;case 3:g[j].fn.call(g[j].context,u,m);break;case 4:g[j].fn.call(g[j].context,u,m,f);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];g[j].fn.apply(g[j].context,b)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,f){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!m||p.context===m)&&o(this,h);else{for(var y=0,g=[],v=p.length;y<v;y++)(p[y].fn!==u||f&&!p[y].once||m&&p[y].context!==m)&&g.push(p[y]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(yP);var iB=yP.exports;const oB=$n(iB);var qo=new oB,sp="recharts.syncEvent.tooltip",Sj="recharts.syncEvent.brush";function lm(e,t){if(t){var r=Number.parseInt(t,10);if(!Zt(r))return e==null?void 0:e[r]}}var lB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vP=xr({name:"options",initialState:lB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cB=vP.reducer,{createEventEmitter:uB}=vP.actions;function dB(e){return e.tooltip.syncInteraction}var mB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bP=xr({name:"chartData",initialState:mB,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Cj,setDataStartEndIndexes:fB,setComputedData:Aq}=bP.actions,hB=bP.reducer,pB=["x","y"];function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){xB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xB(e,t,r){return(t=gB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gB(e){var t=yB(e,"string");return typeof t=="symbol"?t:t+""}function yB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vB(e,t){if(e==null)return{};var r,n,s=bB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jP=()=>{};function jB(){var e=ne(Ag),t=ne(Og),r=Fe(),n=ne(uk),s=ne(Kn),i=cl(),o=Zx(),l=ne(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return jP;var c=(d,u,m)=>{if(t!==m&&e===d){if(n==="index"){var f;if(o&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate){var h=u.payload.coordinate,{x:p,y}=h,g=vB(h,pB),v=Aa(Aa(Aa({},g),typeof p=="number"&&{x:Math.max(o.x,Math.min(p,o.x+o.width))}),typeof y=="number"&&{y:Math.max(o.y,Math.min(y,o.y+o.height))}),b=Aa(Aa({},u),{},{payload:Aa(Aa({},u.payload),{},{coordinate:v})});r(b)}else r(u);return}if(s!=null){var j;if(typeof n=="function"){var w={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},N=n(s,w);j=s[N]}else n==="value"&&(j=s.find(T=>String(T.value)===u.payload.label));var{coordinate:C}=u.payload;if(j==null||u.payload.active===!1||C==null||o==null){r(rp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:M}=C,E=Math.min(P,o.x+o.width),O=Math.min(M,o.y+o.height),F={x:i==="horizontal"?j.coordinate:E,y:i==="horizontal"?O:j.coordinate},I=rp({active:u.payload.active,coordinate:F,dataKey:u.payload.dataKey,index:String(j.index),label:u.payload.label});r(I)}}};return qo.on(sp,c),()=>{qo.off(sp,c)}},[l,r,t,e,n,s,i,o])}function wB(){var e=ne(Ag),t=ne(Og),r=Fe();x.useEffect(()=>{if(e==null)return jP;var n=(s,i,o)=>{t!==o&&e===s&&r(fB(i))};return qo.on(Sj,n),()=>{qo.off(Sj,n)}},[r,t,e])}function NB(){var e=Fe();x.useEffect(()=>{e(uB())},[e]),jB(),wB()}function SB(e,t,r,n,s,i){var o=ne(f=>YF(f,e,t)),l=ne(Og),c=ne(Ag),d=ne(uk),u=ne(dB),m=u==null?void 0:u.active;x.useEffect(()=>{if(!m&&c!=null&&l!=null){var f=rp({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});qo.emit(sp,c,f,l)}},[m,r,o,s,n,l,c,d,i])}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){CB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CB(e,t,r){return(t=kB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=PB(e,"string");return typeof t=="symbol"?t:t+""}function PB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EB(e){return e.dataKey}function AB(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(sR,t)}var Aj=[],OB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Un.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Dt(e){var t=rt(e,OB),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:m,reverseDirection:f,useTranslate3d:h,wrapperStyle:p,cursor:y,shared:g,trigger:v,defaultIndex:b,portal:j,axisId:w}=t,N=Fe(),C=typeof b=="number"?String(b):b;x.useEffect(()=>{N(eF({shared:g,trigger:v,axisId:w,active:r,defaultIndex:C}))},[N,g,v,w,r,C]);var P=Zx(),M=tC(),E=Y$(g),{activeIndex:O,isActive:F}=ne(_=>ZF(_,E,v,C)),I=ne(_=>QF(_,E,v,C)),T=ne(_=>xP(_,E,v,C)),V=ne(_=>XF(_,E,v,C)),Q=I,k=sB(),$=r??F,[B,K]=yS([Q,$]),R=E==="axis"?T:void 0;SB(E,v,V,R,O,$);var U=j??k;if(U==null)return null;var q=Q??Aj;$||(q=Aj),l&&q.length&&(q=iS(Q.filter(_=>_.value!=null&&(_.hide!==!0||t.includeHidden)),u,EB));var D=q.length>0,S=x.createElement(mR,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:$,coordinate:V,hasPayload:D,offset:d,position:m,reverseDirection:f,useTranslate3d:h,viewBox:P,wrapperStyle:p,lastBoundingBox:B,innerRef:K,hasPortalFromProps:!!j},AB(o,Ej(Ej({},t),{},{payload:q,label:R,active:$,coordinate:V,accessibilityLayer:M})));return x.createElement(x.Fragment,null,ux.createPortal(S,U),$&&x.createElement(aB,{cursor:y,tooltipEventType:E,coordinate:V,payload:Q,index:O}))}var wP={},NP={},SP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{d&&u(),y()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,m()},n)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),o=void 0,l=null},g=()=>{u()},v=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const j=f==null;h(),c&&j&&u()};return v.schedule=h,v.cancel=y,v.flush=g,s==null||s.addEventListener("abort",y,{once:!0}),v}e.debounce=t})(SP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,m=null;const f=t.debounce(function(...y){u=n.apply(this,y),m=null},s,{edges:d}),h=function(...y){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(u=n.apply(this,y),m=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,y),u)},p=()=>(f.flush(),u);return h.cancel=f.cancel,h.flush=p,h}e.debounce=r})(NP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NP;function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(wP);var TB=wP.throttle;const MB=$n(TB);var mo=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){LB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LB(e,t,r){return(t=RB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=DB(e,"string");return typeof t=="symbol"?t:t+""}function DB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _t=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:m,className:f,onResize:h,style:p={}}=e,y=x.useRef(null),g=x.useRef();g.current=h,x.useImperativeHandle(t,()=>y.current);var[v,b]=x.useState({containerWidth:n.width,containerHeight:n.height}),j=x.useCallback((N,C)=>{b(P=>{var M=Math.round(N),E=Math.round(C);return P.containerWidth===M&&P.containerHeight===E?P:{containerWidth:M,containerHeight:E}})},[]);x.useEffect(()=>{var N=E=>{var O,{width:F,height:I}=E[0].contentRect;j(F,I),(O=g.current)===null||O===void 0||O.call(g,F,I)};u>0&&(N=MB(N,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(N),{width:P,height:M}=y.current.getBoundingClientRect();return j(P,M),C.observe(y.current),()=>{C.disconnect()}},[j,u]);var w=x.useMemo(()=>{var{containerWidth:N,containerHeight:C}=v;if(N<0||C<0)return null;mo(Fa(s)||Fa(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),mo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Fa(s)?N:s,M=Fa(i)?C:i;return r&&r>0&&(P?M=P/r:M&&(P=M*r),c&&M>c&&(M=c)),mo(P>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,s,i,o,l,r),x.Children.map(d,E=>x.cloneElement(E,{width:P,height:M,style:xf({width:P,height:M},E.props.style)}))},[r,d,i,c,l,o,v,s]);return x.createElement("div",{id:m?"".concat(m):void 0,className:he("recharts-responsive-container",f),style:xf(xf({},p),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:y},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),In=e=>null;In.displayName="Cell";function _B(e,t,r){return(t=IB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=$B(e,"string");return typeof t=="symbol"?t:t+""}function $B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class FB{constructor(t){_B(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){zB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zB(e,t,r){return(t=UB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=WB(e,"string");return typeof t=="symbol"?t:t+""}function WB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HB={cacheSize:2e3,enableCache:!0},CP=BB({},HB),Mj=new FB(CP.cacheSize),qB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Lj="recharts_measurement_span";function KB(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var Rj=(e,t)=>{try{var r=document.getElementById(Lj);r||(r=document.createElement("span"),r.setAttribute("id",Lj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qB,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},fo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Un.isSsr)return{width:0,height:0};if(!CP.enableCache)return Rj(t,r);var n=KB(t,r),s=Mj.get(n);if(s)return s;var i=Rj(t,r);return Mj.set(n,i),i},Dj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_j=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YB=Object.keys(kP),Ls="NaN";function XB(e,t){return e*kP[t]}class Bt{static parse(t){var r,[,n,s]=(r=VB.exec(t))!==null&&r!==void 0?r:[];return new Bt(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Zt(t)&&(this.unit=""),r!==""&&!GB.test(r)&&(this.num=NaN,this.unit=""),YB.includes(r)&&(this.num=XB(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Bt(NaN,""):new Bt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Bt(NaN,""):new Bt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bt(NaN,""):new Bt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bt(NaN,""):new Bt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zt(this.num)}}function PP(e){if(e.includes(Ls))return Ls;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=Dj.exec(t))!==null&&r!==void 0?r:[],o=Bt.parse(n??""),l=Bt.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Ls;t=t.replace(Dj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,m,f]=(d=_j.exec(t))!==null&&d!==void 0?d:[],h=Bt.parse(u??""),p=Bt.parse(f??""),y=m==="+"?h.add(p):h.subtract(p);if(y.isNaN())return Ls;t=t.replace(_j,y.toString())}return t}var Ij=/\(([^()]*)\)/;function QB(e){for(var t=e,r;(r=Ij.exec(t))!=null;){var[,n]=r;t=t.replace(Ij,PP(n))}return t}function ZB(e){var t=e.replace(/\s+/g,"");return t=QB(t),t=PP(t),t}function JB(e){try{return ZB(e)}catch{return Ls}}function gf(e){var t=JB(e.slice(5,-1));return t===Ls?"":t}var e8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],t8=["dx","dy","angle","className","breakAll"];function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function $j(e,t){if(e==null)return{};var r,n,s=r8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function r8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EP=/[ \f\n\r\t\v\u2028\u2029]+/,AP=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Ae(t)||(r?s=t.toString().split(""):s=t.toString().split(EP));var i=s.map(l=>({word:l,width:fo(l,n).width})),o=r?0:fo(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},n8=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=ae(i),u=o,m=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((I,T)=>{var{word:V,width:Q}=T,k=I[I.length-1];if(k&&(n==null||s||k.width+Q+r<Number(n)))k.words.push(V),k.width+=Q+r;else{var $={words:[V],width:Q};I.push($)}return I},[])},f=m(t),h=O=>O.reduce((F,I)=>F.width>I.width?F:I);if(!d||s)return f;var p=f.length>i||h(f).width>Number(n);if(!p)return f;for(var y="…",g=O=>{var F=u.slice(0,O),I=AP({breakAll:c,style:l,children:F+y}).wordsWithComputedWidth,T=m(I),V=T.length>i||h(T).width>Number(n);return[V,T]},v=0,b=u.length-1,j=0,w;v<=b&&j<=u.length-1;){var N=Math.floor((v+b)/2),C=N-1,[P,M]=g(C),[E]=g(N);if(!P&&!E&&(v=N+1),P&&E&&(b=N-1),!P&&E){w=M;break}j++}return w||f},Fj=e=>{var t=Ae(e)?[]:e.toString().split(EP);return[{words:t}]},a8=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!Un.isSsr){var l,c,d=AP({breakAll:i,children:n,style:s});if(d){var{wordsWithComputedWidth:u,spaceWidth:m}=d;l=u,c=m}else return Fj(n);return n8({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return Fj(n)},Bj="#808080",cm=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=Bj}=e,u=$j(e,e8),m=x.useMemo(()=>a8({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:f,dy:h,angle:p,className:y,breakAll:g}=u,v=$j(u,t8);if(!cn(r)||!cn(n)||m.length===0)return null;var b=r+(ae(f)?f:0),j=n+(ae(h)?h:0),w;switch(c){case"start":w=gf("calc(".concat(i,")"));break;case"middle":w=gf("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:w=gf("calc(".concat(m.length-1," * -").concat(s,")"));break}var N=[];if(o){var C=m[0].width,{width:P}=u;N.push("scale(".concat(ae(P)?P/C:1,")"))}return p&&N.push("rotate(".concat(p,", ").concat(b,", ").concat(j,")")),N.length&&(v.transform=N.join(" ")),x.createElement("text",ip({},Oe(v,!0),{ref:t,x:b,y:j,className:he("recharts-text",y),textAnchor:l,fill:d.includes("url")?Bj:d}),m.map((M,E)=>{var O=M.words.join(g?"":" ");return x.createElement("tspan",{x:b,dy:E===0?w:s,key:"".concat(O,"-").concat(E)},O)}))});cm.displayName="Text";var s8=["labelRef"];function i8(e,t){if(e==null)return{};var r,n,s=o8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function o8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return(t=c8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=u8(e,"string");return typeof t=="symbol"?t:t+""}function u8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yn.apply(null,arguments)}var OP=x.createContext(null),d8=e=>{var{x:t,y:r,width:n,height:s,children:i}=e,o=x.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return x.createElement(OP.Provider,{value:o},i)},TP=()=>{var e=x.useContext(OP),t=Zx();return e||t},m8=x.createContext(null),f8=()=>{var e=x.useContext(m8),t=ne(pk);return e||t},h8=e=>{var{value:t,formatter:r}=e,n=Ae(e.children)?t:e.children;return typeof r=="function"?r(n):n},i0=e=>e!=null&&typeof e=="function",p8=(e,t)=>{var r=ot(t-e),n=Math.min(Math.abs(t-e),360);return r*n},x8=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:m,endAngle:f,clockWise:h}=s,p=(d+u)/2,y=p8(m,f),g=y>=0?1:-1,v,b;switch(t){case"insideStart":v=m+g*i,b=h;break;case"insideEnd":v=f-g*i,b=!h;break;case"end":v=f+g*i,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var j=Xe(l,c,p,v),w=Xe(l,c,p,v+(b?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(w.x,",").concat(w.y),C=Ae(e.id)?Do("recharts-radial-line-"):e.id;return x.createElement("text",yn({},n,{dominantBaseline:"central",className:he("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:C,d:N})),x.createElement("textPath",{xlinkHref:"#".concat(C)},r))},g8=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:m}=Xe(n,s,o+t,d);return{x:u,y:m,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var f=(i+o)/2,{x:h,y:p}=Xe(n,s,f,d);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},MP=e=>"cx"in e&&ae(e.cx),y8=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!MP(r)&&(i=r);var{x:o,y:l,width:c,height:d}=t,u=d>=0?1:-1,m=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=c>=0?1:-1,y=p*n,g=p>0?"end":"start",v=p>0?"start":"end";if(s==="top"){var b={x:o+c/2,y:l-u*n,textAnchor:"middle",verticalAnchor:f};return Ue(Ue({},b),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var j={x:o+c/2,y:l+d+m,textAnchor:"middle",verticalAnchor:h};return Ue(Ue({},j),i?{height:Math.max(i.y+i.height-(l+d),0),width:c}:{})}if(s==="left"){var w={x:o-y,y:l+d/2,textAnchor:g,verticalAnchor:"middle"};return Ue(Ue({},w),i?{width:Math.max(w.x-i.x,0),height:d}:{})}if(s==="right"){var N={x:o+c+y,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return Ue(Ue({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:d}:{})}var C=i?{width:c,height:d}:{};return s==="insideLeft"?Ue({x:o+y,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},C):s==="insideRight"?Ue({x:o+c-y,y:l+d/2,textAnchor:g,verticalAnchor:"middle"},C):s==="insideTop"?Ue({x:o+c/2,y:l+m,textAnchor:"middle",verticalAnchor:h},C):s==="insideBottom"?Ue({x:o+c/2,y:l+d-m,textAnchor:"middle",verticalAnchor:f},C):s==="insideTopLeft"?Ue({x:o+y,y:l+m,textAnchor:v,verticalAnchor:h},C):s==="insideTopRight"?Ue({x:o+c-y,y:l+m,textAnchor:g,verticalAnchor:h},C):s==="insideBottomLeft"?Ue({x:o+y,y:l+d-m,textAnchor:v,verticalAnchor:f},C):s==="insideBottomRight"?Ue({x:o+c-y,y:l+d-m,textAnchor:g,verticalAnchor:f},C):s&&typeof s=="object"&&(ae(s.x)||Fa(s.x))&&(ae(s.y)||Fa(s.y))?Ue({x:o+Et(s.x,c),y:l+Et(s.y,d),textAnchor:"end",verticalAnchor:"end"},C):Ue({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},v8={offset:5};function Zn(e){var t=rt(e,v8),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:c,labelRef:d}=t,u=f8(),m=TP(),f=n==="center"?m:u??m,h=r||f;if(!h||Ae(s)&&Ae(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var p=Ue(Ue({},t),{},{viewBox:h});if(x.isValidElement(o)){var{labelRef:y}=p,g=i8(p,s8);return x.cloneElement(o,g)}var v;if(typeof o=="function"){if(v=x.createElement(o,p),x.isValidElement(v))return v}else v=h8(t);var b=MP(h),j=Oe(t,!0);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return x8(t,n,v,j,h);var w=b?g8(h,t.offset,t.position):y8(t,h);return x.createElement(cm,yn({ref:d,className:he("recharts-label",l)},j,w,{breakAll:c}),v)}Zn.displayName="Label";var b8=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Zn,yn({key:"label-implicit"},n)):cn(e)?x.createElement(Zn,yn({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Zn?x.cloneElement(e,Ue({key:"label-implicit"},n)):x.createElement(Zn,yn({key:"label-implicit",content:e},n)):i0(e)?x.createElement(Zn,yn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Zn,yn({},e,{key:"label-implicit"},n)):null};function j8(e){var{label:t}=e,r=TP();return b8(t,r)||null}var LP={},RP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(RP);var DP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(DP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RP,r=DP,n=Rd;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(LP);var w8=LP.last;const N8=$n(w8);var S8=["valueAccessor"],C8=["dataKey","clockWise","id","textBreakAll"];function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tu.apply(null,arguments)}function Uj(e,t){if(e==null)return{};var r,n,s=k8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function k8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var P8=e=>Array.isArray(e.value)?N8(e.value):e.value,_P=x.createContext(void 0),o0=_P.Provider,IP=x.createContext(void 0),E8=IP.Provider;function A8(){return x.useContext(_P)}function O8(){return x.useContext(IP)}function kc(e){var{valueAccessor:t=P8}=e,r=Uj(e,S8),{dataKey:n,clockWise:s,id:i,textBreakAll:o}=r,l=Uj(r,C8),c=A8(),d=O8(),u=c||d;return!u||!u.length?null:x.createElement(ze,{className:"recharts-label-list"},u.map((m,f)=>{var h,p=Ae(n)?t(m,f):be(m&&m.payload,n),y=Ae(i)?{}:{id:"".concat(i,"-").concat(f)};return x.createElement(Zn,Tu({},Oe(m,!0),l,y,{fill:(h=r.fill)!==null&&h!==void 0?h:m.fill,parentViewBox:m.parentViewBox,value:p,textBreakAll:o,viewBox:m.viewBox,key:"label-".concat(f),index:f}))}))}kc.displayName="LabelList";function um(e){var{label:t}=e;return t?t===!0?x.createElement(kc,{key:"labelList-implicit"}):x.isValidElement(t)||i0(t)?x.createElement(kc,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(kc,Tu({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}var l0=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=he("recharts-dot",s);return t===+t&&r===+r&&n===+n?x.createElement("circle",op({},Mr(e),Cx(e),{className:i,cx:t,cy:r,r:n})):null},$P=e=>e.graphicalItems.polarItems,T8=z([Re,xl],Dg),c0=z([$P,Ge,T8],_g),M8=z([c0],Ig),u0=z([M8,Cg],$g),L8=z([u0,Ge,c0],Bg),R8=z([u0,Ge,c0],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=be(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:be(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),Wj=()=>{},D8=z([Ge,Dk,Wj,R8,Wj,me,Re],Ug),FP=z([Ge,me,u0,L8,pl,Re,D8],Wg),_8=z([FP,Ge,ki],Kg);z([Ge,FP,_8,Re],Vg);var I8={radiusAxis:{},angleAxis:{}},BP=xr({name:"polarAxis",initialState:I8,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Oq,removeRadiusAxis:Tq,addAngleAxis:Mq,removeAngleAxis:Lq}=BP.actions,$8=BP.reducer;function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){F8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F8(e,t,r){return(t=B8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8(e){var t=z8(e,"string");return typeof t=="symbol"?t:t+""}function z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U8=(e,t)=>t,d0=z([$P,U8],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),W8=[],m0=(e,t,r)=>(r==null?void 0:r.length)===0?W8:r,zP=z([Cg,d0,m0],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>qj(qj({},t.presentationProps),i.props))),s!=null)return s}}),H8=z([zP,d0,m0],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=be(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Ca(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),q8=z([zP,d0,m0,tt],(e,t,r,n)=>{if(!(t==null||e==null))return Bz({offset:n,pieSettings:t,displayedData:e,cells:r})}),UP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(UP);var K8=UP.isPlainObject;const G8=$n(K8);function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){V8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V8(e,t,r){return(t=Y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8(e){var t=X8(e,"string");return typeof t=="symbol"?t:t+""}function X8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(null,arguments)}var Vj=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},Q8={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Z8=e=>{var t=rt(e,Q8),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:m}=t,f=x.useRef(),[h,p]=x.useState(-1),y=x.useRef(s),g=x.useRef(i),v=x.useRef(o),b=x.useRef(r),j=x.useRef(n),w=bi(e,"trapezoid-");if(x.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var V=f.current.getTotalLength();V&&p(V)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var N=he("recharts-trapezoid",l);if(!m)return x.createElement("g",null,x.createElement("path",Mu({},Oe(t,!0),{className:N,d:Vj(r,n,s,i,o)})));var C=y.current,P=g.current,M=v.current,E=b.current,O=j.current,F="0px ".concat(h===-1?1:h,"px"),I="".concat(h,"px 0px"),T=rC(["strokeDasharray"],d,c);return x.createElement(vi,{animationId:w,key:w,canBegin:h>0,duration:d,easing:c,isActive:m,begin:u},V=>{var Q=ve(C,s,V),k=ve(P,i,V),$=ve(M,o,V),B=ve(E,r,V),K=ve(O,n,V);f.current&&(y.current=Q,g.current=k,v.current=$,b.current=B,j.current=K);var R=V>0?{transition:T,strokeDasharray:I}:{strokeDasharray:F};return x.createElement("path",Mu({},Oe(t,!0),{className:N,d:Vj(B,K,Q,k,$),ref:f,style:Gj(Gj({},R),t.style)}))})},J8=["option","shapeType","propTransformer","activeClassName","isActive"];function ez(e,t){if(e==null)return{};var r,n,s=tz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function tz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rz(e,t,r){return(t=nz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=az(e,"string");return typeof t=="symbol"?t:t+""}function az(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sz(e,t){return Lu(Lu({},t),e)}function iz(e,t){return e==="symbols"}function Xj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(iC,r);case"trapezoid":return x.createElement(Z8,r);case"sector":return x.createElement(cC,r);case"symbols":if(iz(t))return x.createElement(Tx,r);break;default:return null}}function oz(e){return x.isValidElement(e)?e.props:e}function WP(e){var{option:t,shapeType:r,propTransformer:n=sz,activeClassName:s="recharts-active-shape",isActive:i}=e,o=ez(e,J8),l;if(x.isValidElement(t))l=x.cloneElement(t,Lu(Lu({},o),oz(t)));else if(typeof t=="function")l=t(o);else if(G8(t)&&typeof t!="boolean"){var c=n(t,o);l=x.createElement(Xj,{shapeType:r,elementProps:c})}else{var d=o;l=x.createElement(Xj,{shapeType:r,elementProps:d})}return i?x.createElement(ze,{className:s},l):l}var f0=(e,t)=>{var r=Fe();return(n,s)=>i=>{e==null||e(n,s,i),r(Qk({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},h0=e=>{var t=Fe();return(r,n)=>s=>{e==null||e(r,n,s),t(tF())}},p0=(e,t)=>{var r=Fe();return(n,s)=>i=>{e==null||e(n,s,i),r(rF({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function dm(e){var{fn:t,args:r}=e,n=Fe(),s=Ot();return x.useEffect(()=>{if(!s){var i=t(r);return n(Z$(i)),()=>{n(J$(i))}}},[t,r,n,s]),null}var HP=()=>{};function x0(e){var{legendPayload:t}=e,r=Fe(),n=Ot();return x.useEffect(()=>n?HP:(r(JS(t)),()=>{r(eC(t))}),[r,n,t]),null}function lz(e){var{legendPayload:t}=e,r=Fe(),n=ne(me);return x.useEffect(()=>n!=="centric"&&n!=="radial"?HP:(r(JS(t)),()=>{r(eC(t))}),[r,n,t]),null}var yf,cz=()=>{var[e]=x.useState(()=>Do("uid-"));return e},uz=(yf=Aw.useId)!==null&&yf!==void 0?yf:cz;function dz(e,t){var r=uz();return t||(e?"".concat(e,"-").concat(r):r)}var mz=x.createContext(void 0),mm=e=>{var{id:t,type:r,children:n}=e,s=dz("recharts-".concat(r),t);return x.createElement(mz.Provider,{value:s},n(s))},fz={cartesianItems:[],polarItems:[]},qP=xr({name:"graphicalItems",initialState:fz,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=kn(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=kn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=kn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:hz,replaceCartesianGraphicalItem:pz,removeCartesianGraphicalItem:xz,addPolarGraphicalItem:gz,removePolarGraphicalItem:yz}=qP.actions,vz=qP.reducer;function g0(e){var t=Fe(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?t(hz(e)):r.current!==e&&t(pz({prev:r.current,next:e})),r.current=e},[t,e]),x.useEffect(()=>()=>{r.current&&(t(xz(r.current)),r.current=null)},[t]),null}function bz(e){var t=Fe();return x.useEffect(()=>(t(gz(e)),()=>{t(yz(e))}),[t,e]),null}var jz=["onMouseEnter","onClick","onMouseLeave"],wz=["id"],Nz=["id"];function y0(e,t){if(e==null)return{};var r,n,s=Sz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){Cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cz(e,t,r){return(t=kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kz(e){var t=Pz(e,"string");return typeof t=="symbol"?t:t+""}function Pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(null,arguments)}function Ez(e){var t=x.useMemo(()=>kx(e.children,In),[e.children]),r=ne(n=>H8(n,e.id,t));return r==null?null:x.createElement(lz,{legendPayload:r})}function Az(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Ca(l,t),hide:c,type:d,color:o,unit:""}}}var Oz=(e,t)=>e>t?"start":e<t?"end":"middle",Tz=(e,t,r)=>Et(typeof t=="function"?t(e):t,r,r*.8),Mz=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=WS(i,o),c=s+Et(e.cx,i,i/2),d=n+Et(e.cy,o,o/2),u=Et(e.innerRadius,l,0),m=Tz(r,e.outerRadius,l),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:m,maxRadius:f}},Lz=(e,t)=>{var r=ot(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Rz(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Dz=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=he("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(Us,ya({},t,{type:"linear",className:r}))},_z=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var s=he("recharts-pie-label-text",Rz(e));return x.createElement(cm,ya({},t,{alignmentBaseline:"middle",className:s}),n)};function Iz(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=Mr(r),c=Oe(s,!1),d=Oe(i,!1),u=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,m=t.map((f,h)=>{var p=(f.startAngle+f.endAngle)/2,y=Xe(f.cx,f.cy,f.outerRadius+u,p),g=Te(Te(Te(Te({},l),f),{},{stroke:"none"},c),{},{index:h,textAnchor:Oz(y.x,f.cx)},y),v=Te(Te(Te(Te({},l),f),{},{fill:"none",stroke:f.fill},d),{},{index:h,points:[Xe(f.cx,f.cy,f.outerRadius,p),y],key:"line"});return x.createElement(ze,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(h)},i&&Dz(i,v),_z(s,g,be(f,o)))});return x.createElement(ze,{className:"recharts-pie-labels"},m)}function $z(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?x.createElement(um,{label:s}):x.createElement(Iz,{sectors:t,props:r,showLabels:n})}function Fz(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s}=e,i=ne(ga),{onMouseEnter:o,onClick:l,onMouseLeave:c}=s,d=y0(s,jz),u=f0(o,s.dataKey),m=h0(c),f=p0(l,s.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((h,p)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var y=r&&String(p)===i,g=i?n:null,v=y?r:g,b=Te(Te({},h),{},{stroke:h.stroke,tabIndex:-1,[YS]:p,[XS]:s.dataKey});return x.createElement(ze,ya({tabIndex:-1,className:"recharts-pie-sector"},sl(d,h,p),{onMouseEnter:u(h,p),onMouseLeave:m(h,p),onClick:f(h,p),key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),x.createElement(WP,ya({option:v,isActive:y,shapeType:"sector"},b)))}))}function Bz(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:m}=r,f=Math.abs(r.minAngle),h=Lz(l,c),p=Math.abs(h),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=n.filter(C=>be(C,d,0)!==0).length,v=(p>=360?g:g-1)*y,b=p-g*f-v,j=n.reduce((C,P)=>{var M=be(P,d,0);return C+(ae(M)?M:0)},0),w;if(j>0){var N;w=n.map((C,P)=>{var M=be(C,d,0),E=be(C,u,P),O=Mz(r,i,C),F=(ae(M)?M:0)/j,I,T=Te(Te({},C),s&&s[P]&&s[P].props);P?I=N.endAngle+ot(h)*y*(M!==0?1:0):I=l;var V=I+ot(h)*((M!==0?f:0)+F*b),Q=(I+V)/2,k=(O.innerRadius+O.outerRadius)/2,$=[{name:E,value:M,payload:T,dataKey:d,type:m}],B=Xe(O.cx,O.cy,k,Q);return N=Te(Te(Te(Te({},r.presentationProps),{},{percent:F,cornerRadius:o,name:E,tooltipPayload:$,midAngle:Q,middleRadius:k,tooltipPosition:B},T),O),{},{value:M,startAngle:I,endAngle:V,payload:T,paddingAngle:ot(h)*y}),N})}return w}function zz(e){var{showLabels:t,sectors:r,children:n}=e,s=x.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return x.createElement(E8,{value:t?s:void 0},n)}function Uz(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:m}=t,f=bi(t,"recharts-pie-"),h=r.current,[p,y]=x.useState(!1),g=x.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),v=x.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return x.createElement(zz,{showLabels:!p,sectors:n},x.createElement(vi,{animationId:f,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:v,onAnimationEnd:g,key:f},b=>{var j=[],w=n&&n[0],N=w==null?void 0:w.startAngle;return n==null||n.forEach((C,P)=>{var M=h&&h[P],E=P>0?as(C,"paddingAngle",0):0;if(M){var O=ve(M.endAngle-M.startAngle,C.endAngle-C.startAngle,b),F=Te(Te({},C),{},{startAngle:N+E,endAngle:N+O+E});j.push(F),N=F.endAngle}else{var{endAngle:I,startAngle:T}=C,V=ve(0,I-T,b),Q=Te(Te({},C),{},{startAngle:N+E,endAngle:N+V+E});j.push(Q),N=Q.endAngle}}),r.current=j,x.createElement(ze,null,x.createElement(Fz,{sectors:j,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),x.createElement($z,{showLabels:!p,sectors:n,props:t}),t.children)}var Wz={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Un.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Hz(e){var{id:t}=e,r=y0(e,wz),{hide:n,className:s,rootTabIndex:i}=e,o=x.useMemo(()=>kx(e.children,In),[e.children]),l=ne(u=>q8(u,t,o)),c=x.useRef(null),d=he("recharts-pie",s);return n||l==null?(c.current=null,x.createElement(ze,{tabIndex:i,className:d})):x.createElement(x.Fragment,null,x.createElement(dm,{fn:Az,args:Te(Te({},e),{},{sectors:l})}),x.createElement(ze,{tabIndex:i,className:d},x.createElement(Uz,{props:Te(Te({},r),{},{sectors:l}),previousSectorsRef:c})))}function ci(e){var t=rt(e,Wz),{id:r}=t,n=y0(t,Nz),s=Mr(n);return x.createElement(mm,{id:r,type:"pie"},i=>x.createElement(x.Fragment,null,x.createElement(bz,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),x.createElement(Ez,ya({},n,{id:i})),x.createElement(Hz,ya({},n,{id:i}))))}ci.displayName="Pie";function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){qz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qz(e,t,r){return(t=Kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kz(e){var t=Gz(e,"string");return typeof t=="symbol"?t:t+""}function Gz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vz={xAxis:{},yAxis:{},zAxis:{}},KP=xr({name:"cartesianAxis",initialState:Vz,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Jj(Jj({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Yz,removeXAxis:Xz,addYAxis:Qz,removeYAxis:Zz,addZAxis:Rq,removeZAxis:Dq,updateYAxisWidth:Jz}=KP.actions,eU=KP.reducer,tU=z([tt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),rU=z([tU,Bn,zn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),fm=()=>ne(rU),nU=()=>ne(UF);function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){aU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aU(e,t,r){return(t=sU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sU(e){var t=iU(e,"string");return typeof t=="symbol"?t:t+""}function iU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oU=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=tw(tw({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Oe(s,!1)),Cx(s)),l;return x.isValidElement(s)?l=x.cloneElement(s,o):typeof s=="function"?l=s(o):l=x.createElement(l0,o),x.createElement(ze,{className:"recharts-active-dot"},l)};function lp(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=ne(ga),o=nU();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return Ae(l)?null:oU({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var lU="Invariant failed";function cU(e,t){throw new Error(lU)}var uU=["x","y"];function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return(t=mU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=fU(e,"string");return typeof t=="symbol"?t:t+""}function fU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hU(e,t){if(e==null)return{};var r,n,s=pU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xU(e,t){var{x:r,y:n}=e,s=hU(e,uU),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),m="".concat(t.width||s.width),f=parseInt(m,10);return Ki(Ki(Ki(Ki(Ki({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function v0(e){return x.createElement(WP,cp({shapeType:"rectangle",propTransformer:xU,activeClassName:"recharts-active-bar"},e))}var gU=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(ae(t))return t;var i=ae(n)||Ae(n);return i?t(n,s):(i||cU(),r)}},yU={},GP=xr({name:"errorBars",initialState:yU,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:_q,replaceErrorBar:Iq,removeErrorBar:$q}=GP.actions,vU=GP.reducer,bU=["children"];function jU(e,t){if(e==null)return{};var r,n,s=wU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NU={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},SU=x.createContext(NU);function VP(e){var{children:t}=e,r=jU(e,bU);return x.createElement(SU.Provider,{value:r},t)}function hm(e,t){var r,n,s=ne(d=>Hn(d,e)),i=ne(d=>qn(d,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Jt.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:er.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function b0(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=fm(),{needClipX:i,needClipY:o,needClip:l}=hm(t,r);if(!l)return null;var{x:c,y:d,width:u,height:m}=s;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?c:c-u/2,y:o?d:d-m/2,width:i?u:u*2,height:o?m:m*2}))}var CU=["onMouseEnter","onMouseLeave","onClick"],kU=["value","background","tooltipPosition"],PU=["id"],EU=["onMouseEnter","onClick","onMouseLeave"];function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(null,arguments)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){AU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AU(e,t,r){return(t=OU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=TU(e,"string");return typeof t=="symbol"?t:t+""}function TU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ru(e,t){if(e==null)return{};var r,n,s=MU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function MU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LU=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Ca(r,t),payload:e}]};function RU(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Ca(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function DU(e){var t=ne(ga),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=Ru(i,CU),u=f0(o,n),m=h0(l),f=p0(c,n);if(!s||r==null)return null;var h=Oe(s,!1);return x.createElement(x.Fragment,null,r.map((p,y)=>{var{value:g,background:v,tooltipPosition:b}=p,j=Ru(p,kU);if(!v)return null;var w=u(p,y),N=m(p,y),C=f(p,y),P=Mt(Mt(Mt(Mt(Mt({option:s,isActive:String(y)===t},j),{},{fill:"#eee"},v),h),sl(d,p,y)),{},{onMouseEnter:w,onMouseLeave:N,onClick:C,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return x.createElement(v0,va({key:"background-bar-".concat(P.index)},P))}))}function _U(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Mt(Mt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(o0,{value:t?s:void 0},r)}function IU(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=ne(ga),c=ne(uP),d=r&&String(i)===l&&(c==null||o===c),u=d?r:t;return x.createElement(v0,va({},n,s,{isActive:d,option:u,index:i,dataKey:o}))}function $U(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return x.createElement(v0,va({},r,n,{isActive:!1,option:t,index:s,dataKey:i}))}function FU(e){var{data:t,props:r}=e,n=Mr(r),{id:s}=n,i=Ru(n,PU),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:d,onClick:u,onMouseLeave:m}=r,f=Ru(r,EU),h=f0(d,l),p=h0(m),y=p0(u,l);return t?x.createElement(x.Fragment,null,t.map((g,v)=>x.createElement(ze,va({className:"recharts-bar-rectangle"},sl(f,g,v),{onMouseEnter:h(g,v),onMouseLeave:p(g,v),onClick:y(g,v),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(v)}),c?x.createElement(IU,{shape:o,activeBar:c,baseProps:i,entry:g,index:v,dataKey:l}):x.createElement($U,{shape:o,baseProps:i,entry:g,index:v,dataKey:l})))):null}function BU(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,m=r.current,f=bi(t,"recharts-bar-"),[h,p]=x.useState(!1),y=!h,g=x.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),v=x.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return x.createElement(_U,{showLabels:y,rects:n},x.createElement(vi,{animationId:f,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:g,onAnimationStart:v,key:f},b=>{var j=b===1?n:n==null?void 0:n.map((w,N)=>{var C=m&&m[N];if(C)return Mt(Mt({},w),{},{x:ve(C.x,w.x,b),y:ve(C.y,w.y,b),width:ve(C.width,w.width,b),height:ve(C.height,w.height,b)});if(s==="horizontal"){var P=ve(0,w.height,b);return Mt(Mt({},w),{},{y:w.y+w.height-P,height:P})}var M=ve(0,w.width,b);return Mt(Mt({},w),{},{width:M})});return b>0&&(r.current=j??null),j==null?null:x.createElement(ze,null,x.createElement(FU,{props:t,data:j}))}),x.createElement(um,{label:t.label}),t.children)}function zU(e){var t=x.useRef(null);return x.createElement(BU,{previousRectanglesRef:t,props:e})}var YP=0,UU=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:be(e,t)}};class WU extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:c,id:d}=this.props;if(t||r==null)return null;var u=he("recharts-bar",s),m=d;return x.createElement(ze,{className:u,id:d},l&&x.createElement("defs",null,x.createElement(b0,{clipPathId:m,xAxisId:i,yAxisId:o})),x.createElement(ze,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},x.createElement(DU,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),x.createElement(zU,this.props)))}}var HU={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Un.isSsr,legendType:"rect",minPointSize:YP,xAxisId:0,yAxisId:0};function qU(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:m}=hm(t,r),f=cl(),h=Ot(),p=kx(e.children,In),y=ne(b=>v9(b,t,r,h,e.id,p));if(f!=="vertical"&&f!=="horizontal")return null;var g,v=y==null?void 0:y[0];return v==null||v.height==null||v.width==null?g=0:g=f==="vertical"?v.height/2:v.width/2,x.createElement(VP,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:UU,errorBarOffset:g},x.createElement(WU,va({},e,{layout:f,needClip:m,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function KU(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:m,offset:f,cells:h,parentViewBox:p}=e,y=t==="horizontal"?l:o,g=u?y.scale.domain():null,v=jL({numericAxis:y});return m.map((b,j)=>{var w,N,C,P,M,E;u?w=xL(u[j],g):(w=be(b,r),Array.isArray(w)||(w=[v,w]));var O=gU(n,YP)(w[1],j);if(t==="horizontal"){var F,[I,T]=[l.scale(w[0]),l.scale(w[1])];N=nb({axis:o,ticks:c,bandSize:i,offset:s.offset,entry:b,index:j}),C=(F=T??I)!==null&&F!==void 0?F:void 0,P=s.size;var V=I-T;if(M=Zt(V)?0:V,E={x:N,y:f.top,width:P,height:f.height},Math.abs(O)>0&&Math.abs(M)<Math.abs(O)){var Q=ot(M||O)*(Math.abs(O)-Math.abs(M));C-=Q,M+=Q}}else{var[k,$]=[o.scale(w[0]),o.scale(w[1])];if(N=k,C=nb({axis:l,ticks:d,bandSize:i,offset:s.offset,entry:b,index:j}),P=$-k,M=s.size,E={x:f.left,y:C,width:f.width,height:M},Math.abs(O)>0&&Math.abs(P)<Math.abs(O)){var B=ot(P||O)*(Math.abs(O)-Math.abs(P));P+=B}}if(N==null||C==null||P==null||M==null)return null;var K=Mt(Mt({},b),{},{x:N,y:C,width:P,height:M,value:u?w:w[1],payload:b,background:E,tooltipPosition:{x:N+P/2,y:C+M/2},parentViewBox:p},h&&h[j]&&h[j].props);return K}).filter(Boolean)}function GU(e){var t=rt(e,HU),r=Ot();return x.createElement(mm,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(x0,{legendPayload:LU(t)}),x.createElement(dm,{fn:RU,args:t}),x.createElement(g0,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:GS(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(qU,va({},t,{id:n}))))}var Fr=x.memo(GU);Fr.displayName="Bar";function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return(t=YU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QU=(e,t)=>t,ZU=(e,t,r)=>r,JU=(e,t,r,n)=>n,e9=(e,t,r,n,s)=>s,Nl=z([yl,e9],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),t9=z([Nl],e=>e==null?void 0:e.maxBarSize),r9=(e,t,r,n,s,i)=>i,sw=(e,t,r)=>{var n=r??e;if(!Ae(n))return Et(n,t,0)},n9=z([me,yl,QU,ZU,JU],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),a9=(e,t,r,n)=>{var s=me(e);return s==="horizontal"?Ho(e,"yAxis",r,n):Ho(e,"xAxis",t,n)},s9=(e,t,r)=>{var n=me(e);return n==="horizontal"?xj(e,"xAxis",t):xj(e,"yAxis",r)},i9=(e,t,r)=>{var n={},s=e.filter(rm),i=e.filter(d=>d.stackId==null),o=s.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),l=Object.entries(o).map(d=>{var[u,m]=d,f=m.map(p=>p.dataKey),h=sw(t,r,m[0].barSize);return{stackId:u,dataKeys:f,barSize:h}}),c=i.map(d=>{var u=[d.dataKey].filter(f=>f!=null),m=sw(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...l,...c]},o9=z([n9,QI,s9],i9),l9=(e,t,r,n,s)=>{var i,o,l=Nl(e,t,r,n,s);if(l!=null){var c=me(e),d=lk(e),{maxBarSize:u}=l,m=Ae(u)?d:u,f,h;return c==="horizontal"?(f=mn(e,"xAxis",t,n),h=dn(e,"xAxis",t,n)):(f=mn(e,"yAxis",r,n),h=dn(e,"yAxis",r,n)),(i=(o=os(f,h,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},XP=(e,t,r,n)=>{var s=me(e),i,o;return s==="horizontal"?(i=mn(e,"xAxis",t,n),o=dn(e,"xAxis",t,n)):(i=mn(e,"yAxis",r,n),o=dn(e,"yAxis",r,n)),os(i,o)};function c9(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=Et(e,r,0,!0),l,c=[];if(bt(n[0].barSize)){var d=!1,u=r/i,m=n.reduce((v,b)=>v+(b.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&u>0&&(d=!0,u*=.9,m=i*u);var f=(r-m)/2>>0,h={offset:f-o,size:0};l=n.reduce((v,b)=>{var j,w={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+o,size:d?u:(j=b.barSize)!==null&&j!==void 0?j:0}},N=[...v,w];return h=N[N.length-1].position,N},c)}else{var p=Et(t,r,0,!0);r-2*p-(i-1)*o<=0&&(o=0);var y=(r-2*p-(i-1)*o)/i;y>1&&(y>>=0);var g=bt(s)?Math.min(y,s):y;l=n.reduce((v,b,j)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(y+o)*j+(y-g)/2,size:g}}],c)}return l}}var u9=(e,t,r,n,s,i,o)=>{var l=Ae(o)?t:o,c=c9(r,n,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(d=>lc(lc({},d),{},{position:lc(lc({},d.position),{},{offset:d.position.offset-s/2})}))),c},d9=z([o9,lk,XI,ck,l9,XP,t9],u9),m9=(e,t,r,n)=>mn(e,"xAxis",t,n),f9=(e,t,r,n)=>mn(e,"yAxis",r,n),h9=(e,t,r,n)=>dn(e,"xAxis",t,n),p9=(e,t,r,n)=>dn(e,"yAxis",r,n),x9=z([d9,Nl],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),g9=(e,t)=>{var r=tm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},y9=z([a9,Nl],g9),v9=z([tt,Qx,m9,f9,h9,p9,x9,me,hl,XP,y9,Nl,r9],(e,t,r,n,s,i,o,l,c,d,u,m,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:y}=c;if(!(m==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||d==null)){var{data:g}=m,v;if(g!=null&&g.length>0?v=g:v=h==null?void 0:h.slice(p,y+1),v!=null)return KU({layout:l,barSettings:m,pos:o,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:u,displayedData:v,offset:e,cells:f})}}),QP=e=>{var{chartData:t}=e,r=Fe(),n=Ot();return x.useEffect(()=>n?()=>{}:(r(Cj(t)),()=>{r(Cj(void 0))}),[t,r,n]),null},iw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZP=xr({name:"brush",initialState:iw,reducers:{setBrushSettings(e,t){return t.payload==null?iw:t.payload}}}),{setBrushSettings:Fq}=ZP.actions,b9=ZP.reducer;function j9(e,t,r){return(t=w9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=N9(e,"string");return typeof t=="symbol"?t:t+""}function N9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class j0{static create(t){return new j0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}j9(j0,"EPS",1e-4);function S9(e){return(e%180+180)%180}var C9=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=S9(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},k9={dots:[],areas:[],lines:[]},JP=xr({name:"referenceElements",initialState:k9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=kn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=kn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=kn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Bq,removeDot:zq,addArea:Uq,removeArea:Wq,addLine:Hq,removeLine:qq}=JP.actions,P9=JP.reducer,E9=x.createContext(void 0),A9=e=>{var{children:t}=e,[r]=x.useState("".concat(Do("recharts"),"-clip")),n=fm();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return x.createElement(E9.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function ui(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function eE(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function O9(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return C9(n,r)}function T9(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Du(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function M9(e,t){return eE(e,t+1)}function L9(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,m=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:eE(n,d)};var y=c,g,v=()=>(g===void 0&&(g=r(p,y)),g),b=p.coordinate,j=c===0||Du(e,b,v,u,l);j||(c=0,u=o,d+=1),j&&(u=b+e*(v()/2+s),c+=d)},f;d<=i.length;)if(f=m(),f)return f.v;return[]}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){R9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9(e,t,r){return(t=D9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=_9(e,"string");return typeof t=="symbol"?t:t+""}function _9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I9(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(f){var h=i[f],p,y=()=>(p===void 0&&(p=r(h,f)),p);if(f===o-1){var g=e*(h.coordinate+e*y()/2-c);i[f]=h=Nt(Nt({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else i[f]=h=Nt(Nt({},h),{},{tickCoord:h.coordinate});var v=Du(e,h.tickCoord,y,l,c);v&&(c=h.tickCoord-e*(y()/2+s),i[f]=Nt(Nt({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function $9(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=n[l-1],m=r(u,l-1),f=e*(u.coordinate+e*m/2-d);o[l-1]=u=Nt(Nt({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var h=Du(e,u.tickCoord,()=>m,c,d);h&&(d=u.tickCoord-e*(m/2+s),o[l-1]=Nt(Nt({},u),{},{isShow:!0}))}for(var p=i?l-1:l,y=function(b){var j=o[b],w,N=()=>(w===void 0&&(w=r(j,b)),w);if(b===0){var C=e*(j.coordinate-e*N()/2-c);o[b]=j=Nt(Nt({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else o[b]=j=Nt(Nt({},j),{},{tickCoord:j.coordinate});var P=Du(e,j.tickCoord,N,c,d);P&&(c=j.tickCoord+e*(N()/2+s),o[b]=Nt(Nt({},j),{},{isShow:!0}))},g=0;g<p;g++)y(g);return o}function w0(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!s||!s.length||!n)return[];if(ae(c)||Un.isSsr){var f;return(f=M9(s,ae(c)?c:0))!==null&&f!==void 0?f:[]}var h=[],p=l==="top"||l==="bottom"?"width":"height",y=u&&p==="width"?fo(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(j,w)=>{var N=typeof d=="function"?d(j.value,w):j.value;return p==="width"?O9(fo(N,{fontSize:t,letterSpacing:r}),y,m):fo(N,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?ot(s[1].coordinate-s[0].coordinate):1,b=T9(i,v,p);return c==="equidistantPreserveStart"?L9(v,b,g,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=$9(v,b,g,s,o,c==="preserveStartEnd"):h=I9(v,b,g,s,o),h.filter(j=>j.isShow))}var F9=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,d=o+c+l+(r?n:0);return Math.round(d)}return 0},B9=["axisLine","width","height","className","hide","ticks"],z9=["viewBox"],U9=["viewBox"];function up(e,t){if(e==null)return{};var r,n,s=W9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function W9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(null,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return(t=q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q9(e){var t=K9(e,"string");return typeof t=="symbol"?t:t+""}function K9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function G9(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var d=Je(Je(Je({},c),Oe(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);d=Je(Je({},d),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var m=+(i==="left"&&!o||i==="right"&&o);d=Je(Je({},d),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return x.createElement("line",cs({},d,{className:he("recharts-cartesian-axis-line",as(l,"className"))}))}function V9(e,t,r,n,s,i,o,l,c){var d,u,m,f,h,p,y=l?-1:1,g=e.tickSize||o,v=ae(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,f=r+ +!l*s,m=f-y*g,p=m-y*c,h=v;break;case"left":m=f=e.coordinate,u=t+ +!l*n,d=u-y*g,h=d-y*c,p=v;break;case"right":m=f=e.coordinate,u=t+ +l*n,d=u+y*g,h=d+y*c,p=v;break;default:d=u=e.coordinate,f=r+ +l*s,m=f+y*g,p=m+y*c,h=v;break}return{line:{x1:d,y1:m,x2:u,y2:f},tick:{x:h,y:p}}}function Y9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function X9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Q9(e){var{option:t,tickProps:r,value:n}=e,s,i=he(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))s=x.cloneElement(t,Je(Je({},r),{},{className:i}));else if(typeof t=="function")s=t(Je(Je({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=he(o,t==null?void 0:t.className)),s=x.createElement(cm,cs({},r,{className:o}),n)}return s}function Z9(e){var{ticks:t=[],tick:r,tickLine:n,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:u,x:m,y:f,width:h,height:p,tickSize:y,tickMargin:g,fontSize:v,letterSpacing:b,getTicksConfig:j,events:w}=e,N=w0(Je(Je({},j),{},{ticks:t}),v,b),C=Y9(d,u),P=X9(d,u),M=Mr(j),E=Oe(r,!1),O=Je(Je({},M),{},{fill:"none"},Oe(n,!1)),F=N.map((I,T)=>{var{line:V,tick:Q}=V9(I,m,f,h,p,d,y,u,g),k=Je(Je(Je(Je({textAnchor:C,verticalAnchor:P},M),{},{stroke:"none",fill:s},E),Q),{},{index:T,payload:I,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return x.createElement(ze,cs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},sl(w,I,T)),n&&x.createElement("line",cs({},O,V,{className:he("recharts-cartesian-axis-tick-line",as(n,"className"))})),r&&x.createElement(Q9,{option:r,tickProps:k,value:"".concat(typeof i=="function"?i(I.value,T):I.value).concat(o||"")}))});return F.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var J9=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:o,ticks:l}=e,c=up(e,B9),[d,u]=x.useState(""),[m,f]=x.useState(""),h=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return F9({ticks:h.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=x.useCallback(y=>{if(y){var g=y.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(g);var v=g[0];if(v){var b=window.getComputedStyle(v),j=b.fontSize,w=b.letterSpacing;(j!==d||w!==m)&&(u(j),f(w))}}},[d,m]);return o||n!=null&&n<=0||s!=null&&s<=0?null:x.createElement(ze,{className:he("recharts-cartesian-axis",i),ref:p},x.createElement(G9,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Mr(e)}),x.createElement(Z9,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:m,getTicksConfig:e,events:c}),x.createElement(d8,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(j8,{label:e.label}),e.children))}),e7=x.memo(J9,(e,t)=>{var{viewBox:r}=e,n=up(e,z9),{viewBox:s}=t,i=up(t,U9);return ui(r,s)&&ui(n,i)}),S0=x.forwardRef((e,t)=>{var r=rt(e,N0);return x.createElement(e7,cs({},r,{ref:t}))});S0.displayName="CartesianAxis";var t7=["x1","y1","x2","y2","key"],r7=["offset"],n7=["xAxisId","yAxisId"],a7=["xAxisId","yAxisId"];function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){s7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s7(e,t,r){return(t=i7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i7(e){var t=o7(e,"string");return typeof t=="symbol"?t:t+""}function o7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(null,arguments)}function _u(e,t){if(e==null)return{};var r,n,s=l7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function l7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var c7=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return x.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function tE(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=_u(t,t7),d=Mr(c),{offset:u}=d,m=_u(d,r7);r=x.createElement("line",Ua({},m,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function u7(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=_u(e,n7),c=s.map((d,u)=>{var m=Ct(Ct({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return tE(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function d7(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=_u(e,a7),c=s.map((d,u)=>{var m=Ct(Ct({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return tE(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function m7(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(m=>Math.round(m+s-s)).sort((m,f)=>m-f);s!==d[0]&&d.unshift(0);var u=d.map((m,f)=>{var h=!d[f+1],p=h?s+o-m:d[f+1]-m;if(p<=0)return null;var y=f%t.length;return x.createElement("rect",{key:"react-".concat(f),y:m,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function f7(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(m=>Math.round(m+s-s)).sort((m,f)=>m-f);s!==d[0]&&d.unshift(0);var u=d.map((m,f)=>{var h=!d[f+1],p=h?s+o-m:d[f+1]-m;if(p<=0)return null;var y=f%r.length;return x.createElement("rect",{key:"react-".concat(f),x:m,y:i,width:p,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var h7=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return qS(w0(Ct(Ct(Ct({},N0),r),{},{ticks:KS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},p7=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return qS(w0(Ct(Ct(Ct({},N0),r),{},{ticks:KS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},x7={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function qr(e){var t=Jx(),r=eg(),n=QS(),s=Ct(Ct({},rt(e,x7)),{},{x:ae(e.x)?e.x:n.left,y:ae(e.y)?e.y:n.top,width:ae(e.width)?e.width:n.width,height:ae(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:f,verticalValues:h}=s,p=Ot(),y=ne(E=>gj(E,"xAxis",i,p)),g=ne(E=>gj(E,"yAxis",o,p));if(!ae(d)||d<=0||!ae(u)||u<=0||!ae(l)||l!==+l||!ae(c)||c!==+c)return null;var v=s.verticalCoordinatesGenerator||h7,b=s.horizontalCoordinatesGenerator||p7,{horizontalPoints:j,verticalPoints:w}=s;if((!j||!j.length)&&typeof b=="function"){var N=f&&f.length,C=b({yAxis:g?Ct(Ct({},g),{},{ticks:N?f:g.ticks}):void 0,width:t,height:r,offset:n},N?!0:m);mo(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(j=C)}if((!w||!w.length)&&typeof v=="function"){var P=h&&h.length,M=v({xAxis:y?Ct(Ct({},y),{},{ticks:P?h:y.ticks}):void 0,width:t,height:r,offset:n},P?!0:m);mo(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(w=M)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(c7,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(m7,Ua({},s,{horizontalPoints:j})),x.createElement(f7,Ua({},s,{verticalPoints:w})),x.createElement(u7,Ua({},s,{offset:n,horizontalPoints:j,xAxis:y,yAxis:g})),x.createElement(d7,Ua({},s,{offset:n,verticalPoints:w,xAxis:y,yAxis:g})))}qr.displayName="CartesianGrid";var rE=(e,t,r,n)=>mn(e,"xAxis",t,n),nE=(e,t,r,n)=>dn(e,"xAxis",t,n),aE=(e,t,r,n)=>mn(e,"yAxis",r,n),sE=(e,t,r,n)=>dn(e,"yAxis",r,n),g7=z([me,rE,aE,nE,sE],(e,t,r,n,s)=>fn(e,"xAxis")?os(t,n,!1):os(r,s,!1)),y7=(e,t,r,n,s)=>s;function v7(e){return e.type==="line"}var b7=z([yl,y7],(e,t)=>e.filter(v7).find(r=>r.id===t)),j7=z([me,rE,aE,nE,sE,b7,g7,hl],(e,t,r,n,s,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:m,data:f}=i,h;if(f!=null&&f.length>0?h=f:h=c==null?void 0:c.slice(d,u+1),h!=null)return W7({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:o,displayedData:h})}}),w7=["id"],N7=["type","layout","connectNulls","needClip"],S7=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){C7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C7(e,t,r){return(t=k7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C0(e,t){if(e==null)return{};var r,n,s=E7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function E7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(null,arguments)}var A7=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Ca(r,t),payload:e}]};function O7(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Ca(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var iE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function T7(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var M7=(e,t,r)=>{var n=r.reduce((m,f)=>m+f);if(!n)return iE(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){l=[...r.slice(0,c),i-d];break}var u=l.length%2===0?[0,o]:[o];return[...T7(r,s),...l,...u].map(m=>"".concat(m,"px")).join(", ")};function L7(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=he("recharts-line-dot",typeof e!="boolean"?e.className:"");r=x.createElement(l0,us({},t,{className:n}))}return r}function R7(e,t){return e==null?!1:t?!0:e.length===1}function D7(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!R7(r,s))return null;var{id:l}=n,c=C0(n,w7),d=Od(s),u=Mr(c),m=Oe(s,!0),f=r.map((p,y)=>{var g=nr(nr(nr({key:"dot-".concat(y),r:3},u),m),{},{index:y,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return L7(s,g)}),h={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return x.createElement(ze,us({className:"recharts-line-dots",key:"dots"},h),f)}function _7(e){var{showLabels:t,children:r,points:n}=e,s=x.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return nr(nr({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(o0,{value:t?s:null},r)}function dw(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:d}=i,u=C0(i,N7),m=nr(nr({},Oe(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(Us,us({},m,{pathRef:r})),x.createElement(D7,{points:n,clipPathId:t,props:i}))}function I7(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function $7(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:f,width:h,height:p,onAnimationEnd:y,onAnimationStart:g}=r,v=s.current,b=bi(r,"recharts-line-"),[j,w]=x.useState(!1),N=!j,C=x.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),P=x.useCallback(()=>{typeof g=="function"&&g(),w(!0)},[g]),M=I7(n.current),E=i.current;return x.createElement(_7,{points:o,showLabels:N},r.children,x.createElement(vi,{animationId:b,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:C,onAnimationStart:P,key:b},O=>{var F=ve(E,M+E,O),I=Math.min(F,M),T;if(c)if(l){var V="".concat(l).split(/[,\s]+/gim).map($=>parseFloat($));T=M7(I,M,V)}else T=iE(M,I);else T=l==null?void 0:String(l);if(v){var Q=v.length/o.length,k=O===1?o:o.map(($,B)=>{var K=Math.floor(B*Q);if(v[K]){var R=v[K];return nr(nr({},$),{},{x:ve(R.x,$.x,O),y:ve(R.y,$.y,O)})}return f?nr(nr({},$),{},{x:ve(h*2,$.x,O),y:ve(p/2,$.y,O)}):nr(nr({},$),{},{x:$.x,y:$.y})});return s.current=k,x.createElement(dw,{props:r,points:k,clipPathId:t,pathRef:n,strokeDasharray:T})}return O>0&&M>0&&(s.current=o,i.current=I),x.createElement(dw,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:T})}),x.createElement(um,{label:r.label}))}function F7(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),s=x.useRef(0),i=x.useRef(null);return x.createElement($7,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var B7=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:be(e.payload,t)});class z7 extends x.Component{render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:l,top:c,left:d,width:u,height:m,id:f,needClip:h}=this.props;if(r)return null;var p=he("recharts-line",i),y=f,{r:g=3,strokeWidth:v=2}=(t=Oe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=Od(n),j=g*2+v;return x.createElement(x.Fragment,null,x.createElement(ze,{className:p},h&&x.createElement("defs",null,x.createElement(b0,{clipPathId:y,xAxisId:o,yAxisId:l}),!b&&x.createElement("clipPath",{id:"clipPath-dots-".concat(y)},x.createElement("rect",{x:d-j/2,y:c-j/2,width:u+j,height:m+j}))),x.createElement(VP,{xAxisId:o,yAxisId:l,data:s,dataPointFormatter:B7,errorBarOffset:0},x.createElement(F7,{props:this.props,clipPathId:y}))),x.createElement(lp,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var oE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Un.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function U7(e){var t=rt(e,oE),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:m,legendType:f,xAxisId:h,yAxisId:p,id:y}=t,g=C0(t,S7),{needClip:v}=hm(h,p),b=fm(),j=cl(),w=Ot(),N=ne(O=>j7(O,h,p,w,y));if(j!=="horizontal"&&j!=="vertical"||N==null||b==null)return null;var{height:C,width:P,x:M,y:E}=b;return x.createElement(z7,us({},g,{id:y,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:m,legendType:f,xAxisId:h,yAxisId:p,points:N,layout:j,height:C,width:P,left:M,top:E,needClip:v}))}function W7(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var m=be(d,o);if(t==="horizontal"){var f=hu({axis:r,ticks:s,bandSize:l,entry:d,index:u}),h=Ae(m)?null:n.scale(m);return{x:f,y:h,value:m,payload:d}}var p=Ae(m)?null:r.scale(m),y=hu({axis:n,ticks:i,bandSize:l,entry:d,index:u});return p==null||y==null?null:{x:p,y,value:m,payload:d}}).filter(Boolean)}function H7(e){var t=rt(e,oE),r=Ot();return x.createElement(mm,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(x0,{legendPayload:A7(t)}),x.createElement(dm,{fn:O7,args:t}),x.createElement(g0,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(U7,us({},t,{id:n}))))}var Br=x.memo(H7);Br.displayName="Line";var lE=(e,t,r,n)=>mn(e,"xAxis",t,n),cE=(e,t,r,n)=>dn(e,"xAxis",t,n),uE=(e,t,r,n)=>mn(e,"yAxis",r,n),dE=(e,t,r,n)=>dn(e,"yAxis",r,n),q7=z([me,lE,uE,cE,dE],(e,t,r,n,s)=>fn(e,"xAxis")?os(t,n,!1):os(r,s,!1)),K7=(e,t,r,n,s)=>s,mE=z([yl,K7],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),G7=(e,t,r,n,s)=>{var i,o=mE(e,t,r,n,s);if(o!=null){var l=me(e),c=fn(l,"xAxis"),d;if(c?d=Ho(e,"yAxis",r,n):d=Ho(e,"xAxis",t,n),d!=null){var{stackId:u}=o,m=tm(o);if(!(u==null||m==null)){var f=(i=d[u])===null||i===void 0?void 0:i.stackedData;return f==null?void 0:f.find(h=>h.key===m)}}}},V7=z([me,lE,uE,cE,dE,G7,hl,q7,mE],(e,t,r,n,s,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:m}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:f}=c,h;if(f&&f.length>0?h=f:h=d==null?void 0:d.slice(u,m+1),h!=null){var p=void 0;return pW({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:h,chartBaseValue:p,bandSize:l})}}}),Y7=["id"],X7=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function fE(e,t){if(e==null)return{};var r,n,s=Q7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Q7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){Z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z7(e,t,r){return(t=J7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},En.apply(null,arguments)}function Iu(e,t){return e&&e!=="none"?e:t}var tW=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Iu(n,s),value:Ca(r,t),payload:e}]};function rW(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Ca(o,t),hide:l,type:e.tooltipType,color:Iu(n,i),unit:c}}}var nW=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=he("recharts-area-dot",typeof e!="boolean"?e.className:"");r=x.createElement(l0,En({},t,{className:n}))}return r};function aW(e,t){return e==null?!1:t?!0:e.length===1}function sW(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:i,dataKey:o}=n;if(!aW(r,i))return null;var l=Od(i),c=Mr(n),d=Oe(i,!0),u=r.map((f,h)=>{var p=Sn(Sn(Sn({key:"dot-".concat(h),r:3},c),d),{},{index:h,cx:f.x,cy:f.y,dataKey:o,value:f.value,payload:f.payload,points:r});return nW(i,p)}),m={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return x.createElement(ze,En({className:"recharts-area-dots"},m),u)}function iW(e){var{showLabels:t,children:r,points:n}=e,s=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Sn(Sn({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return x.createElement(o0,{value:t?s:null},r)}function fw(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:d,isRange:u}=i,{id:m}=i,f=fE(i,Y7),h=Mr(f);return x.createElement(x.Fragment,null,(t==null?void 0:t.length)>1&&x.createElement(ze,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},x.createElement(Us,En({},h,{id:m,points:t,connectNulls:d,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&x.createElement(Us,En({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),c!=="none"&&u&&x.createElement(Us,En({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:r}))),x.createElement(sW,{points:t,props:f,clipPathId:s}))}function oW(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].y,o=n[n.length-1].y;if(!bt(i)||!bt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.x||0));return ae(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),ae(c)?x.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function lW(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].x,o=n[n.length-1].x;if(!bt(i)||!bt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.y||0));return ae(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),ae(c)?x.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function cW(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:i}=e;return r==="vertical"?x.createElement(oW,{alpha:t,points:n,baseLine:s,strokeWidth:i}):x.createElement(lW,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function uW(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,onAnimationStart:f,onAnimationEnd:h}=n,p=bi(n,"recharts-area-"),[y,g]=x.useState(!1),v=!y,b=x.useCallback(()=>{typeof h=="function"&&h(),g(!1)},[h]),j=x.useCallback(()=>{typeof f=="function"&&f(),g(!0)},[f]),w=s.current,N=i.current;return x.createElement(iW,{showLabels:v,points:o},n.children,x.createElement(vi,{animationId:p,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:b,onAnimationStart:j,key:p},C=>{if(w){var P=w.length/o.length,M=C===1?o:o.map((O,F)=>{var I=Math.floor(F*P);if(w[I]){var T=w[I];return Sn(Sn({},O),{},{x:ve(T.x,O.x,C),y:ve(T.y,O.y,C)})}return O}),E;return ae(l)?E=ve(N,l,C):Ae(l)||Zt(l)?E=ve(N,0,C):E=l.map((O,F)=>{var I=Math.floor(F*P);if(Array.isArray(N)&&N[I]){var T=N[I];return Sn(Sn({},O),{},{x:ve(T.x,O.x,C),y:ve(T.y,O.y,C)})}return O}),C>0&&(s.current=M,i.current=E),x.createElement(fw,{points:M,baseLine:E,needClip:t,clipPathId:r,props:n})}return C>0&&(s.current=o,i.current=l),x.createElement(ze,null,c&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(cW,{alpha:C,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),x.createElement(ze,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(fw,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),x.createElement(um,{label:n.label}))}function dW(e){var{needClip:t,clipPathId:r,props:n}=e,s=x.useRef(null),i=x.useRef();return x.createElement(uW,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i})}class mW extends x.PureComponent{render(){var t,{hide:r,dot:n,points:s,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:m,height:f,id:h,baseLine:p}=this.props;if(r)return null;var y=he("recharts-area",i),g=h,{r:v=3,strokeWidth:b=2}=(t=Oe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Od(n),w=v*2+b;return x.createElement(x.Fragment,null,x.createElement(ze,{className:y},c&&x.createElement("defs",null,x.createElement(b0,{clipPathId:g,xAxisId:d,yAxisId:u}),!j&&x.createElement("clipPath",{id:"clipPath-dots-".concat(g)},x.createElement("rect",{x:l-w/2,y:o-w/2,width:m+w,height:f+w}))),x.createElement(dW,{needClip:c,clipPathId:g,props:this.props})),x.createElement(lp,{points:s,mainColor:Iu(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&x.createElement(lp,{points:p,mainColor:Iu(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var hE={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Un.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function fW(e){var t,r=rt(e,hE),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:m,isAnimationActive:f,legendType:h,stroke:p,xAxisId:y,yAxisId:g}=r,v=fE(r,X7),b=cl(),j=mP(),{needClip:w}=hm(y,g),N=Ot(),{points:C,isRange:P,baseLine:M}=(t=ne(V=>V7(V,y,g,N,e.id)))!==null&&t!==void 0?t:{},E=fm();if(b!=="horizontal"&&b!=="vertical"||E==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:O,width:F,x:I,y:T}=E;return!C||!C.length?null:x.createElement(mW,En({},v,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:M,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:O,hide:m,layout:b,isAnimationActive:f,isRange:P,legendType:h,needClip:w,points:C,stroke:p,width:F,left:I,top:T,xAxisId:y,yAxisId:g}))}var hW=(e,t,r,n,s)=>{var i=r??t;if(ae(i))return i;var o=e==="horizontal"?s:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function pW(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:m,yAxisTicks:f,bandSize:h}=e,p=s&&s.length,y=hW(i,o,r,l,c),g=i==="horizontal",v=!1,b=d.map((w,N)=>{var C;p?C=s[u+N]:(C=be(w,n),Array.isArray(C)?v=!0:C=[y,C]);var P=C[1]==null||p&&!t&&be(w,n)==null;return g?{x:hu({axis:l,ticks:m,bandSize:h,entry:w,index:N}),y:P?null:c.scale(C[1]),value:C,payload:w}:{x:P?null:l.scale(C[1]),y:hu({axis:c,ticks:f,bandSize:h,entry:w,index:N}),value:C,payload:w}}),j;return p||v?j=b.map(w=>{var N=Array.isArray(w.value)?w.value[0]:null;return g?{x:w.x,y:N!=null&&w.y!=null?c.scale(N):null,payload:w.payload}:{x:N!=null?l.scale(N):null,y:w.y,payload:w.payload}}):j=g?c.scale(y):l.scale(y),{points:b,baseLine:j,isRange:v}}function xW(e){var t=rt(e,hE),r=Ot();return x.createElement(mm,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(x0,{legendPayload:tW(t)}),x.createElement(dm,{fn:rW,args:t}),x.createElement(g0,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:GS(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(fW,En({},t,{id:n}))))}var ds=x.memo(xW);ds.displayName="Area";var gW=["dangerouslySetInnerHTML","ticks"],yW=["id"],vW=["domain"],bW=["domain"];function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function $u(e,t){if(e==null)return{};var r,n,s=jW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wW(e){var t=Fe();return x.useEffect(()=>(t(Yz(e)),()=>{t(Xz(e))}),[e,t]),null}var NW=e=>{var{xAxisId:t,className:r}=e,n=ne(Qx),s=Ot(),i="xAxis",o=ne(g=>Pi(g,i,t,s)),l=ne(g=>qk(g,i,t,s)),c=ne(g=>zk(g,t)),d=ne(g=>U$(g,t)),u=ne(g=>yk(g,t));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:m,ticks:f}=e,h=$u(e,gW),{id:p}=u,y=$u(u,yW);return x.createElement(S0,dp({},h,y,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:he("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},SW={allowDataOverflow:Jt.allowDataOverflow,allowDecimals:Jt.allowDecimals,allowDuplicatedCategory:Jt.allowDuplicatedCategory,height:Jt.height,hide:!1,mirror:Jt.mirror,orientation:Jt.orientation,padding:Jt.padding,reversed:Jt.reversed,scale:Jt.scale,tickCount:Jt.tickCount,type:Jt.type,xAxisId:0},CW=e=>{var t,r,n,s,i,o=rt(e,SW);return x.createElement(x.Fragment,null,x.createElement(wW,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(NW,o))},kW=(e,t)=>{var{domain:r}=e,n=$u(e,vW),{domain:s}=t,i=$u(t,bW);return ui(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:ui({domain:r},{domain:s}):!1},Kr=x.memo(CW,kW);Kr.displayName="XAxis";var PW=["dangerouslySetInnerHTML","ticks"],EW=["id"],AW=["domain"],OW=["domain"];function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}function Fu(e,t){if(e==null)return{};var r,n,s=TW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function TW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MW(e){var t=Fe();return x.useEffect(()=>(t(Qz(e)),()=>{t(Zz(e))}),[e,t]),null}var LW=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=x.useRef(null),o=x.useRef(null),l=ne(Qx),c=Ot(),d=Fe(),u="yAxis",m=ne(N=>Pi(N,u,t,c)),f=ne(N=>Uk(N,t)),h=ne(N=>H$(N,t)),p=ne(N=>qk(N,u,t,c)),y=ne(N=>vk(N,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!f||i0(s)||x.isValidElement(s)||y==null)){var N=i.current;if(N){var C=N.getCalculatedWidth();Math.round(f.width)!==Math.round(C)&&d(Jz({id:t,width:C}))}}},[p,f,d,s,t,n,y]),f==null||h==null||y==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,b=Fu(e,PW),{id:j}=y,w=Fu(y,EW);return x.createElement(S0,mp({},b,w,{ref:i,labelRef:o,scale:m,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:he("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:p}))},RW={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,hide:!1,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tickCount:er.tickCount,type:er.type,width:er.width,yAxisId:0},DW=e=>{var t,r,n,s,i,o=rt(e,RW);return x.createElement(x.Fragment,null,x.createElement(MW,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(LW,o))},_W=(e,t)=>{var{domain:r}=e,n=Fu(e,AW),{domain:s}=t,i=Fu(t,OW);return ui(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:ui({domain:r},{domain:s}):!1},Wt=x.memo(DW,_W);Wt.displayName="YAxis";var IW={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=x;function $W(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FW=typeof Object.is=="function"?Object.is:$W,BW=Sl.useSyncExternalStore,zW=Sl.useRef,UW=Sl.useEffect,WW=Sl.useMemo,HW=Sl.useDebugValue;IW.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=zW(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=WW(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return m=p}return m=h}if(p=m,FW(u,h))return p;var y=n(h);return s!==void 0&&s(p,y)?(u=h,p):(u=h,m=y)}var d=!1,u,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var l=BW(e,i[0],i[1]);return UW(function(){o.hasValue=!0,o.value=l},[l]),HW(l),l};function qW(e){e()}function KW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var hw={notify(){},get:()=>[]};function GW(e,t){let r,n=hw,s=0,i=!1;function o(y){u();const g=n.subscribe(y);let v=!1;return()=>{v||(v=!0,g(),m())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function d(){return i}function u(){s++,r||(r=e.subscribe(c),n=KW())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=hw)}function f(){i||(i=!0,u())}function h(){i&&(i=!1,m())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return p}var VW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YW=VW(),XW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",QW=XW(),ZW=()=>YW||QW?x.useLayoutEffect:x.useEffect,JW=ZW(),vf=Symbol.for("react-redux-context"),bf=typeof globalThis<"u"?globalThis:{};function eH(){if(!x.createContext)return{};const e=bf[vf]??(bf[vf]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var tH=eH();function rH(e){const{children:t,context:r,serverState:n,store:s}=e,i=x.useMemo(()=>{const c=GW(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=x.useMemo(()=>s.getState(),[s]);JW(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||tH;return x.createElement(l.Provider,{value:i},t)}var nH=rH,aH=(e,t)=>t,k0=z([aH,me,pk,at,iP,Kn,VF,tt],JF),P0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},pE=Ar("mouseClick"),xE=ol();xE.startListening({actionCreator:pE,effect:(e,t)=>{var r=e.payload,n=k0(t.getState(),P0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(nF({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var fp=Ar("mouseMove"),gE=ol();gE.startListening({actionCreator:fp,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Qg(n,n.tooltip.settings.shared),i=k0(n,P0(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(Jk({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Zk()))}});var pw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},yE=xr({name:"rootProps",initialState:pw,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:pw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),sH=yE.reducer,{updateOptions:iH}=yE.actions,vE=xr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:oH}=vE.actions,lH=vE.reducer,bE=Ar("keyDown"),jE=Ar("focus"),E0=ol();E0.startListening({actionCreator:bE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(Zg(s,Ai(r))),l=Kn(r);if(i==="Enter"){var c=Ou(r,"axis","hover",String(s.index));t.dispatch(np({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var d=V$(r),u=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,f=o+m*u;if(!(l==null||f>=l.length||f<0)){var h=Ou(r,"axis","hover",String(f));t.dispatch(np({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});E0.startListening({actionCreator:jE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=Ou(r,"axis","hover",String(i));t.dispatch(np({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var br=Ar("externalEvent"),wE=ol();wE.startListening({actionCreator:br,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:FF(r),activeDataKey:uP(r),activeIndex:ga(r),activeLabel:cP(r),activeTooltipIndex:ga(r),isTooltipActive:BF(r)};e.payload.handler(n,e.payload.reactEvent)}}});var cH=z([Ei],e=>e.tooltipItemPayloads),uH=z([cH,jl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),NE=Ar("touchMove"),SE=ol();SE.startListening({actionCreator:NE,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Qg(n,n.tooltip.settings.shared);if(s==="axis"){var i=k0(n,P0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(Jk({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(YS),u=(o=c.getAttribute(XS))!==null&&o!==void 0?o:void 0,m=uH(t.getState(),d,u);t.dispatch(Qk({activeDataKey:u,activeIndex:d,activeCoordinate:m}))}}});var dH=bS({brush:b9,cartesianAxis:eU,chartData:hB,errorBars:vU,graphicalItems:vz,layout:eL,legend:WL,options:cB,polarAxis:$8,polarOptions:lH,referenceElements:P9,rootProps:sH,tooltip:aF}),mH=function(t){return CM({reducer:dH,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([xE.middleware,gE.middleware,E0.middleware,wE.middleware,SE.middleware]),devTools:Un.devToolsEnabled})};function CE(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Ot(),i=x.useRef(null);if(s)return r;i.current==null&&(i.current=mH(t));var o=Wx;return x.createElement(nH,{context:o,store:i.current},r)}function kE(e){var{layout:t,width:r,height:n,margin:s}=e,i=Fe(),o=Ot();return x.useEffect(()=>{o||(i(QM(t)),i(ZM({width:r,height:n})),i(XM(s)))},[i,o,t,r,n,s]),null}function PE(e){var t=Fe();return x.useEffect(()=>{t(iH(e))},[t,e]),null}var fH=["children"];function hH(e,t){if(e==null)return{};var r,n,s=pH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(null,arguments)}var xH={width:"100%",height:"100%"},gH=x.forwardRef((e,t)=>{var r=Jx(),n=eg(),s=tC();if(!ai(r)||!ai(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=s?0:void 0,typeof o.role=="string"?u=o.role:u=s?"application":void 0,x.createElement(Px,Bu({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:xH,ref:t}),i)}),yH=e=>{var{children:t}=e,r=ne(qd);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return x.createElement(Px,{width:n,height:s,x:o,y:i},t)},xw=x.forwardRef((e,t)=>{var{children:r}=e,n=hH(e,fH),s=Ot();return s?x.createElement(yH,null,r):x.createElement(gH,Bu({ref:t},n),r)});function vH(){var e=Fe(),[t,r]=x.useState(null),n=ne(EL);return x.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;bt(i)&&i!==n&&e(JM(i))}},[t,e,n]),r}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return(t=wH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SH=x.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:f,onTouchEnd:h,onTouchMove:p,onTouchStart:y,style:g,width:v}=e,b=Fe(),[j,w]=x.useState(null),[N,C]=x.useState(null);NB();var P=vH(),M=x.useCallback(q=>{P(q),typeof t=="function"&&t(q),w(q),C(q)},[P,t,w,C]),E=x.useCallback(q=>{b(pE(q)),b(br({handler:i,reactEvent:q}))},[b,i]),O=x.useCallback(q=>{b(fp(q)),b(br({handler:d,reactEvent:q}))},[b,d]),F=x.useCallback(q=>{b(Zk()),b(br({handler:u,reactEvent:q}))},[b,u]),I=x.useCallback(q=>{b(fp(q)),b(br({handler:m,reactEvent:q}))},[b,m]),T=x.useCallback(()=>{b(jE())},[b]),V=x.useCallback(q=>{b(bE(q.key))},[b]),Q=x.useCallback(q=>{b(br({handler:o,reactEvent:q}))},[b,o]),k=x.useCallback(q=>{b(br({handler:l,reactEvent:q}))},[b,l]),$=x.useCallback(q=>{b(br({handler:c,reactEvent:q}))},[b,c]),B=x.useCallback(q=>{b(br({handler:f,reactEvent:q}))},[b,f]),K=x.useCallback(q=>{b(br({handler:y,reactEvent:q}))},[b,y]),R=x.useCallback(q=>{b(NE(q)),b(br({handler:p,reactEvent:q}))},[b,p]),U=x.useCallback(q=>{b(br({handler:h,reactEvent:q}))},[b,h]);return x.createElement(gP.Provider,{value:j},x.createElement(k2.Provider,{value:N},x.createElement("div",{className:he("recharts-wrapper",n),style:bH({position:"relative",cursor:"default",width:v,height:s},g),onClick:E,onContextMenu:Q,onDoubleClick:k,onFocus:T,onKeyDown:V,onMouseDown:$,onMouseEnter:O,onMouseLeave:F,onMouseMove:I,onMouseUp:B,onTouchEnd:U,onTouchMove:R,onTouchStart:K,ref:M},r)))}),CH=["children","className","width","height","style","compact","title","desc"];function kH(e,t){if(e==null)return{};var r,n,s=PH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function PH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EE=x.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:l,title:c,desc:d}=e,u=kH(e,CH),m=Mr(u);return l?x.createElement(xw,{otherAttributes:m,title:c,desc:d},r):x.createElement(SH,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(xw,{otherAttributes:m,title:c,desc:d,ref:t},x.createElement(A9,null,r)))}),EH=["width","height"];function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(null,arguments)}function AH(e,t){if(e==null)return{};var r,n,s=OH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TH={top:5,right:5,bottom:5,left:5},MH={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:TH,reverseStackOrder:!1,syncMethod:"index"},A0=x.forwardRef(function(t,r){var n,s=rt(t.categoricalChartProps,MH),{width:i,height:o}=s,l=AH(s,EH);if(!ai(i)||!ai(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:f}=t,h={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(CE,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:c},x.createElement(QP,{chartData:f.data}),x.createElement(kE,{width:i,height:o,layout:s.layout,margin:s.margin}),x.createElement(PE,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(EE,hp({},l,{width:i,height:o,ref:r})))}),LH=["axis"],O0=x.forwardRef((e,t)=>x.createElement(A0,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:LH,tooltipPayloadSearcher:lm,categoricalChartProps:e,ref:t})),RH=["axis","item"],zu=x.forwardRef((e,t)=>x.createElement(A0,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RH,tooltipPayloadSearcher:lm,categoricalChartProps:e,ref:t}));function DH(e){var t=Fe();return x.useEffect(()=>{t(oH(e))},[t,e]),null}var _H=["width","height","layout"];function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(null,arguments)}function IH(e,t){if(e==null)return{};var r,n,s=$H(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $H(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FH={top:5,right:5,bottom:5,left:5},BH={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:FH,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},zH=x.forwardRef(function(t,r){var n,s=rt(t.categoricalChartProps,BH),{width:i,height:o,layout:l}=s,c=IH(s,_H);if(!ai(i)||!ai(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f}=t,h={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(CE,{preloadedState:{options:h},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:d},x.createElement(QP,{chartData:s.data}),x.createElement(kE,{width:i,height:o,layout:l,margin:s.margin}),x.createElement(PE,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(DH,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(EE,pp({width:i,height:o},c,{ref:r})))}),UH=["item"],WH={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ko=x.forwardRef((e,t)=>{var r=rt(e,WH);return x.createElement(zH,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:UH,tooltipPayloadSearcher:lm,categoricalChartProps:r,ref:t})}),HH=["axis"],T0=x.forwardRef((e,t)=>x.createElement(A0,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:HH,tooltipPayloadSearcher:lm,categoricalChartProps:e,ref:t}));const qH=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(u),i=u=>`${u.toFixed(1)}%`,o=u=>u>=20?"text-green-600":u>=10?"text-yellow-600":"text-red-600",c=(()=>{const u=[],m=["Jan","Feb","Mar","Apr","May","Jun"];for(let f=0;f<m.length;f++){const h=e.totalRevenue*.8+f*e.totalRevenue*.1+Math.random()*e.totalRevenue*.1,p=e.totalCost*.8+f*e.totalCost*.1+Math.random()*e.totalCost*.1;u.push({month:m[f],revenue:Math.round(h),cost:Math.round(p),profit:Math.round(h-p)})}return u})(),d=[{name:"Crew Labor",value:e.totalCost*.35,color:"#8884d8"},{name:"Vehicle",value:e.totalCost*.25,color:"#82ca9d"},{name:"Fuel",value:e.totalCost*.15,color:"#ffc658"},{name:"Maintenance",value:e.totalCost*.12,color:"#ff7300"},{name:"Overhead",value:e.totalCost*.13,color:"#8dd1e1"}];return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Financial Summary Report"}),a.jsxs("p",{className:"text-blue-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-blue-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-blue-500 hover:bg-blue-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(rs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-blue-500 hover:bg-blue-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(on,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(cr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(e.totalRevenue)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(uo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Costs"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:s(e.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ut,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:s(e.grossProfit)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${o(e.averageProfitMargin)}`,children:i(e.averageProfitMargin)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pe,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalTrips.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue per Mile"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.averageRevenuePerMile)})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Utilization Rate"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:i(e.averageUtilizationRate*100)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(T0,{data:c,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"month"}),a.jsx(Wt,{tickFormatter:u=>`$${(u/1e3).toFixed(0)}k`}),a.jsx(Dt,{formatter:u=>[s(u),""],labelFormatter:u=>`Month: ${u}`}),a.jsx(dr,{}),a.jsx(ds,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(ds,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(Ko,{children:[a.jsx(ci,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:m})=>`${u} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((u,m)=>a.jsx(In,{fill:u.color},`cell-${m}`))}),a.jsx(Dt,{formatter:u=>[s(u),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Summary Statistics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Financial Performance"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:["• Average Revenue per Trip: ",s(e.totalRevenue/e.totalTrips)]}),a.jsxs("li",{children:["• Average Cost per Trip: ",s(e.totalCost/e.totalTrips)]}),a.jsxs("li",{children:["• Average Profit per Trip: ",s(e.grossProfit/e.totalTrips)]}),a.jsxs("li",{children:["• Cost per Mile: ",s(e.averageCostPerMile)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Operational Metrics"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:["• Total Trips Completed: ",e.totalTrips.toLocaleString()]}),a.jsxs("li",{children:["• Average Revenue per Mile: ",s(e.averageRevenuePerMile)]}),a.jsxs("li",{children:["• Utilization Rate: ",i(e.averageUtilizationRate*100)]}),a.jsxs("li",{children:["• Profit Margin: ",i(e.averageProfitMargin)]})]})]})]})]})]})]})},KH=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(g),i=g=>`${g.toFixed(1)}%`,o=g=>g>=20?"text-green-600":g>=10?"text-yellow-600":"text-red-600",l=g=>g>=20?"bg-green-100":g>=10?"bg-yellow-100":"bg-red-100",c=g=>{switch(g){case"URGENT":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},d=g=>{switch(g){case"BLS":return"text-blue-600 bg-blue-100";case"ALS":return"text-purple-600 bg-purple-100";case"CCT":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},u=Object.entries(e.tripsByTransportLevel).map(([g,v])=>({level:g,revenue:v.revenue,cost:v.cost,profit:v.profit,margin:v.margin,count:v.count})),m=Object.entries(e.tripsByPriority).map(([g,v])=>({priority:g,revenue:v.revenue,cost:v.cost,profit:v.profit,margin:v.margin,count:v.count})),f=Object.entries(e.tripsByTransportLevel).map(([g,v])=>({name:g,value:v.revenue,color:g==="BLS"?"#3b82f6":g==="ALS"?"#8b5cf6":"#10b981"})),h=Object.entries(e.tripsByPriority).map(([g,v])=>({name:g,value:v.revenue,color:g==="URGENT"?"#ef4444":g==="HIGH"?"#f97316":g==="MEDIUM"?"#eab308":"#22c55e"})),p=Object.values(e.tripsByTransportLevel).reduce((g,v)=>g+v.revenue,0),y=Object.values(e.tripsByTransportLevel).reduce((g,v)=>g+v.count,0);return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Revenue Analysis Report"}),a.jsxs("p",{className:"text-green-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-green-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-green-500 hover:bg-green-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(rs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-green-500 hover:bg-green-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(on,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(cr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(p)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pe,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Total Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:y.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Avg Revenue/Mile"}),a.jsx("p",{className:"text-2xl font-semibold text-purple-900",children:s(e.averageRevenuePerMile)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(zu,{data:u,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"level"}),a.jsx(Wt,{tickFormatter:g=>`$${(g/1e3).toFixed(0)}k`}),a.jsx(Dt,{formatter:g=>[s(g),"Revenue"]}),a.jsx(dr,{}),a.jsx(Fr,{dataKey:"revenue",fill:"#10b981",name:"Revenue"}),a.jsx(Fr,{dataKey:"cost",fill:"#ef4444",name:"Cost"}),a.jsx(Fr,{dataKey:"profit",fill:"#3b82f6",name:"Profit"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Priority Level"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(zu,{data:m,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"priority"}),a.jsx(Wt,{tickFormatter:g=>`$${(g/1e3).toFixed(0)}k`}),a.jsx(Dt,{formatter:g=>[s(g),"Revenue"]}),a.jsx(dr,{}),a.jsx(Fr,{dataKey:"revenue",fill:"#10b981",name:"Revenue"}),a.jsx(Fr,{dataKey:"cost",fill:"#ef4444",name:"Cost"}),a.jsx(Fr,{dataKey:"profit",fill:"#3b82f6",name:"Profit"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Distribution by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(Ko,{children:[a.jsx(ci,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:v})=>`${g} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.map((g,v)=>a.jsx(In,{fill:g.color},`cell-${v}`))}),a.jsx(Dt,{formatter:g=>[s(g),"Revenue"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Distribution by Priority"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(Ko,{children:[a.jsx(ci,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:v})=>`${g} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((g,v)=>a.jsx(In,{fill:g.color},`cell-${v}`))}),a.jsx(Dt,{formatter:g=>[s(g),"Revenue"]})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transport Level Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(g=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${d(g.level)}`,children:g.level})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:g.count}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:s(g.revenue)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(g.margin)} ${o(g.margin)}`,children:i(g.margin)})})]},g.level))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Priority Level Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(g=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(g.priority)}`,children:g.priority})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:g.count}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:s(g.revenue)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(g.margin)} ${o(g.margin)}`,children:i(g.margin)})})]},g.priority))})]})})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Top Performing Transport Level"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Object.entries(e.tripsByTransportLevel).sort(([,g],[,v])=>v.revenue-g.revenue)[0][0]," generates the highest revenue at"," ",s(Object.entries(e.tripsByTransportLevel).sort(([,g],[,v])=>v.revenue-g.revenue)[0][1].revenue)]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Top Performing Priority Level"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Object.entries(e.tripsByPriority).sort(([,g],[,v])=>v.revenue-g.revenue)[0][0]," priority generates the highest revenue at"," ",s(Object.entries(e.tripsByPriority).sort(([,g],[,v])=>v.revenue-g.revenue)[0][1].revenue)]})]})]})]})]})]})},GH=({data:e,onClose:t,onDownload:r,onShare:n})=>{var Q;const[s,i]=x.useState("all"),[o,l]=x.useState("all"),c=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(k),d=k=>`${k.toFixed(1)}%`,u=k=>k>=20?"text-green-600":k>=10?"text-yellow-600":"text-red-600",m=k=>k>=20?"bg-green-100":k>=10?"bg-yellow-100":"bg-red-100",f=k=>{switch(k){case"BLS":return"text-blue-600 bg-blue-100";case"ALS":return"text-purple-600 bg-purple-100";case"CCT":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},h=k=>{switch(k){case"URGENT":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};if(console.log("TCC_DEBUG: CostReport - Component render, data:",e),console.log("TCC_DEBUG: CostReport - data.tripCostBreakdowns:",e==null?void 0:e.tripCostBreakdowns),console.log("TCC_DEBUG: CostReport - typeof data.tripCostBreakdowns:",typeof(e==null?void 0:e.tripCostBreakdowns)),console.log("TCC_DEBUG: CostReport - Array.isArray(data.tripCostBreakdowns):",Array.isArray(e==null?void 0:e.tripCostBreakdowns)),!e||!e.tripCostBreakdowns&&!((Q=e.tripCostBreakdowns)!=null&&Q.breakdowns))return console.log("TCC_DEBUG: CostReport - Early return due to missing data"),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-500",children:"Loading cost analysis data..."})]})});let p=[];Array.isArray(e.tripCostBreakdowns)?p=e.tripCostBreakdowns:e.tripCostBreakdowns&&Array.isArray(e.tripCostBreakdowns.breakdowns)?p=e.tripCostBreakdowns.breakdowns:p=[],console.log("TCC_DEBUG: CostReport - tripBreakdowns after Array.isArray check:",p),console.log("TCC_DEBUG: CostReport - tripBreakdowns.length:",p.length);const y=p.filter(k=>!(s!=="all"&&k.transportLevel!==s||o!=="all"&&k.priorityLevel!==o));console.log("TCC_DEBUG: CostReport - filteredTrips after filter:",y),console.log("TCC_DEBUG: CostReport - filteredTrips.length:",y.length),console.log("TCC_DEBUG: CostReport - typeof filteredTrips:",typeof y),console.log("TCC_DEBUG: CostReport - Array.isArray(filteredTrips):",Array.isArray(y));const g=y.reduce((k,$)=>k+($.crewLaborCost||0),0),v=y.reduce((k,$)=>k+($.vehicleCost||0),0),b=y.reduce((k,$)=>k+($.fuelCost||0),0),j=y.reduce((k,$)=>k+($.maintenanceCost||0),0),w=y.reduce((k,$)=>k+($.overheadCost||0),0),N=[{name:"Crew Labor",value:g,color:"#8884d8"},{name:"Vehicle",value:v,color:"#82ca9d"},{name:"Fuel",value:b,color:"#ffc658"},{name:"Maintenance",value:j,color:"#ff7300"},{name:"Overhead",value:w,color:"#8dd1e1"}],C=y.reduce((k,$)=>{const B=$.transportLevel||"Unknown";return k[B]||(k[B]={totalCost:0,tripCount:0,averageCost:0}),k[B].totalCost+=$.totalCost||0,k[B].tripCount+=1,k},{});Object.keys(C).forEach(k=>{C[k].averageCost=C[k].totalCost/C[k].tripCount});const P=Object.entries(C).map(([k,$])=>({level:k,totalCost:$.totalCost,tripCount:$.tripCount,averageCost:$.averageCost}));console.log("TCC_DEBUG: CostReport - About to filter recentTrips, filteredTrips:",y);const M=y.filter(k=>k.calculatedAt);console.log("TCC_DEBUG: CostReport - tripsWithDates after filter:",M);const E=M.sort((k,$)=>new Date($.calculatedAt).getTime()-new Date(k.calculatedAt).getTime());console.log("TCC_DEBUG: CostReport - sortedTrips after sort:",E),console.log("TCC_DEBUG: CostReport - About to call slice on sortedTrips, typeof:",typeof E,"Array.isArray:",Array.isArray(E));const O=E.slice(0,10);console.log("TCC_DEBUG: CostReport - slicedTrips after slice:",O);const F=O.reverse();console.log("TCC_DEBUG: CostReport - recentTrips after reverse:",F);const I=F.map((k,$)=>({trip:`Trip ${$+1}`,totalCost:k.totalCost||0,crewLabor:k.crewLaborCost||0,vehicle:k.vehicleCost||0,fuel:k.fuelCost||0,maintenance:k.maintenanceCost||0,overhead:k.overheadCost||0})),T=[...new Set(p.map(k=>k.transportLevel).filter(Boolean))],V=[...new Set(p.map(k=>k.priorityLevel).filter(Boolean))];return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Cost Analysis Report"}),a.jsxs("p",{className:"text-red-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-red-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(rs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(on,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(cr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(uo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Cost"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:c(e.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Avg Cost/Mile"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:c(e.averageCostPerMile)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pe,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Total Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-purple-900",children:y.length.toLocaleString()})]})]})})]}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(fd,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:s,onChange:k=>i(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"all",children:"All Transport Levels"}),T.map(k=>a.jsx("option",{value:k,children:k},k))]}),a.jsxs("select",{value:o,onChange:k=>l(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"all",children:"All Priorities"}),V.map(k=>a.jsx("option",{value:k,children:k},k))]})]})]})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(Ko,{children:[a.jsx(ci,{data:N,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:$})=>`${k} ${($*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:N.map((k,$)=>a.jsx(In,{fill:k.color},`cell-${$}`))}),a.jsx(Dt,{formatter:k=>[c(k),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(zu,{data:P,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"level"}),a.jsx(Wt,{tickFormatter:k=>`$${(k/1e3).toFixed(0)}k`}),a.jsx(Dt,{formatter:k=>[c(k),"Cost"]}),a.jsx(dr,{}),a.jsx(Fr,{dataKey:"totalCost",fill:"#ef4444",name:"Total Cost"}),a.jsx(Fr,{dataKey:"averageCost",fill:"#f97316",name:"Average Cost per Trip"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Cost Trends (Last 10 Trips)"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(O0,{data:I,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"trip"}),a.jsx(Wt,{tickFormatter:k=>`$${(k/1e3).toFixed(0)}k`}),a.jsx(Dt,{formatter:k=>[c(k),""]}),a.jsx(dr,{}),a.jsx(Br,{type:"monotone",dataKey:"totalCost",stroke:"#ef4444",strokeWidth:2,name:"Total Cost"}),a.jsx(Br,{type:"monotone",dataKey:"crewLabor",stroke:"#8884d8",strokeWidth:2,name:"Crew Labor"}),a.jsx(Br,{type:"monotone",dataKey:"vehicle",stroke:"#82ca9d",strokeWidth:2,name:"Vehicle"}),a.jsx(Br,{type:"monotone",dataKey:"fuel",stroke:"#ffc658",strokeWidth:2,name:"Fuel"}),a.jsx(Br,{type:"monotone",dataKey:"maintenance",stroke:"#ff7300",strokeWidth:2,name:"Maintenance"}),a.jsx(Br,{type:"monotone",dataKey:"overhead",stroke:"#8dd1e1",strokeWidth:2,name:"Overhead"})]})})})]}),e.costCenterBreakdown.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Center Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Center"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.costCenterBreakdown.map(k=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.costCenterName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(k.totalRevenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(k.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(k.grossProfit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(k.profitMargin)} ${u(k.profitMargin)}`,children:d(k.profitMargin)})})]},k.costCenterId))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Trip Cost Breakdowns"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trip ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crew Labor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fuel"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{console.log("TCC_DEBUG: CostReport - About to slice filteredTrips for table, filteredTrips:",y),console.log("TCC_DEBUG: CostReport - typeof filteredTrips for table:",typeof y,"Array.isArray:",Array.isArray(y));const k=y.slice(0,10);return console.log("TCC_DEBUG: CostReport - tableTrips after slice:",k),k.map($=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[$.tripId.substring(0,8),"..."]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f($.transportLevel)}`,children:$.transportLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h($.priorityLevel)}`,children:$.priorityLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c($.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c($.crewLaborCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c($.vehicleCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c($.fuelCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date($.calculatedAt).toLocaleDateString()})]},$.id))})()})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Analysis Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Cost Breakdown"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:["• Crew Labor: ",c(g)," (",(g/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:["• Vehicle Costs: ",c(v)," (",(v/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:["• Fuel Costs: ",c(b)," (",(b/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:["• Maintenance: ",c(j)," (",(j/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:["• Overhead: ",c(w)," (",(w/e.totalCost*100).toFixed(1),"%)"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Key Metrics"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:["• Average Cost per Trip: ",c(e.totalCost/y.length)]}),a.jsxs("li",{children:["• Average Cost per Mile: ",c(e.averageCostPerMile)]}),a.jsxs("li",{children:["• Total Trips Analyzed: ",y.length.toLocaleString()]}),a.jsxs("li",{children:["• Highest Cost Category: ",N.sort((k,$)=>$.value-k.value)[0].name]})]})]})]})]})]})]})},VH=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(p),i=p=>`${p.toFixed(1)}%`,o=p=>p>=20?"text-green-600":p>=10?"text-yellow-600":"text-red-600",l=p=>p>=20?"bg-green-100":p>=10?"bg-yellow-100":"bg-red-100",c=e.profitabilityAnalysis.monthlyBreakdown.map(p=>({...p,profitMargin:p.margin})),u=["Jan","Feb","Mar","Apr","May","Jun"].map((y,g)=>({month:y,revenue:e.profitabilityAnalysis.trends.revenue[g]||0,cost:e.profitabilityAnalysis.trends.cost[g]||0,profit:e.profitabilityAnalysis.trends.profit[g]||0,margin:e.profitabilityAnalysis.trends.margin[g]||0})),m=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,y)=>p+y.margin,0)/e.profitabilityAnalysis.monthlyBreakdown.length,f=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,y)=>y.margin>p.margin?y:p),h=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,y)=>y.margin<p.margin?y:p);return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Profitability Analysis Report"}),a.jsxs("p",{className:"text-purple-100 mt-1",children:["Period: ",e.period," - ",e.profitabilityAnalysis.period]}),a.jsxs("p",{className:"text-purple-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-purple-500 hover:bg-purple-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(rs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-purple-500 hover:bg-purple-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(on,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(cr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(e.profitabilityAnalysis.totalRevenue)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ut,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Cost"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:s(e.profitabilityAnalysis.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:s(e.profitabilityAnalysis.grossProfit)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(eu,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${o(e.profitabilityAnalysis.profitMargin)}`,children:i(e.profitabilityAnalysis.profitMargin)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ro,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.profitabilityAnalysis.tripCount.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Revenue/Trip"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.profitabilityAnalysis.averageRevenuePerTrip)})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ut,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Cost/Trip"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.profitabilityAnalysis.averageCostPerTrip)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profitability Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(O0,{data:u,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"month"}),a.jsx(Wt,{yAxisId:"left"}),a.jsx(Wt,{yAxisId:"right",orientation:"right"}),a.jsx(Dt,{formatter:(p,y)=>[y==="margin"?`${p}%`:s(p),y==="margin"?"Margin":y==="profit"?"Profit":y==="revenue"?"Revenue":"Cost"],labelFormatter:p=>`Month: ${p}`}),a.jsx(dr,{}),a.jsx(Br,{yAxisId:"left",type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"}),a.jsx(Br,{yAxisId:"right",type:"monotone",dataKey:"margin",stroke:"#10b981",strokeWidth:2,name:"Margin %"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Analysis"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(T0,{data:u,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"month"}),a.jsx(Wt,{tickFormatter:p=>`$${(p/1e3).toFixed(0)}k`}),a.jsx(Dt,{formatter:p=>[s(p),""],labelFormatter:p=>`Month: ${p}`}),a.jsx(dr,{}),a.jsx(ds,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(ds,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Profitability Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(zu,{data:c,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"month"}),a.jsx(Wt,{yAxisId:"left"}),a.jsx(Wt,{yAxisId:"right",orientation:"right"}),a.jsx(Dt,{formatter:(p,y)=>[y==="profitMargin"?`${p}%`:s(p),y==="profitMargin"?"Margin":y==="profit"?"Profit":y==="revenue"?"Revenue":"Cost"],labelFormatter:p=>`Month: ${p}`}),a.jsx(dr,{}),a.jsx(Fr,{yAxisId:"left",dataKey:"profit",fill:"#3b82f6",name:"Profit"}),a.jsx(Fr,{yAxisId:"right",dataKey:"profitMargin",fill:"#10b981",name:"Margin %"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Breakdown Details"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.profitabilityAnalysis.monthlyBreakdown.map((p,y)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.month}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(p.margin)} ${o(p.margin)}`,children:i(p.margin)})})]},y))})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Best Performing Month"}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:f.month})," achieved the highest profit margin of"," ",a.jsx("span",{className:"font-semibold",children:i(f.margin)})," with"," ",a.jsx("span",{className:"font-semibold",children:s(f.profit)})," in profit from"," ",a.jsx("span",{className:"font-semibold",children:f.tripCount})," trips."]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Areas for Improvement"}),a.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:h.month})," had the lowest profit margin of"," ",a.jsx("span",{className:"font-semibold",children:i(h.margin)}),". Consider analyzing cost drivers and revenue optimization strategies."]})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Overall Performance Summary"}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:a.jsxs("p",{className:"text-sm text-blue-800",children:["Average profit margin across all months: ",a.jsx("span",{className:"font-semibold",children:i(m)}),". Total profit generated: ",a.jsx("span",{className:"font-semibold",children:s(e.profitabilityAnalysis.grossProfit)})," from"," ",a.jsx("span",{className:"font-semibold",children:e.profitabilityAnalysis.tripCount})," trips over the period."]})})]})]})]})]})},YH=({data:e,onClose:t,onDownload:r,onShare:n})=>{const[s,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(new Set(["costAnalysis"])),[u,m]=x.useState("csv"),f=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(N),h=N=>new Date(N).toLocaleString(),p=N=>{const C=new Set(c);C.has(N)?C.delete(N):C.add(N),d(C)},y=[{id:"all",name:"All Data",count:3,description:"Complete dataset including all analysis"},{id:"costAnalysis",name:"Cost Analysis",count:1,description:"Financial cost breakdown and metrics"},{id:"profitabilityAnalysis",name:"Profitability Analysis",count:1,description:"Profit margins and trends"},{id:"tripCostBreakdowns",name:"Trip Details",count:e.tripCostBreakdowns.length,description:"Individual trip cost breakdowns"}],g=y.filter(N=>N.name.toLowerCase().includes(s.toLowerCase())||N.description.toLowerCase().includes(s.toLowerCase())),v=N=>{switch(N){case"costAnalysis":return a.jsx(pv,{className:"h-5 w-5 text-blue-600"});case"profitabilityAnalysis":return a.jsx(jn,{className:"h-5 w-5 text-green-600"});case"tripCostBreakdowns":return a.jsx(Ro,{className:"h-5 w-5 text-purple-600"});default:return a.jsx(jn,{className:"h-5 w-5 text-gray-600"})}},b=()=>e.costAnalysis?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Financial Summary"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Total Revenue: ",f(e.costAnalysis.totalRevenue||0)]}),a.jsxs("li",{children:["Total Cost: ",f(e.costAnalysis.totalCost||0)]}),a.jsxs("li",{children:["Gross Profit: ",f(e.costAnalysis.grossProfit||0)]}),a.jsxs("li",{children:["Profit Margin: ",(e.costAnalysis.averageProfitMargin||0).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Operational Metrics"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Total Trips: ",(e.costAnalysis.totalTrips||0).toLocaleString()]}),a.jsxs("li",{children:["Avg Revenue/Mile: ",f(e.costAnalysis.averageRevenuePerMile||0)]}),a.jsxs("li",{children:["Avg Cost/Mile: ",f(e.costAnalysis.averageCostPerMile||0)]}),a.jsxs("li",{children:["Utilization Rate: ",((e.costAnalysis.averageUtilizationRate||0)*100).toFixed(1),"%"]})]})]})]})}):a.jsx("p",{className:"text-gray-500",children:"No cost analysis data available"}),j=()=>{var N;return e.profitabilityAnalysis?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Period Summary"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Period: ",e.profitabilityAnalysis.period||"N/A"]}),a.jsxs("li",{children:["Total Revenue: ",f(e.profitabilityAnalysis.totalRevenue||0)]}),a.jsxs("li",{children:["Total Cost: ",f(e.profitabilityAnalysis.totalCost||0)]}),a.jsxs("li",{children:["Gross Profit: ",f(e.profitabilityAnalysis.grossProfit||0)]}),a.jsxs("li",{children:["Profit Margin: ",(e.profitabilityAnalysis.profitMargin||0).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Trip Metrics"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Trip Count: ",(e.profitabilityAnalysis.tripCount||0).toLocaleString()]}),a.jsxs("li",{children:["Avg Revenue/Trip: ",f(e.profitabilityAnalysis.averageRevenuePerTrip||0)]}),a.jsxs("li",{children:["Avg Cost/Trip: ",f(e.profitabilityAnalysis.averageCostPerTrip||0)]}),a.jsxs("li",{children:["Monthly Breakdown: ",((N=e.profitabilityAnalysis.monthlyBreakdown)==null?void 0:N.length)||0," months"]})]})]})]})}):a.jsx("p",{className:"text-gray-500",children:"No profitability analysis data available"})},w=()=>!e.tripCostBreakdowns||e.tripCostBreakdowns.length===0?a.jsx("p",{className:"text-gray-500",children:"No trip cost breakdown data available"}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Trip Summary"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[e.tripCostBreakdowns.length," trip records available with detailed cost breakdowns"]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Trip ID"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Level"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Profit"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.tripCostBreakdowns.slice(0,10).map((N,C)=>{var P;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[((P=N.tripId)==null?void 0:P.substring(0,8))||"N/A","..."]}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.transportLevel||"N/A"}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.priorityLevel||"N/A"}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(N.totalRevenue||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(N.totalCost||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(N.grossProfit||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.calculatedAt?new Date(N.calculatedAt).toLocaleDateString():"N/A"})]},N.id||C)})})]}),e.tripCostBreakdowns.length>10&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-center",children:["Showing first 10 of ",e.tripCostBreakdowns.length," records"]})]})]});return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Data Export Report"}),a.jsx("p",{className:"text-gray-100 mt-1",children:"Comprehensive financial data export"}),a.jsxs("p",{className:"text-gray-100 text-sm",children:["Generated: ",h(e.exportDate)]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(rs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(on,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(cr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Options"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(gd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search data types...",value:s,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-gray-500 focus:border-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fd,{className:"h-4 w-4 text-gray-500"}),a.jsx("select",{value:o,onChange:N=>l(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:y.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{value:u,onChange:N=>m(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(N=>a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[v(N.id),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:N.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[N.count," records"]})]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:N.id})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:N.description})]},N.id))}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("costAnalysis"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(pv,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Cost Analysis Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Financial cost breakdown and metrics"})]})]}),c.has("costAnalysis")?a.jsx(co,{className:"h-5 w-5 text-gray-400"}):a.jsx(Bs,{className:"h-5 w-5 text-gray-400"})]}),c.has("costAnalysis")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:b()})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("profitabilityAnalysis"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(jn,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Profitability Analysis Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Profit margins and trends"})]})]}),c.has("profitabilityAnalysis")?a.jsx(co,{className:"h-5 w-5 text-gray-400"}):a.jsx(Bs,{className:"h-5 w-5 text-gray-400"})]}),c.has("profitabilityAnalysis")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:j()})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("tripCostBreakdowns"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ro,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Trip Cost Breakdowns"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.tripCostBreakdowns.length," individual trip records"]})]})]}),c.has("tripCostBreakdowns")?a.jsx(co,{className:"h-5 w-5 text-gray-400"}):a.jsx(Bs,{className:"h-5 w-5 text-gray-400"})]}),c.has("tripCostBreakdowns")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:w()})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Data Overview"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:["• Total Records: ",e.tripCostBreakdowns.length+2]}),a.jsx("li",{children:"• Data Types: 3 (Cost Analysis, Profitability, Trip Details)"}),a.jsxs("li",{children:["• Export Format: ",u.toUpperCase()]}),a.jsxs("li",{children:["• Generated: ",h(e.exportDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Export Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),"Download ",u.toUpperCase()," Export"]}),a.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:[a.jsx(rs,{className:"h-4 w-4 mr-2"}),"Share Export Link"]})]})]})]})]})]})]})},XH=()=>{console.log("TCC_DEBUG: FinancialDashboard - Component rendering");const[e,t]=x.useState("overview"),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,d]=x.useState(null),[u,m]=x.useState([]),[f,h]=x.useState([]),[p,y]=x.useState("month"),[g]=x.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),v=[{id:"overview",name:"Financial Overview",icon:pt},{id:"revenue",name:"Revenue Analysis",icon:Ut},{id:"costs",name:"Cost Analysis",icon:uo},{id:"profitability",name:"Profitability",icon:eu},{id:"billing",name:"Reports",icon:jn}];x.useEffect(()=>{b()},[p,g]);const b=async()=>{var S,_,G,se,ie;try{n(!0),i(null),console.log("TCC_DEBUG: FinancialDashboard.loadFinancialData() fetching analytics",{period:p,startDate:g.start,endDate:g.end});const[Y,le,L]=await Promise.all([Js.getCostAnalysis({startDate:g.start,endDate:g.end}),Js.getProfitability({period:p}),f2.getCostBreakdowns({limit:50})]);(S=Y.data)!=null&&S.success&&l(Y.data.data),(_=le.data)!=null&&_.success&&d(le.data.data),(G=L.data)!=null&&G.success&&m(L.data.data)}catch(Y){console.error("Error loading financial data:",Y),i(((ie=(se=Y.response)==null?void 0:se.data)==null?void 0:ie.error)||"Failed to load financial data")}finally{n(!1)}},j=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(S),w=S=>`${S.toFixed(1)}%`,N=S=>S>=20?"text-green-600":S>=10?"text-yellow-600":"text-red-600",C=S=>S>=20?"bg-green-100":S>=10?"bg-yellow-100":"bg-red-100",P=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const S={period:p,dateRange:g,totalRevenue:o.totalRevenue,totalCost:o.totalCost,grossProfit:o.grossProfit,averageProfitMargin:o.averageProfitMargin,totalTrips:o.totalTrips,averageRevenuePerMile:o.averageRevenuePerMile,averageCostPerMile:o.averageCostPerMile,averageUtilizationRate:o.averageUtilizationRate,generatedAt:new Date().toISOString()};I("financial-summary","Financial Summary Report",S)},M=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const S={period:p,dateRange:g,tripsByTransportLevel:o.tripsByTransportLevel,tripsByPriority:o.tripsByPriority,averageRevenuePerMile:o.averageRevenuePerMile,generatedAt:new Date().toISOString()};I("revenue","Revenue Analysis Report",S)},E=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const S={period:p,dateRange:g,totalCost:o.totalCost,averageCostPerMile:o.averageCostPerMile,costCenterBreakdown:o.costCenterBreakdown,tripCostBreakdowns:((u==null?void 0:u.breakdowns)||u||[]).slice(0,50),generatedAt:new Date().toISOString()};I("cost","Cost Analysis Report",S)},O=()=>{if(!c){alert("No profitability data available. Please refresh the data first.");return}const S={period:p,profitabilityAnalysis:c,generatedAt:new Date().toISOString()};I("profitability","Profitability Analysis Report",S)},F=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const S={costAnalysis:o,profitabilityAnalysis:c,tripCostBreakdowns:((u==null?void 0:u.breakdowns)||u||[]).slice(0,100),exportDate:new Date().toISOString()};I("export-data","Financial Data Export",S)},I=(S,_,G)=>{const se={id:`${S}-${Date.now()}`,type:S,name:_,data:G,generatedAt:new Date().toISOString(),isOpen:!0};h(ie=>[se,...ie])},T=S=>{h(_=>_.map(G=>G.id===S?{...G,isOpen:!1}:G))},V=S=>{h(_=>_.filter(G=>G.id!==S))},Q=S=>{const _=f.find(G=>G.id===S);if(_)try{let G,se,ie;_.type==="export-data"?(G=k(_.data),se="text/csv",ie="csv"):(G=JSON.stringify(_.data,null,2),se="application/json",ie="json");const Y=new Blob([G],{type:se}),le=window.URL.createObjectURL(Y),L=document.createElement("a");L.href=le,L.download=`${_.name}_${new Date().toISOString().split("T")[0]}.${ie}`,document.body.appendChild(L),L.click(),document.body.removeChild(L),window.URL.revokeObjectURL(le)}catch(G){console.error("Error downloading report:",G),alert("Error downloading report. Please try again.")}},k=S=>{const _=[];return S.costAnalysis&&(_.push("=== COST ANALYSIS ==="),_.push("Metric,Value"),_.push(`Total Revenue,${S.costAnalysis.totalRevenue||0}`),_.push(`Total Cost,${S.costAnalysis.totalCost||0}`),_.push(`Gross Profit,${S.costAnalysis.grossProfit||0}`),_.push(`Average Profit Margin,${S.costAnalysis.averageProfitMargin||0}%`),_.push(`Total Trips,${S.costAnalysis.totalTrips||0}`),_.push(`Average Revenue per Mile,${S.costAnalysis.averageRevenuePerMile||0}`),_.push(`Average Cost per Mile,${S.costAnalysis.averageCostPerMile||0}`),_.push(`Average Utilization Rate,${S.costAnalysis.averageUtilizationRate||0}%`),_.push("")),S.profitabilityAnalysis&&(_.push("=== PROFITABILITY ANALYSIS ==="),_.push("Metric,Value"),_.push(`Period,${S.profitabilityAnalysis.period||"N/A"}`),_.push(`Total Revenue,${S.profitabilityAnalysis.totalRevenue||0}`),_.push(`Total Cost,${S.profitabilityAnalysis.totalCost||0}`),_.push(`Gross Profit,${S.profitabilityAnalysis.grossProfit||0}`),_.push(`Profit Margin,${S.profitabilityAnalysis.profitMargin||0}%`),_.push(`Trip Count,${S.profitabilityAnalysis.tripCount||0}`),_.push(`Average Revenue per Trip,${S.profitabilityAnalysis.averageRevenuePerTrip||0}`),_.push(`Average Cost per Trip,${S.profitabilityAnalysis.averageCostPerTrip||0}`),_.push("")),S.tripCostBreakdowns&&S.tripCostBreakdowns.length>0&&(_.push("=== TRIP COST BREAKDOWNS ==="),_.push("Trip ID,Transport Level,Priority,Total Revenue,Total Cost,Gross Profit,Profit Margin,Revenue per Mile,Cost per Mile,Calculated At"),S.tripCostBreakdowns.forEach(G=>{_.push([G.tripId||"N/A",G.transportLevel||"N/A",G.priorityLevel||"N/A",G.totalRevenue||0,G.totalCost||0,G.grossProfit||0,G.profitMargin||0,G.revenuePerMile||0,G.costPerMile||0,G.calculatedAt?new Date(G.calculatedAt).toISOString():"N/A"].join(","))})),_.join(`
`)},$=S=>{const _=f.find(G=>G.id===S);_&&alert(`Share link for ${_.name} would be generated here.`)},B=()=>{const S=[],_=["Jan","Feb","Mar","Apr","May","Jun"];for(let G=0;G<_.length;G++){const se=5e4+G*5e3+Math.random()*1e4,ie=35e3+G*3e3+Math.random()*8e3;S.push({month:_[G],revenue:Math.round(se),cost:Math.round(ie),profit:Math.round(se-ie)})}return S},K=()=>[{name:"Crew Labor",value:45e3,color:"#8884d8"},{name:"Vehicle",value:25e3,color:"#82ca9d"},{name:"Fuel",value:15e3,color:"#ffc658"},{name:"Maintenance",value:12e3,color:"#ff7300"},{name:"Overhead",value:18e3,color:"#8dd1e1"}],R=()=>{const S=[],_=["Jan","Feb","Mar","Apr","May","Jun"];for(let G=0;G<_.length;G++){const se=15+G*2+Math.random()*5;S.push({month:_[G],margin:Math.round(se*10)/10,profit:Math.round(2e4+G*3e3+Math.random()*5e3)})}return S},U=B(),q=K(),D=R();return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Lt,{className:"h-5 w-5 animate-spin text-blue-600"}),a.jsx("span",{className:"text-gray-600",children:"Loading financial data..."})]})}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(nn,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:s}),a.jsx("button",{onClick:b,className:"mt-2 text-sm text-red-600 hover:text-red-500 underline",children:"Try again"})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Comprehensive financial analysis and reporting"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:p,onChange:S=>y(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"week",children:"Last Week"}),a.jsx("option",{value:"month",children:"Last Month"}),a.jsx("option",{value:"quarter",children:"Last Quarter"}),a.jsx("option",{value:"year",children:"Last Year"})]}),a.jsxs("button",{onClick:b,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[a.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:v.map(S=>a.jsx("button",{onClick:()=>{console.log("TCC_DEBUG: FinancialDashboard - Tab clicked:",S.id),t(S.id)},className:`py-2 px-1 border-b-2 font-medium text-sm ${e===S.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(S.icon,{className:"h-4 w-4 mr-2"}),S.name]})},S.id))})}),e==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.totalRevenue):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(uo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Costs"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.totalCost):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ut,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.grossProfit):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${N((o==null?void 0:o.averageProfitMargin)||0)}`,children:o?w(o.averageProfitMargin):"0.0%"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pe,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:(o==null?void 0:o.totalTrips)||0})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue per Mile"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o?j(o.averageRevenuePerMile):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Utilization Rate"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o?w(o.averageUtilizationRate*100):"0.0%"})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(T0,{data:U,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"month"}),a.jsx(Wt,{tickFormatter:S=>`$${(S/1e3).toFixed(0)}k`}),a.jsx(Dt,{formatter:S=>[j(S),""],labelFormatter:S=>`Month: ${S}`}),a.jsx(dr,{}),a.jsx(ds,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(ds,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]})]}),e==="revenue"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Revenue Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Transport Level"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(o==null?void 0:o.tripsByTransportLevel)&&Object.entries(o.tripsByTransportLevel).map(([S,_])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.count}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(_.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(_.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(_.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(_.margin)} ${N(_.margin)}`,children:w(_.margin)})})]},S))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Priority Level"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(o==null?void 0:o.tripsByPriority)&&Object.entries(o.tripsByPriority).map(([S,_])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.count}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(_.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(_.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(_.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(_.margin)} ${N(_.margin)}`,children:w(_.margin)})})]},S))})]})})]})]}),e==="costs"&&a.jsxs("div",{className:"space-y-6",children:[console.log("TCC_DEBUG: FinancialDashboard - Rendering Cost Analysis tab"),console.log("TCC_DEBUG: FinancialDashboard - costAnalysis data:",o),console.log("TCC_DEBUG: FinancialDashboard - tripCostBreakdowns:",u),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cost Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(Ko,{children:[a.jsx(ci,{data:q,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:_})=>`${S} ${(_*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:q.map((S,_)=>a.jsx(In,{fill:S.color},`cell-${_}`))}),a.jsx(Dt,{formatter:S=>[j(S),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Trip Cost Breakdowns"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trip ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:((u==null?void 0:u.breakdowns)||u||[]).slice(0,10).map(S=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[S.tripId.substring(0,8),"..."]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.transportLevel}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(S.totalRevenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(S.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(S.grossProfit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(S.profitMargin)} ${N(S.profitMargin)}`,children:w(S.profitMargin)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(S.calculatedAt).toLocaleDateString()})]},S.id))})]})})]})]}),e==="profitability"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profitability Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profitability Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(O0,{data:D,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"month"}),a.jsx(Wt,{yAxisId:"left"}),a.jsx(Wt,{yAxisId:"right",orientation:"right"}),a.jsx(Dt,{formatter:(S,_)=>[_==="margin"?`${S}%`:j(S),_==="margin"?"Margin":"Profit"],labelFormatter:S=>`Month: ${S}`}),a.jsx(dr,{}),a.jsx(Br,{yAxisId:"left",type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"}),a.jsx(Br,{yAxisId:"right",type:"monotone",dataKey:"margin",stroke:"#10b981",strokeWidth:2,name:"Margin %"})]})})})]}),(c==null?void 0:c.monthlyBreakdown)&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.monthlyBreakdown.map((S,_)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.month}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(S.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(S.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(S.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(S.margin)} ${N(S.margin)}`,children:w(S.margin)})})]},_))})]})})]})]}),e==="billing"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reports"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Generate Reports"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:P,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(jn,{className:"h-6 w-6 text-blue-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Financial Summary"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Complete financial overview"})]})]}),a.jsxs("button",{onClick:M,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Pt,{className:"h-6 w-6 text-green-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Revenue Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Detailed revenue analysis"})]})]}),a.jsxs("button",{onClick:E,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(uo,{className:"h-6 w-6 text-red-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Cost Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Detailed cost breakdown"})]})]}),a.jsxs("button",{onClick:O,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(eu,{className:"h-6 w-6 text-purple-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Profitability Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Profit margin analysis"})]})]}),a.jsxs("button",{onClick:F,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(on,{className:"h-6 w-6 text-gray-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Export Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Export to CSV format"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Reports"}),f.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("p",{children:"No reports generated yet"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Generate your first report using the options above"})]}):a.jsx("div",{className:"space-y-4",children:f.map(S=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(jn,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:S.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Generated: ",new Date(S.generatedAt).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>Q(S.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Download Report",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>$(S.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Share Report",children:a.jsx(rs,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>V(S.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Remove Report",children:a.jsx(cr,{className:"h-4 w-4"})})]})]})},S.id))})]})]}),f.filter(S=>S.isOpen).map(S=>a.jsxs("div",{className:"mt-6",children:[S.type==="financial-summary"&&a.jsx(qH,{data:S.data,onClose:()=>T(S.id),onDownload:()=>Q(S.id),onShare:()=>$(S.id)}),S.type==="revenue"&&a.jsx(KH,{data:S.data,onClose:()=>T(S.id),onDownload:()=>Q(S.id),onShare:()=>$(S.id)}),S.type==="cost"&&a.jsx(GH,{data:S.data,onClose:()=>T(S.id),onDownload:()=>Q(S.id),onShare:()=>$(S.id)}),S.type==="profitability"&&a.jsx(VH,{data:S.data,onClose:()=>T(S.id),onDownload:()=>Q(S.id),onShare:()=>$(S.id)}),S.type==="export-data"&&a.jsx(YH,{data:S.data,onClose:()=>T(S.id),onDownload:()=>Q(S.id),onShare:()=>$(S.id)})]},S.id))]})},AE=({user:e,onTripCreated:t,onCancel:r})=>{const[n,s]=x.useState(1),[i,o]=x.useState(!1),[l,c]=x.useState(null),[d,u]=x.useState(!1),[m,f]=x.useState({diagnosis:[],mobility:[],transportLevel:[],urgency:[],insurance:[],facilities:[],agencies:[],pickupLocations:[]}),[h,p]=x.useState({patientId:"",patientWeight:"",specialNeeds:"",insuranceCompany:"",generateQRCode:!1,fromLocation:e.facilityName||"",pickupLocationId:"",toLocation:"",scheduledTime:new Date().toISOString().slice(0,16),transportLevel:"BLS",urgencyLevel:"Routine",diagnosis:"",mobilityLevel:"Ambulatory",oxygenRequired:!1,monitoringRequired:!1,selectedAgencies:[],notificationRadius:100,notes:""}),[y,g]=x.useState("select"),[v,b]=x.useState(!1),j=[{id:1,name:"Patient Info",icon:ns},{id:2,name:"Trip Details",icon:yt},{id:3,name:"Clinical Info",icon:jv},{id:4,name:"Agency Selection",icon:Pe},{id:5,name:"Review & Submit",icon:qe}];x.useEffect(()=>{w()},[]),x.useEffect(()=>{if(h.fromLocation&&m.facilities.length>0){const k=m.facilities.find($=>$.name===h.fromLocation);k&&C(k.id)}},[h.fromLocation,m.facilities]),x.useEffect(()=>{if(console.log("TCC_DEBUG: Agency loading useEffect triggered",{currentStep:n,fromLocation:h.fromLocation,facilitiesCount:m.facilities.length}),n===4&&h.fromLocation&&m.facilities.length>0){const k=m.facilities.find($=>$.name===h.fromLocation);console.log("TCC_DEBUG: Selected facility:",k),k&&N(k.id)}},[n,h.fromLocation,m.facilities]);const w=async()=>{try{const[k,$,B,K,R,U]=await Promise.all([_r.getOptions.diagnosis(),_r.getOptions.mobility(),_r.getOptions.transportLevel(),_r.getOptions.urgency(),_r.getOptions.insurance(),ee.get("/api/tcc/facilities").then(q=>q.data)]);f({diagnosis:k.data.data||[],mobility:$.data.data||[],transportLevel:B.data.data||[],urgency:K.data.data||[],insurance:R.data.data||[],facilities:U.data||[],agencies:[],pickupLocations:[]})}catch(k){console.error("Error loading form options:",k)}},N=async k=>{try{console.log("TCC_DEBUG: Loading agencies for hospital:",k,"with radius:",h.notificationRadius);const $=await _r.getAgenciesForHospital(k,h.notificationRadius);console.log("TCC_DEBUG: Agencies response:",$.data),f(B=>({...B,agencies:$.data.data||[]}))}catch($){console.error("Error loading agencies:",$)}},C=async k=>{var $;try{b(!0);const B=await _r.getPickupLocationsForHospital(k);if(($=B.data)!=null&&$.success){const K=B.data;K.success&&f(R=>({...R,pickupLocations:K.data||[]}))}}catch(B){console.error("Error loading pickup locations:",B)}finally{b(!1)}},P=k=>{const{name:$,value:B,type:K}=k.target;if(p(R=>({...R,[$]:K==="checkbox"?k.target.checked:B})),$==="fromLocation"&&B){const R=m.facilities.find(U=>U.name===B);R?C(R.id):(f(U=>({...U,pickupLocations:[]})),p(U=>({...U,pickupLocationId:""})))}if($==="toLocation"&&B&&y==="select"){const R=m.facilities.find(U=>U.name===B);R&&N(R.id)}},M=k=>{g(k),p($=>({...$,toLocation:""})),k==="manual"&&f($=>({...$,agencies:[]}))},E=k=>{p($=>({...$,selectedAgencies:$.selectedAgencies.includes(k)?$.selectedAgencies.filter(B=>B!==k):[...$.selectedAgencies,k]}))},O=()=>{const k="P"+Math.random().toString(36).substr(2,8).toUpperCase();p($=>({...$,patientId:k}))},F=()=>{r&&r()},I=()=>{n<j.length&&s(n+1)},T=()=>{n>1&&s(n-1)},V=async k=>{var $,B,K,R;k.preventDefault(),console.log("TCC_DEBUG: handleSubmit called, currentStep:",n),o(!0),c(null);try{const U={...h,patientWeight:h.patientWeight?parseFloat(h.patientWeight):null,notificationRadius:h.notificationRadius||100,scheduledTime:h.scheduledTime||new Date().toISOString()};console.log("TCC_DEBUG: Submitting tripData:",U);const q=await _r.createEnhanced(U);if(console.log("TCC_DEBUG: Trip creation response:",q.status,q.data),($=q.data)!=null&&$.success)u(!0),setTimeout(()=>{u(!1);try{t()}catch{}},2e3);else throw new Error(((B=q.data)==null?void 0:B.error)||"Failed to create transport request")}catch(U){console.error("TCC_DEBUG: handleSubmit error:",U),c(((R=(K=U==null?void 0:U.response)==null?void 0:K.data)==null?void 0:R.error)||(U==null?void 0:U.message)||"Failed to create transport request")}finally{o(!1),console.log("TCC_DEBUG: handleSubmit finished")}},Q=()=>{switch(n){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ns,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Patient Information"})]}),a.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Enter patient details. No names or ages for HIPAA compliance."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",name:"patientId",value:h.patientId,onChange:P,required:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter patient ID"}),a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Generate ID"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Weight (kgs)"}),a.jsx("input",{type:"number",name:"patientWeight",value:h.patientWeight,onChange:P,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter weight in kilograms"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Company"}),a.jsxs("select",{name:"insuranceCompany",value:h.insuranceCompany,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select insurance company"}),m.insurance.map(k=>a.jsx("option",{value:k,children:k},k))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Needs"}),a.jsx("input",{type:"text",name:"specialNeeds",value:h.specialNeeds,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter special needs"})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(yt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Trip Details"})]}),a.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Specify origin, destination, and transport requirements."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Location *"}),a.jsxs("select",{name:"fromLocation",value:h.fromLocation,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select origin facility"}),m.facilities.map(k=>a.jsxs("option",{value:k.name,children:[k.name," - ",k.type]},k.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Location *"}),a.jsxs("select",{name:"pickupLocationId",value:h.pickupLocationId,onChange:P,required:!0,disabled:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"",children:v?"Loading pickup locations...":"Select pickup location"}),m.pickupLocations&&m.pickupLocations.length>0?m.pickupLocations.map(k=>a.jsxs("option",{value:k.id,children:[k.name," ",k.floor&&`(${k.floor})`]},k.id)):!v&&h.fromLocation&&a.jsx("option",{value:"",disabled:!0,children:"No pickup locations available for this facility"})]}),h.pickupLocationId&&m.pickupLocations&&a.jsx("div",{className:"mt-2 text-sm text-gray-600",children:(()=>{const k=m.pickupLocations.find($=>$.id===h.pickupLocationId);return k?a.jsxs("div",{children:[k.contactPhone&&a.jsxs("p",{children:[a.jsx("strong",{children:"Contact:"})," ",k.contactPhone]}),k.contactEmail&&a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",k.contactEmail]}),k.room&&a.jsxs("p",{children:[a.jsx("strong",{children:"Room:"})," ",k.room]})]}):null})()})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Location *"}),a.jsxs("div",{className:"flex space-x-4 mb-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"destinationMode",value:"select",checked:y==="select",onChange:k=>M(k.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Select from list"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"destinationMode",value:"manual",checked:y==="manual",onChange:k=>M(k.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Enter manually"})]})]}),y==="select"?a.jsxs("select",{name:"toLocation",value:h.toLocation,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select destination"}),m.facilities.map(k=>a.jsxs("option",{value:k.name,children:[k.name," - ",k.type]},k.id))]}):a.jsx("input",{type:"text",name:"toLocation",value:h.toLocation,onChange:P,required:!0,placeholder:"Enter destination facility name and location",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"}),y==="select"&&m.facilities.length===0&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Loading facilities..."}),y==="manual"&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Enter the full facility name and location (e.g., "Johns Hopkins Hospital, Baltimore, MD")'})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Time *"}),a.jsx("input",{type:"datetime-local",name:"scheduledTime",value:h.scheduledTime,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Level *"}),a.jsx("select",{name:"transportLevel",value:h.transportLevel,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:m.transportLevel.map(k=>a.jsx("option",{value:k,children:k},k))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level *"}),a.jsx("select",{name:"urgencyLevel",value:h.urgencyLevel,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:m.urgency.map(k=>a.jsx("option",{value:k,children:k},k))})]})]})]});case 3:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jv,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Clinical Details"})]}),a.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"Provide clinical information for appropriate transport planning."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Diagnosis"}),a.jsxs("select",{name:"diagnosis",value:h.diagnosis,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:[a.jsx("option",{value:"",children:"Select diagnosis"}),m.diagnosis.map(k=>a.jsx("option",{value:k,children:k},k))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobility Level"}),a.jsx("select",{name:"mobilityLevel",value:h.mobilityLevel,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:m.mobility.map(k=>a.jsx("option",{value:k,children:k},k))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"oxygenRequired",checked:h.oxygenRequired,onChange:P,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Oxygen Required"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"monitoringRequired",checked:h.monitoringRequired,onChange:P,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Continuous Monitoring Required"})]})]})]});case 4:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pe,{className:"h-5 w-5 text-orange-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-orange-800",children:"EMS Agency Selection"})]}),a.jsxs("p",{className:"text-sm text-orange-700 mt-1",children:["Select agencies to notify within ",h.notificationRadius," miles."]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Radius (miles)"}),a.jsx("input",{type:"number",name:"notificationRadius",value:h.notificationRadius,onChange:P,min:"10",max:"200",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Agencies"}),h.fromLocation?a.jsx("div",{className:"space-y-3",children:m.agencies.length===0?a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Loading agencies..."})," Please wait while we find available EMS agencies in your area."]})})]})}):m.agencies.map(k=>a.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${h.selectedAgencies.includes(k.id)?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300"}`,onClick:()=>E(k.id),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:k.name}),a.jsx("p",{className:"text-sm text-gray-500",children:k.serviceType}),a.jsxs("p",{className:"text-xs text-gray-400",children:[k.availableUnits||0,"/",k.totalUnits||0," units available"]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("input",{type:"checkbox",checked:h.selectedAgencies.includes(k.id),onChange:()=>{},className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})})]})},k.id))}):a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-yellow-700",children:[a.jsx("strong",{children:"No Origin Hospital Selected:"})," Please select an origin hospital in step 2 to load available agencies."]})})]})})]})]});case 5:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(qe,{className:"h-5 w-5 text-gray-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Review & Submit"})]}),a.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Review all information before submitting the transport request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Patient Information"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",h.patientId]}),h.patientWeight&&a.jsxs("p",{className:"text-sm text-gray-600",children:["Weight: ",h.patientWeight," kgs"]}),h.insuranceCompany&&a.jsxs("p",{className:"text-sm text-gray-600",children:["Insurance: ",h.insuranceCompany]}),h.specialNeeds&&a.jsxs("p",{className:"text-sm text-gray-600",children:["Special Needs: ",h.specialNeeds]})]}),a.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Trip Details"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["From: ",h.fromLocation]}),h.pickupLocationId&&m.pickupLocations&&(()=>{const k=m.pickupLocations.find($=>$.id===h.pickupLocationId);return k?a.jsxs("p",{className:"text-sm text-gray-600",children:["Pickup: ",k.name," ",k.floor&&`(${k.floor})`]}):null})(),a.jsxs("p",{className:"text-sm text-gray-600",children:["To: ",h.toLocation]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Level: ",h.transportLevel]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Urgency: ",h.urgencyLevel]})]}),a.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Clinical Details"}),h.diagnosis&&a.jsxs("p",{className:"text-sm text-gray-600",children:["Diagnosis: ",h.diagnosis]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Mobility: ",h.mobilityLevel]}),h.oxygenRequired&&a.jsx("p",{className:"text-sm text-red-600",children:"Oxygen Required"}),h.monitoringRequired&&a.jsx("p",{className:"text-sm text-red-600",children:"Monitoring Required"})]}),a.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Agency Selection"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Selected: ",h.selectedAgencies.length," agencies"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Radius: ",h.notificationRadius," miles"]})]})]}),h.notes&&a.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Notes"}),a.jsx("p",{className:"text-sm text-gray-600",children:h.notes})]})]})]});default:return null}};return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between",children:j.map((k,$)=>{const B=k.icon,K=n===k.id,R=n>k.id;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${K?"border-blue-500 bg-blue-500 text-white":R?"border-green-500 bg-green-500 text-white":"border-gray-300 bg-white text-gray-400"}`,children:a.jsx(B,{className:"h-5 w-5"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:`text-sm font-medium ${K?"text-blue-600":R?"text-green-600":"text-gray-500"}`,children:k.name})}),$<j.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-4 ${R?"bg-green-500":"bg-gray-300"}`})]},k.id)})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Enhanced Transport Request"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Step ",n," of ",j.length]})]}),a.jsxs("div",{className:"p-6",children:[d&&a.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(qe,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Transport request created successfully!"})})]})}),l&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(nn,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:l})})]})}),a.jsxs("form",{onSubmit:V,children:[Q(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{type:"button",onClick:F,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[a.jsx(cr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"button",onClick:T,disabled:n===1,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(U4,{className:"h-4 w-4 mr-2"}),"Previous"]})]}),n<j.length?a.jsxs("button",{type:"button",onClick:I,className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:["Next",a.jsx(p2,{className:"h-4 w-4 ml-2"})]}):a.jsx("button",{type:"submit",disabled:i,className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:i?"Creating...":"Create Request"})]})]})]})]})]})},QH=({user:e})=>{const t=id(),r=()=>{t("/dashboard/trips")},n=()=>{t("/dashboard/trips")};return a.jsx("div",{className:"min-h-full bg-gray-100 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Transport Request"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create a new transport request on behalf of a healthcare facility."})]}),a.jsx(AE,{user:e,onTripCreated:r,onCancel:n})]})})},ZH=({user:e,onLogout:t})=>{const[r,n]=x.useState(!1),[s,i]=x.useState(null),o=xi(),l=x.useRef({}),d=(()=>{const f=[{name:"Home",href:"/dashboard",icon:H4,category:"core"},{name:"Trips",href:"/dashboard/trips",icon:Pe,category:"core"},{name:"Hospitals",href:"/dashboard/hospitals",icon:Qt,category:"core"},{name:"Agencies",href:"/dashboard/agencies",icon:Pe,category:"core"}],h=[{name:"Analytics",href:"/dashboard/analytics",icon:pt,category:"analysis"},{name:"Financial",href:"/dashboard/financial",icon:Pt,category:"analysis"}],p=[{name:"Settings",href:"/dashboard/settings",icon:yv,category:"admin"}],y=[];return e.userType==="ADMIN"?{coreOperations:f,analysisReporting:h,administration:p,additionalFeatures:y}:{coreOperations:f,analysisReporting:h,administration:[],additionalFeatures:y}})(),u={settings:{title:"Settings",icon:an,items:[{name:"User Management",href:"/dashboard/settings",icon:an},{name:"Backup",href:"/dashboard/settings/backup",icon:an}]}};x.useEffect(()=>{const f=h=>{if(s&&l.current[s]){const p=l.current[s];p&&!p.contains(h.target)&&i(null)}};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[s]);const m=({menuKey:f,menu:h})=>{const p=s===f,y=h.items.some(g=>o.pathname===g.href||g.href!=="/dashboard"&&o.pathname.startsWith(g.href));return a.jsxs("div",{className:"relative",ref:g=>l.current[f]=g,children:[a.jsxs("button",{onClick:()=>i(p?null:f),className:`${y?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"} flex items-center px-1 py-2 text-sm font-medium border-b-2 border-transparent transition-colors`,children:[a.jsx(h.icon,{className:"mr-2 h-4 w-4"}),h.title,a.jsx(Bs,{className:`ml-1 h-4 w-4 transition-transform ${p?"rotate-180":""}`})]}),p&&a.jsx("div",{className:"absolute top-full left-0 mt-1 w-56 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:a.jsx("div",{className:"py-1",children:h.items.map((g,v)=>{const b=o.pathname===g.href||g.href!=="/dashboard"&&o.pathname.startsWith(g.href);return a.jsxs(Vn,{to:g.href,className:`${b?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-4 py-2 text-sm`,onClick:()=>i(null),children:[a.jsx(g.icon,{className:`mr-3 h-4 w-4 ${g.color||"text-gray-400 group-hover:text-gray-500"}`}),g.name]},v)})})})]})};return a.jsxs("div",{className:"h-screen flex flex-col overflow-hidden bg-gray-100",children:[a.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200",children:[a.jsxs("div",{className:"md:hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(Qt,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"TCC"})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",title:"Sign out",children:a.jsx(Jc,{className:"h-5 w-5"})})]}),a.jsx("button",{type:"button",className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>n(!r),children:r?a.jsx(cr,{className:"h-6 w-6"}):a.jsx(yv,{className:"h-6 w-6"})})]}),r&&a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-gray-50 border-t border-gray-200",children:[a.jsx("div",{className:"px-3 py-2",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Core Operations"})}),d.coreOperations.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(Vn,{to:f.href,className:`${h?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-base font-medium rounded-md`,onClick:()=>n(!1),children:[a.jsx(f.icon,{className:`${h?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-5 w-5`}),f.name]},f.name)}),a.jsx("div",{className:"px-3 py-2",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Analysis"})}),d.analysisReporting.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(Vn,{to:f.href,className:`${h?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-base font-medium rounded-md`,onClick:()=>n(!1),children:[a.jsx(f.icon,{className:`${h?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-5 w-5`}),f.name]},f.name)}),a.jsx("div",{className:"px-3 py-2",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Additional"})}),d.additionalFeatures.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(Vn,{to:f.href,className:`${h?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-base font-medium rounded-md`,onClick:()=>n(!1),children:[a.jsx(f.icon,{className:`${h?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-5 w-5`}),f.name]},f.name)}),d.administration.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"px-3 py-2",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Administration"})}),a.jsx("div",{className:"px-3 py-2",children:a.jsxs("div",{className:"flex items-center text-gray-600 font-medium",children:[a.jsx(u.settings.icon,{className:"mr-3 h-5 w-5 text-gray-400"}),u.settings.title]})}),u.settings.items.map((f,h)=>{const p=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(Vn,{to:f.href,className:`${p?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-6 py-2 text-sm font-medium rounded-md ml-4`,onClick:()=>n(!1),children:[a.jsx(f.icon,{className:`${p?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-4 w-4`}),f.name]},h)})]})]})]}),a.jsx("div",{className:"hidden md:block",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(Qt,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"TCC"})]}),a.jsxs("nav",{className:"flex items-center space-x-8",children:[d.coreOperations.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(Vn,{to:f.href,className:`${h?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"} flex items-center px-1 py-2 text-sm font-medium border-b-2 border-transparent transition-colors`,children:[a.jsx(f.icon,{className:"mr-2 h-4 w-4"}),f.name]},f.name)}),d.analysisReporting.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(Vn,{to:f.href,className:`${h?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"} flex items-center px-1 py-2 text-sm font-medium border-b-2 border-transparent transition-colors`,children:[a.jsx(f.icon,{className:"mr-2 h-4 w-4"}),f.name]},f.name)}),d.additionalFeatures.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(Vn,{to:f.href,className:`${h?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"} flex items-center px-1 py-2 text-sm font-medium border-b-2 border-transparent transition-colors`,children:[a.jsx(f.icon,{className:"mr-2 h-4 w-4"}),f.name]},f.name)}),d.administration.length>0&&a.jsx(m,{menuKey:"settings",menu:u.settings})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e.email})]})}),a.jsxs("button",{onClick:t,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors",title:"Sign out",children:[a.jsx(Jc,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})})})]}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:a.jsxs(ph,{children:[a.jsx(Ve,{path:"/",element:a.jsx(Y4,{})}),a.jsx(Ve,{path:"/trips",element:a.jsx(Q4,{user:e})}),a.jsx(Ve,{path:"/trips/create",element:a.jsx(QH,{user:e})}),a.jsx(Ve,{path:"/analytics",element:a.jsx(c6,{})}),a.jsx(Ve,{path:"/units",element:a.jsx(i6,{})}),a.jsx(Ve,{path:"/hospitals/*",element:a.jsx(Z4,{})}),a.jsx(Ve,{path:"/agencies/*",element:a.jsx(J4,{})}),a.jsx(Ve,{path:"/route-optimization",element:a.jsx(l6,{})}),a.jsx(Ve,{path:"/healthcare-portal",element:a.jsx(e6,{})}),a.jsx(Ve,{path:"/ems-dashboard",element:a.jsx(y2,{user:e,onLogout:t})}),a.jsx(Ve,{path:"/settings",element:a.jsx(Cv,{})}),a.jsx(Ve,{path:"/settings/users",element:a.jsx(Cv,{})}),t6,a.jsx(Ve,{path:"/settings/backup",element:a.jsx(s6,{})}),a.jsx(Ve,{path:"/financial",element:a.jsx(XH,{})}),a.jsx(Ve,{path:"/my-trips",element:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Trips"}),a.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})}),a.jsx(Ve,{path:"/my-assignments",element:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Assignments"}),a.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})})]})})})})})]})},JH=()=>{var fe;const[e,t]=x.useState("dropdowns"),[r,n]=x.useState([]),[s,i]=x.useState(""),[o,l]=x.useState([]),[c,d]=x.useState(!1),[u,m]=x.useState(null),[f,h]=x.useState(null),[p,y]=x.useState(""),[g,v]=x.useState(null),[b,j]=x.useState(""),[w,N]=x.useState([]),[C,P]=x.useState(""),[M,E]=x.useState([]),[O,F]=x.useState(!1),[I,T]=x.useState(null),[V,Q]=x.useState(null),[k,$]=x.useState(!1),[B,K]=x.useState(null),[R,U]=x.useState({name:"",description:"",contactPhone:"",contactEmail:"",floor:"",room:""});x.useEffect(()=>{q()},[]),x.useEffect(()=>{s&&D(s)},[s]),x.useEffect(()=>{ie()},[]),x.useEffect(()=>{C&&Y(C)},[C]);const q=async()=>{try{d(!0);const H=await bs.getCategories();H.data.success&&(n(H.data.data),H.data.data.length>0&&i(H.data.data[0]))}catch(H){console.error("Error loading categories:",H),m("Failed to load categories")}finally{d(!1)}},D=async H=>{try{d(!0);const ce=await bs.getByCategory(H);ce.data.success&&l(ce.data.data)}catch(ce){console.error("Error loading options:",ce),m("Failed to load options")}finally{d(!1)}},S=async H=>{if(H.preventDefault(),!(!p.trim()||!s))try{d(!0),(await bs.create({category:s,value:p.trim()})).data.success&&(y(""),h("Option added successfully"),D(s),setTimeout(()=>h(null),3e3))}catch(ce){console.error("Error adding option:",ce),m("Failed to add option")}finally{d(!1)}},_=H=>{v(H),j(H.value)},G=async H=>{if(H.preventDefault(),!(!g||!b.trim()))try{d(!0),(await bs.update(g.id,{value:b.trim()})).data.success&&(v(null),j(""),h("Option updated successfully"),D(s),setTimeout(()=>h(null),3e3))}catch(ce){console.error("Error updating option:",ce),m("Failed to update option")}finally{d(!1)}},se=async H=>{if(window.confirm("Are you sure you want to delete this option?"))try{d(!0),(await bs.delete(H)).data.success&&(h("Option deleted successfully"),D(s),setTimeout(()=>h(null),3e3))}catch(ce){console.error("Error deleting option:",ce),m("Failed to delete option")}finally{d(!1)}},ie=async()=>{try{F(!0);const H=await ee.get("/api/tcc/hospitals");H.data.success&&(N(H.data.data),H.data.data.length>0&&P(H.data.data[0].id))}catch(H){console.error("Error loading hospitals:",H),T("Failed to load hospitals")}finally{F(!1)}},Y=async H=>{try{F(!0);const ce=await ee.get(`/api/tcc/pickup-locations/hospital/${H}`);ce.data.success&&E(ce.data.data)}catch(ce){console.error("Error loading pickup locations:",ce),T("Failed to load pickup locations")}finally{F(!1)}},le=()=>{K(null),U({name:"",description:"",contactPhone:"",contactEmail:"",floor:"",room:""}),$(!0)},L=H=>{K(H),U({name:H.name,description:H.description||"",contactPhone:H.contactPhone||"",contactEmail:H.contactEmail||"",floor:H.floor||"",room:H.room||""}),$(!0)},A=async H=>{var ce,De;if(H.preventDefault(),!(!R.name.trim()||!C))try{F(!0);const dt={hospitalId:C,name:R.name.trim(),description:R.description.trim()||null,contactPhone:R.contactPhone.trim()||null,contactEmail:R.contactEmail.trim()||null,floor:R.floor.trim()||null,room:R.room.trim()||null};let hn;B?hn=await ee.put(`/api/tcc/pickup-locations/${B.id}`,dt):hn=await ee.post("/api/tcc/pickup-locations",dt),hn.data.success&&($(!1),Q(B?"Pickup location updated successfully":"Pickup location created successfully"),Y(C),setTimeout(()=>Q(null),3e3))}catch(dt){console.error("Error saving pickup location:",dt),T(((De=(ce=dt.response)==null?void 0:ce.data)==null?void 0:De.error)||"Failed to save pickup location")}finally{F(!1)}},J=async H=>{var ce,De;if(window.confirm("Are you sure you want to delete this pickup location?"))try{F(!0),(await ee.delete(`/api/tcc/pickup-locations/${H}`)).data.success&&(Q("Pickup location deleted successfully"),Y(C),setTimeout(()=>Q(null),3e3))}catch(dt){console.error("Error deleting pickup location:",dt),T(((De=(ce=dt.response)==null?void 0:ce.data)==null?void 0:De.error)||"Failed to delete pickup location")}finally{F(!1)}},Z=H=>({insurance:"Insurance Companies",diagnosis:"Primary Diagnosis",mobility:"Mobility Levels","transport-level":"Transport Levels",urgency:"Urgency Levels"})[H]||H;return a.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hospital Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage dropdown options and pickup locations for transport request forms"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>t("dropdowns"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="dropdowns"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dropdown Options"}),a.jsx("button",{onClick:()=>t("pickup-locations"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="pickup-locations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pickup Locations"}),a.jsx("button",{onClick:()=>t("main-contact"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="main-contact"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Main Contact"})]})})}),f&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:f})}),u&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("p",{className:"text-red-800",children:u}),a.jsx("button",{onClick:()=>m(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),V&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:V})}),I&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("p",{className:"text-red-800",children:I}),a.jsx("button",{onClick:()=>T(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),e==="dropdowns"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Category"}),a.jsxs("select",{id:"category",value:s,onChange:H=>i(H.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a category..."}),r.map(H=>a.jsx("option",{value:H,children:Z(H)},H))]})]}),s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Add New ",Z(s)]}),a.jsxs("form",{onSubmit:S,className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p,onChange:H=>y(H.target.value),placeholder:`Enter new ${Z(s).toLowerCase()}...`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("button",{type:"submit",disabled:c||!p.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Adding...":"Add"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Current ",Z(s)]}),c?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):o.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No options found for this category."}),a.jsx("p",{className:"text-sm",children:"Add some options using the form above."})]}):a.jsx("div",{className:"space-y-2",children:o.map(H=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-md",children:(g==null?void 0:g.id)===H.id?a.jsxs("form",{onSubmit:G,className:"flex items-center gap-2 flex-1",children:[a.jsx("input",{type:"text",value:b,onChange:ce=>j(ce.target.value),className:"flex-1 px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("button",{type:"submit",disabled:c,className:"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50",children:"Save"}),a.jsx("button",{type:"button",onClick:()=>{v(null),j("")},className:"px-3 py-1 bg-gray-500 text-white text-sm rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-900",children:H.value}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>_(H),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit"}),a.jsx("button",{onClick:()=>se(H.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Delete"})]})]})},H.id))})]}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Select a category to manage its dropdown options"}),a.jsx("li",{children:"• Add new options using the form above"}),a.jsx("li",{children:'• Edit existing options by clicking the "Edit" button'}),a.jsx("li",{children:'• Delete options by clicking the "Delete" button'}),a.jsx("li",{children:"• Changes will be reflected in the transport request forms immediately"})]})]})]})]}),e==="pickup-locations"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"hospital",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hospital"}),a.jsxs("select",{id:"hospital",value:C,onChange:H=>P(H.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a hospital..."}),w.map(H=>a.jsx("option",{value:H.id,children:H.name},H.id))]})]}),C&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Pickup Locations for ",(fe=w.find(H=>H.id===C))==null?void 0:fe.name]}),a.jsx("button",{onClick:le,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add Pickup Location"})]}),O?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):M.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No pickup locations found for this hospital."}),a.jsx("p",{className:"text-sm",children:"Add some pickup locations using the button above."})]}):a.jsx("div",{className:"space-y-2",children:M.map(H=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-md",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:H.name}),H.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:H.description}),a.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-500",children:[H.floor&&a.jsxs("span",{children:["Floor: ",H.floor]}),H.room&&a.jsxs("span",{children:["Room: ",H.room]}),H.contactPhone&&a.jsxs("span",{children:["Phone: ",H.contactPhone]}),H.contactEmail&&a.jsxs("span",{children:["Email: ",H.contactEmail]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>L(H),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit"}),a.jsx("button",{onClick:()=>J(H.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Delete"})]})]},H.id))})]}),k&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:B?"Edit Pickup Location":"Add New Pickup Location"}),a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Name *"}),a.jsx("input",{type:"text",value:R.name,onChange:H=>U({...R,name:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Emergency Department",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:R.description,onChange:H=>U({...R,description:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional description",rows:2})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor"}),a.jsx("input",{type:"text",value:R.floor,onChange:H=>U({...R,floor:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1st Floor"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room"}),a.jsx("input",{type:"text",value:R.room,onChange:H=>U({...R,room:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Room 101"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),a.jsx("input",{type:"tel",value:R.contactPhone,onChange:H=>U({...R,contactPhone:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),a.jsx("input",{type:"email",value:R.contactEmail,onChange:H=>U({...R,contactEmail:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., ed@hospital.com"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>$(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:O||!R.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Saving...":B?"Update":"Create"})]})]})]})})}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Select a hospital to manage its pickup locations"}),a.jsx("li",{children:'• Add new pickup locations using the "Add Pickup Location" button'}),a.jsx("li",{children:'• Edit existing locations by clicking the "Edit" button'}),a.jsx("li",{children:'• Delete locations by clicking the "Delete" button'}),a.jsx("li",{children:"• Pickup locations will be available in the trip creation form"})]})]})]}),e==="main-contact"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Main Contact Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Set the main contact person for this facility's administration of the TCC application."})]}),a.jsx("div",{className:"px-6 py-6",children:a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter contact name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title/Position"}),a.jsx("input",{type:"text",id:"contactTitle",name:"contactTitle",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., IT Director, Administrator"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",id:"contactEmail",name:"contactEmail",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"contact@hospital.com"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactPhone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",id:"contactPhone",name:"contactPhone",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(555) 123-4567"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),a.jsx("textarea",{id:"contactNotes",name:"contactNotes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Any additional information about this contact person..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save Contact Information"})]})]})})]}),a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• This contact person will be the main administrator for this facility's TCC application"}),a.jsx("li",{children:"• They will receive notifications about system updates and important changes"}),a.jsx("li",{children:"• This information may be used for support and troubleshooting purposes"}),a.jsx("li",{children:"• Ensure the email address is monitored regularly for important communications"})]})]})]})]})},eq=({user:e,onLogout:t})=>{var I;const[r,n]=x.useState("create"),[s,i]=x.useState([]),[o,l]=x.useState(null),[c,d]=x.useState(!1),[u,m]=x.useState([{id:"1",patientId:"P001",destination:"General Hospital",transportLevel:"BLS",status:"PENDING",requestTime:"2025-09-07 10:30 AM",priority:"MEDIUM",urgencyLevel:"Urgent"},{id:"2",patientId:"P002",destination:"Rehabilitation Center",transportLevel:"ALS",status:"ACCEPTED",requestTime:"2025-09-07 09:15 AM",priority:"HIGH",urgencyLevel:"Emergent"},{id:"3",patientId:"P003",destination:"Emergency Room",transportLevel:"CCT",status:"IN_PROGRESS",requestTime:"2025-09-07 08:45 AM",priority:"HIGH",urgencyLevel:"Emergent"},{id:"4",patientId:"P004",destination:"Outpatient Clinic",transportLevel:"BLS",status:"COMPLETED",requestTime:"2025-09-07 07:30 AM",priority:"LOW",urgencyLevel:"Routine"}]),[f,h]=x.useState(null),[p,y]=x.useState({}),[g,v]=x.useState(!1);x.useEffect(()=>{j()},[]),x.useEffect(()=>{r==="responses"&&M()},[r]);const b=T=>{switch(T){case"Routine":return"text-black bg-transparent";case"Urgent":return"text-black bg-orange-200";case"Emergent":return"text-black bg-red-200";default:return"text-black bg-transparent"}},j=async()=>{try{const T=await fetch("/api/trips",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(T.ok){const V=await T.json();if(V.success&&V.data){const Q=V.data.map(k=>({id:k.id,patientId:k.patientName,destination:k.toLocation,pickupLocation:null,transportLevel:k.transportLevel||"BLS",status:k.status,requestTime:new Date(k.createdAt).toLocaleString(),priority:k.priority,urgencyLevel:k.urgencyLevel}));m(Q)}}}catch(T){console.error("Error loading trips:",T)}},w=T=>{h(T),y({status:T.status,transportLevel:T.transportLevel,urgencyLevel:T.urgencyLevel||T.priority})},N=async()=>{if(f){v(!0);try{const T=await fetch(`/api/trips/${f.id}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:p.status,...p.status==="COMPLETED"&&{completionTimestamp:new Date().toISOString()}})});if(!T.ok){const V=await T.json();throw new Error(V.error||"Failed to update trip")}await j(),h(null),y({})}catch(T){console.error("Error updating trip:",T),alert(T.message||"Failed to update trip")}finally{v(!1)}}},C=async T=>{if(confirm("Are you sure you want to mark this trip as completed?")){v(!0);try{const V=await fetch(`/api/trips/${T}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:"COMPLETED",completionTimestamp:new Date().toISOString()})});if(!V.ok){const Q=await V.json();throw new Error(Q.error||"Failed to complete trip")}await j()}catch(V){console.error("Error completing trip:",V),alert(V.message||"Failed to complete trip")}finally{v(!1)}}},P=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t()},M=async T=>{d(!0);try{const V=T?`/api/agency-responses?tripId=${T}`:"/api/agency-responses",Q=await fetch(V,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Q.ok){const k=await Q.json();k.success&&k.data&&i(k.data)}}catch(V){console.error("Error loading agency responses:",V)}finally{d(!1)}},E=async(T,V,Q)=>{try{const k=await fetch(`/api/agency-responses/select/${T}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({agencyResponseId:V,selectionNotes:Q||"Selected by healthcare provider"})});if(!k.ok){const $=await k.json();throw new Error($.error||"Failed to select agency")}await M(T),await j()}catch(k){console.error("Error selecting agency:",k),alert(k.message||"Failed to select agency")}},O=T=>{n("responses"),l(T),M(T.id)},F=T=>{switch(T){case"PENDING":return"text-yellow-600 bg-yellow-100";case"ACCEPTED":return"text-green-600 bg-green-100";case"IN_PROGRESS":return"text-blue-600 bg-blue-100";case"COMPLETED":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx(Qt,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e.facilityName||"Healthcare Facility"}),a.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[((I=e.facilityType)==null?void 0:I.toLowerCase())||"Healthcare"," • Healthcare Portal"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(x2,{user:e}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ns,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:e.name})]}),a.jsxs("button",{onClick:P,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[a.jsx(Jc,{className:"h-4 w-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"trips",name:"Transport Requests",icon:xt},{id:"responses",name:"Agency Responses",icon:hv},{id:"create",name:"Create Request",icon:ln},{id:"hospital-settings",name:"Hospital Settings",icon:Qt}].map(T=>{const V=T.icon;return a.jsxs("button",{onClick:()=>n(T.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${r===T.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(V,{className:"h-4 w-4"}),a.jsx("span",{children:T.name})]},T.id)})})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="trips"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(xt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Requests"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:u.filter(T=>T.status==="PENDING").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(qe,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Today"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:u.filter(T=>T.status==="COMPLETED").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-red-500",children:a.jsx(B4,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"High Priority"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:u.filter(T=>T.urgencyLevel==="Emergent"||T.priority==="HIGH").length})]})})]})})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transport Requests"})}),a.jsx("div",{className:"p-6",children:u.length>0?a.jsx("div",{className:"space-y-4",children:u.map(T=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Patient ID: ",T.patientId," - ",T.destination]}),a.jsxs("p",{className:"text-xs text-blue-600",children:["Pickup: ",T.destination]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[T.transportLevel," • ",T.urgencyLevel||T.priority," • ",T.requestTime]})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(T.status)}`,children:T.status}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(T.urgencyLevel||T.priority)}`,children:T.urgencyLevel||T.priority}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>O(T),className:"text-purple-600 hover:text-purple-900 text-xs px-2 py-1 rounded hover:bg-purple-50",children:"View Responses"}),a.jsx("button",{onClick:()=>w(T),className:"text-blue-600 hover:text-blue-900 text-xs px-2 py-1 rounded hover:bg-blue-50",disabled:g,children:"Edit"}),T.status!=="COMPLETED"&&a.jsx("button",{onClick:()=>C(T.id),className:"text-green-600 hover:text-green-900 text-xs px-2 py-1 rounded hover:bg-green-50",disabled:g,children:"Complete"})]})]})]},T.id))}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"No transport requests found"})})})]})]}),r==="create"&&a.jsx("div",{children:a.jsx(AE,{user:e,onTripCreated:()=>{j(),n("trips")},onCancel:()=>{n("trips")}})}),r==="responses"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Agency Responses"}),a.jsx("button",{onClick:()=>M(),disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Loading...":"Refresh Responses"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx(hv,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Responses"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(qe,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Accepted"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.filter(T=>T.response==="ACCEPTED").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-red-500",children:a.jsx(cr,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Declined"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.filter(T=>T.response==="DECLINED").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(xt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Selected"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.filter(T=>T.isSelected).length})]})})]})})})]}),o&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-blue-900",children:["Viewing Responses for: ",o.patientId]}),a.jsxs("p",{className:"text-sm text-blue-700",children:[o.fromLocation," → ",o.toLocation," • ",o.transportLevel," • ",o.urgencyLevel||o.priority]})]}),a.jsx("button",{onClick:()=>{l(null),M()},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All Responses"})]})}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:o?"Agency Response Details":"All Agency Responses"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:o?"View and manage agency responses for this transport request":"View and manage agency responses for all transport requests"})]}),a.jsx("ul",{className:"divide-y divide-gray-200",children:c?a.jsx("li",{className:"px-4 py-5 sm:px-6",children:a.jsx("div",{className:"text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mr-2"}),"Loading agency responses..."]})})}):s.length===0?a.jsx("li",{className:"px-4 py-5 sm:px-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"No agency responses found. Create a transport request to see responses."})}):s.map(T=>a.jsx("li",{className:"px-4 py-5 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`p-2 rounded-md ${T.response==="ACCEPTED"?"bg-green-100":T.response==="DECLINED"?"bg-red-100":"bg-gray-100"}`,children:T.response==="ACCEPTED"?a.jsx(qe,{className:"h-5 w-5 text-green-600"}):T.response==="DECLINED"?a.jsx(cr,{className:"h-5 w-5 text-red-600"}):a.jsx(xt,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Agency ",T.agencyId]}),T.isSelected&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Selected"})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Trip ID: ",T.tripId]}),T.responseNotes&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.responseNotes}),T.estimatedArrival&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ETA: ",new Date(T.estimatedArrival).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.response==="ACCEPTED"?"bg-green-100 text-green-800":T.response==="DECLINED"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:T.response}),T.response==="ACCEPTED"&&!T.isSelected&&a.jsx("button",{onClick:()=>E(T.tripId,T.id),className:"px-3 py-1 bg-green-600 text-white text-xs rounded-md hover:bg-green-700",children:"Select Agency"})]})]})},T.id))})]})]}),r==="hospital-settings"&&a.jsx(JH,{})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Trip Details"}),a.jsxs("form",{onSubmit:T=>{T.preventDefault(),N()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{value:p.status,onChange:T=>y({...p,status:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"ACCEPTED",children:"Accepted"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Level"}),a.jsxs("select",{value:p.transportLevel,onChange:T=>y({...p,transportLevel:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"BLS",children:"BLS - Basic Life Support"}),a.jsx("option",{value:"ALS",children:"ALS - Advanced Life Support"}),a.jsx("option",{value:"CCT",children:"CCT - Critical Care Transport"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),a.jsxs("select",{value:p.urgencyLevel,onChange:T=>y({...p,urgencyLevel:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"Routine",children:"Routine"}),a.jsx("option",{value:"Urgent",children:"Urgent"}),a.jsx("option",{value:"Emergent",children:"Emergent"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{h(null),y({})},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:g?"Updating...":"Update Trip"})]})]})]})})})]})},tq=({onRoleSelect:e,onShowRegistration:t,onClearSession:r})=>{const[n,s]=x.useState(!1),i=l=>{s(!0),e(l)},o=()=>{s(!1)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-primary-600 rounded-full flex items-center justify-center",children:a.jsx(Qt,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome to TCC"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Select your login type to continue"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>i("healthcare"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[a.jsx(Qt,{className:"h-5 w-5 mr-2"}),"Healthcare Facility Login"]}),a.jsxs("button",{onClick:()=>i("ems"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[a.jsx(Pe,{className:"h-5 w-5 mr-2"}),"EMS Agency Login"]}),a.jsxs("button",{onClick:()=>i("tcc"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(yx,{className:"h-5 w-5 mr-2"}),"Transport Center Login"]})]}),a.jsx("div",{className:"mt-8 border-t border-gray-200 pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Don't have an account? Create one for your organization:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>t("healthcare"),className:"w-full flex items-center justify-center px-4 py-2 border border-green-300 text-sm font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[a.jsx(wv,{className:"h-4 w-4 mr-2"}),"Create Healthcare Facility Account"]}),a.jsxs("button",{onClick:()=>t("ems"),className:"w-full flex items-center justify-center px-4 py-2 border border-orange-300 text-sm font-medium rounded-md text-orange-700 bg-orange-50 hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[a.jsx(wv,{className:"h-4 w-4 mr-2"}),"Create EMS Agency Account"]})]}),r&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full text-xs text-gray-500 hover:text-gray-700 underline",children:"Clear Session & Start Fresh"})})]})}),n&&a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:o,className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200",children:[a.jsx(rl,{className:"h-4 w-4 mr-1"}),"Back to Selection"]})})]})})},rq="modulepreload",nq=function(e){return"/"+e},yw={},pm=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=nq(c),c in yw)return;yw[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":rq,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((f,h)=>{m.addEventListener("load",f),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},aq=({onBack:e,onSuccess:t})=>{var v,b,j,w,N,C,P,M,E,O,F,I,T,V,Q,k;const[r,n]=x.useState({facilityName:"",facilityType:"",contactName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",latitude:"",longitude:"",password:"",confirmPassword:""}),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState(!1),[u,m]=x.useState(!1),f=["Hospital","Clinic","Urgent Care","Rehabilitation Facility","Doctor's Office","Dialysis Center","Nursing Home","Assisted Living","Other"],h=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],p=async()=>{if(!r.address||!r.city||!r.state||!r.zipCode){l("Please fill in address, city, state, and ZIP code before looking up coordinates");return}m(!0),l(null);try{const $=`${r.address}, ${r.city}, ${r.state} ${r.zipCode}`,B=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent($)}&limit=1`);if(!B.ok)throw new Error("Geocoding service unavailable");const K=await B.json();if(K&&K.length>0){const R=K[0];n(U=>({...U,latitude:R.lat,longitude:R.lon})),l(null)}else l("Address not found. Please enter coordinates manually.")}catch($){console.error("Geocoding error:",$),l("Failed to lookup coordinates. Please enter them manually.")}finally{m(!1)}},y=$=>{const{name:B,value:K}=$.target;n(R=>({...R,[B]:K}))},g=async $=>{var R,U;if($.preventDefault(),i(!0),l(null),r.password!==r.confirmPassword){l("Passwords do not match"),i(!1);return}if(r.password.length<8){l("Password must be at least 8 characters long"),i(!1);return}if(!r.latitude||!r.longitude){l("Location coordinates are required. Please lookup or enter latitude and longitude."),i(!1);return}const B=parseFloat(r.latitude),K=parseFloat(r.longitude);if(isNaN(B)||isNaN(K)){l("Please enter valid numeric coordinates."),i(!1);return}if(B<-90||B>90){l("Latitude must be between -90 and 90 degrees."),i(!1);return}if(K<-180||K>180){l("Longitude must be between -180 and 180 degrees."),i(!1);return}try{const{authAPI:q}=await pm(async()=>{const{authAPI:D}=await Promise.resolve().then(()=>md);return{authAPI:D}},void 0);console.log("Registering healthcare facility:",r),await q.healthcareRegister({email:r.email,password:r.password,name:r.contactName,facilityName:r.facilityName,facilityType:r.facilityType}),d(!0),setTimeout(()=>{t()},2e3)}catch(q){console.error("Healthcare registration error:",q);const D=((U=(R=q.response)==null?void 0:R.data)==null?void 0:U.error)||q.message||"Registration failed. Please try again.";l(D)}finally{i(!1)}};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(qe,{className:"mx-auto h-16 w-16 text-green-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Registration Submitted!"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a verification email to ",r.email,". Please check your inbox and click the verification link to activate your account."]}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Your account will be reviewed by our team and approved within 24 hours."})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(Qt,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create Healthcare Facility Account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Register your healthcare facility to start using TCC"})]}),o&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(or,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Healthcare Facility Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter your healthcare facility details to create an account"})]}),a.jsx("div",{className:"px-6 py-6",children:a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"facilityName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Name *"}),a.jsx("input",{type:"text",id:"facilityName",name:"facilityName",required:!0,value:r.facilityName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter facility name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"facilityType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Type *"}),a.jsxs("select",{id:"facilityType",name:"facilityType",required:!0,value:r.facilityType,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select facility type"}),f.map($=>a.jsx("option",{value:$,children:$},$))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",required:!0,value:r.contactName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter contact person name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(hd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter email address"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:r.phone,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter phone number"})]})]}),a.jsx("div",{})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(yt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"address",name:"address",required:!0,value:r.address,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter street address"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",required:!0,value:r.city,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsxs("select",{id:"state",name:"state",required:!0,value:r.state,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"State"}),h.map($=>a.jsx("option",{value:$,children:$},$))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",required:!0,value:r.zipCode,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"ZIP Code"})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(yt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for agency distance calculations. You can either lookup coordinates automatically or enter them manually."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:p,disabled:u||!((v=r.address)!=null&&v.trim())||!((b=r.city)!=null&&b.trim())||!((j=r.state)!=null&&j.trim())||!((w=r.zipCode)!=null&&w.trim()),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${u||!((N=r.address)!=null&&N.trim())||!((C=r.city)!=null&&C.trim())||!((P=r.state)!=null&&P.trim())||!((M=r.zipCode)!=null&&M.trim())?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yt,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),u||!((E=r.address)!=null&&E.trim())||!((O=r.city)!=null&&O.trim())||!((F=r.state)!=null&&F.trim())||!((I=r.zipCode)!=null&&I.trim())?a.jsx("p",{className:"text-xs text-red-500 mt-1",children:u?"Looking up coordinates...":`Please fill in: ${[!((T=r.address)!=null&&T.trim())&&"Address",!((V=r.city)!=null&&V.trim())&&"City",!((Q=r.state)!=null&&Q.trim())&&"State",!((k=r.zipCode)!=null&&k.trim())&&"ZIP Code"].filter(Boolean).join(", ")}`}):a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from your address"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"latitude",className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",id:"latitude",name:"latitude",value:r.latitude,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"longitude",className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",id:"longitude",name:"longitude",value:r.longitude,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., -78.5678"})]})]}),r.latitude&&r.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:["✓ Coordinates set: ",r.latitude,", ",r.longitude]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:r.password,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter password (min 8 characters)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Confirm password"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(rl,{className:"h-4 w-4 mr-1 inline"}),"Back to Login Selection"]}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]})]})})]})]})})},sq=({onBack:e,onSuccess:t})=>{var w,N,C,P,M,E,O,F,I,T,V,Q,k,$,B,K;const[r,n]=x.useState({agencyName:"",contactName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",latitude:"",longitude:"",serviceArea:[],capabilities:[],operatingHours:{start:"",end:""},password:"",confirmPassword:""}),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState(!1),[u,m]=x.useState(!1),f=["Emergency Medical Services","Non-Emergency Medical Transport","Wheelchair Transport","Critical Care Transport","Neonatal Transport","Pediatric Transport","Bariatric Transport","Air Ambulance","Ground Ambulance","Specialized Medical Transport"],h=["BLS","ALS","CCT","Critical Care","Neonatal","Pediatric","Bariatric","Isolation"],p=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],y=async()=>{if(!r.address||!r.city||!r.state||!r.zipCode){l("Please fill in address, city, state, and ZIP code before looking up coordinates");return}m(!0),l(null);try{const R=`${r.address}, ${r.city}, ${r.state} ${r.zipCode}`,U=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(R)}&limit=1`);if(!U.ok)throw new Error("Geocoding service unavailable");const q=await U.json();if(q&&q.length>0){const D=q[0];n(S=>({...S,latitude:D.lat,longitude:D.lon})),l(null)}else l("Address not found. Please enter coordinates manually.")}catch(R){console.error("Geocoding error:",R),l("Failed to lookup coordinates. Please enter them manually.")}finally{m(!1)}},g=R=>{const{name:U,value:q}=R.target;n(U==="operatingHours.start"||U==="operatingHours.end"?D=>({...D,operatingHours:{...D.operatingHours,[U.split(".")[1]]:q}}):D=>({...D,[U]:q}))},v=R=>{n(U=>({...U,capabilities:U.capabilities.includes(R)?U.capabilities.filter(q=>q!==R):[...U.capabilities,R]}))},b=R=>{n(U=>({...U,serviceArea:U.serviceArea.includes(R)?U.serviceArea.filter(q=>q!==R):[...U.serviceArea,R]}))},j=async R=>{var D,S;if(R.preventDefault(),i(!0),l(null),r.password!==r.confirmPassword){l("Passwords do not match"),i(!1);return}if(r.password.length<8){l("Password must be at least 8 characters long"),i(!1);return}if(r.serviceArea.length===0){l("Please select at least one service area"),i(!1);return}if(r.capabilities.length===0){l("Please select at least one service capability"),i(!1);return}if(!r.latitude||!r.longitude){l("Location coordinates are required. Please lookup or enter latitude and longitude."),i(!1);return}const U=parseFloat(r.latitude),q=parseFloat(r.longitude);if(isNaN(U)||isNaN(q)){l("Please enter valid numeric coordinates."),i(!1);return}if(U<-90||U>90){l("Latitude must be between -90 and 90 degrees."),i(!1);return}if(q<-180||q>180){l("Longitude must be between -180 and 180 degrees."),i(!1);return}try{const{authAPI:_}=await pm(async()=>{const{authAPI:G}=await Promise.resolve().then(()=>md);return{authAPI:G}},void 0);console.log("Registering EMS agency:",r),await _.emsRegister({email:r.email,password:r.password,name:r.contactName,agencyName:r.agencyName,serviceType:"EMS"}),d(!0),setTimeout(()=>{t()},2e3)}catch(_){console.error("EMS registration error:",_);const G=((S=(D=_.response)==null?void 0:D.data)==null?void 0:S.error)||_.message||"Registration failed. Please try again.";l(G)}finally{i(!1)}};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(qe,{className:"mx-auto h-16 w-16 text-orange-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Registration Submitted!"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a verification email to ",r.email,". Please check your inbox and click the verification link to activate your account."]}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Your account will be reviewed by our team and approved within 24 hours."})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-orange-600 rounded-full flex items-center justify-center",children:a.jsx(Pe,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create EMS Agency Account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Register your EMS agency to start using TCC"})]}),o&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(or,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"EMS Agency Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter your EMS agency details to create an account"})]}),a.jsx("div",{className:"px-6 py-6",children:a.jsxs("form",{className:"space-y-6",onSubmit:j,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"agencyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency Name *"}),a.jsx("input",{type:"text",id:"agencyName",name:"agencyName",required:!0,value:r.agencyName,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter agency name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",required:!0,value:r.contactName,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter contact person name"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(hd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter email address"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:r.phone,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter phone number"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(yt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"address",name:"address",required:!0,value:r.address,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter street address"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",required:!0,value:r.city,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsxs("select",{id:"state",name:"state",required:!0,value:r.state,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[a.jsx("option",{value:"",children:"State"}),p.map(R=>a.jsx("option",{value:R,children:R},R))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",required:!0,value:r.zipCode,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"ZIP Code"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Areas * (Select all that apply)"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(R=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:r.serviceArea.includes(R),onChange:()=>b(R),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:R})]},R))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(yt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for distance calculations and agency matching. You can either lookup coordinates automatically or enter them manually."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:y,disabled:u||!((w=r.address)!=null&&w.trim())||!((N=r.city)!=null&&N.trim())||!((C=r.state)!=null&&C.trim())||!((P=r.zipCode)!=null&&P.trim()),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${u||!((M=r.address)!=null&&M.trim())||!((E=r.city)!=null&&E.trim())||!((O=r.state)!=null&&O.trim())||!((F=r.zipCode)!=null&&F.trim())?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yt,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),u||!((I=r.address)!=null&&I.trim())||!((T=r.city)!=null&&T.trim())||!((V=r.state)!=null&&V.trim())||!((Q=r.zipCode)!=null&&Q.trim())?a.jsx("p",{className:"text-xs text-red-500 mt-1",children:u?"Looking up coordinates...":`Please fill in: ${[!((k=r.address)!=null&&k.trim())&&"Address",!(($=r.city)!=null&&$.trim())&&"City",!((B=r.state)!=null&&B.trim())&&"State",!((K=r.zipCode)!=null&&K.trim())&&"ZIP Code"].filter(Boolean).join(", ")}`}):a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from your address"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",name:"latitude",value:r.latitude,onChange:g,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",name:"longitude",value:r.longitude,onChange:g,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"e.g., -78.5678"})]})]}),r.latitude&&r.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:["✓ Coordinates set: ",r.latitude,", ",r.longitude]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Capabilities * (Select all that apply)"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(R=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:r.capabilities.includes(R),onChange:()=>v(R),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:R})]},R))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Availability (Optional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHoursStart",className:"block text-xs text-gray-500 mb-1",children:"Start Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xt,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"time",id:"operatingHoursStart",name:"operatingHours.start",value:r.operatingHours.start,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHoursEnd",className:"block text-xs text-gray-500 mb-1",children:"End Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(xt,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"time",id:"operatingHoursEnd",name:"operatingHours.end",value:r.operatingHours.end,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave blank for 24/7 availability. Specify hours only if you have restrictions (e.g., "Monday-Friday 6 AM - 6 PM")'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:r.password,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter password (min 8 characters)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirm password"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[a.jsx(rl,{className:"h-4 w-4 mr-1 inline"}),"Back to Login Selection"]}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]})]})})]})]})})},iq=({onBack:e,onLogin:t})=>{const[r,n]=x.useState({email:"",password:""}),[s,i]=x.useState(!1),[o,l]=x.useState(""),c=u=>{const{name:m,value:f}=u.target;n(h=>({...h,[m]:f}))},d=async u=>{var m,f;u.preventDefault(),i(!0),l("");try{localStorage.removeItem("token"),localStorage.removeItem("user");const{authAPI:h}=await pm(async()=>{const{authAPI:y}=await Promise.resolve().then(()=>md);return{authAPI:y}},void 0),p=await h.healthcareLogin({email:r.email,password:r.password});p.data.success?t(p.data.user,p.data.token):l(p.data.error||"Login failed")}catch(h){console.error("Healthcare login error:",h);const p=((f=(m=h.response)==null?void 0:m.data)==null?void 0:f.error)||h.message||"Network error. Please try again.";l(p)}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(Qt,{className:"h-8 w-8 text-green-600"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Healthcare Facility Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your healthcare facility account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),o&&a.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[a.jsx(nn,{className:"h-4 w-4 mr-2"}),o]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:e,className:"flex items-center justify-center text-gray-600 hover:text-gray-800 text-sm",children:[a.jsx(rl,{className:"h-4 w-4 mr-2"}),"Back to Login Options"]})})]})]})})},oq=({onBack:e,onLogin:t})=>{const[r,n]=x.useState({email:"",password:""}),[s,i]=x.useState(!1),[o,l]=x.useState(""),c=u=>{const{name:m,value:f}=u.target;n(h=>({...h,[m]:f}))},d=async u=>{var m,f,h;u.preventDefault(),i(!0),l("");try{localStorage.removeItem("token"),localStorage.removeItem("user");const{authAPI:p}=await pm(async()=>{const{authAPI:g}=await Promise.resolve().then(()=>md);return{authAPI:g}},void 0);console.log("TCC_DEBUG: EMS Login attempt with:",r.email);const y=await p.emsLogin({email:r.email,password:r.password});console.log("TCC_DEBUG: EMS Login response:",y.data),y.data.success?(console.log("TCC_DEBUG: EMS Login successful, calling onLogin with user:",y.data.user),t(y.data.user,y.data.token)):(console.log("TCC_DEBUG: EMS Login failed:",y.data.error),l(y.data.error||"Login failed"))}catch(p){console.error("TCC_DEBUG: EMS login error:",p),console.error("TCC_DEBUG: Error response:",(m=p.response)==null?void 0:m.data);const y=((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||p.message||"Network error. Please try again.";l(y)}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:a.jsx(Pe,{className:"h-8 w-8 text-orange-600"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"EMS Agency Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your EMS agency account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),o&&a.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[a.jsx(nn,{className:"h-4 w-4 mr-2"}),o]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:e,className:"flex items-center justify-center text-gray-600 hover:text-gray-800 text-sm",children:[a.jsx(rl,{className:"h-4 w-4 mr-2"}),"Back to Login Options"]})})]})]})})};function lq(){const[e,t]=x.useState(null),[r,n]=x.useState(!0),[s,i]=x.useState("public");x.useEffect(()=>{const h=async()=>{if(localStorage.getItem("token"))try{const v=await Lo.verify();t(v.data.user)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}n(!1)},y=new URLSearchParams(window.location.search).get("register");y==="healthcare"?i("healthcare-register"):y==="ems"&&i("ems-register"),h()},[]);const o=(h,p)=>{console.log("TCC_DEBUG: handleLogin called with userData:",h),console.log("TCC_DEBUG: handleLogin called with token:",p?"present":"missing"),t(h),localStorage.setItem("token",p),localStorage.setItem("user",JSON.stringify(h)),console.log("TCC_DEBUG: User state set, localStorage updated"),h.userType==="ADMIN"||h.userType==="USER"?(console.log("TCC_DEBUG: Redirecting to dashboard for admin/user"),window.location.href="/dashboard"):console.log("TCC_DEBUG: No redirect needed for healthcare/EMS - component should re-render")},l=()=>{t(null),localStorage.removeItem("token"),localStorage.removeItem("user"),i("public")},c=h=>{h==="tcc"?i("login"):h==="healthcare"?i("healthcare-login"):h==="ems"&&i("ems-login")},d=h=>{i(h==="healthcare"?"healthcare-register":"ems-register")},u=()=>{i("public")},m=()=>{i("public")},f=()=>{t(null),localStorage.removeItem("token"),localStorage.removeItem("user"),i("public")};return console.log("TCC_DEBUG: App render - user:",e,"loading:",r),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e?e.userType==="HEALTHCARE"?a.jsx(eq,{user:e,onLogout:l}):e.userType==="EMS"?a.jsx(y2,{user:e,onLogout:l}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs(ph,{children:[a.jsx(Ve,{path:"/dashboard/*",element:a.jsx(ZH,{user:e,onLogout:l})}),a.jsx(Ve,{path:"*",element:a.jsx(XT,{to:"/dashboard",replace:!0})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx(ph,{children:a.jsx(Ve,{path:"*",element:a.jsxs(a.Fragment,{children:[s==="public"&&a.jsx(tq,{onRoleSelect:c,onShowRegistration:d,onClearSession:f}),s==="healthcare-register"&&a.jsx(aq,{onBack:m,onSuccess:u}),s==="ems-register"&&a.jsx(sq,{onBack:m,onSuccess:u}),s==="login"&&a.jsx(I4,{onLogin:o}),s==="healthcare-login"&&a.jsx(iq,{onBack:m,onLogin:o}),s==="ems-login"&&a.jsx(oq,{onBack:m,onLogin:o})]})})})})}function cq(){return a.jsx(a5,{children:a.jsx(lq,{})})}jf.createRoot(document.getElementById("root")).render(a.jsx(Wu.StrictMode,{children:a.jsx(cq,{})}));
