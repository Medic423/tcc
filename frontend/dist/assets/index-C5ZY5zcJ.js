var qA=Object.defineProperty;var GA=(e,t,r)=>t in e?qA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Bl=(e,t,r)=>GA(e,typeof t!="symbol"?t+"":t,r);function KA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function $n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _w={exports:{}},ad={},Iw={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),VA=Symbol.for("react.portal"),YA=Symbol.for("react.fragment"),XA=Symbol.for("react.strict_mode"),QA=Symbol.for("react.profiler"),ZA=Symbol.for("react.provider"),JA=Symbol.for("react.context"),eP=Symbol.for("react.forward_ref"),tP=Symbol.for("react.suspense"),rP=Symbol.for("react.memo"),nP=Symbol.for("react.lazy"),J0=Symbol.iterator;function aP(e){return e===null||typeof e!="object"?null:(e=J0&&e[J0]||e["@@iterator"],typeof e=="function"?e:null)}var Rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$w=Object.assign,Bw={};function yi(e,t,r){this.props=e,this.context=t,this.refs=Bw,this.updater=r||Rw}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uw(){}Uw.prototype=yi.prototype;function Op(e,t,r){this.props=e,this.context=t,this.refs=Bw,this.updater=r||Rw}var Lp=Op.prototype=new Uw;Lp.constructor=Op;$w(Lp,yi.prototype);Lp.isPureReactComponent=!0;var ey=Array.isArray,Fw=Object.prototype.hasOwnProperty,Dp={current:null},zw={key:!0,ref:!0,__self:!0,__source:!0};function Hw(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Fw.call(t,n)&&!zw.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:nl,type:e,key:i,ref:o,props:s,_owner:Dp.current}}function sP(e,t){return{$$typeof:nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mp(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function iP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ty=/\/+/g;function Pm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iP(""+e.key):t.toString(36)}function wc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case nl:case VA:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Pm(o,0):n,ey(s)?(r="",e!=null&&(r=e.replace(ty,"$&/")+"/"),wc(s,t,r,"",function(d){return d})):s!=null&&(Mp(s)&&(s=sP(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ty,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",ey(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Pm(i,l);o+=wc(i,t,r,c,s)}else if(c=aP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Pm(i,l++),o+=wc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ul(e,t,r){if(e==null)return e;var n=[],s=0;return wc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function oP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},Nc={transition:null},lP={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:Dp};function Ww(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Ul,forEach:function(e,t,r){Ul(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ul(e,function(){t++}),t},toArray:function(e){return Ul(e,function(t){return t})||[]},only:function(e){if(!Mp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=yi;de.Fragment=YA;de.Profiler=QA;de.PureComponent=Op;de.StrictMode=XA;de.Suspense=tP;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lP;de.act=Ww;de.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$w({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Dp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Fw.call(t,c)&&!zw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:nl,type:e.type,key:s,ref:i,props:n,_owner:o}};de.createContext=function(e){return e={$$typeof:JA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZA,_context:e},e.Consumer=e};de.createElement=Hw;de.createFactory=function(e){var t=Hw.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:eP,render:e}};de.isValidElement=Mp;de.lazy=function(e){return{$$typeof:nP,_payload:{_status:-1,_result:e},_init:oP}};de.memo=function(e,t){return{$$typeof:rP,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Nc.transition;Nc.transition={};try{e()}finally{Nc.transition=t}};de.unstable_act=Ww;de.useCallback=function(e,t){return $t.current.useCallback(e,t)};de.useContext=function(e){return $t.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};de.useEffect=function(e,t){return $t.current.useEffect(e,t)};de.useId=function(){return $t.current.useId()};de.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};de.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return $t.current.useMemo(e,t)};de.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};de.useRef=function(e){return $t.current.useRef(e)};de.useState=function(e){return $t.current.useState(e)};de.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};de.useTransition=function(){return $t.current.useTransition()};de.version="18.3.1";Iw.exports=de;var g=Iw.exports;const _p=$n(g),qw=KA({__proto__:null,default:_p},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=g,uP=Symbol.for("react.element"),dP=Symbol.for("react.fragment"),mP=Object.prototype.hasOwnProperty,fP=cP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hP={key:!0,ref:!0,__self:!0,__source:!0};function Gw(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)mP.call(t,n)&&!hP.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:uP,type:e,key:i,ref:o,props:s,_owner:fP.current}}ad.Fragment=dP;ad.jsx=Gw;ad.jsxs=Gw;_w.exports=ad;var a=_w.exports,Df={},Kw={exports:{}},hr={},Vw={exports:{}},Yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,R){var U=O.length;O.push(R);e:for(;0<U;){var B=U-1>>>1,A=O[B];if(0<s(A,R))O[B]=R,O[U]=A,U=B;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var R=O[0],U=O.pop();if(U!==R){O[0]=U;e:for(var B=0,A=O.length,P=A>>>1;B<P;){var N=2*(B+1)-1,D=O[N],W=N+1,X=O[W];if(0>s(D,U))W<A&&0>s(X,D)?(O[B]=X,O[W]=U,B=W):(O[B]=D,O[N]=U,B=N);else if(W<A&&0>s(X,U))O[B]=X,O[W]=U,B=W;else break e}}return R}function s(O,R){var U=O.sortIndex-R.sortIndex;return U!==0?U:O.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,f=3,h=!1,p=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(O){for(var R=r(d);R!==null;){if(R.callback===null)n(d);else if(R.startTime<=O)n(d),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(d)}}function w(O){if(x=!1,j(O),!p)if(r(c)!==null)p=!0,$(C);else{var R=r(d);R!==null&&E(w,R.startTime-O)}}function C(O,R){p=!1,x&&(x=!1,v(_),_=-1),h=!0;var U=f;try{for(j(R),m=r(c);m!==null&&(!(m.expirationTime>R)||O&&!I());){var B=m.callback;if(typeof B=="function"){m.callback=null,f=m.priorityLevel;var A=B(m.expirationTime<=R);R=e.unstable_now(),typeof A=="function"?m.callback=A:m===r(c)&&n(c),j(R)}else n(c);m=r(c)}if(m!==null)var P=!0;else{var N=r(d);N!==null&&E(w,N.startTime-R),P=!1}return P}finally{m=null,f=U,h=!1}}var S=!1,L=null,_=-1,k=5,T=-1;function I(){return!(e.unstable_now()-T<k)}function M(){if(L!==null){var O=e.unstable_now();T=O;var R=!0;try{R=L(!0,O)}finally{R?z():(S=!1,L=null)}}else S=!1}var z;if(typeof b=="function")z=function(){b(M)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Z=G.port2;G.port1.onmessage=M,z=function(){Z.postMessage(null)}}else z=function(){y(M,0)};function $(O){L=O,S||(S=!0,z())}function E(O,R){_=y(function(){O(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,$(C))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var U=f;f=R;try{return O()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=f;f=O;try{return R()}finally{f=U}},e.unstable_scheduleCallback=function(O,R,U){var B=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?B+U:B):U=B,O){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=U+A,O={id:u++,callback:R,priorityLevel:O,startTime:U,expirationTime:A,sortIndex:-1},U>B?(O.sortIndex=U,t(d,O),r(c)===null&&O===r(d)&&(x?(v(_),_=-1):x=!0,E(w,U-B))):(O.sortIndex=A,t(c,O),p||h||(p=!0,$(C))),O},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(O){var R=f;return function(){var U=f;f=R;try{return O.apply(this,arguments)}finally{f=U}}}})(Yw);Vw.exports=Yw;var pP=Vw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=g,mr=pP;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xw=new Set,So={};function ys(e,t){Xs(e,t),Xs(e+"Capture",t)}function Xs(e,t){for(So[e]=t,e=0;e<t.length;e++)Xw.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=Object.prototype.hasOwnProperty,xP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ry={},ny={};function yP(e){return Mf.call(ny,e)?!0:Mf.call(ry,e)?!1:xP.test(e)?ny[e]=!0:(ry[e]=!0,!1)}function vP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bP(e,t,r,n){if(t===null||typeof t>"u"||vP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ip=/[\-:]([a-z])/g;function Rp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ip,Rp);yt[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ip,Rp);yt[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ip,Rp);yt[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function $p(e,t,r,n){var s=yt.hasOwnProperty(t)?yt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bP(t,r,s,n)&&(r=null),n||s===null?yP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bn=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fl=Symbol.for("react.element"),As=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),Bp=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),Qw=Symbol.for("react.provider"),Zw=Symbol.for("react.context"),Up=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),Rf=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Jw=Symbol.for("react.offscreen"),ay=Symbol.iterator;function Ui(e){return e===null||typeof e!="object"?null:(e=ay&&e[ay]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,Tm;function no(e){if(Tm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Tm=t&&t[1]||""}return`
`+Tm+e}var Om=!1;function Lm(e,t){if(!e||Om)return"";Om=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Om=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?no(e):""}function jP(e){switch(e.tag){case 5:return no(e.type);case 16:return no("Lazy");case 13:return no("Suspense");case 19:return no("SuspenseList");case 0:case 2:case 15:return e=Lm(e.type,!1),e;case 11:return e=Lm(e.type.render,!1),e;case 1:return e=Lm(e.type,!0),e;default:return""}}function $f(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ps:return"Fragment";case As:return"Portal";case _f:return"Profiler";case Bp:return"StrictMode";case If:return"Suspense";case Rf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zw:return(e.displayName||"Context")+".Consumer";case Qw:return(e._context.displayName||"Context")+".Provider";case Up:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fp:return t=e.displayName||null,t!==null?t:$f(e.type)||"Memo";case Zn:t=e._payload,e=e._init;try{return $f(e(t))}catch{}}return null}function wP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $f(t);case 8:return t===Bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ya(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NP(e){var t=eN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zl(e){e._valueTracker||(e._valueTracker=NP(e))}function tN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=eN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bf(e,t){var r=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ya(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rN(e,t){t=t.checked,t!=null&&$p(e,"checked",t,!1)}function Uf(e,t){rN(e,t);var r=ya(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ff(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ff(e,t.type,ya(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ff(e,t,r){(t!=="number"||zc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ao=Array.isArray;function Fs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ya(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(ao(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ya(r)}}function nN(e,t){var r=ya(t.value),n=ya(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ly(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hl,sN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ko(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CP=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(e){CP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uo[t]=uo[e]})});function iN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||uo.hasOwnProperty(e)&&uo[e]?(""+t).trim():t+"px"}function oN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=iN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var SP=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(e,t){if(t){if(SP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function qf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=null;function zp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kf=null,zs=null,Hs=null;function cy(e){if(e=il(e)){if(typeof Kf!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=cd(t),Kf(e.stateNode,e.type,t))}}function lN(e){zs?Hs?Hs.push(e):Hs=[e]:zs=e}function cN(){if(zs){var e=zs,t=Hs;if(Hs=zs=null,cy(e),t)for(e=0;e<t.length;e++)cy(t[e])}}function uN(e,t){return e(t)}function dN(){}var Dm=!1;function mN(e,t,r){if(Dm)return e(t,r);Dm=!0;try{return uN(e,t,r)}finally{Dm=!1,(zs!==null||Hs!==null)&&(dN(),cN())}}function Eo(e,t){var r=e.stateNode;if(r===null)return null;var n=cd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var Vf=!1;if(En)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Vf=!1}function kP(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var mo=!1,Hc=null,Wc=!1,Yf=null,EP={onError:function(e){mo=!0,Hc=e}};function AP(e,t,r,n,s,i,o,l,c){mo=!1,Hc=null,kP.apply(EP,arguments)}function PP(e,t,r,n,s,i,o,l,c){if(AP.apply(this,arguments),mo){if(mo){var d=Hc;mo=!1,Hc=null}else throw Error(Q(198));Wc||(Wc=!0,Yf=d)}}function vs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uy(e){if(vs(e)!==e)throw Error(Q(188))}function TP(e){var t=e.alternate;if(!t){if(t=vs(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return uy(s),e;if(i===n)return uy(s),t;i=i.sibling}throw Error(Q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function hN(e){return e=TP(e),e!==null?pN(e):null}function pN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pN(e);if(t!==null)return t;e=e.sibling}return null}var gN=mr.unstable_scheduleCallback,dy=mr.unstable_cancelCallback,OP=mr.unstable_shouldYield,LP=mr.unstable_requestPaint,Ge=mr.unstable_now,DP=mr.unstable_getCurrentPriorityLevel,Hp=mr.unstable_ImmediatePriority,xN=mr.unstable_UserBlockingPriority,qc=mr.unstable_NormalPriority,MP=mr.unstable_LowPriority,yN=mr.unstable_IdlePriority,sd=null,nn=null;function _P(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(sd,e,void 0,(e.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:$P,IP=Math.log,RP=Math.LN2;function $P(e){return e>>>=0,e===0?32:31-(IP(e)/RP|0)|0}var Wl=64,ql=4194304;function so(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=so(l):(i&=o,i!==0&&(n=so(i)))}else o=r&~s,o!==0?n=so(o):i!==0&&(n=so(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qr(t),s=1<<r,n|=e[r],t&=~s;return n}function BP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-qr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=BP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Xf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vN(){var e=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),e}function Mm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function al(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qr(t),e[t]=r}function FP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-qr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Wp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ye=0;function bN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jN,qp,wN,NN,CN,Qf=!1,Gl=[],la=null,ca=null,ua=null,Ao=new Map,Po=new Map,ra=[],zP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(e,t){switch(e){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(t.pointerId)}}function zi(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=il(t),t!==null&&qp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function HP(e,t,r,n,s){switch(t){case"focusin":return la=zi(la,e,t,r,n,s),!0;case"dragenter":return ca=zi(ca,e,t,r,n,s),!0;case"mouseover":return ua=zi(ua,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ao.set(i,zi(Ao.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Po.set(i,zi(Po.get(i)||null,e,t,r,n,s)),!0}return!1}function SN(e){var t=Ua(e.target);if(t!==null){var r=vs(t);if(r!==null){if(t=r.tag,t===13){if(t=fN(r),t!==null){e.blockedOn=t,CN(e.priority,function(){wN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Gf=n,r.target.dispatchEvent(n),Gf=null}else return t=il(r),t!==null&&qp(t),e.blockedOn=r,!1;t.shift()}return!0}function fy(e,t,r){Cc(e)&&r.delete(t)}function WP(){Qf=!1,la!==null&&Cc(la)&&(la=null),ca!==null&&Cc(ca)&&(ca=null),ua!==null&&Cc(ua)&&(ua=null),Ao.forEach(fy),Po.forEach(fy)}function Hi(e,t){e.blockedOn===t&&(e.blockedOn=null,Qf||(Qf=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,WP)))}function To(e){function t(s){return Hi(s,e)}if(0<Gl.length){Hi(Gl[0],e);for(var r=1;r<Gl.length;r++){var n=Gl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(la!==null&&Hi(la,e),ca!==null&&Hi(ca,e),ua!==null&&Hi(ua,e),Ao.forEach(t),Po.forEach(t),r=0;r<ra.length;r++)n=ra[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ra.length&&(r=ra[0],r.blockedOn===null);)SN(r),r.blockedOn===null&&ra.shift()}var Ws=Bn.ReactCurrentBatchConfig,Kc=!0;function qP(e,t,r,n){var s=ye,i=Ws.transition;Ws.transition=null;try{ye=1,Gp(e,t,r,n)}finally{ye=s,Ws.transition=i}}function GP(e,t,r,n){var s=ye,i=Ws.transition;Ws.transition=null;try{ye=4,Gp(e,t,r,n)}finally{ye=s,Ws.transition=i}}function Gp(e,t,r,n){if(Kc){var s=Zf(e,t,r,n);if(s===null)Wm(e,t,n,Vc,r),my(e,n);else if(HP(s,e,t,r,n))n.stopPropagation();else if(my(e,n),t&4&&-1<zP.indexOf(e)){for(;s!==null;){var i=il(s);if(i!==null&&jN(i),i=Zf(e,t,r,n),i===null&&Wm(e,t,n,Vc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Wm(e,t,n,null,r)}}var Vc=null;function Zf(e,t,r,n){if(Vc=null,e=zp(n),e=Ua(e),e!==null)if(t=vs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vc=e,null}function kN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DP()){case Hp:return 1;case xN:return 4;case qc:case MP:return 16;case yN:return 536870912;default:return 16}default:return 16}}var sa=null,Kp=null,Sc=null;function EN(){if(Sc)return Sc;var e,t=Kp,r=t.length,n,s="value"in sa?sa.value:sa.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Sc=s.slice(e,1<n?1-n:void 0)}function kc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function hy(){return!1}function pr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kl:hy,this.isPropagationStopped=hy,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=pr(vi),sl=Ue({},vi,{view:0,detail:0}),KP=pr(sl),_m,Im,Wi,id=Ue({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wi&&(Wi&&e.type==="mousemove"?(_m=e.screenX-Wi.screenX,Im=e.screenY-Wi.screenY):Im=_m=0,Wi=e),_m)},movementY:function(e){return"movementY"in e?e.movementY:Im}}),py=pr(id),VP=Ue({},id,{dataTransfer:0}),YP=pr(VP),XP=Ue({},sl,{relatedTarget:0}),Rm=pr(XP),QP=Ue({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),ZP=pr(QP),JP=Ue({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eT=pr(JP),tT=Ue({},vi,{data:0}),gy=pr(tT),rT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aT[e])?!!t[e]:!1}function Yp(){return sT}var iT=Ue({},sl,{key:function(e){if(e.key){var t=rT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yp,charCode:function(e){return e.type==="keypress"?kc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oT=pr(iT),lT=Ue({},id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=pr(lT),cT=Ue({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yp}),uT=pr(cT),dT=Ue({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),mT=pr(dT),fT=Ue({},id,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hT=pr(fT),pT=[9,13,27,32],Xp=En&&"CompositionEvent"in window,fo=null;En&&"documentMode"in document&&(fo=document.documentMode);var gT=En&&"TextEvent"in window&&!fo,AN=En&&(!Xp||fo&&8<fo&&11>=fo),yy=" ",vy=!1;function PN(e,t){switch(e){case"keyup":return pT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ts=!1;function xT(e,t){switch(e){case"compositionend":return TN(t);case"keypress":return t.which!==32?null:(vy=!0,yy);case"textInput":return e=t.data,e===yy&&vy?null:e;default:return null}}function yT(e,t){if(Ts)return e==="compositionend"||!Xp&&PN(e,t)?(e=EN(),Sc=Kp=sa=null,Ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AN&&t.locale!=="ko"?null:t.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function by(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vT[e.type]:t==="textarea"}function ON(e,t,r,n){lN(n),t=Yc(t,"onChange"),0<t.length&&(r=new Vp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ho=null,Oo=null;function bT(e){zN(e,0)}function od(e){var t=Ds(e);if(tN(t))return e}function jT(e,t){if(e==="change")return t}var LN=!1;if(En){var $m;if(En){var Bm="oninput"in document;if(!Bm){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Bm=typeof jy.oninput=="function"}$m=Bm}else $m=!1;LN=$m&&(!document.documentMode||9<document.documentMode)}function wy(){ho&&(ho.detachEvent("onpropertychange",DN),Oo=ho=null)}function DN(e){if(e.propertyName==="value"&&od(Oo)){var t=[];ON(t,Oo,e,zp(e)),mN(bT,t)}}function wT(e,t,r){e==="focusin"?(wy(),ho=t,Oo=r,ho.attachEvent("onpropertychange",DN)):e==="focusout"&&wy()}function NT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return od(Oo)}function CT(e,t){if(e==="click")return od(t)}function ST(e,t){if(e==="input"||e==="change")return od(t)}function kT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yr=typeof Object.is=="function"?Object.is:kT;function Lo(e,t){if(Yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Mf.call(t,s)||!Yr(e[s],t[s]))return!1}return!0}function Ny(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cy(e,t){var r=Ny(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ny(r)}}function MN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?MN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _N(){for(var e=window,t=zc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zc(e.document)}return t}function Qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ET(e){var t=_N(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&MN(r.ownerDocument.documentElement,r)){if(n!==null&&Qp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Cy(r,i);var o=Cy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AT=En&&"documentMode"in document&&11>=document.documentMode,Os=null,Jf=null,po=null,eh=!1;function Sy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;eh||Os==null||Os!==zc(n)||(n=Os,"selectionStart"in n&&Qp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),po&&Lo(po,n)||(po=n,n=Yc(Jf,"onSelect"),0<n.length&&(t=new Vp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Os)))}function Vl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ls={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},Um={},IN={};En&&(IN=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function ld(e){if(Um[e])return Um[e];if(!Ls[e])return e;var t=Ls[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in IN)return Um[e]=t[r];return e}var RN=ld("animationend"),$N=ld("animationiteration"),BN=ld("animationstart"),UN=ld("transitionend"),FN=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(e,t){FN.set(e,t),ys(t,[e])}for(var Fm=0;Fm<ky.length;Fm++){var zm=ky[Fm],PT=zm.toLowerCase(),TT=zm[0].toUpperCase()+zm.slice(1);Sa(PT,"on"+TT)}Sa(RN,"onAnimationEnd");Sa($N,"onAnimationIteration");Sa(BN,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(UN,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OT=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function Ey(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,PP(n,t,void 0,e),e.currentTarget=null}function zN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Ey(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Ey(s,l,d),i=c}}}if(Wc)throw e=Yf,Wc=!1,Yf=null,e}function ke(e,t){var r=t[sh];r===void 0&&(r=t[sh]=new Set);var n=e+"__bubble";r.has(n)||(HN(t,e,2,!1),r.add(n))}function Hm(e,t,r){var n=0;t&&(n|=4),HN(r,e,n,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Do(e){if(!e[Yl]){e[Yl]=!0,Xw.forEach(function(r){r!=="selectionchange"&&(OT.has(r)||Hm(r,!1,e),Hm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,Hm("selectionchange",!1,t))}}function HN(e,t,r,n){switch(kN(t)){case 1:var s=qP;break;case 4:s=GP;break;default:s=Gp}r=s.bind(null,t,r,e),s=void 0,!Vf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Wm(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ua(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}mN(function(){var d=i,u=zp(r),m=[];e:{var f=FN.get(e);if(f!==void 0){var h=Vp,p=e;switch(e){case"keypress":if(kc(r)===0)break e;case"keydown":case"keyup":h=oT;break;case"focusin":p="focus",h=Rm;break;case"focusout":p="blur",h=Rm;break;case"beforeblur":case"afterblur":h=Rm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=YP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=uT;break;case RN:case $N:case BN:h=ZP;break;case UN:h=mT;break;case"scroll":h=KP;break;case"wheel":h=hT;break;case"copy":case"cut":case"paste":h=eT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=xy}var x=(t&4)!==0,y=!x&&e==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var b=d,j;b!==null;){j=b;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,v!==null&&(w=Eo(b,v),w!=null&&x.push(Mo(b,w,j)))),y)break;b=b.return}0<x.length&&(f=new h(f,p,null,r,u),m.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==Gf&&(p=r.relatedTarget||r.fromElement)&&(Ua(p)||p[An]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=d,p=p?Ua(p):null,p!==null&&(y=vs(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=d),h!==p)){if(x=py,w="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=xy,w="onPointerLeave",v="onPointerEnter",b="pointer"),y=h==null?f:Ds(h),j=p==null?f:Ds(p),f=new x(w,b+"leave",h,r,u),f.target=y,f.relatedTarget=j,w=null,Ua(u)===d&&(x=new x(v,b+"enter",p,r,u),x.target=j,x.relatedTarget=y,w=x),y=w,h&&p)t:{for(x=h,v=p,b=0,j=x;j;j=Ss(j))b++;for(j=0,w=v;w;w=Ss(w))j++;for(;0<b-j;)x=Ss(x),b--;for(;0<j-b;)v=Ss(v),j--;for(;b--;){if(x===v||v!==null&&x===v.alternate)break t;x=Ss(x),v=Ss(v)}x=null}else x=null;h!==null&&Ay(m,f,h,x,!1),p!==null&&y!==null&&Ay(m,y,p,x,!0)}}e:{if(f=d?Ds(d):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=jT;else if(by(f))if(LN)C=ST;else{C=NT;var S=wT}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=CT);if(C&&(C=C(e,d))){ON(m,C,r,u);break e}S&&S(e,f,d),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Ff(f,"number",f.value)}switch(S=d?Ds(d):window,e){case"focusin":(by(S)||S.contentEditable==="true")&&(Os=S,Jf=d,po=null);break;case"focusout":po=Jf=Os=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Sy(m,r,u);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":Sy(m,r,u)}var L;if(Xp)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ts?PN(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(AN&&r.locale!=="ko"&&(Ts||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ts&&(L=EN()):(sa=u,Kp="value"in sa?sa.value:sa.textContent,Ts=!0)),S=Yc(d,_),0<S.length&&(_=new gy(_,e,null,r,u),m.push({event:_,listeners:S}),L?_.data=L:(L=TN(r),L!==null&&(_.data=L)))),(L=gT?xT(e,r):yT(e,r))&&(d=Yc(d,"onBeforeInput"),0<d.length&&(u=new gy("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=L))}zN(m,t)})}function Mo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Eo(e,r),i!=null&&n.unshift(Mo(e,i,s)),i=Eo(e,t),i!=null&&n.push(Mo(e,i,s))),e=e.return}return n}function Ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ay(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Eo(r,i),c!=null&&o.unshift(Mo(r,c,l))):s||(c=Eo(r,i),c!=null&&o.push(Mo(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var LT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function Py(e){return(typeof e=="string"?e:""+e).replace(LT,`
`).replace(DT,"")}function Xl(e,t,r){if(t=Py(t),Py(e)!==t&&r)throw Error(Q(425))}function Xc(){}var th=null,rh=null;function nh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ah=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(IT)}:ah;function IT(e){setTimeout(function(){throw e})}function qm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),To(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);To(t)}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bi=Math.random().toString(36).slice(2),tn="__reactFiber$"+bi,_o="__reactProps$"+bi,An="__reactContainer$"+bi,sh="__reactEvents$"+bi,RT="__reactListeners$"+bi,$T="__reactHandles$"+bi;function Ua(e){var t=e[tn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[An]||r[tn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Oy(e);e!==null;){if(r=e[tn])return r;e=Oy(e)}return t}e=r,r=e.parentNode}return null}function il(e){return e=e[tn]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function cd(e){return e[_o]||null}var ih=[],Ms=-1;function ka(e){return{current:e}}function Ae(e){0>Ms||(e.current=ih[Ms],ih[Ms]=null,Ms--)}function Ce(e,t){Ms++,ih[Ms]=e.current,e.current=t}var va={},Et=ka(va),Gt=ka(!1),rs=va;function Qs(e,t){var r=e.type.contextTypes;if(!r)return va;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Kt(e){return e=e.childContextTypes,e!=null}function Qc(){Ae(Gt),Ae(Et)}function Ly(e,t,r){if(Et.current!==va)throw Error(Q(168));Ce(Et,t),Ce(Gt,r)}function WN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Q(108,wP(e)||"Unknown",s));return Ue({},r,n)}function Zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||va,rs=Et.current,Ce(Et,e),Ce(Gt,Gt.current),!0}function Dy(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=WN(e,t,rs),n.__reactInternalMemoizedMergedChildContext=e,Ae(Gt),Ae(Et),Ce(Et,e)):Ae(Gt),Ce(Gt,r)}var pn=null,ud=!1,Gm=!1;function qN(e){pn===null?pn=[e]:pn.push(e)}function BT(e){ud=!0,qN(e)}function Ea(){if(!Gm&&pn!==null){Gm=!0;var e=0,t=ye;try{var r=pn;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pn=null,ud=!1}catch(s){throw pn!==null&&(pn=pn.slice(e+1)),gN(Hp,Ea),s}finally{ye=t,Gm=!1}}return null}var _s=[],Is=0,Jc=null,eu=0,jr=[],wr=0,ns=null,yn=1,vn="";function _a(e,t){_s[Is++]=eu,_s[Is++]=Jc,Jc=e,eu=t}function GN(e,t,r){jr[wr++]=yn,jr[wr++]=vn,jr[wr++]=ns,ns=e;var n=yn;e=vn;var s=32-qr(n)-1;n&=~(1<<s),r+=1;var i=32-qr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yn=1<<32-qr(t)+s|r<<s|n,vn=i+e}else yn=1<<i|r<<s|n,vn=e}function Zp(e){e.return!==null&&(_a(e,1),GN(e,1,0))}function Jp(e){for(;e===Jc;)Jc=_s[--Is],_s[Is]=null,eu=_s[--Is],_s[Is]=null;for(;e===ns;)ns=jr[--wr],jr[wr]=null,vn=jr[--wr],jr[wr]=null,yn=jr[--wr],jr[wr]=null}var cr=null,or=null,De=!1,Br=null;function KN(e,t){var r=Cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function My(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cr=e,or=da(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cr=e,or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ns!==null?{id:yn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cr=e,or=null,!0):!1;default:return!1}}function oh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lh(e){if(De){var t=or;if(t){var r=t;if(!My(e,t)){if(oh(e))throw Error(Q(418));t=da(r.nextSibling);var n=cr;t&&My(e,t)?KN(n,r):(e.flags=e.flags&-4097|2,De=!1,cr=e)}}else{if(oh(e))throw Error(Q(418));e.flags=e.flags&-4097|2,De=!1,cr=e}}}function _y(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cr=e}function Ql(e){if(e!==cr)return!1;if(!De)return _y(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nh(e.type,e.memoizedProps)),t&&(t=or)){if(oh(e))throw VN(),Error(Q(418));for(;t;)KN(e,t),t=da(t.nextSibling)}if(_y(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){or=da(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}or=null}}else or=cr?da(e.stateNode.nextSibling):null;return!0}function VN(){for(var e=or;e;)e=da(e.nextSibling)}function Zs(){or=cr=null,De=!1}function eg(e){Br===null?Br=[e]:Br.push(e)}var UT=Bn.ReactCurrentBatchConfig;function qi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function Zl(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iy(e){var t=e._init;return t(e._payload)}function YN(e){function t(v,b){if(e){var j=v.deletions;j===null?(v.deletions=[b],v.flags|=16):j.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=pa(v,b),v.index=0,v.sibling=null,v}function i(v,b,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<b?(v.flags|=2,b):j):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,j,w){return b===null||b.tag!==6?(b=Jm(j,v.mode,w),b.return=v,b):(b=s(b,j),b.return=v,b)}function c(v,b,j,w){var C=j.type;return C===Ps?u(v,b,j.props.children,w,j.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zn&&Iy(C)===b.type)?(w=s(b,j.props),w.ref=qi(v,b,j),w.return=v,w):(w=Dc(j.type,j.key,j.props,null,v.mode,w),w.ref=qi(v,b,j),w.return=v,w)}function d(v,b,j,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=ef(j,v.mode,w),b.return=v,b):(b=s(b,j.children||[]),b.return=v,b)}function u(v,b,j,w,C){return b===null||b.tag!==7?(b=Xa(j,v.mode,w,C),b.return=v,b):(b=s(b,j),b.return=v,b)}function m(v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Jm(""+b,v.mode,j),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fl:return j=Dc(b.type,b.key,b.props,null,v.mode,j),j.ref=qi(v,null,b),j.return=v,j;case As:return b=ef(b,v.mode,j),b.return=v,b;case Zn:var w=b._init;return m(v,w(b._payload),j)}if(ao(b)||Ui(b))return b=Xa(b,v.mode,j,null),b.return=v,b;Zl(v,b)}return null}function f(v,b,j,w){var C=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return C!==null?null:l(v,b,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Fl:return j.key===C?c(v,b,j,w):null;case As:return j.key===C?d(v,b,j,w):null;case Zn:return C=j._init,f(v,b,C(j._payload),w)}if(ao(j)||Ui(j))return C!==null?null:u(v,b,j,w,null);Zl(v,j)}return null}function h(v,b,j,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(j)||null,l(b,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fl:return v=v.get(w.key===null?j:w.key)||null,c(b,v,w,C);case As:return v=v.get(w.key===null?j:w.key)||null,d(b,v,w,C);case Zn:var S=w._init;return h(v,b,j,S(w._payload),C)}if(ao(w)||Ui(w))return v=v.get(j)||null,u(b,v,w,C,null);Zl(b,w)}return null}function p(v,b,j,w){for(var C=null,S=null,L=b,_=b=0,k=null;L!==null&&_<j.length;_++){L.index>_?(k=L,L=null):k=L.sibling;var T=f(v,L,j[_],w);if(T===null){L===null&&(L=k);break}e&&L&&T.alternate===null&&t(v,L),b=i(T,b,_),S===null?C=T:S.sibling=T,S=T,L=k}if(_===j.length)return r(v,L),De&&_a(v,_),C;if(L===null){for(;_<j.length;_++)L=m(v,j[_],w),L!==null&&(b=i(L,b,_),S===null?C=L:S.sibling=L,S=L);return De&&_a(v,_),C}for(L=n(v,L);_<j.length;_++)k=h(L,v,_,j[_],w),k!==null&&(e&&k.alternate!==null&&L.delete(k.key===null?_:k.key),b=i(k,b,_),S===null?C=k:S.sibling=k,S=k);return e&&L.forEach(function(I){return t(v,I)}),De&&_a(v,_),C}function x(v,b,j,w){var C=Ui(j);if(typeof C!="function")throw Error(Q(150));if(j=C.call(j),j==null)throw Error(Q(151));for(var S=C=null,L=b,_=b=0,k=null,T=j.next();L!==null&&!T.done;_++,T=j.next()){L.index>_?(k=L,L=null):k=L.sibling;var I=f(v,L,T.value,w);if(I===null){L===null&&(L=k);break}e&&L&&I.alternate===null&&t(v,L),b=i(I,b,_),S===null?C=I:S.sibling=I,S=I,L=k}if(T.done)return r(v,L),De&&_a(v,_),C;if(L===null){for(;!T.done;_++,T=j.next())T=m(v,T.value,w),T!==null&&(b=i(T,b,_),S===null?C=T:S.sibling=T,S=T);return De&&_a(v,_),C}for(L=n(v,L);!T.done;_++,T=j.next())T=h(L,v,_,T.value,w),T!==null&&(e&&T.alternate!==null&&L.delete(T.key===null?_:T.key),b=i(T,b,_),S===null?C=T:S.sibling=T,S=T);return e&&L.forEach(function(M){return t(v,M)}),De&&_a(v,_),C}function y(v,b,j,w){if(typeof j=="object"&&j!==null&&j.type===Ps&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Fl:e:{for(var C=j.key,S=b;S!==null;){if(S.key===C){if(C=j.type,C===Ps){if(S.tag===7){r(v,S.sibling),b=s(S,j.props.children),b.return=v,v=b;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zn&&Iy(C)===S.type){r(v,S.sibling),b=s(S,j.props),b.ref=qi(v,S,j),b.return=v,v=b;break e}r(v,S);break}else t(v,S);S=S.sibling}j.type===Ps?(b=Xa(j.props.children,v.mode,w,j.key),b.return=v,v=b):(w=Dc(j.type,j.key,j.props,null,v.mode,w),w.ref=qi(v,b,j),w.return=v,v=w)}return o(v);case As:e:{for(S=j.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(v,b.sibling),b=s(b,j.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=ef(j,v.mode,w),b.return=v,v=b}return o(v);case Zn:return S=j._init,y(v,b,S(j._payload),w)}if(ao(j))return p(v,b,j,w);if(Ui(j))return x(v,b,j,w);Zl(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(v,b.sibling),b=s(b,j),b.return=v,v=b):(r(v,b),b=Jm(j,v.mode,w),b.return=v,v=b),o(v)):r(v,b)}return y}var Js=YN(!0),XN=YN(!1),tu=ka(null),ru=null,Rs=null,tg=null;function rg(){tg=Rs=ru=null}function ng(e){var t=tu.current;Ae(tu),e._currentValue=t}function ch(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qs(e,t){ru=e,tg=Rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function Ar(e){var t=e._currentValue;if(tg!==e)if(e={context:e,memoizedValue:t,next:null},Rs===null){if(ru===null)throw Error(Q(308));Rs=e,ru.dependencies={lanes:0,firstContext:e}}else Rs=Rs.next=e;return t}var Fa=null;function ag(e){Fa===null?Fa=[e]:Fa.push(e)}function QN(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ag(t)):(r.next=s.next,s.next=r),t.interleaved=r,Pn(e,n)}function Pn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jn=!1;function sg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ma(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Pn(e,r)}return s=n.interleaved,s===null?(t.next=t,ag(n)):(t.next=s.next,s.next=t),n.interleaved=t,Pn(e,r)}function Ec(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wp(e,r)}}function Ry(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nu(e,t,r,n){var s=e.updateQueue;Jn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,h=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(f=t,h=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){m=p.call(h,m,f);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,f=typeof p=="function"?p.call(h,m,f):p,f==null)break e;m=Ue({},m,f);break e;case 2:Jn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=m):u=u.next=h,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ss|=o,e.lanes=o,e.memoizedState=m}}function $y(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Q(191,s));s.call(n)}}}var ol={},an=ka(ol),Io=ka(ol),Ro=ka(ol);function za(e){if(e===ol)throw Error(Q(174));return e}function ig(e,t){switch(Ce(Ro,t),Ce(Io,e),Ce(an,ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hf(t,e)}Ae(an),Ce(an,t)}function ei(){Ae(an),Ae(Io),Ae(Ro)}function JN(e){za(Ro.current);var t=za(an.current),r=Hf(t,e.type);t!==r&&(Ce(Io,e),Ce(an,r))}function og(e){Io.current===e&&(Ae(an),Ae(Io))}var Re=ka(0);function au(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Km=[];function lg(){for(var e=0;e<Km.length;e++)Km[e]._workInProgressVersionPrimary=null;Km.length=0}var Ac=Bn.ReactCurrentDispatcher,Vm=Bn.ReactCurrentBatchConfig,as=0,Be=null,Je=null,lt=null,su=!1,go=!1,$o=0,FT=0;function bt(){throw Error(Q(321))}function cg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yr(e[r],t[r]))return!1;return!0}function ug(e,t,r,n,s,i){if(as=i,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ac.current=e===null||e.memoizedState===null?qT:GT,e=r(n,s),go){i=0;do{if(go=!1,$o=0,25<=i)throw Error(Q(301));i+=1,lt=Je=null,t.updateQueue=null,Ac.current=KT,e=r(n,s)}while(go)}if(Ac.current=iu,t=Je!==null&&Je.next!==null,as=0,lt=Je=Be=null,su=!1,t)throw Error(Q(300));return e}function dg(){var e=$o!==0;return $o=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Be.memoizedState=lt=e:lt=lt.next=e,lt}function Pr(){if(Je===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=lt===null?Be.memoizedState:lt.next;if(t!==null)lt=t,Je=e;else{if(e===null)throw Error(Q(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},lt===null?Be.memoizedState=lt=e:lt=lt.next=e}return lt}function Bo(e,t){return typeof t=="function"?t(e):t}function Ym(e){var t=Pr(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=Je,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((as&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,Be.lanes|=u,ss|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Yr(n,t.memoizedState)||(Wt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Be.lanes|=i,ss|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xm(e){var t=Pr(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Yr(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function e1(){}function t1(e,t){var r=Be,n=Pr(),s=t(),i=!Yr(n.memoizedState,s);if(i&&(n.memoizedState=s,Wt=!0),n=n.queue,mg(a1.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,Uo(9,n1.bind(null,r,n,s,t),void 0,null),ut===null)throw Error(Q(349));as&30||r1(r,t,s)}return s}function r1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function n1(e,t,r,n){t.value=r,t.getSnapshot=n,s1(t)&&i1(e)}function a1(e,t,r){return r(function(){s1(t)&&i1(e)})}function s1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yr(e,r)}catch{return!0}}function i1(e){var t=Pn(e,1);t!==null&&Gr(t,e,1,-1)}function By(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:e},t.queue=e,e=e.dispatch=WT.bind(null,Be,e),[t.memoizedState,e]}function Uo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function o1(){return Pr().memoizedState}function Pc(e,t,r,n){var s=en();Be.flags|=e,s.memoizedState=Uo(1|t,r,void 0,n===void 0?null:n)}function dd(e,t,r,n){var s=Pr();n=n===void 0?null:n;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,n!==null&&cg(n,o.deps)){s.memoizedState=Uo(t,r,i,n);return}}Be.flags|=e,s.memoizedState=Uo(1|t,r,i,n)}function Uy(e,t){return Pc(8390656,8,e,t)}function mg(e,t){return dd(2048,8,e,t)}function l1(e,t){return dd(4,2,e,t)}function c1(e,t){return dd(4,4,e,t)}function u1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d1(e,t,r){return r=r!=null?r.concat([e]):null,dd(4,4,u1.bind(null,t,e),r)}function fg(){}function m1(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function f1(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function h1(e,t,r){return as&21?(Yr(r,t)||(r=vN(),Be.lanes|=r,ss|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function zT(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=Vm.transition;Vm.transition={};try{e(!1),t()}finally{ye=r,Vm.transition=n}}function p1(){return Pr().memoizedState}function HT(e,t,r){var n=ha(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},g1(e))x1(t,r);else if(r=QN(e,t,r,n),r!==null){var s=It();Gr(r,e,n,s),y1(r,t,n)}}function WT(e,t,r){var n=ha(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(g1(e))x1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Yr(l,o)){var c=t.interleaved;c===null?(s.next=s,ag(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=QN(e,t,s,n),r!==null&&(s=It(),Gr(r,e,n,s),y1(r,t,n))}}function g1(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function x1(e,t){go=su=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function y1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wp(e,r)}}var iu={readContext:Ar,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},qT={readContext:Ar,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Ar,useEffect:Uy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pc(4194308,4,u1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pc(4,2,e,t)},useMemo:function(e,t){var r=en();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=en();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=HT.bind(null,Be,e),[n.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:By,useDebugValue:fg,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=By(!1),t=e[0];return e=zT.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Be,s=en();if(De){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),ut===null)throw Error(Q(349));as&30||r1(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Uy(a1.bind(null,n,i,e),[e]),n.flags|=2048,Uo(9,n1.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=en(),t=ut.identifierPrefix;if(De){var r=vn,n=yn;r=(n&~(1<<32-qr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$o++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=FT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GT={readContext:Ar,useCallback:m1,useContext:Ar,useEffect:mg,useImperativeHandle:d1,useInsertionEffect:l1,useLayoutEffect:c1,useMemo:f1,useReducer:Ym,useRef:o1,useState:function(){return Ym(Bo)},useDebugValue:fg,useDeferredValue:function(e){var t=Pr();return h1(t,Je.memoizedState,e)},useTransition:function(){var e=Ym(Bo)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:e1,useSyncExternalStore:t1,useId:p1,unstable_isNewReconciler:!1},KT={readContext:Ar,useCallback:m1,useContext:Ar,useEffect:mg,useImperativeHandle:d1,useInsertionEffect:l1,useLayoutEffect:c1,useMemo:f1,useReducer:Xm,useRef:o1,useState:function(){return Xm(Bo)},useDebugValue:fg,useDeferredValue:function(e){var t=Pr();return Je===null?t.memoizedState=e:h1(t,Je.memoizedState,e)},useTransition:function(){var e=Xm(Bo)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:e1,useSyncExternalStore:t1,useId:p1,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function uh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var md={isMounted:function(e){return(e=e._reactInternals)?vs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=It(),s=ha(e),i=Nn(n,s);i.payload=t,r!=null&&(i.callback=r),t=ma(e,i,s),t!==null&&(Gr(t,e,s,n),Ec(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=It(),s=ha(e),i=Nn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ma(e,i,s),t!==null&&(Gr(t,e,s,n),Ec(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=It(),n=ha(e),s=Nn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ma(e,s,n),t!==null&&(Gr(t,e,n,r),Ec(t,e,n))}};function Fy(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Lo(r,n)||!Lo(s,i):!0}function v1(e,t,r){var n=!1,s=va,i=t.contextType;return typeof i=="object"&&i!==null?i=Ar(i):(s=Kt(t)?rs:Et.current,n=t.contextTypes,i=(n=n!=null)?Qs(e,s):va),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=md,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function zy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&md.enqueueReplaceState(t,t.state,null)}function dh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},sg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ar(i):(i=Kt(t)?rs:Et.current,s.context=Qs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(uh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&md.enqueueReplaceState(s,s.state,null),nu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ti(e,t){try{var r="",n=t;do r+=jP(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Qm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function mh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var VT=typeof WeakMap=="function"?WeakMap:Map;function b1(e,t,r){r=Nn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){lu||(lu=!0,wh=n),mh(e,t)},r}function j1(e,t,r){r=Nn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){mh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){mh(e,t),typeof n!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Hy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new VT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=lO.bind(null,e,t,r),t.then(e,e))}function Wy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nn(-1,1),t.tag=2,ma(r,t,1))),r.lanes|=1),e)}var YT=Bn.ReactCurrentOwner,Wt=!1;function Tt(e,t,r,n){t.child=e===null?XN(t,null,r,n):Js(t,e.child,r,n)}function Gy(e,t,r,n,s){r=r.render;var i=t.ref;return qs(t,s),n=ug(e,t,r,n,i,s),r=dg(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tn(e,t,s)):(De&&r&&Zp(t),t.flags|=1,Tt(e,t,n,s),t.child)}function Ky(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!jg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,w1(e,t,i,n,s)):(e=Dc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(o,n)&&e.ref===t.ref)return Tn(e,t,s)}return t.flags|=1,e=pa(i,n),e.ref=t.ref,e.return=t,t.child=e}function w1(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Lo(i,n)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,Tn(e,t,s)}return fh(e,t,r,n,s)}function N1(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Bs,rr),rr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Bs,rr),rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ce(Bs,rr),rr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ce(Bs,rr),rr|=n;return Tt(e,t,s,r),t.child}function C1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fh(e,t,r,n,s){var i=Kt(r)?rs:Et.current;return i=Qs(t,i),qs(t,s),r=ug(e,t,r,n,i,s),n=dg(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tn(e,t,s)):(De&&n&&Zp(t),t.flags|=1,Tt(e,t,r,s),t.child)}function Vy(e,t,r,n,s){if(Kt(r)){var i=!0;Zc(t)}else i=!1;if(qs(t,s),t.stateNode===null)Tc(e,t),v1(t,r,n),dh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ar(d):(d=Kt(r)?rs:Et.current,d=Qs(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&zy(t,o,n,d),Jn=!1;var f=t.memoizedState;o.state=f,nu(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Gt.current||Jn?(typeof u=="function"&&(uh(t,r,u,n),c=t.memoizedState),(l=Jn||Fy(t,r,l,n,f,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ZN(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ir(t.type,l),o.props=d,m=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ar(c):(c=Kt(r)?rs:Et.current,c=Qs(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&zy(t,o,n,c),Jn=!1,f=t.memoizedState,o.state=f,nu(t,n,o,s);var p=t.memoizedState;l!==m||f!==p||Gt.current||Jn?(typeof h=="function"&&(uh(t,r,h,n),p=t.memoizedState),(d=Jn||Fy(t,r,d,n,f,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return hh(e,t,r,n,i,s)}function hh(e,t,r,n,s,i){C1(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Dy(t,r,!1),Tn(e,t,i);n=t.stateNode,YT.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Js(t,e.child,null,i),t.child=Js(t,null,l,i)):Tt(e,t,l,i),t.memoizedState=n.state,s&&Dy(t,r,!0),t.child}function S1(e){var t=e.stateNode;t.pendingContext?Ly(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ly(e,t.context,!1),ig(e,t.containerInfo)}function Yy(e,t,r,n,s){return Zs(),eg(s),t.flags|=256,Tt(e,t,r,n),t.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function gh(e){return{baseLanes:e,cachePool:null,transitions:null}}function k1(e,t,r){var n=t.pendingProps,s=Re.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(Re,s&1),e===null)return lh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pd(o,n,0,null),e=Xa(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gh(r),t.memoizedState=ph,e):hg(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return XT(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=pa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=pa(l,i):(i=Xa(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?gh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ph,n}return i=e.child,e=i.sibling,n=pa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hg(e,t){return t=pd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jl(e,t,r,n){return n!==null&&eg(n),Js(t,e.child,null,r),e=hg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function XT(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Qm(Error(Q(422))),Jl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=pd({mode:"visible",children:n.children},s,0,null),i=Xa(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Js(t,e.child,null,o),t.child.memoizedState=gh(o),t.memoizedState=ph,i);if(!(t.mode&1))return Jl(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Q(419)),n=Qm(i,n,void 0),Jl(e,t,o,n)}if(l=(o&e.childLanes)!==0,Wt||l){if(n=ut,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pn(e,s),Gr(n,e,s,-1))}return bg(),n=Qm(Error(Q(421))),Jl(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cO.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,or=da(s.nextSibling),cr=t,De=!0,Br=null,e!==null&&(jr[wr++]=yn,jr[wr++]=vn,jr[wr++]=ns,yn=e.id,vn=e.overflow,ns=t),t=hg(t,n.children),t.flags|=4096,t)}function Xy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ch(e.return,t,r)}function Zm(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function E1(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Tt(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xy(e,r,t);else if(e.tag===19)Xy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ce(Re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&au(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zm(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&au(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zm(t,!0,r,null,i);break;case"together":Zm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ss|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=pa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function QT(e,t,r){switch(t.tag){case 3:S1(t),Zs();break;case 5:JN(t);break;case 1:Kt(t.type)&&Zc(t);break;case 4:ig(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ce(tu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?k1(e,t,r):(Ce(Re,Re.current&1),e=Tn(e,t,r),e!==null?e.sibling:null);Ce(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return E1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,N1(e,t,r)}return Tn(e,t,r)}var A1,xh,P1,T1;A1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xh=function(){};P1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,za(an.current);var i=null;switch(r){case"input":s=Bf(e,s),n=Bf(e,n),i=[];break;case"select":s=Ue({},s,{value:void 0}),n=Ue({},n,{value:void 0}),i=[];break;case"textarea":s=zf(e,s),n=zf(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xc)}Wf(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(So.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(So.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ke("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};T1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gi(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ZT(e,t,r){var n=t.pendingProps;switch(Jp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Kt(t.type)&&Qc(),jt(t),null;case 3:return n=t.stateNode,ei(),Ae(Gt),Ae(Et),lg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ql(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Br!==null&&(Sh(Br),Br=null))),xh(e,t),jt(t),null;case 5:og(t);var s=za(Ro.current);if(r=t.type,e!==null&&t.stateNode!=null)P1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return jt(t),null}if(e=za(an.current),Ql(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[tn]=t,n[_o]=i,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<io.length;s++)ke(io[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":sy(n,i),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ke("invalid",n);break;case"textarea":oy(n,i),ke("invalid",n)}Wf(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Xl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Xl(n.textContent,l,e),s=["children",""+l]):So.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",n)}switch(r){case"input":zl(n),iy(n,i,!0);break;case"textarea":zl(n),ly(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Xc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[tn]=t,e[_o]=n,A1(e,t,!1,!1),t.stateNode=e;e:{switch(o=qf(r,n),r){case"dialog":ke("cancel",e),ke("close",e),s=n;break;case"iframe":case"object":case"embed":ke("load",e),s=n;break;case"video":case"audio":for(s=0;s<io.length;s++)ke(io[s],e);s=n;break;case"source":ke("error",e),s=n;break;case"img":case"image":case"link":ke("error",e),ke("load",e),s=n;break;case"details":ke("toggle",e),s=n;break;case"input":sy(e,n),s=Bf(e,n),ke("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ue({},n,{value:void 0}),ke("invalid",e);break;case"textarea":oy(e,n),s=zf(e,n),ke("invalid",e);break;default:s=n}Wf(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?oN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sN(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ko(e,c):typeof c=="number"&&ko(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(So.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ke("scroll",e):c!=null&&$p(e,i,c,o))}switch(r){case"input":zl(e),iy(e,n,!1);break;case"textarea":zl(e),ly(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ya(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Fs(e,!!n.multiple,i,!1):n.defaultValue!=null&&Fs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)T1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=za(Ro.current),za(an.current),Ql(t)){if(n=t.stateNode,r=t.memoizedProps,n[tn]=t,(i=n.nodeValue!==r)&&(e=cr,e!==null))switch(e.tag){case 3:Xl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[tn]=t,t.stateNode=n}return jt(t),null;case 13:if(Ae(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&or!==null&&t.mode&1&&!(t.flags&128))VN(),Zs(),t.flags|=98560,i=!1;else if(i=Ql(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[tn]=t}else Zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),i=!1}else Br!==null&&(Sh(Br),Br=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?tt===0&&(tt=3):bg())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return ei(),xh(e,t),e===null&&Do(t.stateNode.containerInfo),jt(t),null;case 10:return ng(t.type._context),jt(t),null;case 17:return Kt(t.type)&&Qc(),jt(t),null;case 19:if(Ae(Re),i=t.memoizedState,i===null)return jt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Gi(i,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=au(e),o!==null){for(t.flags|=128,Gi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>ri&&(t.flags|=128,n=!0,Gi(i,!1),t.lanes=4194304)}else{if(!n)if(e=au(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!De)return jt(t),null}else 2*Ge()-i.renderingStartTime>ri&&r!==1073741824&&(t.flags|=128,n=!0,Gi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,r=Re.current,Ce(Re,n?r&1|2:r&1),t):(jt(t),null);case 22:case 23:return vg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rr&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function JT(e,t){switch(Jp(t),t.tag){case 1:return Kt(t.type)&&Qc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),Ae(Gt),Ae(Et),lg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return og(t),null;case 13:if(Ae(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Re),null;case 4:return ei(),null;case 10:return ng(t.type._context),null;case 22:case 23:return vg(),null;case 24:return null;default:return null}}var ec=!1,Nt=!1,eO=typeof WeakSet=="function"?WeakSet:Set,te=null;function $s(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ze(e,t,n)}else r.current=null}function yh(e,t,r){try{r()}catch(n){ze(e,t,n)}}var Qy=!1;function tO(e,t){if(th=Kc,e=_N(),Qp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var h;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)f=m,m=h;for(;;){if(m===e)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===n&&(c=o),(h=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rh={focusedElem:e,selectionRange:r},Kc=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,y=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ir(t.type,x),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(w){ze(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return p=Qy,Qy=!1,p}function xo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&yh(t,r,i)}s=s.next}while(s!==n)}}function fd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function O1(e){var t=e.alternate;t!==null&&(e.alternate=null,O1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[_o],delete t[sh],delete t[RT],delete t[$T])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function L1(e){return e.tag===5||e.tag===3||e.tag===4}function Zy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xc));else if(n!==4&&(e=e.child,e!==null))for(bh(e,t,r),e=e.sibling;e!==null;)bh(e,t,r),e=e.sibling}function jh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jh(e,t,r),e=e.sibling;e!==null;)jh(e,t,r),e=e.sibling}var pt=null,$r=!1;function Qn(e,t,r){for(r=r.child;r!==null;)D1(e,t,r),r=r.sibling}function D1(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(sd,r)}catch{}switch(r.tag){case 5:Nt||$s(r,t);case 6:var n=pt,s=$r;pt=null,Qn(e,t,r),pt=n,$r=s,pt!==null&&($r?(e=pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pt.removeChild(r.stateNode));break;case 18:pt!==null&&($r?(e=pt,r=r.stateNode,e.nodeType===8?qm(e.parentNode,r):e.nodeType===1&&qm(e,r),To(e)):qm(pt,r.stateNode));break;case 4:n=pt,s=$r,pt=r.stateNode.containerInfo,$r=!0,Qn(e,t,r),pt=n,$r=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yh(r,t,o),s=s.next}while(s!==n)}Qn(e,t,r);break;case 1:if(!Nt&&($s(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ze(r,t,l)}Qn(e,t,r);break;case 21:Qn(e,t,r);break;case 22:r.mode&1?(Nt=(n=Nt)||r.memoizedState!==null,Qn(e,t,r),Nt=n):Qn(e,t,r);break;default:Qn(e,t,r)}}function Jy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eO),t.forEach(function(n){var s=uO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _r(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:pt=l.stateNode,$r=!1;break e;case 3:pt=l.stateNode.containerInfo,$r=!0;break e;case 4:pt=l.stateNode.containerInfo,$r=!0;break e}l=l.return}if(pt===null)throw Error(Q(160));D1(i,o,s),pt=null,$r=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ze(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)M1(t,e),t=t.sibling}function M1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_r(t,e),Zr(e),n&4){try{xo(3,e,e.return),fd(3,e)}catch(x){ze(e,e.return,x)}try{xo(5,e,e.return)}catch(x){ze(e,e.return,x)}}break;case 1:_r(t,e),Zr(e),n&512&&r!==null&&$s(r,r.return);break;case 5:if(_r(t,e),Zr(e),n&512&&r!==null&&$s(r,r.return),e.flags&32){var s=e.stateNode;try{ko(s,"")}catch(x){ze(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rN(s,i),qf(l,o);var d=qf(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?oN(s,m):u==="dangerouslySetInnerHTML"?sN(s,m):u==="children"?ko(s,m):$p(s,u,m,d)}switch(l){case"input":Uf(s,i);break;case"textarea":nN(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Fs(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fs(s,!!i.multiple,i.defaultValue,!0):Fs(s,!!i.multiple,i.multiple?[]:"",!1))}s[_o]=i}catch(x){ze(e,e.return,x)}}break;case 6:if(_r(t,e),Zr(e),n&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ze(e,e.return,x)}}break;case 3:if(_r(t,e),Zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{To(t.containerInfo)}catch(x){ze(e,e.return,x)}break;case 4:_r(t,e),Zr(e);break;case 13:_r(t,e),Zr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xg=Ge())),n&4&&Jy(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Nt=(d=Nt)||u,_r(t,e),Nt=d):_r(t,e),Zr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(te=e,u=e.child;u!==null;){for(m=te=u;te!==null;){switch(f=te,h=f.child,f.tag){case 0:case 11:case 14:case 15:xo(4,f,f.return);break;case 1:$s(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){ze(n,r,x)}}break;case 5:$s(f,f.return);break;case 22:if(f.memoizedState!==null){tv(m);continue}}h!==null?(h.return=f,te=h):tv(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=iN("display",o))}catch(x){ze(e,e.return,x)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){ze(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:_r(t,e),Zr(e),n&4&&Jy(e);break;case 21:break;default:_r(t,e),Zr(e)}}function Zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(L1(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ko(s,""),n.flags&=-33);var i=Zy(e);jh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Zy(e);bh(e,l,o);break;default:throw Error(Q(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rO(e,t,r){te=e,_1(e)}function _1(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ec;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Nt;l=ec;var d=Nt;if(ec=o,(Nt=c)&&!d)for(te=s;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?rv(s):c!==null?(c.return=o,te=c):rv(s);for(;i!==null;)te=i,_1(i),i=i.sibling;te=s,ec=l,Nt=d}ev(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):ev(e)}}function ev(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||fd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Nt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ir(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$y(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$y(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&To(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Nt||t.flags&512&&vh(t)}catch(f){ze(t,t.return,f)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function tv(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function rv(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fd(4,t)}catch(c){ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ze(t,s,c)}}var i=t.return;try{vh(t)}catch(c){ze(t,i,c)}break;case 5:var o=t.return;try{vh(t)}catch(c){ze(t,o,c)}}}catch(c){ze(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var nO=Math.ceil,ou=Bn.ReactCurrentDispatcher,pg=Bn.ReactCurrentOwner,Er=Bn.ReactCurrentBatchConfig,he=0,ut=null,Xe=null,xt=0,rr=0,Bs=ka(0),tt=0,Fo=null,ss=0,hd=0,gg=0,yo=null,zt=null,xg=0,ri=1/0,hn=null,lu=!1,wh=null,fa=null,tc=!1,ia=null,cu=0,vo=0,Nh=null,Oc=-1,Lc=0;function It(){return he&6?Ge():Oc!==-1?Oc:Oc=Ge()}function ha(e){return e.mode&1?he&2&&xt!==0?xt&-xt:UT.transition!==null?(Lc===0&&(Lc=vN()),Lc):(e=ye,e!==0||(e=window.event,e=e===void 0?16:kN(e.type)),e):1}function Gr(e,t,r,n){if(50<vo)throw vo=0,Nh=null,Error(Q(185));al(e,r,n),(!(he&2)||e!==ut)&&(e===ut&&(!(he&2)&&(hd|=r),tt===4&&na(e,xt)),Vt(e,n),r===1&&he===0&&!(t.mode&1)&&(ri=Ge()+500,ud&&Ea()))}function Vt(e,t){var r=e.callbackNode;UP(e,t);var n=Gc(e,e===ut?xt:0);if(n===0)r!==null&&dy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dy(r),t===1)e.tag===0?BT(nv.bind(null,e)):qN(nv.bind(null,e)),_T(function(){!(he&6)&&Ea()}),r=null;else{switch(bN(n)){case 1:r=Hp;break;case 4:r=xN;break;case 16:r=qc;break;case 536870912:r=yN;break;default:r=qc}r=H1(r,I1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function I1(e,t){if(Oc=-1,Lc=0,he&6)throw Error(Q(327));var r=e.callbackNode;if(Gs()&&e.callbackNode!==r)return null;var n=Gc(e,e===ut?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=uu(e,n);else{t=n;var s=he;he|=2;var i=$1();(ut!==e||xt!==t)&&(hn=null,ri=Ge()+500,Ya(e,t));do try{iO();break}catch(l){R1(e,l)}while(!0);rg(),ou.current=i,he=s,Xe!==null?t=0:(ut=null,xt=0,t=tt)}if(t!==0){if(t===2&&(s=Xf(e),s!==0&&(n=s,t=Ch(e,s))),t===1)throw r=Fo,Ya(e,0),na(e,n),Vt(e,Ge()),r;if(t===6)na(e,n);else{if(s=e.current.alternate,!(n&30)&&!aO(s)&&(t=uu(e,n),t===2&&(i=Xf(e),i!==0&&(n=i,t=Ch(e,i))),t===1))throw r=Fo,Ya(e,0),na(e,n),Vt(e,Ge()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:Ia(e,zt,hn);break;case 3:if(na(e,n),(n&130023424)===n&&(t=xg+500-Ge(),10<t)){if(Gc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){It(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ah(Ia.bind(null,e,zt,hn),t);break}Ia(e,zt,hn);break;case 4:if(na(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-qr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nO(n/1960))-n,10<n){e.timeoutHandle=ah(Ia.bind(null,e,zt,hn),n);break}Ia(e,zt,hn);break;case 5:Ia(e,zt,hn);break;default:throw Error(Q(329))}}}return Vt(e,Ge()),e.callbackNode===r?I1.bind(null,e):null}function Ch(e,t){var r=yo;return e.current.memoizedState.isDehydrated&&(Ya(e,t).flags|=256),e=uu(e,t),e!==2&&(t=zt,zt=r,t!==null&&Sh(t)),e}function Sh(e){zt===null?zt=e:zt.push.apply(zt,e)}function aO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t){for(t&=~gg,t&=~hd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qr(t),n=1<<r;e[r]=-1,t&=~n}}function nv(e){if(he&6)throw Error(Q(327));Gs();var t=Gc(e,0);if(!(t&1))return Vt(e,Ge()),null;var r=uu(e,t);if(e.tag!==0&&r===2){var n=Xf(e);n!==0&&(t=n,r=Ch(e,n))}if(r===1)throw r=Fo,Ya(e,0),na(e,t),Vt(e,Ge()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ia(e,zt,hn),Vt(e,Ge()),null}function yg(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(ri=Ge()+500,ud&&Ea())}}function is(e){ia!==null&&ia.tag===0&&!(he&6)&&Gs();var t=he;he|=1;var r=Er.transition,n=ye;try{if(Er.transition=null,ye=1,e)return e()}finally{ye=n,Er.transition=r,he=t,!(he&6)&&Ea()}}function vg(){rr=Bs.current,Ae(Bs)}function Ya(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MT(r)),Xe!==null)for(r=Xe.return;r!==null;){var n=r;switch(Jp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qc();break;case 3:ei(),Ae(Gt),Ae(Et),lg();break;case 5:og(n);break;case 4:ei();break;case 13:Ae(Re);break;case 19:Ae(Re);break;case 10:ng(n.type._context);break;case 22:case 23:vg()}r=r.return}if(ut=e,Xe=e=pa(e.current,null),xt=rr=t,tt=0,Fo=null,gg=hd=ss=0,zt=yo=null,Fa!==null){for(t=0;t<Fa.length;t++)if(r=Fa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Fa=null}return e}function R1(e,t){do{var r=Xe;try{if(rg(),Ac.current=iu,su){for(var n=Be.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}su=!1}if(as=0,lt=Je=Be=null,go=!1,$o=0,pg.current=null,r===null||r.return===null){tt=1,Fo=t,Xe=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Wy(o);if(h!==null){h.flags&=-257,qy(h,o,l,i,t),h.mode&1&&Hy(i,d,t),t=h,c=d;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){Hy(i,d,t),bg();break e}c=Error(Q(426))}}else if(De&&l.mode&1){var y=Wy(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),qy(y,o,l,i,t),eg(ti(c,l));break e}}i=c=ti(c,l),tt!==4&&(tt=2),yo===null?yo=[i]:yo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=b1(i,c,t);Ry(i,v);break e;case 1:l=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(fa===null||!fa.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=j1(i,l,t);Ry(i,w);break e}}i=i.return}while(i!==null)}U1(r)}catch(C){t=C,Xe===r&&r!==null&&(Xe=r=r.return);continue}break}while(!0)}function $1(){var e=ou.current;return ou.current=iu,e===null?iu:e}function bg(){(tt===0||tt===3||tt===2)&&(tt=4),ut===null||!(ss&268435455)&&!(hd&268435455)||na(ut,xt)}function uu(e,t){var r=he;he|=2;var n=$1();(ut!==e||xt!==t)&&(hn=null,Ya(e,t));do try{sO();break}catch(s){R1(e,s)}while(!0);if(rg(),he=r,ou.current=n,Xe!==null)throw Error(Q(261));return ut=null,xt=0,tt}function sO(){for(;Xe!==null;)B1(Xe)}function iO(){for(;Xe!==null&&!OP();)B1(Xe)}function B1(e){var t=z1(e.alternate,e,rr);e.memoizedProps=e.pendingProps,t===null?U1(e):Xe=t,pg.current=null}function U1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=JT(r,t),r!==null){r.flags&=32767,Xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Xe=null;return}}else if(r=ZT(r,t,rr),r!==null){Xe=r;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);tt===0&&(tt=5)}function Ia(e,t,r){var n=ye,s=Er.transition;try{Er.transition=null,ye=1,oO(e,t,r,n)}finally{Er.transition=s,ye=n}return null}function oO(e,t,r,n){do Gs();while(ia!==null);if(he&6)throw Error(Q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(FP(e,i),e===ut&&(Xe=ut=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tc||(tc=!0,H1(qc,function(){return Gs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Er.transition,Er.transition=null;var o=ye;ye=1;var l=he;he|=4,pg.current=null,tO(e,r),M1(r,e),ET(rh),Kc=!!th,rh=th=null,e.current=r,rO(r),LP(),he=l,ye=o,Er.transition=i}else e.current=r;if(tc&&(tc=!1,ia=e,cu=s),i=e.pendingLanes,i===0&&(fa=null),_P(r.stateNode),Vt(e,Ge()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(lu)throw lu=!1,e=wh,wh=null,e;return cu&1&&e.tag!==0&&Gs(),i=e.pendingLanes,i&1?e===Nh?vo++:(vo=0,Nh=e):vo=0,Ea(),null}function Gs(){if(ia!==null){var e=bN(cu),t=Er.transition,r=ye;try{if(Er.transition=null,ye=16>e?16:e,ia===null)var n=!1;else{if(e=ia,ia=null,cu=0,he&6)throw Error(Q(331));var s=he;for(he|=4,te=e.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(te=d;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:xo(8,u,i)}var m=u.child;if(m!==null)m.return=u,te=m;else for(;te!==null;){u=te;var f=u.sibling,h=u.return;if(O1(u),u===d){te=null;break}if(f!==null){f.return=h,te=f;break}te=h}}}var p=i.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,te=v;break e}te=i.return}}var b=e.current;for(te=b;te!==null;){o=te;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,te=j;else e:for(o=b;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fd(9,l)}}catch(C){ze(l,l.return,C)}if(l===o){te=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,te=w;break e}te=l.return}}if(he=s,Ea(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(sd,e)}catch{}n=!0}return n}finally{ye=r,Er.transition=t}}return!1}function av(e,t,r){t=ti(r,t),t=b1(e,t,1),e=ma(e,t,1),t=It(),e!==null&&(al(e,1,t),Vt(e,t))}function ze(e,t,r){if(e.tag===3)av(e,e,r);else for(;t!==null;){if(t.tag===3){av(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fa===null||!fa.has(n))){e=ti(r,e),e=j1(t,e,1),t=ma(t,e,1),e=It(),t!==null&&(al(t,1,e),Vt(t,e));break}}t=t.return}}function lO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&r,ut===e&&(xt&r)===r&&(tt===4||tt===3&&(xt&130023424)===xt&&500>Ge()-xg?Ya(e,0):gg|=r),Vt(e,t)}function F1(e,t){t===0&&(e.mode&1?(t=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):t=1);var r=It();e=Pn(e,t),e!==null&&(al(e,t,r),Vt(e,r))}function cO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),F1(e,r)}function uO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),F1(e,r)}var z1;z1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,QT(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,De&&t.flags&1048576&&GN(t,eu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Tc(e,t),e=t.pendingProps;var s=Qs(t,Et.current);qs(t,r),s=ug(null,t,n,e,s,r);var i=dg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(n)?(i=!0,Zc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sg(t),s.updater=md,t.stateNode=s,s._reactInternals=t,dh(t,n,e,r),t=hh(null,t,n,!0,i,r)):(t.tag=0,De&&i&&Zp(t),Tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Tc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=mO(n),e=Ir(n,e),s){case 0:t=fh(null,t,n,e,r);break e;case 1:t=Vy(null,t,n,e,r);break e;case 11:t=Gy(null,t,n,e,r);break e;case 14:t=Ky(null,t,n,Ir(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),fh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Vy(e,t,n,s,r);case 3:e:{if(S1(t),e===null)throw Error(Q(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ZN(e,t),nu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ti(Error(Q(423)),t),t=Yy(e,t,n,r,s);break e}else if(n!==s){s=ti(Error(Q(424)),t),t=Yy(e,t,n,r,s);break e}else for(or=da(t.stateNode.containerInfo.firstChild),cr=t,De=!0,Br=null,r=XN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zs(),n===s){t=Tn(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return JN(t),e===null&&lh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,nh(n,s)?o=null:i!==null&&nh(n,i)&&(t.flags|=32),C1(e,t),Tt(e,t,o,r),t.child;case 6:return e===null&&lh(t),null;case 13:return k1(e,t,r);case 4:return ig(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Js(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Gy(e,t,n,s,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ce(tu,n._currentValue),n._currentValue=o,i!==null)if(Yr(i.value,o)){if(i.children===s.children&&!Gt.current){t=Tn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Nn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ch(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ch(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,qs(t,r),s=Ar(s),n=n(s),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,s=Ir(n,t.pendingProps),s=Ir(n.type,s),Ky(e,t,n,s,r);case 15:return w1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Tc(e,t),t.tag=1,Kt(n)?(e=!0,Zc(t)):e=!1,qs(t,r),v1(t,n,s),dh(t,n,s,r),hh(null,t,n,!0,e,r);case 19:return E1(e,t,r);case 22:return N1(e,t,r)}throw Error(Q(156,t.tag))};function H1(e,t){return gN(e,t)}function dO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(e,t,r,n){return new dO(e,t,r,n)}function jg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mO(e){if(typeof e=="function")return jg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Up)return 11;if(e===Fp)return 14}return 2}function pa(e,t){var r=e.alternate;return r===null?(r=Cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")jg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ps:return Xa(r.children,s,i,t);case Bp:o=8,s|=8;break;case _f:return e=Cr(12,r,t,s|2),e.elementType=_f,e.lanes=i,e;case If:return e=Cr(13,r,t,s),e.elementType=If,e.lanes=i,e;case Rf:return e=Cr(19,r,t,s),e.elementType=Rf,e.lanes=i,e;case Jw:return pd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qw:o=10;break e;case Zw:o=9;break e;case Up:o=11;break e;case Fp:o=14;break e;case Zn:o=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Cr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Xa(e,t,r,n){return e=Cr(7,e,n,t),e.lanes=r,e}function pd(e,t,r,n){return e=Cr(22,e,n,t),e.elementType=Jw,e.lanes=r,e.stateNode={isHidden:!1},e}function Jm(e,t,r){return e=Cr(6,e,null,t),e.lanes=r,e}function ef(e,t,r){return t=Cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mm(0),this.expirationTimes=Mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wg(e,t,r,n,s,i,o,l,c){return e=new fO(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Cr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sg(i),e}function hO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function W1(e){if(!e)return va;e=e._reactInternals;e:{if(vs(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Kt(r))return WN(e,r,t)}return t}function q1(e,t,r,n,s,i,o,l,c){return e=wg(r,n,!0,e,s,i,o,l,c),e.context=W1(null),r=e.current,n=It(),s=ha(r),i=Nn(n,s),i.callback=t??null,ma(r,i,s),e.current.lanes=s,al(e,s,n),Vt(e,n),e}function gd(e,t,r,n){var s=t.current,i=It(),o=ha(s);return r=W1(r),t.context===null?t.context=r:t.pendingContext=r,t=Nn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ma(s,t,o),e!==null&&(Gr(e,s,o,i),Ec(e,s,o)),o}function du(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ng(e,t){sv(e,t),(e=e.alternate)&&sv(e,t)}function pO(){return null}var G1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cg(e){this._internalRoot=e}xd.prototype.render=Cg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));gd(e,t,null,null)};xd.prototype.unmount=Cg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;is(function(){gd(null,e,null,null)}),t[An]=null}};function xd(e){this._internalRoot=e}xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=NN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ra.length&&t!==0&&t<ra[r].priority;r++);ra.splice(r,0,e),r===0&&SN(e)}};function Sg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iv(){}function gO(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=du(o);i.call(d)}}var o=q1(t,n,e,0,null,!1,!1,"",iv);return e._reactRootContainer=o,e[An]=o.current,Do(e.nodeType===8?e.parentNode:e),is(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=du(c);l.call(d)}}var c=wg(e,0,!1,null,null,!1,!1,"",iv);return e._reactRootContainer=c,e[An]=c.current,Do(e.nodeType===8?e.parentNode:e),is(function(){gd(t,c,r,n)}),c}function vd(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=du(o);l.call(c)}}gd(t,o,e,s)}else o=gO(r,t,e,s,n);return du(o)}jN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=so(t.pendingLanes);r!==0&&(Wp(t,r|1),Vt(t,Ge()),!(he&6)&&(ri=Ge()+500,Ea()))}break;case 13:is(function(){var n=Pn(e,1);if(n!==null){var s=It();Gr(n,e,1,s)}}),Ng(e,1)}};qp=function(e){if(e.tag===13){var t=Pn(e,134217728);if(t!==null){var r=It();Gr(t,e,134217728,r)}Ng(e,134217728)}};wN=function(e){if(e.tag===13){var t=ha(e),r=Pn(e,t);if(r!==null){var n=It();Gr(r,e,t,n)}Ng(e,t)}};NN=function(){return ye};CN=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};Kf=function(e,t,r){switch(t){case"input":if(Uf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=cd(n);if(!s)throw Error(Q(90));tN(n),Uf(n,s)}}}break;case"textarea":nN(e,r);break;case"select":t=r.value,t!=null&&Fs(e,!!r.multiple,t,!1)}};uN=yg;dN=is;var xO={usingClientEntryPoint:!1,Events:[il,Ds,cd,lN,cN,yg]},Ki={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yO={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hN(e),e===null?null:e.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||pO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{sd=rc.inject(yO),nn=rc}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xO;hr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sg(t))throw Error(Q(200));return hO(e,t,null,r)};hr.createRoot=function(e,t){if(!Sg(e))throw Error(Q(299));var r=!1,n="",s=G1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wg(e,1,!1,null,null,r,!1,n,s),e[An]=t.current,Do(e.nodeType===8?e.parentNode:e),new Cg(t)};hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=hN(t),e=e===null?null:e.stateNode,e};hr.flushSync=function(e){return is(e)};hr.hydrate=function(e,t,r){if(!yd(t))throw Error(Q(200));return vd(null,e,t,!0,r)};hr.hydrateRoot=function(e,t,r){if(!Sg(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=G1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=q1(t,null,e,1,r??null,s,!1,i,o),e[An]=t.current,Do(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xd(t)};hr.render=function(e,t,r){if(!yd(t))throw Error(Q(200));return vd(null,e,t,!1,r)};hr.unmountComponentAtNode=function(e){if(!yd(e))throw Error(Q(40));return e._reactRootContainer?(is(function(){vd(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};hr.unstable_batchedUpdates=yg;hr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yd(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return vd(e,t,r,!1,n)};hr.version="18.3.1-next-f1338f8080-20240426";function K1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K1)}catch(e){console.error(e)}}K1(),Kw.exports=hr;var kg=Kw.exports,ov=kg;Df.createRoot=ov.createRoot,Df.hydrateRoot=ov.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zo.apply(this,arguments)}var oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oa||(oa={}));const lv="popstate";function vO(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return kh("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:mu(s)}return jO(t,r,null,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function V1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bO(){return Math.random().toString(36).substr(2,8)}function cv(e,t){return{usr:e.state,key:e.key,idx:t}}function kh(e,t,r,n){return r===void 0&&(r=null),zo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ji(t):t,{state:r,key:t&&t.key||n||bO()})}function mu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ji(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function jO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=oa.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(zo({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=oa.Pop;let y=u(),v=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:v})}function f(y,v){l=oa.Push;let b=kh(x.location,y,v);d=u()+1;let j=cv(b,d),w=x.createHref(b);try{o.pushState(j,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(w)}i&&c&&c({action:l,location:x.location,delta:1})}function h(y,v){l=oa.Replace;let b=kh(x.location,y,v);d=u();let j=cv(b,d),w=x.createHref(b);o.replaceState(j,"",w),i&&c&&c({action:l,location:x.location,delta:0})}function p(y){let v=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:mu(y);return b=b.replace(/ $/,"%20"),Ke(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let x={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(lv,m),c=y,()=>{s.removeEventListener(lv,m),c=null}},createHref(y){return t(s,y)},createURL:p,encodeLocation(y){let v=p(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(y){return o.go(y)}};return x}var uv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uv||(uv={}));function wO(e,t,r){return r===void 0&&(r="/"),NO(e,t,r)}function NO(e,t,r,n){let s=typeof t=="string"?ji(t):t,i=Eg(s.pathname||"/",r);if(i==null)return null;let o=Y1(e);CO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=IO(i);l=DO(o[c],d)}return l}function Y1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ke(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ga([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Y1(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:OO(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of X1(i.path))s(i,o,c)}),t}function X1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=X1(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function CO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:LO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const SO=/^:[\w-]+$/,kO=3,EO=2,AO=1,PO=10,TO=-2,dv=e=>e==="*";function OO(e,t){let r=e.split("/"),n=r.length;return r.some(dv)&&(n+=TO),t&&(n+=EO),r.filter(s=>!dv(s)).reduce((s,i)=>s+(SO.test(i)?kO:i===""?AO:PO),n)}function LO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function DO(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=MO({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:ga([i,m.pathname]),pathnameBase:UO(ga([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=ga([i,m.pathnameBase]))}return o}function MO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_O(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let x=l[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?d[f]=void 0:d[f]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function _O(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),V1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function IO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return V1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Eg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function RO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ji(e):e;return{pathname:r?r.startsWith("/")?r:$O(r,t):t,search:FO(n),hash:zO(s)}}function $O(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function tf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ag(e,t){let r=BO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Pg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ji(e):(s=zo({},e),Ke(!s.pathname||!s.pathname.includes("?"),tf("?","pathname","search",s)),Ke(!s.pathname||!s.pathname.includes("#"),tf("#","pathname","hash",s)),Ke(!s.search||!s.search.includes("#"),tf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=RO(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ga=e=>e.join("/").replace(/\/\/+/g,"/"),UO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Q1=["post","put","patch","delete"];new Set(Q1);const WO=["get",...Q1];new Set(WO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(this,arguments)}const Tg=g.createContext(null),qO=g.createContext(null),Aa=g.createContext(null),bd=g.createContext(null),Pa=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Z1=g.createContext(null);function GO(e,t){let{relative:r}=t===void 0?{}:t;wi()||Ke(!1);let{basename:n,navigator:s}=g.useContext(Aa),{hash:i,pathname:o,search:l}=eC(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ga([n,o])),s.createHref({pathname:c,search:l,hash:i})}function wi(){return g.useContext(bd)!=null}function bs(){return wi()||Ke(!1),g.useContext(bd).location}function J1(e){g.useContext(Aa).static||g.useLayoutEffect(e)}function jd(){let{isDataRoute:e}=g.useContext(Pa);return e?sL():KO()}function KO(){wi()||Ke(!1);let e=g.useContext(Tg),{basename:t,future:r,navigator:n}=g.useContext(Aa),{matches:s}=g.useContext(Pa),{pathname:i}=bs(),o=JSON.stringify(Ag(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return J1(()=>{l.current=!0}),g.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=Pg(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ga([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,o,i,e])}function eC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(Aa),{matches:s}=g.useContext(Pa),{pathname:i}=bs(),o=JSON.stringify(Ag(s,n.v7_relativeSplatPath));return g.useMemo(()=>Pg(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function VO(e,t){return YO(e,t)}function YO(e,t,r,n){wi()||Ke(!1);let{navigator:s}=g.useContext(Aa),{matches:i}=g.useContext(Pa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=bs(),u;if(t){var m;let y=typeof t=="string"?ji(t):t;c==="/"||(m=y.pathname)!=null&&m.startsWith(c)||Ke(!1),u=y}else u=d;let f=u.pathname||"/",h=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=wO(e,{pathname:h}),x=eL(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ga([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ga([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&x?g.createElement(bd.Provider,{value:{location:Ho({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:oa.Pop}},x):x}function XO(){let e=aL(),t=HO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,null)}const QO=g.createElement(XO,null);class ZO extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Pa.Provider,{value:this.props.routeContext},g.createElement(Z1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JO(e){let{routeContext:t,match:r,children:n}=e,s=g.useContext(Tg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Pa.Provider,{value:t},n)}function eL(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||Ke(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:f,errors:h}=r,p=m.route.loader&&f[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,f)=>{let h,p=!1,x=null,y=null;r&&(h=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||QO,c&&(d<0&&f===0?(iL("route-fallback"),p=!0,y=null):d===f&&(p=!0,y=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),b=()=>{let j;return h?j=x:p?j=y:m.route.Component?j=g.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,g.createElement(JO,{match:m,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?g.createElement(ZO,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var tC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tC||{}),rC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rC||{});function tL(e){let t=g.useContext(Tg);return t||Ke(!1),t}function rL(e){let t=g.useContext(qO);return t||Ke(!1),t}function nL(e){let t=g.useContext(Pa);return t||Ke(!1),t}function nC(e){let t=nL(),r=t.matches[t.matches.length-1];return r.route.id||Ke(!1),r.route.id}function aL(){var e;let t=g.useContext(Z1),r=rL(),n=nC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function sL(){let{router:e}=tL(tC.UseNavigateStable),t=nC(rC.UseNavigateStable),r=g.useRef(!1);return J1(()=>{r.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ho({fromRouteId:t},i)))},[e,t])}const mv={};function iL(e,t,r){mv[e]||(mv[e]=!0)}function oL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fv(e){let{to:t,replace:r,state:n,relative:s}=e;wi()||Ke(!1);let{future:i,static:o}=g.useContext(Aa),{matches:l}=g.useContext(Pa),{pathname:c}=bs(),d=jd(),u=Pg(t,Ag(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(u);return g.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:s}),[d,m,s,r,n]),null}function Oe(e){Ke(!1)}function lL(e){let{basename:t="/",children:r=null,location:n,navigationType:s=oa.Pop,navigator:i,static:o=!1,future:l}=e;wi()&&Ke(!1);let c=t.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Ho({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ji(n));let{pathname:u="/",search:m="",hash:f="",state:h=null,key:p="default"}=n,x=g.useMemo(()=>{let y=Eg(u,c);return y==null?null:{location:{pathname:y,search:m,hash:f,state:h,key:p},navigationType:s}},[c,u,m,f,h,p,s]);return x==null?null:g.createElement(Aa.Provider,{value:d},g.createElement(bd.Provider,{children:r,value:x}))}function Eh(e){let{children:t,location:r}=e;return VO(Ah(t),r)}new Promise(()=>{});function Ah(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,s)=>{if(!g.isValidElement(n))return;let i=[...t,s];if(n.type===g.Fragment){r.push.apply(r,Ah(n.props.children,i));return}n.type!==Oe&&Ke(!1),!n.props.index||!n.props.children||Ke(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ah(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(this,arguments)}function cL(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function uL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dL(e,t){return e.button===0&&(!t||t==="_self")&&!uL(e)}const mL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fL="6";try{window.__reactRouterVersion=fL}catch{}const hL="startTransition",hv=qw[hL];function pL(e){let{basename:t,children:r,future:n,window:s}=e,i=g.useRef();i.current==null&&(i.current=vO({window:s,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=g.useCallback(m=>{d&&hv?hv(()=>c(m)):c(m)},[c,d]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.useEffect(()=>oL(n),[n]),g.createElement(lL,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const gL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pv=g.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,f=cL(t,mL),{basename:h}=g.useContext(Aa),p,x=!1;if(typeof d=="string"&&xL.test(d)&&(p=d,gL))try{let j=new URL(window.location.href),w=d.startsWith("//")?new URL(j.protocol+d):new URL(d),C=Eg(w.pathname,h);w.origin===j.origin&&C!=null?d=C+w.search+w.hash:x=!0}catch{}let y=GO(d,{relative:s}),v=yL(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||v(j)}return g.createElement("a",Ph({},f,{href:p||y,onClick:x||i?n:b,ref:r,target:c}))});var gv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gv||(gv={}));var xv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xv||(xv={}));function yL(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=jd(),d=bs(),u=eC(e,{relative:o});return g.useCallback(m=>{if(dL(m,r)){m.preventDefault();let f=n!==void 0?n:mu(d)===mu(u);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,r,e,i,o,l])}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>g.createElement("svg",{ref:u,...vL,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bL(e)}`,l].join(" "),...d},[...t.map(([m,f])=>g.createElement(m,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=oe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=oe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=oe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=oe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=oe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=oe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=oe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=oe("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=oe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=oe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=oe("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=oe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function iC(e,t){return function(){return e.apply(t,arguments)}}const{toString:EL}=Object.prototype,{getPrototypeOf:Dg}=Object,{iterator:Sd,toStringTag:oC}=Symbol,kd=(e=>t=>{const r=EL.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xr=e=>(e=e.toLowerCase(),t=>kd(t)===e),Ed=e=>t=>typeof t===e,{isArray:ki}=Array,ai=Ed("undefined");function cl(e){return e!==null&&!ai(e)&&e.constructor!==null&&!ai(e.constructor)&&Xt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lC=Xr("ArrayBuffer");function AL(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lC(e.buffer),t}const PL=Ed("string"),Xt=Ed("function"),cC=Ed("number"),ul=e=>e!==null&&typeof e=="object",TL=e=>e===!0||e===!1,Mc=e=>{if(kd(e)!=="object")return!1;const t=Dg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(oC in e)&&!(Sd in e)},OL=e=>{if(!ul(e)||cl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},LL=Xr("Date"),DL=Xr("File"),ML=Xr("Blob"),_L=Xr("FileList"),IL=e=>ul(e)&&Xt(e.pipe),RL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xt(e.append)&&((t=kd(e))==="formdata"||t==="object"&&Xt(e.toString)&&e.toString()==="[object FormData]"))},$L=Xr("URLSearchParams"),[BL,UL,FL,zL]=["ReadableStream","Request","Response","Headers"].map(Xr),HL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),ki(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(cl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function uC(e,t){if(cl(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Wa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dC=e=>!ai(e)&&e!==Wa;function Lh(){const{caseless:e,skipUndefined:t}=dC(this)&&this||{},r={},n=(s,i)=>{const o=e&&uC(r,i)||i;Mc(r[o])&&Mc(s)?r[o]=Lh(r[o],s):Mc(s)?r[o]=Lh({},s):ki(s)?r[o]=s.slice():(!t||!ai(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&dl(arguments[s],n);return r}const WL=(e,t,r,{allOwnKeys:n}={})=>(dl(t,(s,i)=>{r&&Xt(s)?e[i]=iC(s,r):e[i]=s},{allOwnKeys:n}),e),qL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),GL=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},KL=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Dg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},VL=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},YL=e=>{if(!e)return null;if(ki(e))return e;let t=e.length;if(!cC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},XL=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dg(Uint8Array)),QL=(e,t)=>{const n=(e&&e[Sd]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},ZL=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},JL=Xr("HTMLFormElement"),e5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Sv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),t5=Xr("RegExp"),mC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};dl(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},r5=e=>{mC(e,(t,r)=>{if(Xt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Xt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},n5=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return ki(e)?n(e):n(String(e).split(t)),r},a5=()=>{},s5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function i5(e){return!!(e&&Xt(e.append)&&e[oC]==="FormData"&&e[Sd])}const o5=e=>{const t=new Array(10),r=(n,s)=>{if(ul(n)){if(t.indexOf(n)>=0)return;if(cl(n))return n;if(!("toJSON"in n)){t[s]=n;const i=ki(n)?[]:{};return dl(n,(o,l)=>{const c=r(o,s+1);!ai(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},l5=Xr("AsyncFunction"),c5=e=>e&&(ul(e)||Xt(e))&&Xt(e.then)&&Xt(e.catch),fC=((e,t)=>e?setImmediate:t?((r,n)=>(Wa.addEventListener("message",({source:s,data:i})=>{s===Wa&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Wa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xt(Wa.postMessage)),u5=typeof queueMicrotask<"u"?queueMicrotask.bind(Wa):typeof process<"u"&&process.nextTick||fC,d5=e=>e!=null&&Xt(e[Sd]),q={isArray:ki,isArrayBuffer:lC,isBuffer:cl,isFormData:RL,isArrayBufferView:AL,isString:PL,isNumber:cC,isBoolean:TL,isObject:ul,isPlainObject:Mc,isEmptyObject:OL,isReadableStream:BL,isRequest:UL,isResponse:FL,isHeaders:zL,isUndefined:ai,isDate:LL,isFile:DL,isBlob:ML,isRegExp:t5,isFunction:Xt,isStream:IL,isURLSearchParams:$L,isTypedArray:XL,isFileList:_L,forEach:dl,merge:Lh,extend:WL,trim:HL,stripBOM:qL,inherits:GL,toFlatObject:KL,kindOf:kd,kindOfTest:Xr,endsWith:VL,toArray:YL,forEachEntry:QL,matchAll:ZL,isHTMLForm:JL,hasOwnProperty:Sv,hasOwnProp:Sv,reduceDescriptors:mC,freezeMethods:r5,toObjectSet:n5,toCamelCase:e5,noop:a5,toFiniteNumber:s5,findKey:uC,global:Wa,isContextDefined:dC,isSpecCompliantForm:i5,toJSONObject:o5,isAsyncFn:l5,isThenable:c5,setImmediate:fC,asap:u5,isIterable:d5};function ce(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}q.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const hC=ce.prototype,pC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{pC[e]={value:e}});Object.defineProperties(ce,pC);Object.defineProperty(hC,"isAxiosError",{value:!0});ce.from=(e,t,r,n,s,i)=>{const o=Object.create(hC);q.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ce.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const m5=null;function Dh(e){return q.isPlainObject(e)||q.isArray(e)}function gC(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function kv(e,t,r){return e?e.concat(t).map(function(s,i){return s=gC(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function f5(e){return q.isArray(e)&&!e.some(Dh)}const h5=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function Ad(e,t,r){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!q.isUndefined(y[x])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(s))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(q.isDate(p))return p.toISOString();if(q.isBoolean(p))return p.toString();if(!c&&q.isBlob(p))throw new ce("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(p)||q.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,x,y){let v=p;if(p&&!y&&typeof p=="object"){if(q.endsWith(x,"{}"))x=n?x:x.slice(0,-2),p=JSON.stringify(p);else if(q.isArray(p)&&f5(p)||(q.isFileList(p)||q.endsWith(x,"[]"))&&(v=q.toArray(p)))return x=gC(x),v.forEach(function(j,w){!(q.isUndefined(j)||j===null)&&t.append(o===!0?kv([x],w,i):o===null?x:x+"[]",d(j))}),!1}return Dh(p)?!0:(t.append(kv(y,x,i),d(p)),!1)}const m=[],f=Object.assign(h5,{defaultVisitor:u,convertValue:d,isVisitable:Dh});function h(p,x){if(!q.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(p),q.forEach(p,function(v,b){(!(q.isUndefined(v)||v===null)&&s.call(t,v,q.isString(b)?b.trim():b,x,f))===!0&&h(v,x?x.concat(b):[b])}),m.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Ev(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Mg(e,t){this._pairs=[],e&&Ad(e,this,t)}const xC=Mg.prototype;xC.append=function(t,r){this._pairs.push([t,r])};xC.toString=function(t){const r=t?function(n){return t.call(this,n,Ev)}:Ev;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function p5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yC(e,t,r){if(!t)return e;const n=r&&r.encode||p5;q.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=q.isURLSearchParams(t)?t.toString():new Mg(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Av{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(n){n!==null&&t(n)})}}const vC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g5=typeof URLSearchParams<"u"?URLSearchParams:Mg,x5=typeof FormData<"u"?FormData:null,y5=typeof Blob<"u"?Blob:null,v5={isBrowser:!0,classes:{URLSearchParams:g5,FormData:x5,Blob:y5},protocols:["http","https","file","blob","url","data"]},_g=typeof window<"u"&&typeof document<"u",Mh=typeof navigator=="object"&&navigator||void 0,b5=_g&&(!Mh||["ReactNative","NativeScript","NS"].indexOf(Mh.product)<0),j5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w5=_g&&window.location.href||"http://localhost",N5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_g,hasStandardBrowserEnv:b5,hasStandardBrowserWebWorkerEnv:j5,navigator:Mh,origin:w5},Symbol.toStringTag,{value:"Module"})),St={...N5,...v5};function C5(e,t){return Ad(e,new St.classes.URLSearchParams,{visitor:function(r,n,s,i){return St.isNode&&q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function S5(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function k5(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function bC(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&q.isArray(s)?s.length:o,c?(q.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!q.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&q.isArray(s[o])&&(s[o]=k5(s[o])),!l)}if(q.isFormData(e)&&q.isFunction(e.entries)){const r={};return q.forEachEntry(e,(n,s)=>{t(S5(n),s,r,0)}),r}return null}function E5(e,t,r){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ml={transitional:vC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=q.isObject(t);if(i&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return s?JSON.stringify(bC(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t)||q.isReadableStream(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return C5(t,this.formSerializer).toString();if((l=q.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ad(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),E5(t)):t}],transformResponse:[function(t){const r=this.transitional||ml.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(q.isResponse(t)||q.isReadableStream(t))return t;if(t&&q.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ce.from(l,ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:St.classes.FormData,Blob:St.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{ml.headers[e]={}});const A5=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P5=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&A5[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Pv=Symbol("internals");function Vi(e){return e&&String(e).trim().toLowerCase()}function _c(e){return e===!1||e==null?e:q.isArray(e)?e.map(_c):String(e)}function T5(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const O5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function rf(e,t,r,n,s){if(q.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!q.isString(t)){if(q.isString(n))return t.indexOf(n)!==-1;if(q.isRegExp(n))return n.test(t)}}function L5(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function D5(e,t){const r=q.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Qt=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,d){const u=Vi(c);if(!u)throw new Error("header name must be a non-empty string");const m=q.findKey(s,u);(!m||s[m]===void 0||d===!0||d===void 0&&s[m]!==!1)&&(s[m||c]=_c(l))}const o=(l,c)=>q.forEach(l,(d,u)=>i(d,u,c));if(q.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(q.isString(t)&&(t=t.trim())&&!O5(t))o(P5(t),r);else if(q.isObject(t)&&q.isIterable(t)){let l={},c,d;for(const u of t){if(!q.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?q.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Vi(t),t){const n=q.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return T5(s);if(q.isFunction(r))return r.call(this,s,n);if(q.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Vi(t),t){const n=q.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||rf(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Vi(o),o){const l=q.findKey(n,o);l&&(!r||rf(n,n[l],l,r))&&(delete n[l],s=!0)}}return q.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||rf(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return q.forEach(this,(s,i)=>{const o=q.findKey(n,i);if(o){r[o]=_c(s),delete r[i];return}const l=t?L5(i):String(i).trim();l!==i&&delete r[i],r[l]=_c(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return q.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Pv]=this[Pv]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Vi(o);n[l]||(D5(s,o),n[l]=!0)}return q.isArray(t)?t.forEach(i):i(t),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(Qt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});q.freezeMethods(Qt);function nf(e,t){const r=this||ml,n=t||r,s=Qt.from(n.headers);let i=n.data;return q.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function jC(e){return!!(e&&e.__CANCEL__)}function Ei(e,t,r){ce.call(this,e??"canceled",ce.ERR_CANCELED,t,r),this.name="CanceledError"}q.inherits(Ei,ce,{__CANCEL__:!0});function wC(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ce("Request failed with status code "+r.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function M5(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _5(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[s]=c,n[s]=d;let m=i,f=0;for(;m!==s;)f+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<t)return;const h=u&&d-u;return h?Math.round(f*1e3/h):void 0}}function I5(e,t){let r=0,n=1e3/t,s,i;const o=(d,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-r;m>=n?o(d,u):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const pu=(e,t,r=3)=>{let n=0;const s=_5(50,250);return I5(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=s(c),u=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},Tv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ov=e=>(...t)=>q.asap(()=>e(...t)),R5=St.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,St.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(St.origin),St.navigator&&/(msie|trident)/i.test(St.navigator.userAgent)):()=>!0,$5=St.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];q.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),q.isString(n)&&o.push("path="+n),q.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function B5(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function U5(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function NC(e,t,r){let n=!B5(t);return e&&(n||r==!1)?U5(e,t):t}const Lv=e=>e instanceof Qt?{...e}:e;function cs(e,t){t=t||{};const r={};function n(d,u,m,f){return q.isPlainObject(d)&&q.isPlainObject(u)?q.merge.call({caseless:f},d,u):q.isPlainObject(u)?q.merge({},u):q.isArray(u)?u.slice():u}function s(d,u,m,f){if(q.isUndefined(u)){if(!q.isUndefined(d))return n(void 0,d,m,f)}else return n(d,u,m,f)}function i(d,u){if(!q.isUndefined(u))return n(void 0,u)}function o(d,u){if(q.isUndefined(u)){if(!q.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,m){if(m in t)return n(d,u);if(m in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,m)=>s(Lv(d),Lv(u),m,!0)};return q.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||s,f=m(e[u],t[u],u);q.isUndefined(f)&&m!==l||(r[u]=f)}),r}const CC=e=>{const t=cs({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Qt.from(o),t.url=yC(NC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),q.isFormData(r)){if(St.hasStandardBrowserEnv||St.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(q.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&o.set(u,m)})}}if(St.hasStandardBrowserEnv&&(n&&q.isFunction(n)&&(n=n(t)),n||n!==!1&&R5(t.url))){const c=s&&i&&$5.read(i);c&&o.set(s,c)}return t},F5=typeof XMLHttpRequest<"u",z5=F5&&function(e){return new Promise(function(r,n){const s=CC(e);let i=s.data;const o=Qt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=s,u,m,f,h,p;function x(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function v(){if(!y)return;const j=Qt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:j,config:e,request:y};wC(function(L){r(L),x()},function(L){n(L),x()},C),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(n(new ce("Request aborted",ce.ECONNABORTED,e,y)),y=null)},y.onerror=function(w){const C=w&&w.message?w.message:"Network Error",S=new ce(C,ce.ERR_NETWORK,e,y);S.event=w||null,n(S),y=null},y.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||vC;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new ce(w,C.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&q.forEach(o.toJSON(),function(w,C){y.setRequestHeader(C,w)}),q.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),d&&([f,p]=pu(d,!0),y.addEventListener("progress",f)),c&&y.upload&&([m,h]=pu(c),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(u=j=>{y&&(n(!j||j.type?new Ei(null,e,y):j),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const b=M5(s.url);if(b&&St.protocols.indexOf(b)===-1){n(new ce("Unsupported protocol "+b+":",ce.ERR_BAD_REQUEST,e));return}y.send(i||null)})},H5=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(d){if(!s){s=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof ce?u:new Ei(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new ce(`timeout ${t} of ms exceeded`,ce.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>q.asap(l),c}},W5=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},q5=async function*(e,t){for await(const r of G5(e))yield*W5(r,t)},G5=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Dv=(e,t,r,n)=>{const s=q5(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){l(),c.close();return}let m=u.byteLength;if(r){let f=i+=m;r(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Mv=64*1024,{isFunction:nc}=q,K5=(({Request:e,Response:t})=>({Request:e,Response:t}))(q.global),{ReadableStream:_v,TextEncoder:Iv}=q.global,Rv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},V5=e=>{e=q.merge.call({skipUndefined:!0},K5,e);const{fetch:t,Request:r,Response:n}=e,s=t?nc(t):typeof fetch=="function",i=nc(r),o=nc(n);if(!s)return!1;const l=s&&nc(_v),c=s&&(typeof Iv=="function"?(p=>x=>p.encode(x))(new Iv):async p=>new Uint8Array(await new r(p).arrayBuffer())),d=i&&l&&Rv(()=>{let p=!1;const x=new r(St.origin,{body:new _v,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),u=o&&l&&Rv(()=>q.isReadableStream(new n("").body)),m={stream:u&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!m[p]&&(m[p]=(x,y)=>{let v=x&&x[p];if(v)return v.call(x);throw new ce(`Response type '${p}' is not supported`,ce.ERR_NOT_SUPPORT,y)})});const f=async p=>{if(p==null)return 0;if(q.isBlob(p))return p.size;if(q.isSpecCompliantForm(p))return(await new r(St.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(q.isArrayBufferView(p)||q.isArrayBuffer(p))return p.byteLength;if(q.isURLSearchParams(p)&&(p=p+""),q.isString(p))return(await c(p)).byteLength},h=async(p,x)=>{const y=q.toFiniteNumber(p.getContentLength());return y??f(x)};return async p=>{let{url:x,method:y,data:v,signal:b,cancelToken:j,timeout:w,onDownloadProgress:C,onUploadProgress:S,responseType:L,headers:_,withCredentials:k="same-origin",fetchOptions:T}=CC(p),I=t||fetch;L=L?(L+"").toLowerCase():"text";let M=H5([b,j&&j.toAbortSignal()],w),z=null;const G=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let Z;try{if(S&&d&&y!=="get"&&y!=="head"&&(Z=await h(_,v))!==0){let B=new r(x,{method:"POST",body:v,duplex:"half"}),A;if(q.isFormData(v)&&(A=B.headers.get("content-type"))&&_.setContentType(A),B.body){const[P,N]=Tv(Z,pu(Ov(S)));v=Dv(B.body,Mv,P,N)}}q.isString(k)||(k=k?"include":"omit");const $=i&&"credentials"in r.prototype,E={...T,signal:M,method:y.toUpperCase(),headers:_.normalize().toJSON(),body:v,duplex:"half",credentials:$?k:void 0};z=i&&new r(x,E);let O=await(i?I(z,T):I(x,E));const R=u&&(L==="stream"||L==="response");if(u&&(C||R&&G)){const B={};["status","statusText","headers"].forEach(D=>{B[D]=O[D]});const A=q.toFiniteNumber(O.headers.get("content-length")),[P,N]=C&&Tv(A,pu(Ov(C),!0))||[];O=new n(Dv(O.body,Mv,P,()=>{N&&N(),G&&G()}),B)}L=L||"text";let U=await m[q.findKey(m,L)||"text"](O,p);return!R&&G&&G(),await new Promise((B,A)=>{wC(B,A,{data:U,headers:Qt.from(O.headers),status:O.status,statusText:O.statusText,config:p,request:z})})}catch($){throw G&&G(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,p,z),{cause:$.cause||$}):ce.from($,$&&$.code,p,z)}}},Y5=new Map,SC=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,d,u=Y5;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:V5(t)),u=d;return d};SC();const _h={http:m5,xhr:z5,fetch:{get:SC}};q.forEach(_h,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $v=e=>`- ${e}`,X5=e=>q.isFunction(e)||e===null||e===!1,kC={getAdapter:(e,t)=>{e=q.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!X5(n)&&(s=_h[(l=String(n)).toLowerCase()],s===void 0))throw new ce(`Unknown adapter '${l}'`);if(s&&(q.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map($v).join(`
`):" "+$v(o[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:_h};function af(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ei(null,e)}function Bv(e){return af(e),e.headers=Qt.from(e.headers),e.data=nf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),kC.getAdapter(e.adapter||ml.adapter,e)(e).then(function(n){return af(e),n.data=nf.call(e,e.transformResponse,n),n.headers=Qt.from(n.headers),n},function(n){return jC(n)||(af(e),n&&n.response&&(n.response.data=nf.call(e,e.transformResponse,n.response),n.response.headers=Qt.from(n.response.headers))),Promise.reject(n)})}const EC="1.12.2",Pd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Pd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Uv={};Pd.transitional=function(t,r,n){function s(i,o){return"[Axios v"+EC+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new ce(s(o," has been removed"+(r?" in "+r:"")),ce.ERR_DEPRECATED);return r&&!Uv[o]&&(Uv[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Pd.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Q5(e,t,r){if(typeof e!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ce("option "+i+" must be "+c,ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ce("Unknown option "+i,ce.ERR_BAD_OPTION)}}const Ic={assertOptions:Q5,validators:Pd},Jr=Ic.validators;let Qa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Av,response:new Av}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=cs(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Ic.assertOptions(n,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),s!=null&&(q.isFunction(s)?r.paramsSerializer={serialize:s}:Ic.assertOptions(s,{encode:Jr.function,serialize:Jr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ic.assertOptions(r,{baseUrl:Jr.spelling("baseURL"),withXsrfToken:Jr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&q.merge(i.common,i[r.method]);i&&q.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Qt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,m=0,f;if(!c){const p=[Bv.bind(this),void 0];for(p.unshift(...l),p.push(...d),f=p.length,u=Promise.resolve(r);m<f;)u=u.then(p[m++],p[m++]);return u}f=l.length;let h=r;for(;m<f;){const p=l[m++],x=l[m++];try{h=p(h)}catch(y){x.call(this,y);break}}try{u=Bv.call(this,h)}catch(p){return Promise.reject(p)}for(m=0,f=d.length;m<f;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=cs(this.defaults,t);const r=NC(t.baseURL,t.url,t.allowAbsoluteUrls);return yC(r,t.params,t.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(t){Qa.prototype[t]=function(r,n){return this.request(cs(n||{},{method:t,url:r,data:(n||{}).data}))}});q.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(cs(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Qa.prototype[t]=r(),Qa.prototype[t+"Form"]=r(!0)});let Z5=class AC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Ei(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new AC(function(s){t=s}),cancel:t}}};function J5(e){return function(r){return e.apply(null,r)}}function e4(e){return q.isObject(e)&&e.isAxiosError===!0}const Ih={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ih).forEach(([e,t])=>{Ih[t]=e});function PC(e){const t=new Qa(e),r=iC(Qa.prototype.request,t);return q.extend(r,Qa.prototype,t,{allOwnKeys:!0}),q.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return PC(cs(e,s))},r}const Ve=PC(ml);Ve.Axios=Qa;Ve.CanceledError=Ei;Ve.CancelToken=Z5;Ve.isCancel=jC;Ve.VERSION=EC;Ve.toFormData=Ad;Ve.AxiosError=ce;Ve.Cancel=Ve.CanceledError;Ve.all=function(t){return Promise.all(t)};Ve.spread=J5;Ve.isAxiosError=e4;Ve.mergeConfig=cs;Ve.AxiosHeaders=Qt;Ve.formToJSON=e=>bC(q.isHTMLForm(e)?new FormData(e):e);Ve.getAdapter=kC.getAdapter;Ve.HttpStatusCode=Ih;Ve.default=Ve;const{Axios:Eq,AxiosError:Aq,CanceledError:Pq,isCancel:Tq,CancelToken:Oq,VERSION:Lq,all:Dq,Cancel:Mq,isAxiosError:_q,spread:Iq,toFormData:Rq,AxiosHeaders:$q,HttpStatusCode:Bq,formToJSON:Uq,getAdapter:Fq,mergeConfig:zq}=Ve,TC="production",sf="http://localhost:5001",t4="https://backend-f5swho0xm-chuck-ferrells-projects.vercel.app";let si=t4;try{typeof window<"u"&&window.location.hostname==="localhost"&&si!==sf&&(console.warn("TCC_WARN: Localhost detected but API_BASE_URL is not local. For safety using",sf),si=sf)}catch{}console.log("TCC_DEBUG: API_BASE_URL is set to:",si,"ENV:",TC);const Y=Ve.create({baseURL:si,withCredentials:!0,headers:{"Content-Type":"application/json"}});Y.interceptors.request.use(e=>{var r;const t=localStorage.getItem("token");console.log("TCC_DEBUG: API request interceptor - token present:",!!t),console.log("TCC_DEBUG: API request interceptor - token value:",t?t.substring(0,20)+"...":"none"),t&&(e.headers.Authorization=`Bearer ${t}`,console.log("TCC_DEBUG: API request interceptor - Authorization header set:",e.headers.Authorization?"YES":"NO"));try{const n=new URL(si).origin,s=typeof window<"u"?window.location.origin:n,i=n===s;!(e.url||"").toString().startsWith("/api/auth/")&&i?e.headers["X-TCC-Env"]=TC:e.headers["X-TCC-Env"]&&delete e.headers["X-TCC-Env"]}catch{}try{const n=(e.baseURL||"")+(e.url||"");(n.includes("/api/tcc/agencies")||n.includes("/api/tcc/analytics")||n.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API request ",(r=e.method)==null?void 0:r.toUpperCase(),n,"params:",e.params,"data:",e.data)}catch{}return e});Y.interceptors.response.use(e=>{var t,r;try{const n=((t=e.config)==null?void 0:t.baseURL)+(((r=e.config)==null?void 0:r.url)||"");(n!=null&&n.includes("/api/tcc/agencies")||n.includes("/api/tcc/analytics")||n.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API response ",e.status,n,"data:",e.data)}catch{}return e},e=>{var t,r,n,s,i,o,l;try{const c=(((r=(t=e.response)==null?void 0:t.config)==null?void 0:r.baseURL)||"")+(((s=(n=e.response)==null?void 0:n.config)==null?void 0:s.url)||"");(c.includes("/api/tcc/agencies")||c.includes("/api/tcc/analytics")||c.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API error ",(i=e.response)==null?void 0:i.status,c,"data:",(o=e.response)==null?void 0:o.data)}catch{}return((l=e.response)==null?void 0:l.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const ii={login:e=>(console.log("TCC_DEBUG: API login called with URL:",si+"/api/auth/login"),console.log("TCC_DEBUG: API login called with credentials:",e),Y.post("/api/auth/login",e)),logout:()=>Y.post("/api/auth/logout"),verify:()=>Y.get("/api/auth/verify"),register:e=>Y.post("/api/auth/register",e),healthcareRegister:e=>Y.post("/api/auth/healthcare/register",e),emsRegister:e=>Y.post("/api/auth/ems/register",e),healthcareLogin:e=>Y.post("/api/auth/healthcare/login",e),emsLogin:e=>Y.post("/api/auth/ems/login",e),getUsers:()=>Y.get("/api/auth/users")},OC={getOverview:()=>Y.get("/api/tcc/analytics/overview"),getTrips:()=>Y.get("/api/tcc/analytics/trips"),getCostAnalysis:e=>Y.get("/api/tcc/analytics/cost-analysis",{params:e}),getProfitability:e=>Y.get("/api/tcc/analytics/profitability",{params:e}),getCostBreakdowns:e=>Y.get("/api/tcc/analytics/cost-breakdowns",{params:e})},gu={getOverview:()=>Y.get("/api/tcc/analytics/overview"),getTrips:()=>Y.get("/api/tcc/analytics/trips"),getCostAnalysis:e=>Y.get("/api/tcc/analytics/cost-analysis",{params:e}),getProfitability:e=>Y.get("/api/tcc/analytics/profitability",{params:e})},ja={getAll:e=>Y.get("/api/trips",{params:e}),create:e=>Y.post("/api/trips",e),createEnhanced:e=>Y.post("/api/trips/with-responses",e),update:(e,t)=>Y.put(`/api/trips/${e}`,t),delete:e=>Y.delete(`/api/trips/${e}`),updateStatus:(e,t)=>Y.put(`/api/trips/${e}/status`,t),getOptions:{diagnosis:()=>Y.get("/api/trips/options/diagnosis"),mobility:()=>Y.get("/api/trips/options/mobility"),transportLevel:()=>Y.get("/api/trips/options/transport-level"),urgency:()=>Y.get("/api/trips/options/urgency"),insurance:()=>Y.get("/api/trips/options/insurance")},getAgenciesForHospital:(e,t)=>Y.get(`/api/trips/agencies/${encodeURIComponent(e)}`,{params:{radius:t}})},Ig={getOnDuty:()=>Y.get("/api/units/on-duty"),getAll:()=>Y.get("/api/units"),getById:e=>Y.get(`/api/units/${e}`)},Rc={getAll:e=>Y.get("/api/tcc/agencies",{params:e}),create:e=>Y.post("/api/tcc/agencies",e),update:(e,t)=>Y.put(`/api/tcc/agencies/${e}`,t),delete:e=>Y.delete(`/api/tcc/agencies/${e}`)},LC={getAll:e=>Y.get("/api/tcc/facilities",{params:e}),create:e=>Y.post("/api/tcc/facilities",e),update:(e,t)=>Y.put(`/api/tcc/facilities/${e}`,t),delete:e=>Y.delete(`/api/tcc/facilities/${e}`)},ar={getCategories:()=>Y.get("/api/dropdown-options"),getByCategory:e=>Y.get(`/api/dropdown-options/${encodeURIComponent(e)}`),getDefault:e=>Y.get(`/api/dropdown-options/${encodeURIComponent(e)}/default`),setDefault:(e,t)=>Y.post(`/api/dropdown-options/${encodeURIComponent(e)}/default`,{optionId:t}),create:e=>Y.post("/api/dropdown-options",e),update:(e,t)=>Y.put(`/api/dropdown-options/${e}`,t),delete:e=>Y.delete(`/api/dropdown-options/${e}`)},$c=Object.freeze(Object.defineProperty({__proto__:null,agenciesAPI:Rc,analyticsAPI:gu,authAPI:ii,default:Y,dropdownOptionsAPI:ar,facilitiesAPI:LC,tccAnalyticsAPI:OC,tripsAPI:ja,unitsAPI:Ig},Symbol.toStringTag,{value:"Module"})),r4=({onLogin:e,onBack:t})=>{const[r,n]=g.useState({email:"",password:""}),[s,i]=g.useState(!1),[o,l]=g.useState(""),c=async u=>{var m,f,h,p;u.preventDefault(),i(!0),l("");try{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("TCC_DEBUG: Attempting login with:",r);const x=await ii.login(r);console.log("TCC_DEBUG: Login response:",x.data),x.data.success?(console.log("TCC_DEBUG: Login successful, calling onLogin"),e(x.data.user,x.data.token)):(console.log("TCC_DEBUG: Login failed:",x.data.error),l(x.data.error||"Login failed"))}catch(x){console.log("TCC_DEBUG: Login error:",x),console.log("TCC_DEBUG: Error response:",x.response),console.log("TCC_DEBUG: Error status:",(m=x.response)==null?void 0:m.status),console.log("TCC_DEBUG: Error data:",(f=x.response)==null?void 0:f.data),l(((p=(h=x.response)==null?void 0:h.data)==null?void 0:p.error)||"Login failed")}finally{i(!1)}},d=u=>{n(m=>({...m,[u.target.name]:u.target.value}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100",children:a.jsx("svg",{className:"h-8 w-8 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"TCC Admin Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Transport Control Center"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r.email,onChange:d})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r.password,onChange:d})]})]}),o&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsx("div",{className:"text-sm text-red-700",children:o})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})}),t&&a.jsx("div",{className:"text-center",children:a.jsxs("button",{type:"button",onClick:t,className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[a.jsx(Ni,{className:"h-4 w-4 mr-1"}),"Back to Login Options"]})})]})]})})},Rg=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[s,i]=g.useState(!1);g.useEffect(()=>{o()},[]);const o=async()=>{i(!0);try{const f=(await Y.get("/api/notifications")).data;if(f!=null&&f.success&&Array.isArray(f.data)){const h=f.data.map(p=>({id:p.id,type:p.type||"info",title:p.title||"Notification",message:p.message||"",timestamp:new Date(p.createdAt||Date.now()),read:!!p.isRead||!!p.read}));t(h)}}catch(m){console.error("Error loading notifications:",m)}finally{i(!1)}},l=async m=>{try{(await Y.put(`/api/notifications/${m}/read`)).status===200&&t(h=>h.map(p=>p.id===m?{...p,read:!0}:p))}catch(f){console.error("Error marking notification as read:",f)}},c=async()=>{try{(await Y.put("/api/notifications/read-all")).status===200&&t(f=>f.map(h=>({...h,read:!0})))}catch(m){console.error("Error marking all notifications as read:",m)}},d=m=>{switch(m){case"success":return a.jsx($e,{className:"h-5 w-5 text-green-500"});case"error":return a.jsx(Lt,{className:"h-5 w-5 text-red-500"});case"warning":return a.jsx(Lt,{className:"h-5 w-5 text-yellow-500"});default:return a.jsx(SL,{className:"h-5 w-5 text-blue-500"})}},u=e.filter(m=>!m.read).length;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>n(!r),className:"p-2 text-gray-400 hover:text-gray-600 relative",children:[a.jsx(fu,{className:"h-5 w-5"}),u>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u})]}),r&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"}),a.jsxs("div",{className:"flex space-x-2",children:[u>0&&a.jsx("button",{onClick:c,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"}),a.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Yt,{className:"h-4 w-4"})})]})]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:s?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}):e.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):e.map(m=>a.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${m.read?"":"bg-blue-50"}`,onClick:()=>l(m.id),children:a.jsxs("div",{className:"flex items-start space-x-3",children:[d(m.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:m.timestamp.toLocaleString()})]}),!m.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]})},m.id))}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsx("button",{onClick:o,className:"w-full text-sm text-blue-600 hover:text-blue-800",children:"Refresh"})})]})]})},n4=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(!0),[s,i]=g.useState(""),[o,l]=g.useState([]),[c,d]=g.useState(!0);if(g.useEffect(()=>{(async()=>{var h,p;try{const x=await gu.getOverview();t(x.data.data)}catch(x){i(((p=(h=x.response)==null?void 0:h.data)==null?void 0:p.error)||"Failed to load overview")}finally{n(!1)}})(),(async()=>{const h=[{path:"/api/tcc/analytics/overview",label:"Analytics Overview"},{path:"/api/tcc/agencies",label:"Agencies"},{path:"/api/dropdown-options",label:"Dropdown Categories"},{path:"/api/tcc/hospitals",label:"Hospitals"}],p=[];await Promise.all(h.map(async x=>{var y,v;try{const b=await Y.get(x.path);(b.status!==200||((y=b.data)==null?void 0:y.success)===!1)&&p.push(`${x.label}: ${b.status}`)}catch(b){const j=((v=b==null?void 0:b.response)==null?void 0:v.status)||"ERR";p.push(`${x.label}: ${j}`)}})),l(p)})()},[]),r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(s)return a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"text-red-800",children:s})});const u=[{name:"Total Healthcare Facilities",value:(e==null?void 0:e.totalHospitals)||0,active:(e==null?void 0:e.activeHospitals)||0,icon:Rt,color:"bg-blue-500"},{name:"EMS Agencies",value:(e==null?void 0:e.totalAgencies)||0,active:(e==null?void 0:e.activeAgencies)||0,icon:Me,color:"bg-green-500"},{name:"Facilities",value:(e==null?void 0:e.totalFacilities)||0,active:(e==null?void 0:e.activeFacilities)||0,icon:dt,color:"bg-purple-500"},{name:"EMS Units",value:(e==null?void 0:e.totalUnits)||0,active:(e==null?void 0:e.activeUnits)||0,icon:os,color:"bg-orange-500"}];return a.jsxs("div",{children:[c&&o.length>0&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-800 p-4 rounded",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Feed warnings detected"}),a.jsx("ul",{className:"list-disc ml-5 mt-1 text-sm",children:o.map((m,f)=>a.jsx("li",{children:m},f))})]}),a.jsx("button",{onClick:()=>d(!1),className:"text-sm underline",children:"Dismiss"})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Overview"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor the status of hospitals, EMS agencies, and facilities in the system."})]}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:u.map(m=>a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`p-3 rounded-md ${m.color}`,children:a.jsx(m.icon,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:m.name}),a.jsxs("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:m.value}),a.jsxs("div",{className:"ml-2 text-sm text-gray-500",children:["(",m.active," active)"]})]})]})})]})})},m.name))}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("a",{href:"/dashboard/trips",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:a.jsx(Me,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Trips"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"View, manage, and monitor all transport requests."})]})]}),a.jsxs("a",{href:"/dashboard/hospitals",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:a.jsx(Rt,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Healthcare Facilities"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Add, edit, or remove healthcare facilities from the system."})]})]}),a.jsxs("a",{href:"/dashboard/agencies",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:a.jsx(Me,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage EMS Agencies"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Add, edit, or remove EMS agencies and their units."})]})]})]})]})]})},a4=({trip:e,user:t})=>{const[r,n]=g.useState(!1),[s,i]=g.useState([]);g.useEffect(()=>{i((()=>{const f=[];return e.createdAt&&f.push({event:"Trip Created",timestamp:e.createdAt,description:""}),e.requestTimestamp&&f.push({event:"Request Sent",timestamp:e.requestTimestamp,description:""}),e.transferRequestTime&&f.push({event:"Transfer Requested",timestamp:e.transferRequestTime,description:""}),e.acceptedTimestamp&&f.push({event:"Accepted by EMS",timestamp:e.acceptedTimestamp,description:""}),e.emsArrivalTime&&f.push({event:"EMS Arrived",timestamp:e.emsArrivalTime,description:""}),e.pickupTimestamp&&f.push({event:"Patient Picked Up",timestamp:e.pickupTimestamp,description:""}),e.actualStartTime&&f.push({event:"Trip Started",timestamp:e.actualStartTime,description:""}),e.actualEndTime&&f.push({event:"Trip Ended",timestamp:e.actualEndTime,description:""}),e.completionTimestamp&&f.push({event:"Trip Completed",timestamp:e.completionTimestamp,description:""}),f.sort((h,p)=>new Date(h.timestamp).getTime()-new Date(p.timestamp).getTime())})())},[e]);const o=m=>new Date(m).toLocaleString(),l=m=>{console.log("Edit trip:",m.id)},c=m=>{window.confirm(`Are you sure you want to delete trip ${m.tripNumber}?`)&&console.log("Delete trip:",m.id)},d=m=>{switch(m){case"EMERGENT":return"bg-red-100 text-red-800";case"URGENT":return"bg-orange-100 text-orange-800";case"ROUTINE":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},u=m=>{switch(m){case"CRITICAL":return"EMERGENT";case"HIGH":return"URGENT";case"MEDIUM":case"LOW":return"ROUTINE";default:return m}};return a.jsxs("div",{className:"bg-white shadow rounded-lg border",children:[a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[a.jsx("div",{children:"PATIENT"}),a.jsx("div",{children:"ROUTE"}),a.jsx("div",{children:"PICKUP LOCATION"}),a.jsx("div",{children:"PRIORITY"}),a.jsx("div",{children:"ACTIONS"})]})}),a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:e.patientId}),a.jsx("div",{className:"text-sm text-gray-500",children:o(e.scheduledTime)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:e.fromLocation}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(aC,{className:"w-3 h-3 mr-1"}),e.toLocation]})]}),a.jsx("div",{children:e.pickupLocation?a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:e.pickupLocation.name}),e.pickupLocation.floor&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Floor: ",e.pickupLocation.floor]}),e.pickupLocation.room&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Room: ",e.pickupLocation.room]}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Contact:"})]}),a.jsx("div",{className:"text-blue-600",children:e.pickupLocation.contactPhone}),a.jsx("div",{className:"text-blue-600",children:e.pickupLocation.contactEmail})]})]}):a.jsx("span",{className:"text-gray-400 italic",children:"No specific location"})}),a.jsx("div",{children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d(u(e.priority))}`,children:u(e.priority)})}),a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-green-700",children:"Accept"}),a.jsx("button",{className:"bg-red-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-red-700",children:"Decline"})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>l(e),className:"bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-blue-700",children:"Edit"}),a.jsx("button",{onClick:()=>c(e),className:"bg-gray-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-gray-700",children:"Delete"})]})]})]})}),a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:["Level: ",e.transportLevel]}),a.jsxs("div",{children:["Distance: ",e.distanceMiles?`${e.distanceMiles} miles`:"N/A"]}),a.jsxs("div",{children:["Time: ",e.estimatedTripTimeMinutes?`${e.estimatedTripTimeMinutes} minutes`:"N/A"]}),a.jsxs("div",{children:["Revenue: ",e.tripCost?`$${Number(e.tripCost).toFixed(2)}`:"N/A"]})]})}),s.length>0&&a.jsxs("div",{className:"border-t",children:[a.jsxs("button",{onClick:()=>n(!r),className:"w-full px-6 py-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center justify-between",children:[a.jsxs("span",{children:["Trip Timeline (",s.length," events)"]}),r?a.jsx(jo,{className:"w-4 h-4"}):a.jsx(bo,{className:"w-4 h-4"})]}),r&&a.jsx("div",{className:"px-6 pb-4 bg-gray-50",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((m,f)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mr-3"}),a.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.event}),a.jsx("p",{className:"text-xs text-gray-400",children:o(m.timestamp)})]})]},f))})})]})]})},s4=({user:e})=>{const t=jd(),[r,n]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState(!0),[c,d]=g.useState(""),[u,m]=g.useState(new Date),[f,h]=g.useState(""),[p,x]=g.useState("ALL"),[y,v]=g.useState("ALL"),[b,j]=g.useState("ALL"),[w,C]=g.useState("ALL"),[S,L]=g.useState("ALL"),[_,k]=g.useState(!1),[T,I]=g.useState(null),[M,z]=g.useState(!1),[G,Z]=g.useState("createdAt"),[$,E]=g.useState("desc"),O=async()=>{var P,N;try{l(!0);const D=await ja.getAll();D.data.success?(n(D.data.data),i(D.data.data),m(new Date)):d(D.data.error||"Failed to fetch trips")}catch(D){d(((N=(P=D.response)==null?void 0:P.data)==null?void 0:N.error)||"Failed to fetch trips")}finally{l(!1)}};g.useEffect(()=>{O()},[]),g.useEffect(()=>{const P=setInterval(O,3e4);return()=>clearInterval(P)},[]),g.useEffect(()=>{let P=[...r];if(f){const N=f.toLowerCase();P=P.filter(D=>{var W;return D.tripNumber.toLowerCase().includes(N)||D.patientId.toLowerCase().includes(N)||D.fromLocation.toLowerCase().includes(N)||D.toLocation.toLowerCase().includes(N)||(((W=D.assignedAgency)==null?void 0:W.name)||"").toLowerCase().includes(N)})}if(p!=="ALL"&&(P=P.filter(N=>N.status===p)),y!=="ALL"&&(P=P.filter(N=>N.priority===y)),b!=="ALL"&&(P=P.filter(N=>N.transportLevel===b)),w!=="ALL"){const N=new Date,D=new Date;switch(w){case"24H":D.setHours(N.getHours()-24);break;case"7D":D.setDate(N.getDate()-7);break;case"30D":D.setDate(N.getDate()-30);break}w!=="ALL"&&(P=P.filter(W=>new Date(W.createdAt)>=D))}e.userType!=="ADMIN"&&e.facilityName&&(P=P.filter(N=>N.fromLocation.toLowerCase().includes(e.facilityName.toLowerCase()))),P.sort((N,D)=>{const W=N[G],X=D[G];return W<X?$==="asc"?-1:1:W>X?$==="asc"?1:-1:0}),i(P)},[r,f,p,y,b,w,S,G,$,e]);const R=P=>{const N={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:Sr},ACCEPTED:{color:"bg-blue-100 text-blue-800",icon:$e},DECLINED:{color:"bg-orange-100 text-orange-800",icon:Yt},IN_PROGRESS:{color:"bg-purple-100 text-purple-800",icon:Me},COMPLETED:{color:"bg-green-100 text-green-800",icon:$e},CANCELLED:{color:"bg-red-100 text-red-800",icon:Yt}},D=N[P]||N.PENDING,W=D.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.color}`,children:[a.jsx(W,{className:"w-3 h-3 mr-1"}),P.replace("_"," ")]})},U=P=>{const N={LOW:{color:"bg-gray-100 text-gray-800"},MEDIUM:{color:"bg-yellow-100 text-yellow-800"},HIGH:{color:"bg-orange-100 text-orange-800"},CRITICAL:{color:"bg-red-100 text-red-800"}},D=N[P]||N.LOW;return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.color}`,children:P})},B=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),A=()=>{const P=["Trip Number","Patient ID","From Location","Pickup Location","Pickup Floor","Pickup Room","Pickup Contact","To Location","Status","Priority","Transport Level","Scheduled Time","Assigned Agency","Created At"],N=s.map(F=>{var ee,ne,K,We,ue,le;return[F.tripNumber,F.patientId,F.fromLocation,((ee=F.pickupLocation)==null?void 0:ee.name)||"N/A",((ne=F.pickupLocation)==null?void 0:ne.floor)||"N/A",((K=F.pickupLocation)==null?void 0:K.room)||"N/A",((We=F.pickupLocation)==null?void 0:We.contactPhone)||((ue=F.pickupLocation)==null?void 0:ue.contactEmail)||"N/A",F.toLocation,F.status,F.priority,F.transportLevel,B(F.scheduledTime),((le=F.assignedAgency)==null?void 0:le.name)||"Unassigned",B(F.createdAt)]}),D=[P,...N].map(F=>F.map(ee=>`"${ee}"`).join(",")).join(`
`),W=new Blob([D],{type:"text/csv"}),X=window.URL.createObjectURL(W),J=document.createElement("a");J.href=X,J.download=`trips-${new Date().toISOString().split("T")[0]}.csv`,J.click(),window.URL.revokeObjectURL(X)};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trip Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and monitor all transport requests"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:O,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(zr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:A,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(On,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3",children:[a.jsx("button",{onClick:()=>t("/dashboard/trips/create"),className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(Me,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Create Trip"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"New Transport Request"})]})})]})})}),a.jsx("button",{onClick:()=>window.location.href="/dashboard/units",className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx(Me,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Units"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"Manage Units"})]})})]})})}),a.jsx("button",{onClick:()=>window.location.href="/dashboard/route-optimization",className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-purple-500",children:a.jsx(dt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Route Optimization"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"Optimize Routes"})]})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx(Me,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(Sr,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(P=>P.status==="PENDING").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-purple-500",children:a.jsx(Me,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"In Progress"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(P=>P.status==="IN_PROGRESS").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx($e,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(P=>P.status==="COMPLETED").length})]})})]})})})]}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Filters"}),a.jsxs("button",{onClick:()=>k(!_),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(wd,{className:"w-4 h-4 mr-2"}),_?"Hide Filters":"Show Filters",_?a.jsx(jo,{className:"w-4 h-4 ml-2"}):a.jsx(bo,{className:"w-4 h-4 ml-2"})]})]}),_&&a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Cd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:f,onChange:P=>h(P.target.value),className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search trips..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{value:p,onChange:P=>x(P.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Statuses"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"ACCEPTED",children:"Accepted"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),a.jsxs("select",{value:y,onChange:P=>v(P.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Priorities"}),a.jsx("option",{value:"LOW",children:"Low"}),a.jsx("option",{value:"MEDIUM",children:"Medium"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"CRITICAL",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport Level"}),a.jsxs("select",{value:b,onChange:P=>j(P.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Levels"}),a.jsx("option",{value:"BLS",children:"BLS"}),a.jsx("option",{value:"ALS",children:"ALS"}),a.jsx("option",{value:"CCT",children:"CCT"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date Range"}),a.jsxs("select",{value:w,onChange:P=>C(P.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Time"}),a.jsx("option",{value:"24H",children:"Last 24 Hours"}),a.jsx("option",{value:"7D",children:"Last 7 Days"}),a.jsx("option",{value:"30D",children:"Last 30 Days"})]})]}),e.userType==="ADMIN"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hospital"}),a.jsx("select",{value:S,onChange:P=>L(P.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:a.jsx("option",{value:"ALL",children:"All Hospitals"})})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:s.length})," of"," ",a.jsx("span",{className:"font-medium",children:r.length})," trips"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",u.toLocaleTimeString()]})]}),a.jsxs("div",{className:"space-y-4",children:[s.map(P=>a.jsx(a4,{trip:P,user:e},P.id)),s.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Me,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No trips found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:f||p!=="ALL"||y!=="ALL"||b!=="ALL"||w!=="ALL"?"Try adjusting your filters to see more results.":"No trips have been created yet."})]})]}),M&&T&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>z(!1)}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Trip Details - ",T.tripNumber]}),a.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Yt,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Patient ID"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.patientId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("div",{className:"mt-1",children:R(T.status)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),a.jsx("div",{className:"mt-1",children:U(T.priority)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport Level"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.transportLevel})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Location"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.fromLocation})]}),T.pickupLocation&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pickup Location"}),a.jsxs("div",{className:"mt-1 p-3 bg-blue-50 rounded-md",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.pickupLocation.name}),T.pickupLocation.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.pickupLocation.description}),a.jsxs("div",{className:"mt-2 space-y-1",children:[T.pickupLocation.floor&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Floor:"})," ",T.pickupLocation.floor]}),T.pickupLocation.room&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Room:"})," ",T.pickupLocation.room]}),T.pickupLocation.contactPhone&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",T.pickupLocation.contactPhone]}),T.pickupLocation.contactEmail&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",T.pickupLocation.contactEmail]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Location"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.toLocation})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scheduled Time"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:B(T.scheduledTime)})]}),T.assignedAgency&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Agency"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.assignedAgency.name})]}),T.diagnosis&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Diagnosis"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.diagnosis})]}),T.mobilityLevel&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobility Level"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.mobilityLevel})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Oxygen Required"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.oxygenRequired?"Yes":"No"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monitoring Required"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.monitoringRequired?"Yes":"No"})]})]})]})]}),a.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:a.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>z(!1),children:"Close"})})]})]})})]})},i4=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(null);g.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const k=await Y.get("/api/tcc/hospitals");t(k.data.data||[])}catch(k){i(k.message),console.error("Error fetching hospitals:",k)}finally{n(!1)}},l=async k=>{try{const T=await Y.put(`/api/tcc/hospitals/${k}/approve`);console.log("Hospital approved:",T.data),await o()}catch(T){console.error("Error approving hospital:",T),i("Failed to approve hospital")}},c=async k=>{try{const T=await Y.put(`/api/tcc/hospitals/${k}/reject`);console.log("Hospital rejected:",T.data),await o()}catch(T){console.error("Error rejecting hospital:",T),i("Failed to reject hospital")}},[d,u]=g.useState(null),[m,f]=g.useState({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",type:"",capabilities:[],region:"",latitude:"",longitude:""}),[h,p]=g.useState(!1),[x,y]=g.useState(null),[v,b]=g.useState(!1),j=k=>{var I,M;const T=e.find(z=>z.id===k);T&&(u(T),f({name:T.name,address:T.address,city:T.city,state:T.state,zipCode:T.zipCode,phone:T.phone||"",email:T.email||"",type:T.type,capabilities:T.capabilities,region:T.region,latitude:((I=T.latitude)==null?void 0:I.toString())||"",longitude:((M=T.longitude)==null?void 0:M.toString())||""}),y(null))},w=k=>{const{name:T,value:I}=k.target;f(M=>({...M,[T]:I}))},C=async()=>{if(!m.address||!m.city||!m.state||!m.zipCode){y("Please fill in address, city, state, and ZIP code before looking up coordinates");return}b(!0),y(null);try{const k=`${m.address}, ${m.city}, ${m.state} ${m.zipCode}`,T=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(k)}&limit=1`);if(!T.ok)throw new Error("Geocoding service unavailable");const I=await T.json();if(I&&I.length>0){const M=I[0];f(z=>({...z,latitude:M.lat,longitude:M.lon})),y(null)}else y("Address not found. Please enter coordinates manually.")}catch(k){console.error("Geocoding error:",k),y("Failed to lookup coordinates. Please enter them manually.")}finally{b(!1)}},S=async k=>{if(k.preventDefault(),!!d){p(!0),y(null);try{const T=await Y.put(`/api/tcc/hospitals/${d.id}`,m);await o(),u(null)}catch(T){console.error("Error updating hospital:",T),y(T.message||"Failed to update hospital")}finally{p(!1)}}},L=()=>{u(null),y(null)},_=async k=>{if(window.confirm("Are you sure you want to delete this hospital? This action cannot be undone."))try{const T=await Y.delete(`/api/tcc/hospitals/${k}`);console.log("Hospital deleted:",T.data),await o()}catch(T){console.error("Error deleting hospital:",T),i("Failed to delete hospital")}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading hospitals..."})]})}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(lr,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading hospitals"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:s})]})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Healthcare Facilities"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Manage healthcare facilities in the system. ",e.length," facilities found."]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Healthcare Facilities List"}),a.jsxs("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/?register=healthcare"},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Add Healthcare Facility"]})]})}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Rt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hospitals found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new hospital."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facility"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),a.jsx("div",{className:"text-sm text-gray-500",children:k.email})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[k.city,", ",k.state," ",k.zipCode]}),a.jsx("div",{className:"text-sm text-gray-500",children:k.address})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:k.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[k.isActive?a.jsx($e,{className:"h-4 w-4 text-green-500 mr-1"}):k.requiresReview?a.jsx(Sr,{className:"h-4 w-4 text-yellow-500 mr-1"}):a.jsx(lr,{className:"h-4 w-4 text-red-500 mr-1"}),a.jsx("span",{className:`text-sm font-medium ${k.isActive?"text-green-800":k.requiresReview?"text-yellow-800":"text-red-800"}`,children:k.isActive?"Active":k.requiresReview?"Pending Review":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[k.requiresReview&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>l(k.id),className:"text-green-600 hover:text-green-900",children:"Approve"}),a.jsx("button",{onClick:()=>c(k.id),className:"text-red-600 hover:text-red-900",children:"Reject"})]}),a.jsx("button",{onClick:()=>j(k.id),className:"text-blue-600 hover:text-blue-900",title:"Edit hospital",children:a.jsx(Ci,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>_(k.id),className:"text-red-600 hover:text-red-900",title:"Delete hospital",children:a.jsx(Si,{className:"h-4 w-4"})})]})})]},k.id))})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Healthcare Facility"}),a.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600",children:a.jsx(lr,{className:"h-6 w-6"})})]}),x&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(lr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:x})})]})}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Facility Name *"}),a.jsx("input",{type:"text",name:"name",value:m.name,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address *"}),a.jsx("input",{type:"text",name:"address",value:m.address,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City *"}),a.jsx("input",{type:"text",name:"city",value:m.city,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State *"}),a.jsx("input",{type:"text",name:"state",value:m.state,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zip Code *"}),a.jsx("input",{type:"text",name:"zipCode",value:m.zipCode,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:m.email,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type *"}),a.jsxs("select",{name:"type",value:m.type,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select type"}),a.jsx("option",{value:"Hospital",children:"Hospital"}),a.jsx("option",{value:"Clinic",children:"Clinic"}),a.jsx("option",{value:"Urgent Care",children:"Urgent Care"}),a.jsx("option",{value:"Rehabilitation Facility",children:"Rehabilitation Facility"}),a.jsx("option",{value:"Doctor's Office",children:"Doctor's Office"}),a.jsx("option",{value:"Dialysis Center",children:"Dialysis Center"}),a.jsx("option",{value:"Nursing Home",children:"Nursing Home"}),a.jsx("option",{value:"Assisted Living",children:"Assisted Living"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Region *"}),a.jsx("input",{type:"text",name:"region",value:m.region,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Rt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for agency distance calculations. You can either lookup coordinates automatically or enter them manually."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:C,disabled:v||!m.address||!m.city||!m.state||!m.zipCode,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from the address"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",name:"latitude",value:m.latitude,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",name:"longitude",value:m.longitude,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., -78.5678"})]})]}),m.latitude&&m.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:[" Coordinates set: ",m.latitude,", ",m.longitude]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:h?"Updating...":"Update Facility"})]})]})]})})})]})},o4=()=>{console.log("TCC_DEBUG: Agencies component mounted/rendered");const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(null),[o,l]=g.useState(""),[c,d]=g.useState("all"),[u,m]=g.useState(null),[f,h]=g.useState({name:"",contactName:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",serviceType:"BLS/ALS"}),[p,x]=g.useState(!1),[y,v]=g.useState(null);g.useEffect(()=>{console.log("TCC_DEBUG: Agencies.useEffect() initial load"),b()},[]);const b=async()=>{try{n(!0),console.log("TCC_DEBUG: Agencies.loadAgencies(): calling agenciesAPI.getAll");const k=await Rc.getAll();if(console.log("TCC_DEBUG: Agencies.loadAgencies(): response status",k.status),console.log("TCC_DEBUG: Agencies.loadAgencies(): response data",k.data),k.data.success){const T=k.data.data.map(I=>{var M,z,G,Z,$,E,O,R,U,B,A,P;return{...I,contactName:((M=I.contactInfo)==null?void 0:M.contactName)||"N/A",phone:((z=I.contactInfo)==null?void 0:z.phone)||"N/A",email:((G=I.contactInfo)==null?void 0:G.email)||"N/A",address:((Z=I.contactInfo)==null?void 0:Z.address)||"N/A",city:(($=I.contactInfo)==null?void 0:$.city)||"N/A",state:((E=I.contactInfo)==null?void 0:E.state)||"N/A",zipCode:((O=I.contactInfo)==null?void 0:O.zipCode)||"N/A",capabilities:((R=I.contactInfo)==null?void 0:R.capabilities)||[],serviceArea:((U=I.contactInfo)==null?void 0:U.serviceArea)||[],operatingHours:((B=I.contactInfo)==null?void 0:B.operatingHours)||null,pricingStructure:((A=I.contactInfo)==null?void 0:A.pricingStructure)||null,status:((P=I.contactInfo)==null?void 0:P.status)||"ACTIVE"}});console.log("TCC_DEBUG: Agencies.loadAgencies(): transformed count",T.length),t(T)}else i("Failed to load agencies")}catch(k){console.error("TCC_DEBUG: Agencies.loadAgencies(): error",k),i("Failed to load agencies")}finally{n(!1)}},j=k=>{m(k),h({name:k.name,contactName:k.contactName,phone:k.phone,email:k.email,address:k.address,city:k.city,state:k.state,zipCode:k.zipCode,serviceType:"BLS/ALS"}),v(null)},w=k=>{const{name:T,value:I}=k.target;h(M=>({...M,[T]:I}))},C=async k=>{var T,I;if(k.preventDefault(),!!u){x(!0),v(null);try{const M=await Rc.update(u.id,f);M.data.success?(t(e.map(z=>z.id===u.id?{...z,...f,updatedAt:new Date().toISOString()}:z)),m(null)):v(M.data.error||"Failed to update agency")}catch(M){console.error("Error updating agency:",M),v(((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"Failed to update agency")}finally{x(!1)}}},S=()=>{m(null),h({name:"",contactName:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",serviceType:"BLS/ALS"}),v(null)},L=async k=>{if(window.confirm("Are you sure you want to delete this agency?"))try{await Rc.delete(k),await b()}catch(T){console.error("Error deleting agency:",T),i("Failed to delete agency")}},_=e.filter(k=>{const T=k.name.toLowerCase().includes(o.toLowerCase())||k.contactName.toLowerCase().includes(o.toLowerCase())||k.city.toLowerCase().includes(o.toLowerCase()),I=c==="all"||c==="active"&&k.isActive||c==="inactive"&&!k.isActive;return T&&I});return r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"EMS Agencies"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage EMS agencies and their capabilities."})]}),s&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search agencies...",value:o,onChange:k=>l(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:c,onChange:k=>d(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]}),a.jsxs("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/?register=ems"},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[a.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Add Agency"]}),a.jsx("button",{onClick:b,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:a.jsx(zr,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:_.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Me,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No agencies found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search terms.":"Get started by adding a new agency."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",k.id]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:k.contactName}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(Nd,{className:"h-3 w-3 mr-1"}),k.phone]}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(ll,{className:"h-3 w-3 mr-1"}),k.email]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[k.city,", ",k.state]}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(dt,{className:"h-3 w-3 mr-1"}),k.address]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:k.capabilities&&k.capabilities.length>0?k.capabilities.map(T=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:T},T)):a.jsx("span",{className:"text-gray-500 text-sm",children:"No capabilities"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[k.isActive?a.jsx($e,{className:"h-4 w-4 text-green-500 mr-2"}):a.jsx(lr,{className:"h-4 w-4 text-red-500 mr-2"}),a.jsx("span",{className:`text-sm font-medium ${k.isActive?"text-green-600":"text-red-600"}`,children:k.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>j(k),className:"text-primary-600 hover:text-primary-900",children:a.jsx(Ci,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>L(k.id),className:"text-red-600 hover:text-red-900",children:a.jsx(Si,{className:"h-4 w-4"})})]})})]},k.id))})]})})}),u&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Agency"}),a.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:a.jsx(lr,{className:"h-6 w-6"})})]}),y&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(lr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:y})})]})}),a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agency Name"}),a.jsx("input",{type:"text",name:"name",value:f.name,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),a.jsx("input",{type:"text",name:"contactName",value:f.contactName,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:f.email,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("input",{type:"text",name:"address",value:f.address,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",name:"city",value:f.city,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",name:"state",value:f.state,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zipCode",value:f.zipCode,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),a.jsxs("select",{name:"serviceType",value:f.serviceType,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"BLS",children:"BLS Only"}),a.jsx("option",{value:"ALS",children:"ALS Only"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:p?"Saving...":"Save Changes"})]})]})]})})})]})},l4=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[s,i]=g.useState(!1),[o,l]=g.useState(!1),[c,d]=g.useState(null),[u,m]=g.useState({patientId:"",originFacilityId:"",destinationFacilityId:"",transportLevel:"BLS",priority:"MEDIUM",specialRequirements:"",readyStart:"",readyEnd:"",isolation:!1,bariatric:!1});g.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const x=await LC.getAll();t(x.data.data||[])}catch(x){console.error("TCC_DEBUG: Error loading facilities:",x),d("Failed to load facilities")}finally{n(!1)}},h=x=>{const{name:y,value:v,type:b}=x.target;if(b==="checkbox"){const j=x.target.checked;m(w=>({...w,[y]:j}))}else m(j=>({...j,[y]:v}))},p=async x=>{var y,v;if(x.preventDefault(),!u.patientId||!u.originFacilityId||!u.destinationFacilityId){d("Please fill in all required fields");return}if(!u.readyStart||!u.readyEnd){d("Please select ready time window");return}try{i(!0),d(null);const b=await ja.create(u);b.data.success?(l(!0),m({patientId:"",originFacilityId:"",destinationFacilityId:"",transportLevel:"BLS",priority:"MEDIUM",specialRequirements:"",readyStart:"",readyEnd:"",isolation:!1,bariatric:!1}),setTimeout(()=>l(!1),5e3)):d(b.data.error||"Failed to create transport request")}catch(b){console.error("TCC_DEBUG: Error creating trip:",b),d(((v=(y=b.response)==null?void 0:y.data)==null?void 0:v.error)||"Failed to create transport request")}finally{i(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ln,{className:"h-6 w-6 text-primary-600 mr-3"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Transport Request"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Submit a new transport request for patient transfer"})]}),a.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[o&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx($e,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Transport request created successfully!"})})]})}),c&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(lr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"patientId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID *"}),a.jsx("input",{type:"text",id:"patientId",name:"patientId",value:u.patientId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter patient ID",required:!0})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"originFacilityId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Origin Facility *"}),a.jsxs("select",{id:"originFacilityId",name:"originFacilityId",value:u.originFacilityId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"",children:"Select origin facility"}),e.map(x=>a.jsxs("option",{value:x.id,children:[x.name," - ",x.city,", ",x.state]},x.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"destinationFacilityId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Facility *"}),a.jsxs("select",{id:"destinationFacilityId",name:"destinationFacilityId",value:u.destinationFacilityId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"",children:"Select destination facility"}),e.map(x=>a.jsxs("option",{value:x.id,children:[x.name," - ",x.city,", ",x.state]},x.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"transportLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Level of Service *"}),a.jsxs("select",{id:"transportLevel",name:"transportLevel",value:u.transportLevel,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"BLS",children:"BLS - Basic Life Support"}),a.jsx("option",{value:"ALS",children:"ALS - Advanced Life Support"}),a.jsx("option",{value:"CCT",children:"CCT - Critical Care Transport"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level *"}),a.jsxs("select",{id:"priority",name:"priority",value:u.priority,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"LOW",children:"LOW - Non-urgent"}),a.jsx("option",{value:"MEDIUM",children:"MEDIUM - Standard"}),a.jsx("option",{value:"HIGH",children:"HIGH - Urgent"}),a.jsx("option",{value:"CRITICAL",children:"CRITICAL - Emergency"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"readyStart",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ready Start Time *"}),a.jsx("input",{type:"datetime-local",id:"readyStart",name:"readyStart",value:u.readyStart,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"readyEnd",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ready End Time *"}),a.jsx("input",{type:"datetime-local",id:"readyEnd",name:"readyEnd",value:u.readyEnd,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"specialRequirements",className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),a.jsx("textarea",{id:"specialRequirements",name:"specialRequirements",value:u.specialRequirements,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter any special requirements or notes..."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Special Requirements"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isolation",name:"isolation",checked:u.isolation,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isolation",className:"ml-2 block text-sm text-gray-900",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lg,{className:"h-4 w-4 text-yellow-600 mr-1"}),"Isolation Required"]})})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"bariatric",name:"bariatric",checked:u.bariatric,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"bariatric",className:"ml-2 block text-sm text-gray-900",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(kL,{className:"h-4 w-4 text-blue-600 mr-1"}),"Bariatric Transport"]})})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Request..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Create Transport Request"]})})})]})]})})},c4="modulepreload",u4=function(e){return"/"+e},Fv={},Bc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=u4(c),c in Fv)return;Fv[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":c4,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((f,h)=>{m.addEventListener("load",f),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},oo={AMBULANCE:"Ambulance",WHEELCHAIR_VAN:"Wheelchair Van",CRITICAL_CARE:"Critical Care",OTHER:"Other"},zv={AVAILABLE:"Available",COMMITTED:"Committed",OUT_OF_SERVICE:"Out of Service",MAINTENANCE:"Maintenance",OFF_DUTY:"Off Duty"},DC={AVAILABLE:"text-green-600 bg-green-100",COMMITTED:"text-blue-600 bg-blue-100",OUT_OF_SERVICE:"text-red-600 bg-red-100",MAINTENANCE:"text-yellow-600 bg-yellow-100",OFF_DUTY:"text-gray-600 bg-gray-100"},Rh={BLS:"Basic Life Support",ALS:"Advanced Life Support",CCT:"Critical Care Transport",WHEELCHAIR:"Wheelchair Transport",STRETCHER:"Stretcher Transport",OXYGEN:"Oxygen Delivery",MONITORING:"Patient Monitoring",VENTILATOR:"Ventilator Support",CUSTOM:"Custom Capability"},d4=({user:e,acceptedTrips:t=[]})=>{const[r,n]=g.useState([]),[s,i]=g.useState(null),[o,l]=g.useState(!0),[c,d]=g.useState(null),[u,m]=g.useState(!1),[f,h]=g.useState(!1),[p,x]=g.useState(null),[y,v]=g.useState(""),[b,j]=g.useState("ALL"),[w,C]=g.useState("ALL"),[S,L]=g.useState({unitNumber:"",type:"AMBULANCE",capabilities:["BLS"],customCapabilities:[],isActive:!0}),[_,k]=g.useState(!1),[T,I]=g.useState(null),M=async()=>{var A;try{console.log(" UnitsManagement: fetchUnits called"),l(!0);const D=(await(await Bc(async()=>{const{default:W}=await Promise.resolve().then(()=>$c);return{default:W}},void 0)).default.get("/api/units",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})).data;if(console.log(" UnitsManagement: API response:",D),D.success)console.log(" UnitsManagement: Units count:",((A=D.data)==null?void 0:A.length)||0),n(D.data||[]);else throw new Error(D.error||"Failed to fetch units")}catch(P){console.error("Error fetching units:",P),d(P.message)}finally{l(!1)}},z=async()=>{try{const P=(await Y.get("/api/units/analytics",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})).data;P.success&&i(P.data)}catch(A){console.error("Error fetching analytics:",A)}};g.useEffect(()=>{console.log(" UnitsManagement: useEffect called, component mounted"),M(),z()},[]);const G=async A=>{var P,N;A.preventDefault(),k(!0),I(null);try{console.log("TCC_DEBUG: Creating unit with data:",S);const D=await Y.post("/api/units",S);if(D.data.success){const W=D.data.data;n(X=>[...X,W]),m(!1),h(!1),x(null),E(),console.log("TCC_DEBUG: Unit created successfully:",W)}else throw new Error(D.data.error||"Failed to create unit")}catch(D){console.error("Error saving unit:",D),I(((N=(P=D.response)==null?void 0:P.data)==null?void 0:N.error)||D.message||"Failed to create unit")}finally{k(!1)}},Z=async A=>{if(confirm("Are you sure you want to delete this unit?"))try{const D=(await(await Bc(async()=>{const{default:W}=await Promise.resolve().then(()=>$c);return{default:W}},void 0)).default.delete(`/api/units/${A}`)).data;if(D.success)await M(),await z();else throw new Error(D.error||"Failed to delete unit")}catch(P){console.error("Error deleting unit:",P),d(P.message)}},$=async(A,P)=>{try{console.log(" UnitsManagement: Toggling duty status for unit:",A,"from",P,"to",!P);const W=(await(await Bc(async()=>{const{default:X}=await Promise.resolve().then(()=>$c);return{default:X}},void 0)).default.patch(`/api/units/${A}/duty`,{isActive:!P})).data;if(W.success)n(X=>X.map(J=>J.id===A?{...J,isActive:!P}:J)),await z(),console.log(" UnitsManagement: Duty status updated successfully");else throw new Error(W.error||"Failed to update duty status")}catch(N){console.error("Error updating duty status:",N),d(N.message||"Failed to update duty status")}},E=()=>{L({unitNumber:"",type:"AMBULANCE",capabilities:["BLS"],customCapabilities:[],isActive:!0}),I(null)},O=A=>{x(A),L({unitNumber:A.unitNumber,type:A.type,capabilities:A.capabilities,customCapabilities:[],isActive:A.isActive}),h(!0)},R=r.filter(A=>{const P=A.unitNumber.toLowerCase().includes(y.toLowerCase())||oo[A.type].toLowerCase().includes(y.toLowerCase()),N=b==="ALL"||A.currentStatus===b,D=w==="ALL"||A.type===w;return P&&N&&D}),U=A=>{const P=DC[A];return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P}`,children:zv[A]})},B=A=>A.map(P=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 mr-1 mb-1",children:Rh[P]},P));return o?a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(zr,{className:"h-8 w-8 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading units..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Units Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage your EMS units and track their status"})]}),a.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:[a.jsx(Ln,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Unit"})]})]}),s&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Me,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Units"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.totalUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($e,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.availableUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(os,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.length})]})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cd,{className:"h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search units...",value:y,onChange:A=>v(A.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wd,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:b,onChange:A=>j(A.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"ALL",children:"All Statuses"}),Object.entries(zv).map(([A,P])=>a.jsx("option",{value:A,children:P},A))]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{value:w,onChange:A=>C(A.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"ALL",children:"All Types"}),Object.entries(oo).map(([A,P])=>a.jsx("option",{value:A,children:P},A))]})}),a.jsxs("button",{onClick:()=>{M(),z()},className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[a.jsx(zr,{className:"h-4 w-4"}),a.jsx("span",{children:"Refresh"})]})]})}),c&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Lt,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:c})]})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["Units (",R.length,")"]}),R.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Me,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No units found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r.length===0?"Get started by creating your first unit.":"Try adjusting your search or filter criteria."}),r.length===0&&a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[a.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Add Unit"]})})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"On Duty"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.unitNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:A.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:oo[A.type]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U(A.currentStatus)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:A.isActive,onChange:()=>$(A.id,A.isActive),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:A.isActive?"On Duty":"Off Duty"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex flex-wrap",children:B(A.capabilities)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("div",{children:[a.jsxs("div",{children:[A.totalTripsCompleted," trips"]}),A.currentStatus==="COMMITTED"&&a.jsx("div",{className:"text-orange-600",children:"Active now"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>O(A),className:"text-orange-600 hover:text-orange-900",children:a.jsx(Ci,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>Z(A.id),className:"text-red-600 hover:text-red-900",children:a.jsx(Si,{className:"h-4 w-4"})})]})})]},A.id))})]})})]})}),(u||f)&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:p?"Edit Unit":"Create New Unit"}),a.jsxs("form",{onSubmit:G,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Number"}),a.jsx("input",{type:"text",required:!0,value:S.unitNumber,onChange:A=>L({...S,unitNumber:A.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., A-101"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Type"}),a.jsx("select",{value:S.type,onChange:A=>L({...S,type:A.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:Object.entries(oo).map(([A,P])=>a.jsx("option",{value:A,children:P},A))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capabilities"}),a.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(Rh).map(([A,P])=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:S.capabilities.includes(A),onChange:N=>{const D=A;N.target.checked?L({...S,capabilities:[...S.capabilities,D]}):L({...S,capabilities:S.capabilities.filter(W=>W!==D)})},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:P})]},A))})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:S.isActive,onChange:A=>L({...S,isActive:A.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"On Duty"}),a.jsx("p",{className:"ml-2 text-xs text-gray-500",children:"Check if unit is currently on duty"})]}),T&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:a.jsx("p",{className:"text-sm text-red-700",children:T})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{m(!1),h(!1),x(null),E()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:_,className:"px-4 py-2 bg-orange-600 text-white rounded-md text-sm font-medium hover:bg-orange-700 disabled:opacity-50",children:_?"Saving...":p?"Update":"Create"})]})]})]})})})]})},m4=({user:e,onSaveSuccess:t})=>{const[r,n]=g.useState({agencyName:e.agencyName||"",contactName:e.name||"",email:e.email||"",phone:"",address:"",city:"",state:"PA",zipCode:"",capabilities:[],operatingHours:{start:"00:00",end:"23:59"},emailNotifications:!0,smsNotifications:!1}),[s,i]=g.useState(!1),[o,l]=g.useState(null),[c,d]=g.useState(!1),u=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],m=["BLS","ALS","CCT","Critical Care","Neonatal","Pediatric","Bariatric","Isolation"],f=x=>{const{name:y,value:v,type:b}=x.target;if(y==="operatingHours.start"||y==="operatingHours.end")n(j=>({...j,operatingHours:{...j.operatingHours,[y.split(".")[1]]:v}}));else if(b==="checkbox"){const j=x.target.checked;n(w=>({...w,[y]:j}))}else n(j=>({...j,[y]:v}))},h=x=>{n(y=>({...y,capabilities:y.capabilities.includes(x)?y.capabilities.filter(v=>v!==x):[...y.capabilities,x]}))},p=async()=>{i(!0),l(null);try{console.log("TCC_DEBUG: Saving agency settings:",r),console.log("TCC_DEBUG: Operating hours:",r.operatingHours);const x=r.operatingHours.start&&r.operatingHours.end?`${r.operatingHours.start} - ${r.operatingHours.end}`:"24/7",y={agencyName:r.agencyName,contactName:r.contactName,email:r.email,phone:r.phone||"(555) 000-0000",address:r.address||"",city:r.city||"",state:r.state||"",zipCode:r.zipCode||"",capabilities:r.capabilities,operatingHours:x};console.log("TCC_DEBUG: Payload being sent:",y);const v=await Y.put("/api/auth/ems/agency/update",y);console.log("TCC_DEBUG: Success response:",v.data),d(!0),setTimeout(()=>d(!1),3e3),t&&setTimeout(()=>t(),1e3)}catch(x){console.error("Error saving settings:",x),l(x.message||"Failed to save settings. Please try again.")}finally{i(!1)}};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agency Information"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your agency contact information and settings"})]}),a.jsxs("div",{className:"p-6",children:[c&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx($e,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Agency settings saved successfully!"})})]})}),o&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(Lt,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"agencyName",className:"block text-sm font-medium text-gray-700",children:"Agency Name *"}),a.jsx("input",{type:"text",id:"agencyName",name:"agencyName",value:r.agencyName,onChange:f,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700",children:"Contact Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",value:r.contactName,onChange:f,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),a.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:f,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number *"}),a.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:f,placeholder:"(123) 456-7890",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street Address *"}),a.jsx("input",{type:"text",id:"address",name:"address",value:r.address,onChange:f,placeholder:"123 Main Street",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",value:r.city,onChange:f,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State *"}),a.jsx("select",{id:"state",name:"state",value:r.state,onChange:f,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",children:u.map(x=>a.jsx("option",{value:x,children:x},x))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:r.zipCode,onChange:f,placeholder:"12345",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Capabilities"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:m.map(x=>a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.capabilities.includes(x),onChange:()=>h(x),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:x})]},x))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHours.start",className:"block text-sm text-gray-600",children:"Start Time"}),a.jsx("input",{type:"time",id:"operatingHours.start",name:"operatingHours.start",value:r.operatingHours.start,onChange:f,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHours.end",className:"block text-sm text-gray-600",children:"End Time"}),a.jsx("input",{type:"time",id:"operatingHours.end",name:"operatingHours.end",value:r.operatingHours.end,onChange:f,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Set to 00:00 - 23:59 for 24/7 operation"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Preferences"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"emailNotifications",checked:r.emailNotifications,onChange:f,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Email Notifications"})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"smsNotifications",checked:r.smsNotifications,onChange:f,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"SMS Notifications"})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:a.jsx("button",{type:"button",onClick:p,disabled:s,className:"px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save All Settings"})})]})]})]})})},f4=({isOpen:e,tripId:t,onClose:r,onAssigned:n})=>{const[s,i]=g.useState([]),[o,l]=g.useState(!1),[c,d]=g.useState(null),[u,m]=g.useState(null),[f,h]=g.useState(!1);g.useEffect(()=>{if(!e)return;(async()=>{var y,v;l(!0),d(null);try{const j=(await Ig.getOnDuty()).data;j.success&&Array.isArray(j.data)?i(j.data):d("Failed to load on-duty units")}catch(b){d(((v=(y=b==null?void 0:b.response)==null?void 0:y.data)==null?void 0:v.error)||"Failed to load on-duty units")}finally{l(!1)}})()},[e]);const p=async()=>{var y,v;if(!t||!u)return;const x=s.find(b=>b.id===u);if(x&&x.currentStatus!=="AVAILABLE"){d("Selected unit is not AVAILABLE. Please choose an available unit.");return}h(!0),d(null);try{const b=JSON.parse(localStorage.getItem("user")||"{}");await ja.updateStatus(t,{status:"ACCEPTED",assignedUnitId:u,assignedAgencyId:b.agencyId||b.id,acceptedTimestamp:new Date().toISOString()}),n(),r()}catch(b){d(((v=(y=b==null?void 0:b.response)==null?void 0:y.data)==null?void 0:v.error)||"Failed to assign unit")}finally{h(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Select Unit"}),a.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),a.jsxs("div",{className:"p-6",children:[c&&a.jsx("div",{className:"mb-4 p-3 rounded border border-red-200 bg-red-50 text-red-700 text-sm",children:c}),o?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading on-duty units..."}):a.jsxs("div",{className:"space-y-3 max-h-96 overflow-auto",children:[s.map(x=>a.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded hover:bg-gray-50 ${x.currentStatus!=="AVAILABLE"?"opacity-60 cursor-not-allowed":"cursor-pointer"}`,children:[a.jsx("input",{type:"radio",name:"unit",className:"mt-1",checked:u===x.id,disabled:x.currentStatus!=="AVAILABLE",onChange:()=>m(x.id)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-medium",children:["Unit ",x.unitNumber]}),a.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs rounded ${DC[x.currentStatus]}`,children:x.currentStatus}),a.jsx("span",{className:"text-xs text-gray-500",children:oo[x.type]})]}),a.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["Capabilities: ",x.capabilities.map(y=>Rh[y]||y).join(", ")]}),x.currentTripDetails&&a.jsxs("div",{className:"mt-1 text-xs text-blue-600",children:["On trip: ",x.currentTripDetails.tripId]})]})]},x.id)),s.length===0&&a.jsx("div",{className:"text-sm text-gray-500",children:"No on-duty units available."})]})]}),a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-2",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:!u||f,className:"px-4 py-2 text-sm rounded bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:f?"Assigning...":"Assign Unit"})]})]})}):null},h4=({tripId:e,status:t,onUpdate:r})=>a.jsxs("div",{className:"ml-4 flex space-x-2",children:[t==="ACCEPTED"&&a.jsx("button",{onClick:()=>r(e,"IN_PROGRESS"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 text-sm font-medium",children:"Start Trip"}),t==="IN_PROGRESS"&&a.jsx("button",{onClick:()=>r(e,"COMPLETED"),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm font-medium",children:"Complete Trip"})]}),MC=({user:e,onLogout:t})=>{const[r,n]=g.useState("available"),[s,i]=g.useState([]),[o,l]=g.useState({agencyName:e.agencyName||"",email:e.email||"",serviceType:"BLS/ALS",contactName:e.name||"",phone:"",address:"",city:"",state:"",zipCode:""}),[c,d]=g.useState(!1),[u,m]=g.useState(null),[f,h]=g.useState(!1),[p,x]=g.useState({baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialSurcharge:50,insuranceRates:{medicare:{BLS:120,ALS:200,CCT:350},medicaid:{BLS:100,ALS:180,CCT:300},private:{BLS:180,ALS:300,CCT:450},selfPay:{BLS:200,ALS:350,CCT:500}}}),[y,v]=g.useState(null),[b,j]=g.useState([]),[w,C]=g.useState([]),[S,L]=g.useState(!1),[_,k]=g.useState(null),[T,I]=g.useState(!1),[M,z]=g.useState(null);g.useEffect(()=>{G();const N=setInterval(()=>{G()},3e4);return()=>clearInterval(N)},[]);const G=async()=>{L(!0);try{const N=await fetch("/api/trips?status=PENDING",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(N.ok){const X=await N.json();if(X.success&&X.data){const J=X.data.map(F=>{var ee,ne;return{id:F.id,patientId:F.patientId,origin:((ee=F.originFacility)==null?void 0:ee.name)||"Unknown Origin",destination:((ne=F.destinationFacility)==null?void 0:ne.name)||"Unknown Destination",pickupLocation:F.pickupLocation?{name:F.pickupLocation.name,floor:F.pickupLocation.floor,room:F.pickupLocation.room}:null,transportLevel:F.transportLevel||"BLS",urgencyLevel:F.urgencyLevel||"Routine",distance:"12.5 miles",estimatedTime:"25 minutes",requestTime:new Date(F.createdAt).toLocaleString(),scheduledTime:F.scheduledTime}});j(J)}}const D=await fetch("/api/trips?status=ACCEPTED,IN_PROGRESS",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(D.ok){const X=await D.json();if(X.success&&X.data){const J=X.data.map(F=>{var ee,ne;return{id:F.id,patientId:F.patientId,origin:((ee=F.originFacility)==null?void 0:ee.name)||"Unknown Origin",destination:((ne=F.destinationFacility)==null?void 0:ne.name)||"Unknown Destination",transportLevel:F.transportLevel||"BLS",urgencyLevel:F.urgencyLevel||"Routine",status:F.status,assignedUnit:F.assignedUnit?{id:F.assignedUnit.id,unitNumber:F.assignedUnit.unitNumber,type:F.assignedUnit.type,currentStatus:F.assignedUnit.currentStatus}:null,pickupTime:F.actualStartTime?new Date(F.actualStartTime).toLocaleString():"Not started",scheduledTime:F.scheduledTime}});C(J)}}const W=await fetch("/api/trips?status=COMPLETED",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(W.ok){const X=await W.json();if(X.success&&X.data){const J=X.data.map(F=>{var ee,ne;return{id:F.id,patientId:F.patientId,origin:((ee=F.originFacility)==null?void 0:ee.name)||"Unknown Origin",destination:((ne=F.destinationFacility)==null?void 0:ne.name)||"Unknown Destination",transportLevel:F.transportLevel||"BLS",urgencyLevel:F.urgencyLevel||"Routine",status:F.status,requestTime:new Date(F.createdAt).toLocaleString(),completionTime:F.completionTimestamp?new Date(F.completionTimestamp).toLocaleString():null,scheduledTime:F.scheduledTime}});i(J)}}}catch(N){console.error("Error loading trips:",N),k("Failed to load trips")}finally{L(!1)}},Z=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t()},$=()=>{if(s.length===0){alert("No completed trips to export");return}const N=["Patient ID","Origin Facility","Destination Facility","Transport Level","Urgency Level","Request Time","Completion Time","Status"],D=s.map(ee=>[ee.patientId,ee.origin,ee.destination,ee.transportLevel,ee.urgencyLevel,ee.requestTime,ee.completionTime||"N/A",ee.status]),W=[N,...D].map(ee=>ee.map(ne=>`"${ne}"`).join(",")).join(`
`),X=new Blob([W],{type:"text/csv;charset=utf-8;"}),J=document.createElement("a"),F=URL.createObjectURL(X);J.setAttribute("href",F),J.setAttribute("download",`completed-trips-${new Date().toISOString().split("T")[0]}.csv`),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J)},E=N=>{switch(N){case"PENDING":return"text-yellow-800 bg-yellow-200 border border-yellow-300";case"ACCEPTED":return"text-green-800 bg-green-200 border border-green-300 font-bold";case"DECLINED":return"text-red-800 bg-red-200 border border-red-300 font-bold";case"CANCELLED":return"text-red-800 bg-red-200 border border-red-300 font-bold";case"IN_PROGRESS":return"text-blue-800 bg-blue-200 border border-blue-300 font-bold";case"COMPLETED":return"text-gray-800 bg-gray-200 border border-gray-300 font-bold";default:return"text-gray-600 bg-gray-100"}},O=N=>{switch(N){case"Routine":return"text-black bg-transparent";case"Urgent":return"text-black bg-orange-200";case"Emergent":return"text-black bg-red-200";default:return"text-black bg-transparent"}},R=N=>{const{name:D,value:W}=N.target,[X,J]=D.split(".");x(J?F=>({...F,[X]:{...F[X],[J]:parseFloat(W)||0}}):F=>({...F,[D]:parseFloat(W)||0})),U()},U=()=>{const N={transportLevel:"ALS",priority:"MEDIUM",distanceMiles:15,specialRequirements:!1,insuranceCompany:"medicare"},D=p.baseRates[N.transportLevel],W=p.perMileRates[N.transportLevel],X=p.priorityMultipliers[N.priority],J=p.insuranceRates[N.insuranceCompany][N.transportLevel],F=N.specialRequirements?p.specialSurcharge:0,ee=D*X+F,ne=(D+W*N.distanceMiles+F)*X,K=(J+W*N.distanceMiles+F)*X;v({sampleTrip:N,standardRevenue:Math.round(ee*100)/100,mileageRevenue:Math.round(ne*100)/100,insuranceRevenue:Math.round(K*100)/100})};g.useEffect(()=>{U()},[p]);const B=N=>{z(N),I(!0)},A=async N=>{try{const D=await fetch(`/api/trips/${N}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:"CANCELLED"})});if(!D.ok){const W=await D.json();throw new Error(W.error||"Failed to decline trip")}await G()}catch(D){console.error("Error declining trip:",D),k(D.message||"Failed to decline trip")}},P=async(N,D)=>{try{const W=await fetch(`/api/trips/${N}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:D,...D==="IN_PROGRESS"&&{pickupTimestamp:new Date().toISOString()},...D==="COMPLETED"&&{completionTimestamp:new Date().toISOString()}})});if(!W.ok){const X=await W.json();throw new Error(X.error||"Failed to update trip status")}await G()}catch(W){console.error("Error updating trip status:",W),k(W.message||"Failed to update trip status")}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-orange-100 p-2 rounded-lg mr-3",children:a.jsx(Me,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e.agencyName||"EMS Agency"}),a.jsx("p",{className:"text-sm text-gray-500",children:"EMS Agency Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rg,{user:e}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ni,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:e.name})]}),a.jsxs("button",{onClick:Z,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[a.jsx(Og,{className:"h-4 w-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"available",name:"Available Trips",icon:dt},{id:"accepted",name:"My Trips",icon:$e},{id:"completed",name:"Completed Trips",icon:yv},{id:"units",name:"Units",icon:Me},{id:"agency-info",name:"Agency Info",icon:Wo},{id:"revenue",name:"Revenue",icon:Zt}].map(N=>{const D=N.icon;return a.jsxs("button",{onClick:()=>{console.log(" EMSDashboard: Tab clicked:",N.id),n(N.id)},className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${r===N.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(D,{className:"h-4 w-4"}),a.jsx("span",{children:N.name})]},N.id)})})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx(f4,{isOpen:T,tripId:M,onClose:()=>{I(!1),z(null)},onAssigned:async()=>{await G(),n("accepted")}}),r==="available"&&a.jsxs("div",{className:"space-y-6",children:[_&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Lt,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:_})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Available Transport Requests"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Accept or decline available transport requests"})]}),a.jsx("button",{onClick:G,disabled:S,className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 disabled:opacity-50",children:S?"Loading...":"Refresh"})]}),a.jsxs("div",{className:"divide-y divide-gray-200",children:[b.map(N=>a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Patient ",N.patientId]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[N.origin,"  ",N.destination]})]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E("PENDING")}`,children:"PENDING"})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Level:"})," ",N.transportLevel]}),N.pickupLocation&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Pickup:"})," ",N.pickupLocation.name,N.pickupLocation.floor&&` (Floor ${N.pickupLocation.floor})`,N.pickupLocation.room&&` - Room ${N.pickupLocation.room}`]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Distance:"})," ",N.distance]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Time:"})," ",N.estimatedTime]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Priority:"})," ",N.urgencyLevel]})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>B(N.id),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm font-medium",children:"Accept"}),a.jsx("button",{onClick:()=>A(N.id),className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 text-sm font-medium",children:"Decline"})]})]})},N.id)),b.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No available transport requests at this time."})]})]})]}),r==="accepted"&&a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Accepted Trips"}),a.jsx("button",{onClick:G,disabled:S,className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 disabled:opacity-50",children:S?"Loading...":"Refresh"})]}),a.jsxs("div",{className:"divide-y divide-gray-200",children:[w.map(N=>a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Patient ",N.patientId]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E(N.status)}`,children:N.status})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[N.origin,"  ",N.destination]}),a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Pickup Time:"})," ",N.pickupTime]})]}),a.jsxs("div",{className:"ml-4 flex space-x-2",children:[a.jsx(h4,{tripId:N.id,status:N.status,onUpdate:P}),N.status==="COMPLETED"&&a.jsx("span",{className:"text-sm text-gray-500",children:"Completed"})]})]}),N.assignedUnit&&a.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:["Assigned Unit: ",N.assignedUnit.unitNumber,a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",N.assignedUnit.type,")"]})]})]},N.id)),w.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No accepted trips at this time."})]})]}),r==="completed"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Completed Trips"}),a.jsx("button",{onClick:$,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm font-medium",children:"Export CSV"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Completed Transport Requests (",s.length,")"]})}),a.jsx("div",{className:"p-6",children:s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(N=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Patient ",N.patientId]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[N.origin,"  ",N.destination]})]})}),a.jsxs("div",{className:"mt-2 flex items-center space-x-6 text-sm text-gray-500",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Transport Level:"})," ",N.transportLevel]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Priority:"})," ",N.urgencyLevel]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Request Time:"})," ",N.requestTime]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completion Time:"})," ",N.completionTime||"N/A"]})]})]}),a.jsxs("div",{className:"ml-4 flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${E(N.status)}`,children:N.status}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O(N.urgencyLevel||"Routine")}`,children:N.urgencyLevel||"Routine"})]})]})},N.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(yv,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No completed trips"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Completed trips will appear here once they are finished."})]})})]})]}),r==="agency-info"&&a.jsx(m4,{user:e,onSaveSuccess:()=>n("available")}),r==="revenue"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Revenue Calculation Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure pricing rates and see real-time revenue projections"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Base Rates by Transport Level"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BLS Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:p.baseRates.BLS,onChange:R,name:"baseRates.BLS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ALS Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:p.baseRates.ALS,onChange:R,name:"baseRates.ALS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CCT Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:p.baseRates.CCT,onChange:R,name:"baseRates.CCT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Per Mile Rates"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BLS Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:p.perMileRates.BLS,onChange:R,name:"perMileRates.BLS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ALS Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:p.perMileRates.ALS,onChange:R,name:"perMileRates.ALS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CCT Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:p.perMileRates.CCT,onChange:R,name:"perMileRates.CCT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Priority Multipliers"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Low Priority"}),a.jsx("input",{type:"number",step:"0.01",value:p.priorityMultipliers.LOW,onChange:R,name:"priorityMultipliers.LOW",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Medium Priority"}),a.jsx("input",{type:"number",step:"0.01",value:p.priorityMultipliers.MEDIUM,onChange:R,name:"priorityMultipliers.MEDIUM",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"High Priority"}),a.jsx("input",{type:"number",step:"0.01",value:p.priorityMultipliers.HIGH,onChange:R,name:"priorityMultipliers.HIGH",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Urgent Priority"}),a.jsx("input",{type:"number",step:"0.01",value:p.priorityMultipliers.URGENT,onChange:R,name:"priorityMultipliers.URGENT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Additional Fees"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Special Requirements Surcharge ($)"}),a.jsx("input",{type:"number",step:"0.01",value:p.specialSurcharge,onChange:R,name:"specialSurcharge",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})})]})]}),y&&a.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Revenue Preview"}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Sample trip: ",y.sampleTrip.transportLevel," transport, ",y.sampleTrip.priority," priority,",y.sampleTrip.distanceMiles," miles, ",y.sampleTrip.insuranceCompany," insurance"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Standard Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",y.standardRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base rate  priority"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Mileage Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",y.mileageRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base + (per mile  distance)"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Insurance Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",y.insuranceRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Insurance rate + mileage"})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>{localStorage.setItem("ems_revenue_settings",JSON.stringify(p)),alert("Revenue settings saved!")},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Save Revenue Settings"})})]})]})}),r==="units"&&a.jsx(d4,{user:e,acceptedTrips:w}),!1]})]})},p4=()=>{var w,C,S,L,_,k;const[e,t]=g.useState({emailNotifications:!0,smsNotifications:!1,phone:"",notificationTypes:{trip_assignment:{email:!0,sms:!1},trip_status_update:{email:!0,sms:!1},trip_accepted:{email:!0,sms:!1}}}),[r,n]=g.useState(!0),[s,i]=g.useState(!1),[o,l]=g.useState(null),[c,d]=g.useState("idle"),[u,m]=g.useState("idle"),[f,h]=g.useState("idle");g.useEffect(()=>{p()},[]),g.useEffect(()=>{console.log("TCC_DEBUG: NotificationSettings component mounted with settings:",e)},[e]);const p=async()=>{try{const T=await Y.get("/api/notifications/preferences");if(T.data.success){const I=T.data.data,M={emailNotifications:I.emailEnabled||!0,smsNotifications:I.smsEnabled||!1,phone:I.phone||"",notificationTypes:I.notificationTypes||{trip_assignment:{email:!0,sms:!1},trip_status_update:{email:!0,sms:!1},trip_accepted:{email:!0,sms:!1}}};console.log("TCC_DEBUG: Fetched settings for user:",M),t(M)}}catch(T){console.error("TCC_DEBUG: Error fetching notification settings:",T)}finally{n(!1)}},x=async()=>{var T,I;console.log("TCC_DEBUG: Save button clicked with settings:",e),i(!0),h("saving"),l(null);try{console.log("TCC_DEBUG: Sending settings to API:",e);const M=await Y.put("/api/notifications/preferences",{emailNotifications:e.emailNotifications,smsNotifications:e.smsNotifications,phone:e.phone,notificationTypes:e.notificationTypes});console.log("TCC_DEBUG: API response status:",M.status),console.log("TCC_DEBUG: Settings saved successfully:",M.data),h("success");const z={type:"success",text:"Notification settings saved successfully!"};console.log("TCC_DEBUG: Setting message to:",z),l(z),setTimeout(()=>{console.log("TCC_DEBUG: Clearing message after timeout"),l(null),h("idle")},3e3)}catch(M){console.error("TCC_DEBUG: Error saving notification settings:",M),h("error");const z=((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"Failed to save settings";l({type:"error",text:z}),setTimeout(()=>{l(null),h("idle")},5e3)}finally{i(!1)}},y=async()=>{var T,I;d("testing"),l(null);try{const M=await Y.post("/api/notifications/test-email",{to:"test@example.com",template:"newTripRequest"});M.data.success?(d("success"),l({type:"success",text:"Email service connection successful!"})):(d("error"),l({type:"error",text:M.data.error||"Email service connection failed"}))}catch(M){console.error("TCC_DEBUG: Error testing email connection:",M),d("error");const z=((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"Email service connection failed";l({type:"error",text:z})}},v=async()=>{var T,I;m("testing"),l(null);try{const M=await Y.post("/api/notifications/test-sms",{to:e.phone||"5551234567",message:"Test SMS from TCC notification system"});M.data.success?(m("success"),l({type:"success",text:"SMS service connection successful!"})):(m("error"),l({type:"error",text:M.data.error||"SMS service connection failed"}))}catch(M){console.error("TCC_DEBUG: Error testing SMS connection:",M),m("error");const z=((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"SMS service connection failed";l({type:"error",text:z})}},b=(T,I)=>{console.log("TCC_DEBUG: Setting change:",{key:T,value:I,currentSettings:e}),t(M=>{const z={...M,[T]:I};return console.log("TCC_DEBUG: New settings after change:",z),z})},j=(T,I,M)=>{console.log("TCC_DEBUG: Notification type change:",{type:T,channel:I,enabled:M}),t(z=>{const G={...z,notificationTypes:{...z.notificationTypes,[T]:{...z.notificationTypes[T],[I]:M}}};return console.log("TCC_DEBUG: New notification types after change:",G.notificationTypes),G})};return r?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2",children:"Loading notification settings..."})]}):a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
          }
        `}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(fu,{className:"h-6 w-6 text-blue-600 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure how you receive notifications about transport requests and updates."})]}),a.jsxs("div",{className:"p-6",children:[(console.log("TCC_DEBUG: Rendering message section, message state:",o),console.log("TCC_DEBUG: Message truthy check:",!!o),o?(console.log("TCC_DEBUG: Rendering message with type:",o.type,"text:",o.text),a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center border-2 ${o.type==="success"?"bg-green-50 text-green-800 border-green-200 shadow-lg":"bg-red-50 text-red-800 border-red-200 shadow-lg"}`,style:{zIndex:1e3,position:"relative",minHeight:"50px",fontSize:"16px",fontWeight:"600"},children:[o.type==="success"?a.jsx($e,{className:"h-5 w-5 mr-3 text-green-600"}):a.jsx(Lt,{className:"h-5 w-5 mr-3 text-red-600"}),a.jsx("span",{className:"text-lg font-semibold",children:o.text})]})):null),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ll,{className:"h-5 w-5 text-gray-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications for transport request updates"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.emailNotifications,onChange:T=>b("emailNotifications",T.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:e.phone,onChange:T=>b("phone",T.target.value),placeholder:"Enter your phone number (e.g., 5551234567)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This phone number will receive SMS notifications"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(fu,{className:"h-5 w-5 text-gray-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive SMS text messages for urgent transport requests"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.smsNotifications,onChange:T=>b("smsNotifications",T.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Types"}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Trip Assignment"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when new transport requests are assigned"})]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((w=e.notificationTypes.trip_assignment)==null?void 0:w.email)||!1,onChange:T=>j("trip_assignment","email",T.target.checked),disabled:!e.emailNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.emailNotifications?"text-gray-700":"text-gray-400"}`,children:"Email"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((C=e.notificationTypes.trip_assignment)==null?void 0:C.sms)||!1,onChange:T=>j("trip_assignment","sms",T.target.checked),disabled:!e.smsNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.smsNotifications?"text-gray-700":"text-gray-400"}`,children:"SMS"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Trip Status Updates"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when transport request status changes"})]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((S=e.notificationTypes.trip_status_update)==null?void 0:S.email)||!1,onChange:T=>j("trip_status_update","email",T.target.checked),disabled:!e.emailNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.emailNotifications?"text-gray-700":"text-gray-400"}`,children:"Email"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((L=e.notificationTypes.trip_status_update)==null?void 0:L.sms)||!1,onChange:T=>j("trip_status_update","sms",T.target.checked),disabled:!e.smsNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.smsNotifications?"text-gray-700":"text-gray-400"}`,children:"SMS"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Trip Accepted"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when transport requests are accepted"})]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((_=e.notificationTypes.trip_accepted)==null?void 0:_.email)||!1,onChange:T=>j("trip_accepted","email",T.target.checked),disabled:!e.emailNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.emailNotifications?"text-gray-700":"text-gray-400"}`,children:"Email"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((k=e.notificationTypes.trip_accepted)==null?void 0:k.sms)||!1,onChange:T=>j("trip_accepted","sms",T.target.checked),disabled:!e.smsNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.smsNotifications?"text-gray-700":"text-gray-400"}`,children:"SMS"})]})]})]})]})]}),a.jsxs("div",{className:"mt-8 space-y-4",children:[a.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Service Test"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Test the email service connection to ensure notifications are working properly."}),a.jsx("button",{onClick:y,disabled:c==="testing",className:`px-4 py-2 rounded-md text-sm font-medium ${c==="testing"?"bg-gray-300 text-gray-500 cursor-not-allowed":c==="success"?"bg-green-600 text-white hover:bg-green-700":c==="error"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c==="testing"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline-block mr-2"}),"Testing..."]}):c==="success"?a.jsxs(a.Fragment,{children:[a.jsx($e,{className:"h-4 w-4 inline-block mr-2"}),"Connection Successful"]}):c==="error"?a.jsxs(a.Fragment,{children:[a.jsx(Lt,{className:"h-4 w-4 inline-block mr-2"}),"Connection Failed"]}):"Test Email Connection"})]}),a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"SMS Service Test"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Test the SMS service connection (placeholder for future Twilio integration)."}),a.jsx("button",{onClick:v,disabled:u==="testing",className:`px-4 py-2 rounded-md text-sm font-medium ${u==="testing"?"bg-gray-300 text-gray-500 cursor-not-allowed":u==="success"?"bg-green-600 text-white hover:bg-green-700":u==="error"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:u==="testing"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline-block mr-2"}),"Testing..."]}):u==="success"?a.jsxs(a.Fragment,{children:[a.jsx($e,{className:"h-4 w-4 inline-block mr-2"}),"Connection Successful"]}):u==="error"?a.jsxs(a.Fragment,{children:[a.jsx(Lt,{className:"h-4 w-4 inline-block mr-2"}),"Connection Failed"]}):"Test SMS Connection"})]})]}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx("button",{onClick:x,disabled:s,className:`px-6 py-2 rounded-md flex items-center transition-colors duration-200 ${f==="success"?"bg-green-600 text-white":f==="error"?"bg-red-600 text-white":f==="saving"?"bg-blue-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"} disabled:bg-gray-400 disabled:cursor-not-allowed`,children:f==="saving"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):f==="success"?a.jsxs(a.Fragment,{children:[a.jsx($e,{className:"h-4 w-4 mr-2"}),"Saved!"]}):f==="error"?a.jsxs(a.Fragment,{children:[a.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Error"]}):"Save Settings"})})]})]})]})},g4=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(null),[o,l]=g.useState(!1),[c,d]=g.useState(null),[u,m]=g.useState({name:"",email:"",password:"",userType:"USER"});g.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const b=await ii.getUsers();b.data.success?t(b.data.users):i("Failed to load users")}catch{console.log("UserManagement: API endpoint not available, using mock data"),t([{id:"user-1",email:"admin@tcc.com",name:"TCC Administrator",userType:"ADMIN",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-09-22T15:43:00Z"},{id:"user-2",email:"manager@tcc.com",name:"TCC Manager",userType:"USER",isActive:!0,createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-09-20T10:30:00Z"},{id:"user-3",email:"coordinator@tcc.com",name:"TCC Coordinator",userType:"USER",isActive:!0,createdAt:"2024-02-01T00:00:00Z",updatedAt:"2024-09-18T14:20:00Z"}]),i(null)}finally{n(!1)}},h=async b=>{var j,w;b.preventDefault();try{if(i(null),c)console.log("Update user:",c.id,u),d(null);else{const C=await ii.register(u);C.data.success?(await f(),l(!1),p()):i(C.data.error||"Failed to create user")}}catch(C){i(((w=(j=C.response)==null?void 0:j.data)==null?void 0:w.error)||"Failed to save user")}},p=()=>{m({name:"",email:"",password:"",userType:"USER"})},x=b=>{d(b),m({name:b.name,email:b.email,password:"",userType:b.userType}),l(!0)},y=()=>{l(!1),d(null),p()},v=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage system users and their access levels."})]}),a.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx(lr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:s})})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:a.jsx(ni,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.name}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(ll,{className:"h-3 w-3 mr-1"}),b.email]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[b.userType==="ADMIN"?a.jsx(Lg,{className:"h-4 w-4 text-red-500 mr-2"}):a.jsx(ni,{className:"h-4 w-4 text-blue-500 mr-2"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.userType==="ADMIN"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:b.userType})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.isActive?a.jsxs(a.Fragment,{children:[a.jsx($e,{className:"h-3 w-3 mr-1"}),"Active"]}):a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(hu,{className:"h-3 w-3 mr-1"}),v(b.createdAt)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>x(b),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(Ci,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this user?")&&console.log("Delete user:",b.id)},className:"text-red-600 hover:text-red-900",children:a.jsx(Si,{className:"h-4 w-4"})})]})})]},b.id))})]})})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c?"Edit User":"Add New User"}),a.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600",children:a.jsx(lr,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",required:!0,value:u.name,onChange:b=>m({...u,name:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",required:!0,value:u.email,onChange:b=>m({...u,email:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{type:"password",required:!c,value:u.password,onChange:b=>m({...u,password:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:c?"Leave blank to keep current password":""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User Type"}),a.jsxs("select",{value:u.userType,onChange:b=>m({...u,userType:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[a.jsx("option",{value:"USER",children:"User (Standard Access)"}),a.jsx("option",{value:"ADMIN",children:"Admin (Full Access)"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:c?"Update User":"Create User"})]})]})]})})})]})};function _C(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=_C(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fe(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=_C(e))&&(n&&(n+=" "),n+=t);return n}var Td={},IC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(IC);var $g={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})($g);var Bg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Bg);var Od={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const d=r[i];l?d==="\\"&&i+1<s?(i++,o+=r[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,n.push(o),o=""):o+=d:d==="["?(c=!0,o&&(n.push(o),o="")):d==="."?o&&(n.push(o),o=""):o+=d,i++}return o&&n.push(o),n}e.toPath=t})(Od);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IC,r=$g,n=Bg,s=Od;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,s.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let m=0;m<c.length;m++){if(u==null||t.isUnsafeProperty(c[m]))return d;u=u[c[m]]}return u===void 0?d:u}e.get=i})(Td);var x4=Td.get;const us=$n(x4);var RC={exports:{}},we={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=Symbol.for("react.transitional.element"),Fg=Symbol.for("react.portal"),Ld=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),Md=Symbol.for("react.profiler"),_d=Symbol.for("react.consumer"),Id=Symbol.for("react.context"),Rd=Symbol.for("react.forward_ref"),$d=Symbol.for("react.suspense"),Bd=Symbol.for("react.suspense_list"),Ud=Symbol.for("react.memo"),Fd=Symbol.for("react.lazy"),y4=Symbol.for("react.view_transition"),v4=Symbol.for("react.client.reference");function Lr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ug:switch(e=e.type,e){case Ld:case Md:case Dd:case $d:case Bd:case y4:return e;default:switch(e=e&&e.$$typeof,e){case Id:case Rd:case Fd:case Ud:return e;case _d:return e;default:return t}}case Fg:return t}}}we.ContextConsumer=_d;we.ContextProvider=Id;we.Element=Ug;we.ForwardRef=Rd;we.Fragment=Ld;we.Lazy=Fd;we.Memo=Ud;we.Portal=Fg;we.Profiler=Md;we.StrictMode=Dd;we.Suspense=$d;we.SuspenseList=Bd;we.isContextConsumer=function(e){return Lr(e)===_d};we.isContextProvider=function(e){return Lr(e)===Id};we.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ug};we.isForwardRef=function(e){return Lr(e)===Rd};we.isFragment=function(e){return Lr(e)===Ld};we.isLazy=function(e){return Lr(e)===Fd};we.isMemo=function(e){return Lr(e)===Ud};we.isPortal=function(e){return Lr(e)===Fg};we.isProfiler=function(e){return Lr(e)===Md};we.isStrictMode=function(e){return Lr(e)===Dd};we.isSuspense=function(e){return Lr(e)===$d};we.isSuspenseList=function(e){return Lr(e)===Bd};we.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ld||e===Md||e===Dd||e===$d||e===Bd||typeof e=="object"&&e!==null&&(e.$$typeof===Fd||e.$$typeof===Ud||e.$$typeof===Id||e.$$typeof===_d||e.$$typeof===Rd||e.$$typeof===v4||e.getModuleId!==void 0)};we.typeOf=Lr;RC.exports=we;var b4=RC.exports,ct=e=>e===0?0:e>0?1:-1,Jt=e=>typeof e=="number"&&e!=+e,qa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,se=e=>(typeof e=="number"||e instanceof Number)&&!Jt(e),ln=e=>se(e)||typeof e=="string",j4=0,qo=e=>{var t=++j4;return"".concat(e||"").concat(t)},kt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&typeof t!="string")return n;var i;if(qa(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Jt(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},$C=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ve(e,t,r){return se(e)&&se(t)?e+r*(t-e):t}function BC(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):us(n,t))===r)}var Pe=e=>e===null||typeof e>"u",fl=e=>Pe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),w4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function zg(e){if(typeof e!="string")return!1;var t=w4;return t.includes(e)}var N4=["viewBox","children"],Hv=["points","pathLength"],of={svg:N4,polygon:Hv,polyline:Hv},Hg=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{zg(s)&&(n[s]=i=>r[s](r,i))}),n},C4=(e,t,r)=>n=>(e(t,r,n),null),hl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];zg(s)&&typeof i=="function"&&(n||(n={}),n[s]=C4(i,t,r))}),n},S4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function UC(e){if(typeof e!="string")return!1;var t=S4;return t.includes(e)}function Dr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return UC(n)});return Object.fromEntries(t)}var Wv=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",qv=null,lf=null,FC=e=>{if(e===qv&&Array.isArray(lf))return lf;var t=[];return g.Children.forEach(e,r=>{Pe(r)||(b4.isFragment(r)?t=t.concat(FC(r.props.children)):t.push(r))}),lf=t,qv=e,t};function Wg(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>Wv(s)):n=[Wv(t)],FC(e).forEach(s=>{var i=us(s,"type.displayName")||us(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var zd=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,k4=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&(of==null?void 0:of[n]))!==null&&s!==void 0?s:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||UC(t)),c=!!r&&zg(t);return o||l||c},Te=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;k4((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},E4=["children","width","height","viewBox","className","style","title","desc"];function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(null,arguments)}function A4(e,t){if(e==null)return{};var r,n,s=P4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function P4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qg=g.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=A4(e,E4),m=i||{width:n,height:s,x:0,y:0},f=fe("recharts-surface",o);return g.createElement("svg",$h({},Te(u,!0,"svg"),{className:f,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,d),r)}),T4=["children","className"];function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}function O4(e,t){if(e==null)return{};var r,n,s=L4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function L4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var He=g.forwardRef((e,t)=>{var{children:r,className:n}=e,s=O4(e,T4),i=fe("recharts-layer",n);return g.createElement("g",Bh({className:i},Te(s,!0),{ref:t}),r)}),zC=g.createContext(null),D4=()=>g.useContext(zC);function Ne(e){return function(){return e}}const HC=Math.cos,xu=Math.sin,Qr=Math.sqrt,yu=Math.PI,Hd=2*yu,Uh=Math.PI,Fh=2*Uh,Ra=1e-6,M4=Fh-Ra;function WC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WC;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class I4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WC:_4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=s-r,u=o-t,m=l-r,f=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Ra)if(!(Math.abs(m*c-d*u)>Ra)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,p=s-l,x=c*c+d*d,y=h*h+p*p,v=Math.sqrt(x),b=Math.sqrt(f),j=i*Math.tan((Uh-Math.acos((x+f-y)/(2*v*b)))/2),w=j/b,C=j/v;Math.abs(w-1)>Ra&&this._append`L${t+w*u},${r+w*m}`,this._append`A${i},${i},0,0,${+(m*h>u*p)},${this._x1=t+C*c},${this._y1=r+C*d}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=t+l,u=r+c,m=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ra||Math.abs(this._y1-u)>Ra)&&this._append`L${d},${u}`,n&&(f<0&&(f=f%Fh+Fh),f>M4?this._append`A${n},${n},0,1,${m},${t-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=u}`:f>Ra&&this._append`A${n},${n},0,${+(f>=Uh)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Gg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new I4(t)}function Kg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qC(e){this._context=e}qC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wd(e){return new qC(e)}function GC(e){return e[0]}function KC(e){return e[1]}function VC(e,t){var r=Ne(!0),n=null,s=Wd,i=null,o=Gg(l);e=typeof e=="function"?e:e===void 0?GC:Ne(e),t=typeof t=="function"?t:t===void 0?KC:Ne(t);function l(c){var d,u=(c=Kg(c)).length,m,f=!1,h;for(n==null&&(i=s(h=o())),d=0;d<=u;++d)!(d<u&&r(m=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,d,c),+t(m,d,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ne(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ne(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ne(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function ac(e,t,r){var n=null,s=Ne(!0),i=null,o=Wd,l=null,c=Gg(d);e=typeof e=="function"?e:e===void 0?GC:Ne(+e),t=typeof t=="function"?t:Ne(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KC:Ne(+r);function d(m){var f,h,p,x=(m=Kg(m)).length,y,v=!1,b,j=new Array(x),w=new Array(x);for(i==null&&(l=o(b=c())),f=0;f<=x;++f){if(!(f<x&&s(y=m[f],f,m))===v)if(v=!v)h=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=f-1;p>=h;--p)l.point(j[p],w[p]);l.lineEnd(),l.areaEnd()}v&&(j[f]=+e(y,f,m),w[f]=+t(y,f,m),l.point(n?+n(y,f,m):j[f],r?+r(y,f,m):w[f]))}if(b)return l=null,b+""||null}function u(){return VC().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ne(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ne(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ne(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ne(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Ne(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ne(+m),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Ne(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class YC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function R4(e){return new YC(e,!0)}function $4(e){return new YC(e,!1)}const Vg={draw(e,t){const r=Qr(t/yu);e.moveTo(r,0),e.arc(0,0,r,0,Hd)}},B4={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},XC=Qr(1/3),U4=XC*2,F4={draw(e,t){const r=Qr(t/U4),n=r*XC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},z4={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},H4=.8908130915292852,QC=xu(yu/10)/xu(7*yu/10),W4=xu(Hd/10)*QC,q4=-HC(Hd/10)*QC,G4={draw(e,t){const r=Qr(t*H4),n=W4*r,s=q4*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Hd*i/5,l=HC(o),c=xu(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},cf=Qr(3),K4={draw(e,t){const r=-Qr(t/(cf*3));e.moveTo(0,r*2),e.lineTo(-cf*r,-r),e.lineTo(cf*r,-r),e.closePath()}},xr=-.5,yr=Qr(3)/2,zh=1/Qr(12),V4=(zh/2+1)*3,Y4={draw(e,t){const r=Qr(t/V4),n=r/2,s=r*zh,i=n,o=r*zh+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(xr*n-yr*s,yr*n+xr*s),e.lineTo(xr*i-yr*o,yr*i+xr*o),e.lineTo(xr*l-yr*c,yr*l+xr*c),e.lineTo(xr*n+yr*s,xr*s-yr*n),e.lineTo(xr*i+yr*o,xr*o-yr*i),e.lineTo(xr*l+yr*c,xr*c-yr*l),e.closePath()}};function X4(e,t){let r=null,n=Gg(s);e=typeof e=="function"?e:Ne(e||Vg),t=typeof t=="function"?t:Ne(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ne(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ne(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function vu(){}function bu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Q4(e){return new ZC(e)}function JC(e){this._context=e}JC.prototype={areaStart:vu,areaEnd:vu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z4(e){return new JC(e)}function e2(e){this._context=e}e2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:bu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J4(e){return new e2(e)}function t2(e){this._context=e}t2.prototype={areaStart:vu,areaEnd:vu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function eD(e){return new t2(e)}function Gv(e){return e<0?-1:1}function Kv(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Gv(i)+Gv(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Vv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function uf(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function ju(e){this._context=e}ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uf(this,this._t0,Vv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uf(this,Vv(this,r=Kv(this,e,t)),r);break;default:uf(this,this._t0,r=Kv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function r2(e){this._context=new n2(e)}(r2.prototype=Object.create(ju.prototype)).point=function(e,t){ju.prototype.point.call(this,t,e)};function n2(e){this._context=e}n2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function tD(e){return new ju(e)}function rD(e){return new r2(e)}function a2(e){this._context=e}a2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Yv(e),s=Yv(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Yv(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function nD(e){return new a2(e)}function qd(e,t){this._context=e,this._t=t}qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function aD(e){return new qd(e,.5)}function sD(e){return new qd(e,0)}function iD(e){return new qd(e,1)}function oi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Hh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function oD(e,t){return e[t]}function lD(e){const t=[];return t.key=e,t}function cD(){var e=Ne([]),t=Hh,r=oi,n=oD;function s(i){var o=Array.from(e.apply(this,arguments),lD),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,u=Kg(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ne(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ne(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Hh:typeof i=="function"?i:Ne(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??oi,s):r},s}function uD(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}oi(e,t)}}function dD(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}oi(e,t)}}function mD(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],m=u[n][1]||0,f=u[n-1][1]||0,h=(m-f)/2,p=0;p<l;++p){var x=e[t[p]],y=x[n][1]||0,v=x[n-1][1]||0;h+=y-v}c+=m,d+=h*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,oi(e,t)}}var fD=["type","size","sizeType"];function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(null,arguments)}function Xv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xv(Object(r),!0).forEach(function(n){hD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hD(e,t,r){return(t=pD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pD(e){var t=gD(e,"string");return typeof t=="symbol"?t:t+""}function gD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xD(e,t){if(e==null)return{};var r,n,s=yD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s2={symbolCircle:Vg,symbolCross:B4,symbolDiamond:F4,symbolSquare:z4,symbolStar:G4,symbolTriangle:K4,symbolWye:Y4},vD=Math.PI/180,bD=e=>{var t="symbol".concat(fl(e));return s2[t]||Vg},jD=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*vD;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wD=(e,t)=>{s2["symbol".concat(fl(e))]=t},Yg=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=xD(e,fD),i=Qv(Qv({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var f=bD(o),h=X4().type(f).size(jD(r,n,o));return h()},{className:c,cx:d,cy:u}=i,m=Te(i,!0);return d===+d&&u===+u&&r===+r?g.createElement("path",Wh({},m,{className:fe("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:l()})):null};Yg.registerSymbol=wD;function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(null,arguments)}function Zv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ND(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zv(Object(r),!0).forEach(function(n){Xg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xg(e,t,r){return(t=CD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CD(e){var t=SD(e,"string");return typeof t=="symbol"?t:t+""}function SD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vr=32;class Qg extends g.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=vr/2,i=vr/6,o=vr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return g.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:vr,y2:s,className:"recharts-legend-icon"});if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(vr,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=ND({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(Yg,{fill:l,cx:s,cy:s,size:vr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:vr,height:vr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,m)=>{var f=u.formatter||s,h=fe({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?i:u.color,x=f?f(u.value,u,m):u.value;return g.createElement("li",qh({className:h,style:c,key:"legend-item-".concat(m)},hl(this.props,u,m)),g.createElement(qg,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(x," legend icon")},this.renderIcon(u,o)),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}Xg(Qg,"displayName","Legend");Xg(Qg,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var i2={},o2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(o2);var Zg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Zg);var l2={},Gd={},c2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(c2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Gd);var u2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(u2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gd,r=u2;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(l2);var d2={},m2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Td;function r(n){return function(s){return t.get(s,n)}}e.property=r})(m2);var f2={},df={},mf={},Jg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Jg);var ex={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ex);var tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(tx);var Jv;function kD(){return Jv||(Jv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx(),r=Jg,n=ex,s=tx;function i(m,f,h){return typeof h!="function"?t.isMatch(m,f):o(m,f,function p(x,y,v,b,j,w){const C=h(x,y,v,b,j,w);return C!==void 0?!!C:o(x,y,p,w)},new Map)}function o(m,f,h,p){if(f===m)return!0;switch(typeof f){case"object":return l(m,f,h,p);case"function":return Object.keys(f).length>0?o(m,{...f},h,p):s.eq(m,f);default:return r.isObject(m)?typeof f=="string"?f==="":!0:s.eq(m,f)}}function l(m,f,h,p){if(f==null)return!0;if(Array.isArray(f))return d(m,f,h,p);if(f instanceof Map)return c(m,f,h,p);if(f instanceof Set)return u(m,f,h,p);const x=Object.keys(f);if(m==null)return x.length===0;if(x.length===0)return!0;if(p&&p.has(f))return p.get(f)===m;p&&p.set(f,m);try{for(let y=0;y<x.length;y++){const v=x[y];if(!n.isPrimitive(m)&&!(v in m)||f[v]===void 0&&m[v]!==void 0||f[v]===null&&m[v]!==null||!h(m[v],f[v],v,m,f,p))return!1}return!0}finally{p&&p.delete(f)}}function c(m,f,h,p){if(f.size===0)return!0;if(!(m instanceof Map))return!1;for(const[x,y]of f.entries()){const v=m.get(x);if(h(v,y,x,m,f,p)===!1)return!1}return!0}function d(m,f,h,p){if(f.length===0)return!0;if(!Array.isArray(m))return!1;const x=new Set;for(let y=0;y<f.length;y++){const v=f[y];let b=!1;for(let j=0;j<m.length;j++){if(x.has(j))continue;const w=m[j];let C=!1;if(h(w,v,y,m,f,p)&&(C=!0),C){x.add(j),b=!0;break}}if(!b)return!1}return!0}function u(m,f,h,p){return f.size===0?!0:m instanceof Set?d([...m],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=u}(mf)),mf}var eb;function rx(){return eb||(eb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kD();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(df)),df}var h2={},nx={},p2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(p2);var ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ax);var sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",m="[object Function]",f="[object ArrayBuffer]",h="[object Object]",p="[object Error]",x="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",w="[object BigUint64Array]",C="[object Int8Array]",S="[object Int16Array]",L="[object Int32Array]",_="[object BigInt64Array]",k="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=u,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=w,e.booleanTag=s,e.dataViewTag=x,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=k,e.float64ArrayTag=T,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=L,e.int8ArrayTag=C,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(sx);var g2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(g2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p2,r=ax,n=sx,s=ex,i=g2;function o(u,m){return l(u,void 0,u,new Map,m)}function l(u,m,f,h=new Map,p=void 0){const x=p==null?void 0:p(u,m,f,h);if(x!==void 0)return x;if(s.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const y=new Array(u.length);h.set(u,y);for(let v=0;v<u.length;v++)y[v]=l(u[v],v,f,h,p);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;h.set(u,y);for(const[v,b]of u)y.set(v,l(b,v,f,h,p));return y}if(u instanceof Set){const y=new Set;h.set(u,y);for(const v of u)y.add(l(v,void 0,f,h,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,y);for(let v=0;v<u.length;v++)y[v]=l(u[v],v,f,h,p);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,y),c(y,u,f,h,p),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return h.set(u,y),c(y,u,f,h,p),y}if(u instanceof Blob){const y=new Blob([u],{type:u.type});return h.set(u,y),c(y,u,f,h,p),y}if(u instanceof Error){const y=new u.constructor;return h.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,c(y,u,f,h,p),y}if(typeof u=="object"&&d(u)){const y=Object.create(Object.getPrototypeOf(u));return h.set(u,y),c(y,u,f,h,p),y}return u}function c(u,m,f=u,h,p){const x=[...Object.keys(m),...t.getSymbols(m)];for(let y=0;y<x.length;y++){const v=x[y],b=Object.getOwnPropertyDescriptor(u,v);(b==null||b.writable)&&(u[v]=l(m[v],v,f,h,p))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(nx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(h2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx(),r=h2;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(f2);var x2={},y2={},v2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx,r=sx;function n(s,i){return t.cloneDeepWith(s,(o,l,c,d)=>{const u=i==null?void 0:i(o,l,c,d);if(u!==void 0)return u;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(v2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(y2);var b2={},ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ix);var j2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(j2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$g,r=ix,n=j2,s=Od;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const m=c[u];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(b2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx(),r=Bg,n=y2,s=Td,i=b2;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=s.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(x2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zg,r=m2,n=f2,s=x2;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(d2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o2,r=Zg,n=l2,s=d2;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(i2);var ED=i2.uniqBy;const tb=$n(ED);function w2(e,t,r){return t===!0?tb(e,r):typeof t=="function"?tb(e,t):e}var N2={exports:{}},C2={},S2={exports:{}},k2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=g;function AD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PD=typeof Object.is=="function"?Object.is:AD,TD=li.useState,OD=li.useEffect,LD=li.useLayoutEffect,DD=li.useDebugValue;function MD(e,t){var r=t(),n=TD({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return LD(function(){s.value=r,s.getSnapshot=t,ff(s)&&i({inst:s})},[e,r,t]),OD(function(){return ff(s)&&i({inst:s}),e(function(){ff(s)&&i({inst:s})})},[e]),DD(r),r}function ff(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!PD(e,r)}catch{return!0}}function _D(e,t){return t()}var ID=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_D:MD;k2.useSyncExternalStore=li.useSyncExternalStore!==void 0?li.useSyncExternalStore:ID;S2.exports=k2;var RD=S2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd=g,$D=RD;function BD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UD=typeof Object.is=="function"?Object.is:BD,FD=$D.useSyncExternalStore,zD=Kd.useRef,HD=Kd.useEffect,WD=Kd.useMemo,qD=Kd.useDebugValue;C2.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=zD(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=WD(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return m=p}return m=h}if(p=m,UD(u,h))return p;var x=n(h);return s!==void 0&&s(p,x)?(u=h,p):(u=h,m=x)}var d=!1,u,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var l=FD(e,i[0],i[1]);return HD(function(){o.hasValue=!0,o.value=l},[l]),qD(l),l};N2.exports=C2;var GD=N2.exports,ox=g.createContext(null),KD=e=>e,Fe=()=>{var e=g.useContext(ox);return e?e.store.dispatch:KD},Uc=()=>{},VD=()=>Uc,YD=(e,t)=>e===t;function ae(e){var t=g.useContext(ox);return GD.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:VD,t?t.store.getState:Uc,t?t.store.getState:Uc,t?e:Uc,YD)}function XD(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function QD(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ZD(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var rb=e=>Array.isArray(e)?e:[e];function JD(e){const t=Array.isArray(e[0])?e[0]:e;return ZD(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function eM(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var tM=class{constructor(e){this.value=e}deref(){return this.value}},rM=typeof WeakRef<"u"?WeakRef:tM,nM=0,nb=1;function sc(){return{s:nM,v:void 0,o:null,p:null}}function E2(e,t={}){let r=sc();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var m;let l=r;const{length:c}=arguments;for(let f=0,h=c;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const y=x.get(p);y===void 0?(l=sc(),x.set(p,l)):l=y}else{let x=l.p;x===null&&(l.p=x=new Map);const y=x.get(p);y===void 0?(l=sc(),x.set(p,l)):l=y}}const d=l;let u;if(l.s===nb)u=l.v;else if(u=e.apply(null,arguments),i++,n){const f=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;f!=null&&n(f,u)&&(u=f,i!==0&&i--),s=typeof u=="object"&&u!==null||typeof u=="function"?new rM(u):u}return d.s=nb,d.v=u,u}return o.clearCache=()=>{r=sc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function aM(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},d=s.pop();typeof d=="object"&&(c=d,d=s.pop()),XD(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:m,memoizeOptions:f=[],argsMemoize:h=E2,argsMemoizeOptions:p=[]}=u,x=rb(f),y=rb(p),v=JD(s),b=m(function(){return i++,d.apply(null,arguments)},...x),j=h(function(){o++;const C=eM(v,arguments);return l=b.apply(null,C),l},...y);return Object.assign(j,{resultFunc:d,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var H=aM(E2),sM=Object.assign((e,t=H)=>{QD(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>sM}),A2={},P2={},T2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(T2);var O2={},lx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(lx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(O2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T2,r=O2,n=Od;function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const d=(h,p)=>{let x=h;for(let y=0;y<p.length&&x!=null;++y)x=x[p[y]];return x},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:d(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?d(p,h):typeof p=="object"?p[h]:p,m=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let x=0;x<m.length;x++){const y=t.compareValues(h.criteria[x],p.criteria[x],l[x]);if(y!==0)return y}return 0}).map(h=>h.original)}e.orderBy=s})(P2);var L2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):s.push(u)}};return o(r,0),s}e.flatten=t})(L2);var cx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix,r=Gd,n=Jg,s=tx;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(cx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P2,r=L2,n=cx;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(A2);var iM=A2.sortBy;const Vd=$n(iM);var D2=e=>e.legend.settings,oM=e=>e.legend.size,lM=e=>e.legend.payload,cM=H([lM,D2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Vd(n,r):n});function uM(){return ae(cM)}var ic=1;function M2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ic||Math.abs(o.left-t.left)>ic||Math.abs(o.top-t.top)>ic||Math.abs(o.width-t.width)>ic)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ht(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dM=typeof Symbol=="function"&&Symbol.observable||"@@observable",ab=dM,hf=()=>Math.random().toString(36).substring(7).split("").join("."),mM={INIT:`@@redux/INIT${hf()}`,REPLACE:`@@redux/REPLACE${hf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hf()}`},wu=mM;function ux(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _2(e,t,r){if(typeof e!="function")throw new Error(ht(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ht(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ht(1));return r(_2)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((y,v)=>{o.set(v,y)}))}function u(){if(c)throw new Error(ht(3));return s}function m(y){if(typeof y!="function")throw new Error(ht(4));if(c)throw new Error(ht(5));let v=!0;d();const b=l++;return o.set(b,y),function(){if(v){if(c)throw new Error(ht(6));v=!1,d(),o.delete(b),i=null}}}function f(y){if(!ux(y))throw new Error(ht(7));if(typeof y.type>"u")throw new Error(ht(8));if(typeof y.type!="string")throw new Error(ht(17));if(c)throw new Error(ht(9));try{c=!0,s=n(s,y)}finally{c=!1}return(i=o).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(ht(10));n=y,f({type:wu.REPLACE})}function p(){const y=m;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ht(11));function b(){const w=v;w.next&&w.next(u())}return b(),{unsubscribe:y(b)}},[ab](){return this}}}return f({type:wu.INIT}),{dispatch:f,subscribe:m,getState:u,replaceReducer:h,[ab]:p}}function fM(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:wu.INIT})>"u")throw new Error(ht(12));if(typeof r(void 0,{type:wu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ht(13))})}function I2(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{fM(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const d={};for(let u=0;u<n.length;u++){const m=n[u],f=r[m],h=o[m],p=f(h,l);if(typeof p>"u")throw l&&l.type,new Error(ht(14));d[m]=p,c=c||p!==h}return c=c||n.length!==Object.keys(o).length,c?d:o}}function Nu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function hM(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(ht(15))};const o={getState:s.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=Nu(...l)(s.dispatch),{...s,dispatch:i}}}function R2(e){return ux(e)&&"type"in e&&typeof e.type=="string"}var $2=Symbol.for("immer-nothing"),sb=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ci=Object.getPrototypeOf;function ds(e){return!!e&&!!e[fr]}function Dn(e){var t;return e?B2(e)||Array.isArray(e)||!!e[sb]||!!((t=e.constructor)!=null&&t[sb])||pl(e)||Xd(e):!1}var pM=Object.prototype.constructor.toString();function B2(e){if(!e||typeof e!="object")return!1;const t=ci(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===pM}function Cu(e,t){Yd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Yd(e){const t=e[fr];return t?t.type_:Array.isArray(e)?1:pl(e)?2:Xd(e)?3:0}function Gh(e,t){return Yd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function U2(e,t,r){const n=Yd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function gM(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pl(e){return e instanceof Map}function Xd(e){return e instanceof Set}function $a(e){return e.copy_||e.base_}function Kh(e,t){if(pl(e))return new Map(e);if(Xd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=B2(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[fr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(ci(e),n)}else{const n=ci(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function dx(e,t=!1){return Qd(e)||ds(e)||!Dn(e)||(Yd(e)>1&&Object.defineProperties(e,{set:{value:oc},add:{value:oc},clear:{value:oc},delete:{value:oc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>dx(r,!0))),e}function oc(){Hr(2)}function Qd(e){return Object.isFrozen(e)}var xM={};function ms(e){const t=xM[e];return t||Hr(0,e),t}var Go;function F2(){return Go}function yM(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ib(e,t){t&&(ms("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vh(e){Yh(e),e.drafts_.forEach(vM),e.drafts_=null}function Yh(e){e===Go&&(Go=e.parent_)}function ob(e){return Go=yM(Go,e)}function vM(e){const t=e[fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lb(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[fr].modified_&&(Vh(t),Hr(4)),Dn(e)&&(e=Su(t,e),t.parent_||ku(t,e)),t.patches_&&ms("Patches").generateReplacementPatches_(r[fr].base_,e,t.patches_,t.inversePatches_)):e=Su(t,r,[]),Vh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$2?e:void 0}function Su(e,t,r){if(Qd(t))return t;const n=t[fr];if(!n)return Cu(t,(s,i)=>cb(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return ku(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Cu(i,(l,c)=>cb(e,n,s,l,c,r,o)),ku(e,s,!1),r&&e.patches_&&ms("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function cb(e,t,r,n,s,i,o){if(ds(s)){const l=i&&t&&t.type_!==3&&!Gh(t.assigned_,n)?i.concat(n):void 0,c=Su(e,s,l);if(U2(r,n,c),ds(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Dn(s)&&!Qd(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Su(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(pl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ku(e,s)}}function ku(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dx(t,r)}function bM(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:F2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=mx;r&&(s=[n],i=Ko);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var mx={get(e,t){if(t===fr)return e;const r=$a(e);if(!Gh(r,t))return jM(e,r,t);const n=r[t];return e.finalized_||!Dn(n)?n:n===pf(e.base_,t)?(gf(e),e.copy_[t]=Qh(n,e)):n},has(e,t){return t in $a(e)},ownKeys(e){return Reflect.ownKeys($a(e))},set(e,t,r){const n=z2($a(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=pf($a(e),t),i=s==null?void 0:s[fr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(gM(r,s)&&(r!==void 0||Gh(e.base_,t)))return!0;gf(e),Xh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gf(e),Xh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=$a(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Hr(11)},getPrototypeOf(e){return ci(e.base_)},setPrototypeOf(){Hr(12)}},Ko={};Cu(mx,(e,t)=>{Ko[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ko.deleteProperty=function(e,t){return Ko.set.call(this,e,t,void 0)};Ko.set=function(e,t,r){return mx.set.call(this,e[0],t,r,e[0])};function pf(e,t){const r=e[fr];return(r?$a(r):e)[t]}function jM(e,t,r){var s;const n=z2(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function z2(e,t){if(!(t in e))return;let r=ci(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ci(r)}}function Xh(e){e.modified_||(e.modified_=!0,e.parent_&&Xh(e.parent_))}function gf(e){e.copy_||(e.copy_=Kh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wM=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Hr(6),n!==void 0&&typeof n!="function"&&Hr(7);let s;if(Dn(t)){const i=ob(this),o=Qh(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Vh(i):Yh(i)}return ib(i,n),lb(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===$2&&(s=void 0),this.autoFreeze_&&dx(s,!0),n){const i=[],o=[];ms("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else Hr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Dn(e)||Hr(8),ds(e)&&(e=Cn(e));const t=ob(this),r=Qh(e,void 0);return r[fr].isManual_=!0,Yh(t),r}finishDraft(e,t){const r=e&&e[fr];(!r||!r.isManual_)&&Hr(9);const{scope_:n}=r;return ib(n,t),lb(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=ms("Patches").applyPatches_;return ds(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Qh(e,t){const r=pl(e)?ms("MapSet").proxyMap_(e,t):Xd(e)?ms("MapSet").proxySet_(e,t):bM(e,t);return(t?t.scope_:F2()).drafts_.push(r),r}function Cn(e){return ds(e)||Hr(10,e),H2(e)}function H2(e){if(!Dn(e)||Qd(e))return e;const t=e[fr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Kh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Kh(e,!0);return Cu(r,(n,s)=>{U2(r,n,H2(s))}),t&&(t.finalized_=!1),r}var NM=new wM,W2=NM.produce;function q2(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var CM=q2(),SM=q2,kM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nu:Nu.apply(null,arguments)};function Tr(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(ur(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>R2(n)&&n.type===e,r}var G2=class lo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,lo.prototype)}static get[Symbol.species](){return lo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new lo(...t[0].concat(this)):new lo(...t.concat(this))}};function ub(e){return Dn(e)?W2(e,()=>{}):e}function lc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function EM(e){return typeof e=="boolean"}var AM=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new G2;return r&&(EM(r)?o.push(CM):o.push(SM(r.extraArgument))),o},PM="RTK_autoBatch",db=e=>t=>{setTimeout(t,e)},TM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:db(10):e.type==="callback"?e.queueNotification:db(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const m=()=>s&&u(),f=n.subscribe(m);return l.add(u),()=>{f(),l.delete(u)}},dispatch(u){var m;try{return s=!((m=u==null?void 0:u.meta)!=null&&m[PM]),i=!s,i&&(o||(o=!0,c(d))),n.dispatch(u)}finally{s=!0}}})},OM=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new G2(e);return n&&s.push(TM(typeof n=="object"?n:void 0)),s};function LM(e){const t=AM(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(ux(r))l=I2(r);else throw new Error(ur(1));let c;typeof n=="function"?c=n(t):c=t();let d=Nu;s&&(d=kM({trace:!1,...typeof s=="object"&&s}));const u=hM(...c),m=OM(u);let f=typeof o=="function"?o(m):m();const h=d(...f);return _2(l,i,h)}function K2(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(ur(28));if(l in t)throw new Error(ur(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function DM(e){return typeof e=="function"}function MM(e,t){let[r,n,s]=K2(t),i;if(DM(e))i=()=>ub(e());else{const l=ub(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[s]),d.reduce((u,m)=>{if(m)if(ds(u)){const h=m(u,c);return h===void 0?u:h}else{if(Dn(u))return W2(u,f=>m(f,c));{const f=m(u,c);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},l)}return o.getInitialState=i,o}var _M="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",IM=(e=21)=>{let t="",r=e;for(;r--;)t+=_M[Math.random()*64|0];return t},RM=Symbol.for("rtk-slice-createasyncthunk");function $M(e,t){return`${e}/${t}`}function BM({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[RM];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(ur(11));const l=(typeof s.reducers=="function"?s.reducers(FM()):s.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,C){const S=typeof w=="string"?w:w.type;if(!S)throw new Error(ur(12));if(S in d.sliceCaseReducersByType)throw new Error(ur(13));return d.sliceCaseReducersByType[S]=C,u},addMatcher(w,C){return d.sliceMatchers.push({matcher:w,reducer:C}),u},exposeAction(w,C){return d.actionCreators[w]=C,u},exposeCaseReducer(w,C){return d.sliceCaseReducersByName[w]=C,u}};c.forEach(w=>{const C=l[w],S={reducerName:w,type:$M(i,w),createNotation:typeof s.reducers=="function"};HM(C)?qM(S,C,u,t):zM(S,C,u)});function m(){const[w={},C=[],S=void 0]=typeof s.extraReducers=="function"?K2(s.extraReducers):[s.extraReducers],L={...w,...d.sliceCaseReducersByType};return MM(s.initialState,_=>{for(let k in L)_.addCase(k,L[k]);for(let k of d.sliceMatchers)_.addMatcher(k.matcher,k.reducer);for(let k of C)_.addMatcher(k.matcher,k.reducer);S&&_.addDefaultCase(S)})}const f=w=>w,h=new Map,p=new WeakMap;let x;function y(w,C){return x||(x=m()),x(w,C)}function v(){return x||(x=m()),x.getInitialState()}function b(w,C=!1){function S(_){let k=_[w];return typeof k>"u"&&C&&(k=lc(p,S,v)),k}function L(_=f){const k=lc(h,C,()=>new WeakMap);return lc(k,_,()=>{const T={};for(const[I,M]of Object.entries(s.selectors??{}))T[I]=UM(M,_,()=>lc(p,_,v),C);return T})}return{reducerPath:w,getSelectors:L,get selectors(){return L(S)},selectSlice:S}}const j={name:i,reducer:y,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(w,{reducerPath:C,...S}={}){const L=C??o;return w.inject({reducerPath:L,reducer:y},S),{...j,...b(L,!0)}}};return j}}function UM(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var gr=BM();function FM(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function zM({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!WM(n))throw new Error(ur(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Tr(e,o):Tr(e))}function HM(e){return e._reducerDefinitionType==="asyncThunk"}function WM(e){return e._reducerDefinitionType==="reducerWithPrepare"}function qM({type:e,reducerName:t},r,n,s){if(!s)throw new Error(ur(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,m=s(e,i,u);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),c&&n.addCase(m.rejected,c),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(t,{fulfilled:o||cc,pending:l||cc,rejected:c||cc,settled:d||cc})}function cc(){}var GM="task",V2="listener",Y2="completed",fx="cancelled",KM=`task-${fx}`,VM=`task-${Y2}`,Zh=`${V2}-${fx}`,YM=`${V2}-${Y2}`,Zd=class{constructor(e){Bl(this,"name","TaskAbortError");Bl(this,"message");this.code=e,this.message=`${GM} ${fx} (reason: ${e})`}},hx=(e,t)=>{if(typeof e!="function")throw new TypeError(ur(32))},Eu=()=>{},X2=(e,t=Eu)=>(e.catch(t),e),Q2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Za=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ja=e=>{if(e.aborted){const{reason:t}=e;throw new Zd(t)}};function Z2(e,t){let r=Eu;return new Promise((n,s)=>{const i=()=>s(new Zd(e.reason));if(e.aborted){i();return}r=Q2(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Eu})}var XM=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Zd?"cancelled":"rejected",error:r}}finally{t==null||t()}},Au=e=>t=>X2(Z2(e,t).then(r=>(Ja(e),r))),J2=e=>{const t=Au(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ks}=Object,mb={},Jd="listenerMiddleware",QM=(e,t)=>{const r=n=>Q2(e,()=>Za(n,e.reason));return(n,s)=>{hx(n);const i=new AbortController;r(i);const o=XM(async()=>{Ja(e),Ja(i.signal);const l=await n({pause:Au(i.signal),delay:J2(i.signal),signal:i.signal});return Ja(i.signal),l},()=>Za(i,VM));return s!=null&&s.autoJoin&&t.push(o.catch(Eu)),{result:Au(e)(o),cancel(){Za(i,KM)}}}},ZM=(e,t)=>{const r=async(n,s)=>{Ja(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(m,f)=>{f.unsubscribe(),c([m,f.getState(),f.getOriginalState()])}});i=()=>{u(),d()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await Z2(t,Promise.race(l));return Ja(t),c}finally{i()}};return(n,s)=>X2(r(n,s))},eS=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Tr(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(ur(21));return hx(i),{predicate:s,type:t,effect:i}},tS=Ks(e=>{const{type:t,predicate:r,effect:n}=eS(e);return{id:IM(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ur(22))}}},{withTypes:()=>tS}),fb=(e,t)=>{const{type:r,effect:n,predicate:s}=eS(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Jh=e=>{e.pending.forEach(t=>{Za(t,Zh)})},JM=e=>()=>{e.forEach(Jh),e.clear()},hb=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},rS=Ks(Tr(`${Jd}/add`),{withTypes:()=>rS}),e_=Tr(`${Jd}/removeAll`),nS=Ks(Tr(`${Jd}/remove`),{withTypes:()=>nS}),t_=(...e)=>{console.error(`${Jd}/error`,...e)},gl=(e={})=>{const t=new Map,{extra:r,onError:n=t_}=e;hx(n);const s=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),m=>{u.unsubscribe(),m!=null&&m.cancelActive&&Jh(u)}),i=u=>{const m=fb(t,u)??tS(u);return s(m)};Ks(i,{withTypes:()=>i});const o=u=>{const m=fb(t,u);return m&&(m.unsubscribe(),u.cancelActive&&Jh(m)),!!m};Ks(o,{withTypes:()=>o});const l=async(u,m,f,h)=>{const p=new AbortController,x=ZM(i,p.signal),y=[];try{u.pending.add(p),await Promise.resolve(u.effect(m,Ks({},f,{getOriginalState:h,condition:(v,b)=>x(v,b).then(Boolean),take:x,delay:J2(p.signal),pause:Au(p.signal),extra:r,signal:p.signal,fork:QM(p.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((v,b,j)=>{v!==p&&(Za(v,Zh),j.delete(v))})},cancel:()=>{Za(p,Zh),u.pending.delete(p)},throwIfCancelled:()=>{Ja(p.signal)}})))}catch(v){v instanceof Zd||hb(n,v,{raisedBy:"effect"})}finally{await Promise.all(y),Za(p,YM),u.pending.delete(p)}},c=JM(t);return{middleware:u=>m=>f=>{if(!R2(f))return m(f);if(rS.match(f))return i(f.payload);if(e_.match(f)){c();return}if(nS.match(f))return o(f.payload);let h=u.getState();const p=()=>{if(h===mb)throw new Error(ur(23));return h};let x;try{if(x=m(f),t.size>0){const y=u.getState(),v=Array.from(t.values());for(const b of v){let j=!1;try{j=b.predicate(f,y,h)}catch(w){j=!1,hb(n,w,{raisedBy:"predicate"})}j&&l(b,f,u,p)}}}finally{h=mb}return x},startListening:i,stopListening:o,clearListeners:c}};function ur(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var r_={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},aS=gr({name:"chartLayout",initialState:r_,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:n_,setLayout:a_,setChartSize:s_,setScale:i_}=aS.actions,o_=aS.reducer;function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(r),!0).forEach(function(n){l_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l_(e,t,r){return(t=c_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c_(e){var t=u_(e,"string");return typeof t=="symbol"?t:t+""}function u_(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pu=Math.PI/180,d_=e=>e*180/Math.PI,Qe=(e,t,r,n)=>({x:e+Math.cos(-Pu*n)*r,y:t+Math.sin(-Pu*n)*r}),sS=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},m_=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},f_=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=m_({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:d_(c),angleInRadian:c}},h_=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},p_=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},g_=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=f_({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:d}=h_(t),u=i,m;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}return m?gb(gb({},t),{},{radius:s,angle:p_(u,t)}):null};function iS(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){x_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x_(e,t,r){return(t=y_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y_(e){var t=v_(e,"string");return typeof t=="symbol"?t:t+""}function v_(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function be(e,t,r){return Pe(e)||Pe(t)?r:ln(t)?us(e,t,r):typeof t=="function"?t(e):r}var b_=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,m=c>=l-1?r[0].coordinate:r[c+1].coordinate,f=void 0;if(ct(u-d)!==ct(m-u)){var h=[];if(ct(m-u)===ct(s[1]-s[0])){f=m;var p=u+s[1]-s[0];h[0]=Math.min(p,(p+d)/2),h[1]=Math.max(p,(p+d)/2)}else{f=d;var x=m+s[1]-s[0];h[0]=Math.min(u,(x+u)/2),h[1]=Math.max(u,(x+u)/2)}var y=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){({index:o}=r[c]);break}}else{var v=Math.min(d,m),b=Math.max(d,m);if(e>(v+u)/2&&e<=(b+u)/2){({index:o}=r[c]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},j_=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&se(e[i]))return Nr(Nr({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&se(e[o]))return Nr(Nr({},e),{},{[o]:e[o]+(s||0)})}return e},mn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",oS=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},lS=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:m,niceTicks:f,axisType:h}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=s==="category"&&o.bandwidth?o.bandwidth()/p:0;if(x=h==="angleAxis"&&i&&i.length>=2?ct(i[0]-i[1])*2*x:x,m||f){var y=(m||f||[]).map((v,b)=>{var j=n?n.indexOf(v):v;return{coordinate:o(j)+x,value:v,offset:x,index:b}});return y.filter(v=>!Jt(v.coordinate))}return c&&d?d.map((v,b)=>({coordinate:o(v)+x,value:v,index:b,offset:x})):o.ticks&&u!=null?o.ticks(u).map((v,b)=>({coordinate:o(v)+x,value:v,offset:x,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+x,value:n?n[v]:v,index:b,offset:x}))},yb=1e-4,w_=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-yb,i=Math.max(n[0],n[1])+yb,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},N_=(e,t)=>{if(!t||t.length!==2||!se(t[0])||!se(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!se(e[0])||e[0]<r)&&(s[0]=r),(!se(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},C_=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=Jt(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},S_=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=Jt(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},k_={sign:C_,expand:uD,none:oi,silhouette:dD,wiggle:mD,positive:S_},E_=(e,t,r)=>{var n=k_[r],s=cD().keys(t).value((i,o)=>+be(i,o,0)).order(Hh).offset(n);return s(e)};function cS(e){return e==null?void 0:String(e)}function Tu(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Pe(s[t.dataKey])){var l=BC(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=be(s,Pe(o)?t.dataKey:o);return Pe(c)?null:t.scale(c)}var vb=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=be(i,t.dataKey,t.scale.domain()[o]);return Pe(l)?null:t.scale(l)-s/2+n},A_=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},P_=e=>{var t=e.flat(2).filter(se);return[Math.min(...t),Math.max(...t)]},T_=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],O_=(e,t,r)=>{if(e!=null)return T_(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=iS(d,t,r),m=P_(u);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},bb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fs=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Vd(t,u=>u.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function wb(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return Nr(Nr({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Ta(e,t){if(e)return String(e);if(typeof t=="string")return t}function L_(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?g_({x:e,y:t},n):null}var D_=(e,t,r,n)=>{var s=t.find(d=>d&&d.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return Nr(Nr(Nr({},n),Qe(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return Nr(Nr(Nr({},n),Qe(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},M_=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Un=e=>e.layout.width,Fn=e=>e.layout.height,__=e=>e.layout.scale,uS=e=>e.layout.margin,em=H(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),tm=H(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),dS="data-recharts-item-index",mS="data-recharts-item-data-key",xl=60;function Nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(r),!0).forEach(function(n){I_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I_(e,t,r){return(t=R_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R_(e){var t=$_(e,"string");return typeof t=="symbol"?t:t+""}function $_(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B_=e=>e.brush.height;function U_(e){var t=tm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:xl;return r+s}return r},0)}function F_(e){var t=tm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:xl;return r+s}return r},0)}function z_(e){var t=em(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function H_(e){var t=em(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var rt=H([Un,Fn,uS,B_,U_,F_,z_,H_,D2,oM],(e,t,r,n,s,i,o,l,c,d)=>{var u={left:(r.left||0)+s,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},f=uc(uc({},m),u),h=f.bottom;f.bottom+=n,f=j_(f,c,d);var p=e-f.left-f.right,x=t-f.top-f.bottom;return uc(uc({brushBottom:h},f),{},{width:Math.max(p,0),height:Math.max(x,0)})}),W_=H(rt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),px=H(Un,Fn,(e,t)=>({x:0,y:0,width:e,height:t})),q_=g.createContext(null),At=()=>g.useContext(q_)!=null,rm=e=>e.brush,nm=H([rm,rt,uS],(e,t,r)=>({height:e.height,x:se(e.x)?e.x:t.left,y:se(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:se(e.width)?e.width:t.width})),gx=()=>{var e,t=At(),r=ae(W_),n=ae(nm),s=(e=ae(rm))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},G_={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fS=()=>{var e;return(e=ae(rt))!==null&&e!==void 0?e:G_},xx=()=>ae(Un),yx=()=>ae(Fn),K_=()=>ae(e=>e.layout.margin),me=e=>e.layout.layoutType,yl=()=>ae(me),V_={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hS=gr({name:"legend",initialState:V_,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Cn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Cb,setLegendSettings:Y_,addLegendPayload:pS,removeLegendPayload:gS}=hS.actions,X_=hS.reducer,Q_=["contextPayload"];function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(null,arguments)}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){vx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vx(e,t,r){return(t=Z_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z_(e){var t=J_(e,"string");return typeof t=="symbol"?t:t+""}function J_(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e3(e,t){if(e==null)return{};var r,n,s=t3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function t3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function r3(e){return e.value}function n3(e){var{contextPayload:t}=e,r=e3(e,Q_),n=w2(t,e.payloadUniqBy,r3),s=ui(ui({},r),{},{payload:n});return g.isValidElement(e.content)?g.cloneElement(e.content,s):typeof e.content=="function"?g.createElement(e.content,s):g.createElement(Qg,s)}function a3(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((n||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((s||0)-i.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ui(ui({},d),u)}function s3(e){var t=Fe();return g.useEffect(()=>{t(Y_(e))},[t,e]),null}function i3(e){var t=Fe();return g.useEffect(()=>(t(Cb(e)),()=>{t(Cb({width:0,height:0}))}),[t,e]),null}function o3(e){var t=uM(),r=D4(),n=K_(),{width:s,height:i,wrapperStyle:o,portal:l}=e,[c,d]=M2([t]),u=xx(),m=yx();if(u==null||m==null)return null;var f=u-(n.left||0)-(n.right||0),h=dr.getWidthOrHeight(e.layout,i,s,f),p=l?o:ui(ui({position:"absolute",width:(h==null?void 0:h.width)||s||"auto",height:(h==null?void 0:h.height)||i||"auto"},a3(o,e,n,u,m,c)),o),x=l??r;if(x==null)return null;var y=g.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:d},g.createElement(s3,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),g.createElement(i3,{width:c.width,height:c.height}),g.createElement(n3,ep({},e,h,{margin:n,chartWidth:u,chartHeight:m,contextPayload:t})));return kg.createPortal(y,x)}class dr extends g.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&se(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return g.createElement(o3,this.props)}}vx(dr,"displayName","Legend");vx(dr,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(null,arguments)}function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){l3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l3(e,t,r){return(t=c3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c3(e){var t=u3(e,"string");return typeof t=="symbol"?t:t+""}function u3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d3(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var m3=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:f=!1}=e,h=()=>{if(i&&i.length){var C={padding:0,margin:0},S=(l?Vd(i,l):i).map((L,_)=>{if(L.type==="none")return null;var k=L.formatter||o||d3,{value:T,name:I}=L,M=T,z=I;if(k){var G=k(T,I,L,_,i);if(Array.isArray(G))[M,z]=G;else if(G!=null)M=G;else return null}var Z=xf({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:Z},ln(z)?g.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ln(z)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},M),g.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:C},S)}return null},p=xf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=xf({margin:0},s),y=!Pe(u),v=y?u:"",b=fe("recharts-default-tooltip",c),j=fe("recharts-tooltip-label",d);y&&m&&i!==void 0&&i!==null&&(v=m(u,i));var w=f?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",tp({className:b,style:p},w),g.createElement("p",{className:j,style:x},g.isValidElement(v)?v:"".concat(v)),h())},Yi="recharts-tooltip-wrapper",f3={visibility:"hidden"};function h3(e){var{coordinate:t,translateX:r,translateY:n}=e;return fe(Yi,{["".concat(Yi,"-right")]:se(r)&&t&&se(t.x)&&r>=t.x,["".concat(Yi,"-left")]:se(r)&&t&&se(t.x)&&r<t.x,["".concat(Yi,"-bottom")]:se(n)&&t&&se(t.y)&&n>=t.y,["".concat(Yi,"-top")]:se(n)&&t&&se(t.y)&&n<t.y})}function Eb(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&se(i[n]))return i[n];var u=r[n]-l-(s>0?s:0),m=r[n]+s;if(t[n])return o[n]?u:m;var f=c[n];if(f==null)return 0;if(o[n]){var h=u,p=f;return h<p?Math.max(m,f):Math.max(u,f)}if(d==null)return 0;var x=m+l,y=f+d;return x>y?Math.max(u,f):Math.max(m,f)}function p3(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function g3(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,m;return o.height>0&&o.width>0&&r?(u=Eb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=Eb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=p3({translateX:u,translateY:m,useTranslate3d:l})):d=f3,{cssProperties:d,cssClasses:h3({translateX:u,translateY:m,coordinate:r})}}function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){rp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rp(e,t,r){return(t=x3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x3(e){var t=y3(e,"string");return typeof t=="symbol"?t:t+""}function y3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class v3 extends g.PureComponent{constructor(){super(...arguments),rp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),rp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:m,useTranslate3d:f,viewBox:h,wrapperStyle:p,lastBoundingBox:x,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:j}=g3({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:m,tooltipBox:{height:x.height,width:x.width},useTranslate3d:f,viewBox:h}),w=v?{}:dc(dc({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=dc(dc({},w),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:y},i)}}var b3=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zn={devToolsEnabled:!1,isSsr:b3()},xS=()=>ae(e=>e.rootProps.accessibilityLayer);function vt(e){return Number.isFinite(e)}function di(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(null,arguments)}function Pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pb(Object(r),!0).forEach(function(n){j3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j3(e,t,r){return(t=w3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w3(e){var t=N3(e,"string");return typeof t=="symbol"?t:t+""}function N3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ob={curveBasisClosed:Z4,curveBasisOpen:J4,curveBasis:Q4,curveBumpX:R4,curveBumpY:$4,curveLinearClosed:eD,curveLinear:Wd,curveMonotoneX:tD,curveMonotoneY:rD,curveNatural:nD,curveStep:aD,curveStepAfter:iD,curveStepBefore:sD},mc=e=>vt(e.x)&&vt(e.y),Xi=e=>e.x,Qi=e=>e.y,C3=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(fl(e));return(r==="curveMonotone"||r==="curveBump")&&t?Ob["".concat(r).concat(t==="vertical"?"Y":"X")]:Ob[r]||Wd},S3=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=C3(t,s),l=i?r.filter(mc):r,c;if(Array.isArray(n)){var d=i?n.filter(m=>mc(m)):n,u=l.map((m,f)=>Tb(Tb({},m),{},{base:d[f]}));return s==="vertical"?c=ac().y(Qi).x1(Xi).x0(m=>m.base.x):c=ac().x(Xi).y1(Qi).y0(m=>m.base.y),c.defined(mc).curve(o),c(u)}return s==="vertical"&&se(n)?c=ac().y(Qi).x1(Xi).x0(n):se(n)?c=ac().x(Xi).y1(Qi).y0(n):c=VC().x(Xi).y(Qi),c.defined(mc).curve(o),c(l)},Vs=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?S3(e):n;return g.createElement("path",np({},Dr(e),Hg(e),{className:fe("recharts-curve",t),d:i===null?void 0:i,ref:s}))},k3=["x","y","top","left","width","height","className"];function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(null,arguments)}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function E3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){A3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A3(e,t,r){return(t=P3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P3(e){var t=T3(e,"string");return typeof t=="symbol"?t:t+""}function T3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O3(e,t){if(e==null)return{};var r,n,s=L3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function L3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var D3=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),M3=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=O3(e,k3),d=E3({x:t,y:r,top:n,left:s,width:i,height:o},c);return!se(t)||!se(r)||!se(i)||!se(o)||!se(n)||!se(s)?null:g.createElement("path",ap({},Te(d,!0),{className:fe("recharts-cross",l),d:D3(t,r,i,o,n,s)}))};function _3(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){R3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R3(e,t,r){return(t=$3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $3(e){var t=B3(e,"string");return typeof t=="symbol"?t:t+""}function B3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nt(e,t){var r=I3({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function U3(){}function Mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mb(Object(r),!0).forEach(function(n){F3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F3(e,t,r){return(t=z3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3(e){var t=H3(e,"string");return typeof t=="symbol"?t:t+""}function H3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),yS=(e,t,r)=>e.map(n=>"".concat(W3(n)," ").concat(t,"ms ").concat(r)).join(","),q3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),Vo=(e,t)=>Object.keys(t).reduce((r,n)=>_b(_b({},r),{},{[n]:e(n,t[n])}),{});function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){G3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G3(e,t,r){return(t=K3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K3(e){var t=V3(e,"string");return typeof t=="symbol"?t:t+""}function V3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ou=(e,t,r)=>e+(t-e)*r,sp=e=>{var{from:t,to:r}=e;return t!==r},vS=(e,t,r)=>{var n=Vo((s,i)=>{if(sp(i)){var[o,l]=e(i.from,i.to,i.velocity);return gt(gt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Vo((s,i)=>sp(i)?gt(gt({},i),{},{velocity:Ou(i.velocity,n[s].velocity,r),from:Ou(i.from,n[s].from,r)}):i,t):vS(e,n,r-1)};function Y3(e,t,r,n,s,i){var o,l=n.reduce((f,h)=>gt(gt({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>Vo((f,h)=>h.from,l),d=()=>!Object.values(l).filter(sp).length,u=null,m=f=>{o||(o=f);var h=f-o,p=h/r.dt;l=vS(r,l,p),s(gt(gt(gt({},e),t),c())),o=f,d()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{u()})}function X3(e,t,r,n,s,i,o){var l=null,c=s.reduce((m,f)=>gt(gt({},m),{},{[f]:[e[f],t[f]]}),{}),d,u=m=>{d||(d=m);var f=(m-d)/n,h=Vo((x,y)=>Ou(...y,r(f)),c);if(i(gt(gt(gt({},e),t),h)),f<1)l=o.setTimeout(u);else{var p=Vo((x,y)=>Ou(...y,r(1)),c);i(gt(gt(gt({},e),t),p))}};return()=>(l=o.setTimeout(u),()=>{l()})}const Q3=(e,t,r,n,s,i)=>{var o=q3(e,t);return r.isStepper===!0?Y3(e,t,r,o,s,i):X3(e,t,r,n,o,s,i)};var Lu=1e-4,bS=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],jS=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Rb=(e,t)=>r=>{var n=bS(e,t);return jS(n,r)},Z3=(e,t)=>r=>{var n=bS(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return jS(s,r)},$b=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([t,n,r,s]=o);var d=Rb(t,r),u=Rb(n,s),m=Z3(t,r),f=p=>p>1?1:p<0?0:p,h=p=>{for(var x=p>1?1:p,y=x,v=0;v<8;++v){var b=d(y)-x,j=m(y);if(Math.abs(b-x)<Lu||j<Lu)return u(y);y=f(y-b/j)}return u(y)};return h.isStepper=!1,h},J3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*n,m=c+(d-u)*s/1e3,f=c*s/1e3+o;return Math.abs(f-l)<Lu&&Math.abs(m)<Lu?[l,0]:[f,m]};return i.isStepper=!0,i.dt=s,i},e6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $b(e);case"spring":return J3();default:if(e.split("(")[0]==="cubic-bezier")return $b(e)}return typeof e=="function"?e:null};function t6(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,d),c);return}i(c),s=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class r6{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function n6(){return t6(new r6)}var a6=g.createContext(n6);function s6(e,t){var r=g.useContext(a6);return g.useMemo(()=>t??r(e),[e,t,r])}var i6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Bb={t:0},yf={t:1};function Ai(e){var t=nt(e,i6),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=s6(t.animationId,t.animationManager),[m,f]=g.useState(r?Bb:yf),h=g.useRef(null);return g.useEffect(()=>{r||f(yf)},[r]),g.useEffect(()=>{if(!r||!n)return U3;var p=Q3(Bb,yf,e6(i),s,f,u.getTimeoutController()),x=()=>{h.current=p()};return u.start([c,o,x,s,l]),()=>{u.stop(),h.current&&h.current(),l()}},[r,n,s,i,o,c,l,u]),d(m.t)}function Pi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(qo(t)),n=g.useRef(e);return n.current!==e&&(r.current=qo(t),n.current=e),r.current}function Ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ub(Object(r),!0).forEach(function(n){o6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o6(e,t,r){return(t=l6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=c6(e,"string");return typeof t=="symbol"?t:t+""}function c6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(null,arguments)}var zb=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&s instanceof Array){for(var u=[0,0,0,0],m=0,f=4;m<f;m++)u[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var h=Math.min(i,s);d="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},u6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wS=e=>{var t=nt(e,u6),r=g.useRef(null),[n,s]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var G=r.current.getTotalLength();G&&s(G)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:m,animationDuration:f,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:x}=t,y=g.useRef(l),v=g.useRef(c),b=g.useRef(i),j=g.useRef(o),w=g.useMemo(()=>({x:i,y:o,width:l,height:c,radius:d}),[i,o,l,c,d]),C=Pi(w,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var S=fe("recharts-rectangle",u);if(!x)return g.createElement("path",Du({},Te(t,!0),{className:S,d:zb(i,o,l,c,d)}));var L=y.current,_=v.current,k=b.current,T=j.current,I="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),z=yS(["strokeDasharray"],f,typeof m=="string"?m:void 0);return g.createElement(Ai,{animationId:C,key:C,canBegin:n>0,duration:f,easing:m,isActive:x,begin:h},G=>{var Z=ve(L,l,G),$=ve(_,c,G),E=ve(k,i,G),O=ve(T,o,G);r.current&&(y.current=Z,v.current=$,b.current=E,j.current=O);var R;return p?G>0?R={transition:z,strokeDasharray:M}:R={strokeDasharray:I}:R={strokeDasharray:M},g.createElement("path",Du({},Te(t,!0),{className:S,d:zb(E,O,Z,$,d),ref:r,style:Fb(Fb({},R),t.style)}))})};function NS(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=Qe(t,r,n,s),l=Qe(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}var d6=(e,t)=>{var r=ct(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},fc=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/Pu,m=c?s:s+i*u,f=Qe(t,r,d,m),h=Qe(t,r,n,m),p=c?s-i*u:s,x=Qe(t,r,d*Math.cos(u*Pu),p);return{center:f,circleTangency:h,lineTangency:x,theta:u}},CS=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=d6(i,o),c=i+l,d=Qe(t,r,s,i),u=Qe(t,r,s,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=Qe(t,r,n,i),h=Qe(t,r,n,c);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},m6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=ct(d-c),{circleTangency:m,lineTangency:f,theta:h}=fc({cx:t,cy:r,radius:s,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:x,theta:y}=fc({cx:t,cy:r,radius:s,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(c-d):Math.abs(c-d)-h-y;if(v<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):CS({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:d});var b="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:w,theta:C}=fc({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:L,theta:_}=fc({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),k=l?Math.abs(c-d):Math.abs(c-d)-C-_;if(k<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},f6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SS=e=>{var t=nt(e,f6),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=t;if(i<s||d===u)return null;var f=fe("recharts-sector",m),h=i-s,p=kt(o,h,0,!0),x;return p>0&&Math.abs(d-u)<360?x=m6({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):x=CS({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),g.createElement("path",ip({},Te(t,!0),{className:f,d:x}))};function h6(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:m}=t,f=Qe(l,c,d,m),h=Qe(l,c,u,m);n=f.x,s=f.y,i=h.x,o=h.y}else return NS(t);return[{x:n,y:s},{x:i,y:o}]}var kS={},ES={},AS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(AS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AS;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ES);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cx,r=ES;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=s,s+=o;return c}e.range=n})(kS);var p6=kS.range;const PS=$n(p6);function xa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bx(e){let t,r,n;e.length!==2?(t=xa,r=(l,c)=>xa(e(l),c),n=(l,c)=>e(l)-c):(t=e===xa||e===g6?e:x6,r=e,n=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=s(l,c,d,u-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function x6(){return 0}function TS(e){return e===null?NaN:+e}function*y6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const v6=bx(xa),vl=v6.right;bx(TS).center;class Hb extends Map{constructor(t,r=w6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Wb(this,t))}has(t){return super.has(Wb(this,t))}set(t,r){return super.set(b6(this,t),r)}delete(t){return super.delete(j6(this,t))}}function Wb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function b6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function j6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function w6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N6(e=xa){if(e===xa)return OS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function OS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const C6=Math.sqrt(50),S6=Math.sqrt(10),k6=Math.sqrt(2);function Mu(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=C6?10:i>=S6?5:i>=k6?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Mu(e,t,r*2):[l,c,d]}function op(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Mu(t,e,r):Mu(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function lp(e,t,r){return t=+t,e=+e,r=+r,Mu(e,t,r)[2]}function cp(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?lp(t,e,r):lp(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function qb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Gb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LS(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?OS:N6(s);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),m=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*m/c+f)),p=Math.min(n,Math.floor(t+(c-d)*m/c+f));LS(e,t,h,p,s)}const i=e[t];let o=r,l=n;for(Zi(e,r,t),s(e[n],i)>0&&Zi(e,r,n);o<l;){for(Zi(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Zi(e,r,l):(++l,Zi(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Zi(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function E6(e,t,r){if(e=Float64Array.from(y6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Gb(e);if(t>=1)return qb(e);var n,s=(n-1)*t,i=Math.floor(s),o=qb(LS(e,i).subarray(0,i+1)),l=Gb(e.subarray(i+1));return o+(l-o)*(s-i)}}function A6(e,t,r=TS){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function P6(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const up=Symbol("implicit");function jx(){var e=new Hb,t=[],r=[],n=up;function s(i){let o=e.get(i);if(o===void 0){if(n!==up)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Hb;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return jx(t,r).unknown(n)},Mr.apply(s,arguments),s}function wx(){var e=jx().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var f=t().length,h=s<n,p=h?s:n,x=h?n:s;i=(x-p)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),p+=(x-p-i*(f-c))*u,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var y=P6(f).map(function(v){return p+i*v});return r(h?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),m()):t()},e.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,m()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),m()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,m()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),m()):u},e.copy=function(){return wx(t(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},Mr.apply(m(),arguments)}function DS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DS(t())},e}function T6(){return DS(wx.apply(null,arguments).paddingInner(1))}function Nx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function bl(){}var Yo=.7,_u=1/Yo,Ys="\\s*([+-]?\\d+)\\s*",Xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O6=/^#([0-9a-f]{3,8})$/,L6=new RegExp(`^rgb\\(${Ys},${Ys},${Ys}\\)$`),D6=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),M6=new RegExp(`^rgba\\(${Ys},${Ys},${Ys},${Xo}\\)$`),_6=new RegExp(`^rgba\\(${sn},${sn},${sn},${Xo}\\)$`),I6=new RegExp(`^hsl\\(${Xo},${sn},${sn}\\)$`),R6=new RegExp(`^hsla\\(${Xo},${sn},${sn},${Xo}\\)$`),Kb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nx(bl,Qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vb,formatHex:Vb,formatHex8:$6,formatHsl:B6,formatRgb:Yb,toString:Yb});function Vb(){return this.rgb().formatHex()}function $6(){return this.rgb().formatHex8()}function B6(){return _S(this).formatHsl()}function Yb(){return this.rgb().formatRgb()}function Qo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=O6.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Xb(t):r===3?new qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=L6.exec(e))?new qt(t[1],t[2],t[3],1):(t=D6.exec(e))?new qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M6.exec(e))?hc(t[1],t[2],t[3],t[4]):(t=_6.exec(e))?hc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=I6.exec(e))?Jb(t[1],t[2]/100,t[3]/100,1):(t=R6.exec(e))?Jb(t[1],t[2]/100,t[3]/100,t[4]):Kb.hasOwnProperty(e)?Xb(Kb[e]):e==="transparent"?new qt(NaN,NaN,NaN,0):null}function Xb(e){return new qt(e>>16&255,e>>8&255,e&255,1)}function hc(e,t,r,n){return n<=0&&(e=t=r=NaN),new qt(e,t,r,n)}function U6(e){return e instanceof bl||(e=Qo(e)),e?(e=e.rgb(),new qt(e.r,e.g,e.b,e.opacity)):new qt}function dp(e,t,r,n){return arguments.length===1?U6(e):new qt(e,t,r,n??1)}function qt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Nx(qt,dp,MS(bl,{brighter(e){return e=e==null?_u:Math.pow(_u,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yo:Math.pow(Yo,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qt(es(this.r),es(this.g),es(this.b),Iu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qb,formatHex:Qb,formatHex8:F6,formatRgb:Zb,toString:Zb}));function Qb(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}`}function F6(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}${Ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zb(){const e=Iu(this.opacity);return`${e===1?"rgb(":"rgba("}${es(this.r)}, ${es(this.g)}, ${es(this.b)}${e===1?")":`, ${e})`}`}function Iu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function es(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ga(e){return e=es(e),(e<16?"0":"")+e.toString(16)}function Jb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wr(e,t,r,n)}function _S(e){if(e instanceof Wr)return new Wr(e.h,e.s,e.l,e.opacity);if(e instanceof bl||(e=Qo(e)),!e)return new Wr;if(e instanceof Wr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Wr(o,l,c,e.opacity)}function z6(e,t,r,n){return arguments.length===1?_S(e):new Wr(e,t,r,n??1)}function Wr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Nx(Wr,z6,MS(bl,{brighter(e){return e=e==null?_u:Math.pow(_u,e),new Wr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yo:Math.pow(Yo,e),new Wr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new qt(vf(e>=240?e-240:e+120,s,n),vf(e,s,n),vf(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Wr(ej(this.h),pc(this.s),pc(this.l),Iu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Iu(this.opacity);return`${e===1?"hsl(":"hsla("}${ej(this.h)}, ${pc(this.s)*100}%, ${pc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ej(e){return e=(e||0)%360,e<0?e+360:e}function pc(e){return Math.max(0,Math.min(1,e||0))}function vf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Cx=e=>()=>e;function H6(e,t){return function(r){return e+r*t}}function W6(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function q6(e){return(e=+e)==1?IS:function(t,r){return r-t?W6(t,r,e):Cx(isNaN(t)?r:t)}}function IS(e,t){var r=t-e;return r?H6(e,r):Cx(isNaN(e)?t:e)}const tj=function e(t){var r=q6(t);function n(s,i){var o=r((s=dp(s)).r,(i=dp(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=IS(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return n.gamma=e,n}(1);function G6(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function K6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Ti(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Y6(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ru(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function X6(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Ti(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var mp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bf=new RegExp(mp.source,"g");function Q6(e){return function(){return e}}function Z6(e){return function(t){return e(t)+""}}function J6(e,t){var r=mp.lastIndex=bf.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=mp.exec(e))&&(s=bf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Ru(n,s)})),r=bf.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Z6(c[0].x):Q6(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function Ti(e,t){var r=typeof t,n;return t==null||r==="boolean"?Cx(t):(r==="number"?Ru:r==="string"?(n=Qo(t))?(t=n,tj):J6:t instanceof Qo?tj:t instanceof Date?Y6:K6(t)?G6:Array.isArray(t)?V6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?X6:Ru)(e,t)}function Sx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function eI(e,t){t===void 0&&(t=e,e=Ti);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function tI(e){return function(){return e}}function $u(e){return+e}var rj=[0,1];function Dt(e){return e}function fp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:tI(isNaN(t)?NaN:.5)}function rI(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function nI(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=fp(s,n),i=r(o,i)):(n=fp(n,s),i=r(i,o)),function(l){return i(n(l))}}function aI(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=fp(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=vl(e,l,1,n)-1;return i[c](s[c](l))}}function jl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function am(){var e=rj,t=rj,r=Ti,n,s,i,o=Dt,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==Dt&&(o=rI(e[0],e[f-1])),l=f>2?aI:nI,c=d=null,m}function m(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return m.invert=function(f){return o(s((d||(d=l(t,e.map(n),Ru)))(f)))},m.domain=function(f){return arguments.length?(e=Array.from(f,$u),u()):e.slice()},m.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},m.rangeRound=function(f){return t=Array.from(f),r=Sx,u()},m.clamp=function(f){return arguments.length?(o=f?!0:Dt,u()):o!==Dt},m.interpolate=function(f){return arguments.length?(r=f,u()):r},m.unknown=function(f){return arguments.length?(i=f,m):i},function(f,h){return n=f,s=h,u()}}function kx(){return am()(Dt,Dt)}function sI(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function mi(e){return e=Bu(Math.abs(e)),e?e[1]:NaN}function iI(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function oI(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var lI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zo(e){if(!(t=lI.exec(e)))throw new Error("invalid format: "+e);var t;return new Ex({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zo.prototype=Ex.prototype;function Ex(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ex.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cI(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var RS;function uI(e,t){var r=Bu(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(RS=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Bu(e,Math.max(0,t+i-1))[0]}function nj(e,t){var r=Bu(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const aj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sI,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nj(e*100,t),r:nj,s:uI,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sj(e){return e}var ij=Array.prototype.map,oj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dI(e){var t=e.grouping===void 0||e.thousands===void 0?sj:iI(ij.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?sj:oI(ij.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Zo(m);var f=m.fill,h=m.align,p=m.sign,x=m.symbol,y=m.zero,v=m.width,b=m.comma,j=m.precision,w=m.trim,C=m.type;C==="n"?(b=!0,C="g"):aj[C]||(j===void 0&&(j=12),w=!0,C="g"),(y||f==="0"&&h==="=")&&(y=!0,f="0",h="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",L=x==="$"?n:/[%p]/.test(C)?o:"",_=aj[C],k=/[defgprs%]/.test(C);j=j===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function T(I){var M=S,z=L,G,Z,$;if(C==="c")z=_(I)+z,I="";else{I=+I;var E=I<0||1/I<0;if(I=isNaN(I)?c:_(Math.abs(I),j),w&&(I=cI(I)),E&&+I==0&&p!=="+"&&(E=!1),M=(E?p==="("?p:l:p==="-"||p==="("?"":p)+M,z=(C==="s"?oj[8+RS/3]:"")+z+(E&&p==="("?")":""),k){for(G=-1,Z=I.length;++G<Z;)if($=I.charCodeAt(G),48>$||$>57){z=($===46?s+I.slice(G+1):I.slice(G))+z,I=I.slice(0,G);break}}}b&&!y&&(I=t(I,1/0));var O=M.length+I.length+z.length,R=O<v?new Array(v-O+1).join(f):"";switch(b&&y&&(I=t(R+I,R.length?v-z.length:1/0),R=""),h){case"<":I=M+I+z+R;break;case"=":I=M+R+I+z;break;case"^":I=R.slice(0,O=R.length>>1)+M+I+z+R.slice(O);break;default:I=R+M+I+z;break}return i(I)}return T.toString=function(){return m+""},T}function u(m,f){var h=d((m=Zo(m),m.type="f",m)),p=Math.max(-8,Math.min(8,Math.floor(mi(f)/3)))*3,x=Math.pow(10,-p),y=oj[8+p/3];return function(v){return h(x*v)+y}}return{format:d,formatPrefix:u}}var gc,Ax,$S;mI({thousands:",",grouping:[3],currency:["$",""]});function mI(e){return gc=dI(e),Ax=gc.format,$S=gc.formatPrefix,gc}function fI(e){return Math.max(0,-mi(Math.abs(e)))}function hI(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mi(t)/3)))*3-mi(Math.abs(e)))}function pI(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mi(t)-mi(e))+1}function BS(e,t,r,n){var s=cp(e,t,r),i;switch(n=Zo(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=hI(s,o))&&(n.precision=i),$S(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=pI(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=fI(s))&&(n.precision=i-(n.type==="%")*2);break}}return Ax(n)}function Oa(e){var t=e.domain;return e.ticks=function(r){var n=t();return op(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return BS(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=lp(o,l,r),d===c)return n[s]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function US(){var e=kx();return e.copy=function(){return jl(e,US())},Mr.apply(e,arguments),Oa(e)}function FS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$u),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return FS(e).unknown(t)},e=arguments.length?Array.from(e,$u):[0,1],Oa(r)}function zS(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function lj(e){return Math.log(e)}function cj(e){return Math.exp(e)}function gI(e){return-Math.log(-e)}function xI(e){return-Math.exp(-e)}function yI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vI(e){return e===10?yI:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bI(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uj(e){return(t,r)=>-e(-t,r)}function Px(e){const t=e(lj,cj),r=t.domain;let n=10,s,i;function o(){return s=bI(n),i=vI(n),r()[0]<0?(s=uj(s),i=uj(i),e(gI,xI)):e(lj,cj),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let f=s(d),h=s(u),p,x;const y=l==null?10:+l;let v=[];if(!(n%1)&&h-f<y){if(f=Math.floor(f),h=Math.ceil(h),d>0){for(;f<=h;++f)for(p=1;p<n;++p)if(x=f<0?p/i(-f):p*i(f),!(x<d)){if(x>u)break;v.push(x)}}else for(;f<=h;++f)for(p=n-1;p>=1;--p)if(x=f>0?p/i(-f):p*i(f),!(x<d)){if(x>u)break;v.push(x)}v.length*2<y&&(v=op(d,u,y))}else v=op(f,h,Math.min(h-f,y)).map(i);return m?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Zo(c)).precision==null&&(c.trim=!0),c=Ax(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let m=u/i(Math.round(s(u)));return m*n<n-.5&&(m*=n),m<=d?c(u):""}},t.nice=()=>r(zS(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function HS(){const e=Px(am()).domain([1,10]);return e.copy=()=>jl(e,HS()).base(e.base()),Mr.apply(e,arguments),e}function dj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tx(e){var t=1,r=e(dj(t),mj(t));return r.constant=function(n){return arguments.length?e(dj(t=+n),mj(t)):t},Oa(r)}function WS(){var e=Tx(am());return e.copy=function(){return jl(e,WS()).constant(e.constant())},Mr.apply(e,arguments)}function fj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jI(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wI(e){return e<0?-e*e:e*e}function Ox(e){var t=e(Dt,Dt),r=1;function n(){return r===1?e(Dt,Dt):r===.5?e(jI,wI):e(fj(r),fj(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Oa(t)}function Lx(){var e=Ox(am());return e.copy=function(){return jl(e,Lx()).exponent(e.exponent())},Mr.apply(e,arguments),e}function NI(){return Lx.apply(null,arguments).exponent(.5)}function hj(e){return Math.sign(e)*e*e}function CI(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qS(){var e=kx(),t=[0,1],r=!1,n;function s(i){var o=CI(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(hj(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,$u)).map(hj)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return qS(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Mr.apply(s,arguments),Oa(s)}function GS(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=A6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[vl(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(xa),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return GS().domain(e).range(t).unknown(n)},Mr.apply(i,arguments)}function KS(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[vl(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return KS().domain([e,t]).range(s).unknown(i)},Mr.apply(Oa(o),arguments)}function VS(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[vl(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return VS().domain(e).range(t).unknown(r)},Mr.apply(s,arguments)}const jf=new Date,wf=new Date;function at(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>at(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(jf.setTime(+i),wf.setTime(+o),e(jf),e(wf),Math.floor(r(jf,wf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Uu=at(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?at(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Uu);Uu.range;const bn=1e3,kr=bn*60,jn=kr*60,Mn=jn*24,Dx=Mn*7,pj=Mn*30,Nf=Mn*365,Ka=at(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bn)},(e,t)=>(t-e)/bn,e=>e.getUTCSeconds());Ka.range;const Mx=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bn)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getMinutes());Mx.range;const _x=at(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getUTCMinutes());_x.range;const Ix=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bn-e.getMinutes()*kr)},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getHours());Ix.range;const Rx=at(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getUTCHours());Rx.range;const wl=at(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kr)/Mn,e=>e.getDate()-1);wl.range;const sm=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mn,e=>e.getUTCDate()-1);sm.range;const YS=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mn,e=>Math.floor(e/Mn));YS.range;function js(e){return at(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*kr)/Dx)}const im=js(0),Fu=js(1),SI=js(2),kI=js(3),fi=js(4),EI=js(5),AI=js(6);im.range;Fu.range;SI.range;kI.range;fi.range;EI.range;AI.range;function ws(e){return at(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Dx)}const om=ws(0),zu=ws(1),PI=ws(2),TI=ws(3),hi=ws(4),OI=ws(5),LI=ws(6);om.range;zu.range;PI.range;TI.range;hi.range;OI.range;LI.range;const $x=at(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$x.range;const Bx=at(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Bx.range;const _n=at(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_n.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_n.range;const In=at(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());In.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});In.range;function XS(e,t,r,n,s,i){const o=[[Ka,1,bn],[Ka,5,5*bn],[Ka,15,15*bn],[Ka,30,30*bn],[i,1,kr],[i,5,5*kr],[i,15,15*kr],[i,30,30*kr],[s,1,jn],[s,3,3*jn],[s,6,6*jn],[s,12,12*jn],[n,1,Mn],[n,2,2*Mn],[r,1,Dx],[t,1,pj],[t,3,3*pj],[e,1,Nf]];function l(d,u,m){const f=u<d;f&&([d,u]=[u,d]);const h=m&&typeof m.range=="function"?m:c(d,u,m),p=h?h.range(d,+u+1):[];return f?p.reverse():p}function c(d,u,m){const f=Math.abs(u-d)/m,h=bx(([,,y])=>y).right(o,f);if(h===o.length)return e.every(cp(d/Nf,u/Nf,m));if(h===0)return Uu.every(Math.max(cp(d,u,m),1));const[p,x]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(x)}return[l,c]}const[DI,MI]=XS(In,Bx,om,YS,Rx,_x),[_I,II]=XS(_n,$x,im,wl,Ix,Mx);function Cf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ji(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function RI(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=eo(s),u=to(s),m=eo(i),f=to(i),h=eo(o),p=to(o),x=eo(l),y=to(l),v=eo(c),b=to(c),j={a:E,A:O,b:R,B:U,c:null,d:jj,e:jj,f:iR,g:gR,G:yR,H:nR,I:aR,j:sR,L:QS,m:oR,M:lR,p:B,q:A,Q:Cj,s:Sj,S:cR,u:uR,U:dR,V:mR,w:fR,W:hR,x:null,X:null,y:pR,Y:xR,Z:vR,"%":Nj},w={a:P,A:N,b:D,B:W,c:null,d:wj,e:wj,f:NR,g:DR,G:_R,H:bR,I:jR,j:wR,L:JS,m:CR,M:SR,p:X,q:J,Q:Cj,s:Sj,S:kR,u:ER,U:AR,V:PR,w:TR,W:OR,x:null,X:null,y:LR,Y:MR,Z:IR,"%":Nj},C={a:T,A:I,b:M,B:z,c:G,d:vj,e:vj,f:JI,g:yj,G:xj,H:bj,I:bj,j:YI,L:ZI,m:VI,M:XI,p:k,q:KI,Q:tR,s:rR,S:QI,u:zI,U:HI,V:WI,w:FI,W:qI,x:Z,X:$,y:yj,Y:xj,Z:GI,"%":eR};j.x=S(r,j),j.X=S(n,j),j.c=S(t,j),w.x=S(r,w),w.X=S(n,w),w.c=S(t,w);function S(F,ee){return function(ne){var K=[],We=-1,ue=0,le=F.length,ge,Se,Kn;for(ne instanceof Date||(ne=new Date(+ne));++We<le;)F.charCodeAt(We)===37&&(K.push(F.slice(ue,We)),(Se=gj[ge=F.charAt(++We)])!=null?ge=F.charAt(++We):Se=ge==="e"?" ":"0",(Kn=ee[ge])&&(ge=Kn(ne,Se)),K.push(ge),ue=We+1);return K.push(F.slice(ue,We)),K.join("")}}function L(F,ee){return function(ne){var K=Ji(1900,void 0,1),We=_(K,F,ne+="",0),ue,le;if(We!=ne.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ee&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ue=Sf(Ji(K.y,0,1)),le=ue.getUTCDay(),ue=le>4||le===0?zu.ceil(ue):zu(ue),ue=sm.offset(ue,(K.V-1)*7),K.y=ue.getUTCFullYear(),K.m=ue.getUTCMonth(),K.d=ue.getUTCDate()+(K.w+6)%7):(ue=Cf(Ji(K.y,0,1)),le=ue.getDay(),ue=le>4||le===0?Fu.ceil(ue):Fu(ue),ue=wl.offset(ue,(K.V-1)*7),K.y=ue.getFullYear(),K.m=ue.getMonth(),K.d=ue.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),le="Z"in K?Sf(Ji(K.y,0,1)).getUTCDay():Cf(Ji(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(le+5)%7:K.w+K.U*7-(le+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Sf(K)):Cf(K)}}function _(F,ee,ne,K){for(var We=0,ue=ee.length,le=ne.length,ge,Se;We<ue;){if(K>=le)return-1;if(ge=ee.charCodeAt(We++),ge===37){if(ge=ee.charAt(We++),Se=C[ge in gj?ee.charAt(We++):ge],!Se||(K=Se(F,ne,K))<0)return-1}else if(ge!=ne.charCodeAt(K++))return-1}return K}function k(F,ee,ne){var K=d.exec(ee.slice(ne));return K?(F.p=u.get(K[0].toLowerCase()),ne+K[0].length):-1}function T(F,ee,ne){var K=h.exec(ee.slice(ne));return K?(F.w=p.get(K[0].toLowerCase()),ne+K[0].length):-1}function I(F,ee,ne){var K=m.exec(ee.slice(ne));return K?(F.w=f.get(K[0].toLowerCase()),ne+K[0].length):-1}function M(F,ee,ne){var K=v.exec(ee.slice(ne));return K?(F.m=b.get(K[0].toLowerCase()),ne+K[0].length):-1}function z(F,ee,ne){var K=x.exec(ee.slice(ne));return K?(F.m=y.get(K[0].toLowerCase()),ne+K[0].length):-1}function G(F,ee,ne){return _(F,t,ee,ne)}function Z(F,ee,ne){return _(F,r,ee,ne)}function $(F,ee,ne){return _(F,n,ee,ne)}function E(F){return o[F.getDay()]}function O(F){return i[F.getDay()]}function R(F){return c[F.getMonth()]}function U(F){return l[F.getMonth()]}function B(F){return s[+(F.getHours()>=12)]}function A(F){return 1+~~(F.getMonth()/3)}function P(F){return o[F.getUTCDay()]}function N(F){return i[F.getUTCDay()]}function D(F){return c[F.getUTCMonth()]}function W(F){return l[F.getUTCMonth()]}function X(F){return s[+(F.getUTCHours()>=12)]}function J(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var ee=S(F+="",j);return ee.toString=function(){return F},ee},parse:function(F){var ee=L(F+="",!1);return ee.toString=function(){return F},ee},utcFormat:function(F){var ee=S(F+="",w);return ee.toString=function(){return F},ee},utcParse:function(F){var ee=L(F+="",!0);return ee.toString=function(){return F},ee}}}var gj={"-":"",_:" ",0:"0"},mt=/^\s*\d+/,$I=/^%/,BI=/[\\^$*+?|[\]().{}]/g;function pe(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function UI(e){return e.replace(BI,"\\$&")}function eo(e){return new RegExp("^(?:"+e.map(UI).join("|")+")","i")}function to(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function FI(e,t,r){var n=mt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zI(e,t,r){var n=mt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function HI(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function WI(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function qI(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xj(e,t,r){var n=mt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function yj(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GI(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KI(e,t,r){var n=mt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function VI(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function vj(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function YI(e,t,r){var n=mt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function bj(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function XI(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function QI(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ZI(e,t,r){var n=mt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function JI(e,t,r){var n=mt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function eR(e,t,r){var n=$I.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function tR(e,t,r){var n=mt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function rR(e,t,r){var n=mt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jj(e,t){return pe(e.getDate(),t,2)}function nR(e,t){return pe(e.getHours(),t,2)}function aR(e,t){return pe(e.getHours()%12||12,t,2)}function sR(e,t){return pe(1+wl.count(_n(e),e),t,3)}function QS(e,t){return pe(e.getMilliseconds(),t,3)}function iR(e,t){return QS(e,t)+"000"}function oR(e,t){return pe(e.getMonth()+1,t,2)}function lR(e,t){return pe(e.getMinutes(),t,2)}function cR(e,t){return pe(e.getSeconds(),t,2)}function uR(e){var t=e.getDay();return t===0?7:t}function dR(e,t){return pe(im.count(_n(e)-1,e),t,2)}function ZS(e){var t=e.getDay();return t>=4||t===0?fi(e):fi.ceil(e)}function mR(e,t){return e=ZS(e),pe(fi.count(_n(e),e)+(_n(e).getDay()===4),t,2)}function fR(e){return e.getDay()}function hR(e,t){return pe(Fu.count(_n(e)-1,e),t,2)}function pR(e,t){return pe(e.getFullYear()%100,t,2)}function gR(e,t){return e=ZS(e),pe(e.getFullYear()%100,t,2)}function xR(e,t){return pe(e.getFullYear()%1e4,t,4)}function yR(e,t){var r=e.getDay();return e=r>=4||r===0?fi(e):fi.ceil(e),pe(e.getFullYear()%1e4,t,4)}function vR(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pe(t/60|0,"0",2)+pe(t%60,"0",2)}function wj(e,t){return pe(e.getUTCDate(),t,2)}function bR(e,t){return pe(e.getUTCHours(),t,2)}function jR(e,t){return pe(e.getUTCHours()%12||12,t,2)}function wR(e,t){return pe(1+sm.count(In(e),e),t,3)}function JS(e,t){return pe(e.getUTCMilliseconds(),t,3)}function NR(e,t){return JS(e,t)+"000"}function CR(e,t){return pe(e.getUTCMonth()+1,t,2)}function SR(e,t){return pe(e.getUTCMinutes(),t,2)}function kR(e,t){return pe(e.getUTCSeconds(),t,2)}function ER(e){var t=e.getUTCDay();return t===0?7:t}function AR(e,t){return pe(om.count(In(e)-1,e),t,2)}function ek(e){var t=e.getUTCDay();return t>=4||t===0?hi(e):hi.ceil(e)}function PR(e,t){return e=ek(e),pe(hi.count(In(e),e)+(In(e).getUTCDay()===4),t,2)}function TR(e){return e.getUTCDay()}function OR(e,t){return pe(zu.count(In(e)-1,e),t,2)}function LR(e,t){return pe(e.getUTCFullYear()%100,t,2)}function DR(e,t){return e=ek(e),pe(e.getUTCFullYear()%100,t,2)}function MR(e,t){return pe(e.getUTCFullYear()%1e4,t,4)}function _R(e,t){var r=e.getUTCDay();return e=r>=4||r===0?hi(e):hi.ceil(e),pe(e.getUTCFullYear()%1e4,t,4)}function IR(){return"+0000"}function Nj(){return"%"}function Cj(e){return+e}function Sj(e){return Math.floor(+e/1e3)}var ks,tk,rk;RR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RR(e){return ks=RI(e),tk=ks.format,ks.parse,rk=ks.utcFormat,ks.utcParse,ks}function $R(e){return new Date(e)}function BR(e){return e instanceof Date?+e:+new Date(+e)}function Ux(e,t,r,n,s,i,o,l,c,d){var u=kx(),m=u.invert,f=u.domain,h=d(".%L"),p=d(":%S"),x=d("%I:%M"),y=d("%I %p"),v=d("%a %d"),b=d("%b %d"),j=d("%B"),w=d("%Y");function C(S){return(c(S)<S?h:l(S)<S?p:o(S)<S?x:i(S)<S?y:n(S)<S?s(S)<S?v:b:r(S)<S?j:w)(S)}return u.invert=function(S){return new Date(m(S))},u.domain=function(S){return arguments.length?f(Array.from(S,BR)):f().map($R)},u.ticks=function(S){var L=f();return e(L[0],L[L.length-1],S??10)},u.tickFormat=function(S,L){return L==null?C:d(L)},u.nice=function(S){var L=f();return(!S||typeof S.range!="function")&&(S=t(L[0],L[L.length-1],S??10)),S?f(zS(L,S)):u},u.copy=function(){return jl(u,Ux(e,t,r,n,s,i,o,l,c,d))},u}function UR(){return Mr.apply(Ux(_I,II,_n,$x,im,wl,Ix,Mx,Ka,tk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FR(){return Mr.apply(Ux(DI,MI,In,Bx,om,sm,Rx,_x,Ka,rk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lm(){var e=0,t=1,r,n,s,i,o=Dt,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(f){var h,p;return arguments.length?([h,p]=f,o=m(h,p),d):[o(0),o(1)]}}return d.range=u(Ti),d.rangeRound=u(Sx),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),d}}function La(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nk(){var e=Oa(lm()(Dt));return e.copy=function(){return La(e,nk())},Hn.apply(e,arguments)}function ak(){var e=Px(lm()).domain([1,10]);return e.copy=function(){return La(e,ak()).base(e.base())},Hn.apply(e,arguments)}function sk(){var e=Tx(lm());return e.copy=function(){return La(e,sk()).constant(e.constant())},Hn.apply(e,arguments)}function Fx(){var e=Ox(lm());return e.copy=function(){return La(e,Fx()).exponent(e.exponent())},Hn.apply(e,arguments)}function zR(){return Fx.apply(null,arguments).exponent(.5)}function ik(){var e=[],t=Dt;function r(n){if(n!=null&&!isNaN(n=+n))return t((vl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(xa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>E6(e,i/n))},r.copy=function(){return ik(t).domain(e)},Hn.apply(r,arguments)}function cm(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,d=Dt,u,m=!1,f;function h(x){return isNaN(x=+x)?f:(x=.5+((x=+u(x))-i)*(n*x<n*i?l:c),d(m?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t,r]=x,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h):[e,t,r]},h.clamp=function(x){return arguments.length?(m=!!x,h):m},h.interpolator=function(x){return arguments.length?(d=x,h):d};function p(x){return function(y){var v,b,j;return arguments.length?([v,b,j]=y,d=eI(x,[v,b,j]),h):[d(0),d(.5),d(1)]}}return h.range=p(Ti),h.rangeRound=p(Sx),h.unknown=function(x){return arguments.length?(f=x,h):f},function(x){return u=x,s=x(e),i=x(t),o=x(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h}}function ok(){var e=Oa(cm()(Dt));return e.copy=function(){return La(e,ok())},Hn.apply(e,arguments)}function lk(){var e=Px(cm()).domain([.1,1,10]);return e.copy=function(){return La(e,lk()).base(e.base())},Hn.apply(e,arguments)}function ck(){var e=Tx(cm());return e.copy=function(){return La(e,ck()).constant(e.constant())},Hn.apply(e,arguments)}function zx(){var e=Ox(cm());return e.copy=function(){return La(e,zx()).exponent(e.exponent())},Hn.apply(e,arguments)}function HR(){return zx.apply(null,arguments).exponent(.5)}const co=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wx,scaleDiverging:ok,scaleDivergingLog:lk,scaleDivergingPow:zx,scaleDivergingSqrt:HR,scaleDivergingSymlog:ck,scaleIdentity:FS,scaleImplicit:up,scaleLinear:US,scaleLog:HS,scaleOrdinal:jx,scalePoint:T6,scalePow:Lx,scaleQuantile:GS,scaleQuantize:KS,scaleRadial:qS,scaleSequential:nk,scaleSequentialLog:ak,scaleSequentialPow:Fx,scaleSequentialQuantile:ik,scaleSequentialSqrt:zR,scaleSequentialSymlog:sk,scaleSqrt:NI,scaleSymlog:WS,scaleThreshold:VS,scaleTime:UR,scaleUtc:FR,tickFormat:BS},Symbol.toStringTag,{value:"Module"}));var Da=e=>e.chartData,Hx=H([Da],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Nl=(e,t,r,n)=>n?Hx(e):Da(e);function pi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(vt(t)&&vt(r))return!0}return!1}function kj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function WR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(vt(r))s=r;else if(typeof r=="function")return;if(vt(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(pi(o))return o}}function qR(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(pi(n))return kj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(se(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&bb.test(s)){var c=bb.exec(s);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(se(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&jb.test(i)){var u=jb.exec(i);if(u==null||t==null)l=void 0;else{var m=+u[1];l=t[1]+m}}else l=t==null?void 0:t[1];var f=[o,l];if(pi(f))return t==null?f:kj(f,t,r)}}}var Oi=1e9,GR={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qx,_e=!0,Or="[DecimalError] ",ts=Or+"Invalid argument: ",Wx=Or+"Exponent out of range: ",Li=Math.floor,Ba=Math.pow,KR=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ir,ot=1e7,Ee=7,uk=9007199254740991,Hu=Li(uk/Ee),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ee;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return Sn(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return je(Sn(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return Ze(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ir))throw Error(Or+"NaN");if(r.s<1)throw Error(Or+(r.s?"NaN":"-Infinity"));return r.eq(ir)?new n(0):(_e=!1,t=Sn(Jo(r,i),Jo(e,i),i),_e=!0,je(t,s))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fk(t,e):dk(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Or+"NaN");return r.s?(_e=!1,t=Sn(r,e,0,1).times(e),_e=!0,r.minus(t)):je(new n(r),s)};re.naturalExponential=re.exp=function(){return mk(this)};re.naturalLogarithm=re.ln=function(){return Jo(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dk(t,e):fk(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ts+e);if(t=Ze(s)+1,n=s.d.length-1,r=n*Ee+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Or+"NaN")}for(e=Ze(l),_e=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=rn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Li((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Sn(l,i,o+2)).times(.5),rn(i.d).slice(0,o)===(t=rn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(je(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return _e=!0,je(n,r)};re.times=re.mul=function(e){var t,r,n,s,i,o,l,c,d,u=this,m=u.constructor,f=u.d,h=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,r=u.e+e.e,c=f.length,d=h.length,c<d&&(i=f,f=h,h=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+h[n]*f[s-n-1]+t,i[s--]=l%ot|0,t=l/ot|0;i[s]=(i[s]+t)%ot|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,_e?je(e,m.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(cn(e,0,Oi),t===void 0?t=n.rounding:cn(t,0,8),je(r,e+Ze(r)+1,t))};re.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=hs(n,!0):(cn(e,0,Oi),t===void 0?t=s.rounding:cn(t,0,8),n=je(new s(n),e+1,t),r=hs(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?hs(s):(cn(e,0,Oi),t===void 0?t=i.rounding:cn(t,0,8),n=je(new i(s),e+Ze(s)+1,t),r=hs(n.abs(),!1,e+Ze(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return je(new t(e),Ze(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(ir);if(l=new c(l),!l.s){if(e.s<1)throw Error(Or+"Infinity");return l}if(l.eq(ir))return l;if(n=c.precision,e.eq(ir))return je(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=uk){for(s=new c(ir),t=Math.ceil(n/Ee+4),_e=!1;r%2&&(s=s.times(l),Aj(s.d,t)),r=Li(r/2),r!==0;)l=l.times(l),Aj(l.d,t);return _e=!0,e.s<0?new c(ir).div(s):je(s,n)}}else if(i<0)throw Error(Or+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,_e=!1,s=e.times(Jo(l,n+d)),_e=!0,s=mk(s),s.s=i,s};re.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ze(s),n=hs(s,r<=i.toExpNeg||r>=i.toExpPos)):(cn(e,1,Oi),t===void 0?t=i.rounding:cn(t,0,8),s=je(new i(s),e,t),r=Ze(s),n=hs(s,e<=r||r<=i.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(cn(e,1,Oi),t===void 0?t=n.rounding:cn(t,0,8)),je(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ze(e),r=e.constructor;return hs(e,t<=r.toExpNeg||t>=r.toExpPos)};function dk(e,t){var r,n,s,i,o,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),_e?je(t,m):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(m/Ee),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/ot|0,c[i]%=ot;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,_e?je(t,m):t}function cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ts+e)}function rn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Ee-n.length,r&&(i+=ea(r)),i+=n;o=e[t],n=o+"",r=Ee-n.length,r&&(i+=ea(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Sn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%ot|0,o=i/ot|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*ot+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,u,m,f,h,p,x,y,v,b,j,w,C,S,L,_,k=n.constructor,T=n.s==s.s?1:-1,I=n.d,M=s.d;if(!n.s)return new k(n);if(!s.s)throw Error(Or+"Division by zero");for(c=n.e-s.e,L=M.length,C=I.length,h=new k(T),p=h.d=[],d=0;M[d]==(I[d]||0);)++d;if(M[d]>(I[d]||0)&&--c,i==null?b=i=k.precision:o?b=i+(Ze(n)-Ze(s))+1:b=i,b<0)return new k(0);if(b=b/Ee+2|0,d=0,L==1)for(u=0,M=M[0],b++;(d<C||u)&&b--;d++)j=u*ot+(I[d]||0),p[d]=j/M|0,u=j%M|0;else{for(u=ot/(M[0]+1)|0,u>1&&(M=e(M,u),I=e(I,u),L=M.length,C=I.length),w=L,x=I.slice(0,L),y=x.length;y<L;)x[y++]=0;_=M.slice(),_.unshift(0),S=M[0],M[1]>=ot/2&&++S;do u=0,l=t(M,x,L,y),l<0?(v=x[0],L!=y&&(v=v*ot+(x[1]||0)),u=v/S|0,u>1?(u>=ot&&(u=ot-1),m=e(M,u),f=m.length,y=x.length,l=t(m,x,f,y),l==1&&(u--,r(m,L<f?_:M,f))):(u==0&&(l=u=1),m=M.slice()),f=m.length,f<y&&m.unshift(0),r(x,m,y),l==-1&&(y=x.length,l=t(M,x,L,y),l<1&&(u++,r(x,L<y?_:M,y))),y=x.length):l===0&&(u++,x=[0]),p[d++]=u,l&&x[0]?x[y++]=I[w]||0:(x=[I[w]],y=1);while((w++<C||x[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=c,je(h,o?i+Ze(h)+1:i)}}();function mk(e,t){var r,n,s,i,o,l,c=0,d=0,u=e.constructor,m=u.precision;if(Ze(e)>16)throw Error(Wx+Ze(e));if(!e.s)return new u(ir);for(_e=!1,l=m,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Ba(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new u(ir),u.precision=l;;){if(s=je(s.times(e),l),r=r.times(++c),o=i.plus(Sn(s,r,l)),rn(o.d).slice(0,l)===rn(i.d).slice(0,l)){for(;d--;)i=je(i.times(i),l);return u.precision=m,t==null?(_e=!0,je(i,m)):i}i=o}}function Ze(e){for(var t=e.e*Ee,r=e.d[0];r>=10;r/=10)t++;return t}function kf(e,t,r){if(t>e.LN10.sd())throw _e=!0,r&&(e.precision=r),Error(Or+"LN10 precision limit exceeded");return je(new e(e.LN10),t)}function ea(e){for(var t="";e--;)t+="0";return t}function Jo(e,t){var r,n,s,i,o,l,c,d,u,m=1,f=10,h=e,p=h.d,x=h.constructor,y=x.precision;if(h.s<1)throw Error(Or+(h.s?"NaN":"-Infinity"));if(h.eq(ir))return new x(0);if(t==null?(_e=!1,d=y):d=t,h.eq(10))return t==null&&(_e=!0),kf(x,d);if(d+=f,x.precision=d,r=rn(p),n=r.charAt(0),i=Ze(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=rn(h.d),n=r.charAt(0),m++;i=Ze(h),n>1?(h=new x("0."+r),i++):h=new x(n+"."+r.slice(1))}else return c=kf(x,d+2,y).times(i+""),h=Jo(new x(n+"."+r.slice(1)),d-f).plus(c),x.precision=y,t==null?(_e=!0,je(h,y)):h;for(l=o=h=Sn(h.minus(ir),h.plus(ir),d),u=je(h.times(h),d),s=3;;){if(o=je(o.times(u),d),c=l.plus(Sn(o,new x(s),d)),rn(c.d).slice(0,d)===rn(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(kf(x,d+2,y).times(i+""))),l=Sn(l,new x(m),d),x.precision=y,t==null?(_e=!0,je(l,y)):l;l=c,s+=2}}function Ej(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Li(r/Ee),e.d=[],n=(r+1)%Ee,r<0&&(n+=Ee),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ee;n<s;)e.d.push(+t.slice(n,n+=Ee));t=t.slice(n),n=Ee-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),_e&&(e.e>Hu||e.e<-Hu))throw Error(Wx+r)}else e.s=0,e.e=0,e.d=[0];return e}function je(e,t,r){var n,s,i,o,l,c,d,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ee,s=t,d=m[u=0];else{if(u=Math.ceil((n+1)/Ee),i=m.length,u>=i)return e;for(d=i=m[u],o=1;i>=10;i/=10)o++;n%=Ee,s=n-Ee+o}if(r!==void 0&&(i=Ba(10,o-s-1),l=d/i%10|0,c=t<0||m[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/Ba(10,o-s):0:m[u-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=Ze(e),m.length=1,t=t-i-1,m[0]=Ba(10,(Ee-t%Ee)%Ee),e.e=Li(-t/Ee)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=u,i=1,u--):(m.length=u+1,i=Ba(10,Ee-n),m[u]=s>0?(d/Ba(10,o-s)%Ba(10,s)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==ot&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=ot)break;m[u--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(_e&&(e.e>Hu||e.e<-Hu))throw Error(Wx+Ze(e));return e}function fk(e,t){var r,n,s,i,o,l,c,d,u,m,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),_e?je(t,h):t;if(c=e.d,m=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),s=Math.max(Math.ceil(h/Ee),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){u=c[s]<m[s];break}o=0}for(u&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=ot-1;--c[i],c[s]+=ot}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,_e?je(t,h):t):new f(0)}function hs(e,t,r){var n,s=Ze(e),i=rn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ea(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ea(-s-1)+i,r&&(n=r-o)>0&&(i+=ea(n))):s>=o?(i+=ea(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ea(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ea(n))),e.s<0?"-"+i:i}function Aj(e,t){if(e.length>t)return e.length=t,!0}function hk(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ts+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Ej(o,i.toString())}else if(typeof i!="string")throw Error(ts+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,KR.test(i))Ej(o,i);else throw Error(ts+i)}if(s.prototype=re,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=hk,s.config=s.set=VR,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function VR(e){if(!e||typeof e!="object")throw Error(Or+"Object expected");var t,r,n,s=["precision",1,Oi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Li(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ts+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ts+r+": "+n);return this}var qx=hk(GR);ir=new qx(1);const xe=qx;var YR=e=>e,pk={},gk=e=>e===pk,Pj=e=>function t(){return arguments.length===0||arguments.length===1&&gk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},xk=(e,t)=>e===1?t:Pj(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==pk).length;return i>=e?t(...n):xk(e-i,Pj(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>gk(u)?l.shift():u);return t(...d,...l)}))}),um=e=>xk(e.length,e),hp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},XR=um((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),QR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return YR;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},pp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),yk=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function vk(e){var t;return e===0?t=1:t=Math.floor(new xe(e).abs().log(10).toNumber())+1,t}function bk(e,t,r){for(var n=new xe(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}um((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});um((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});um((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var jk=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},wk=(e,t,r)=>{if(e.lte(0))return new xe(0);var n=vk(e.toNumber()),s=new xe(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new xe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new xe(c.toNumber()):new xe(Math.ceil(c.toNumber()))},ZR=(e,t,r)=>{var n=new xe(1),s=new xe(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new xe(10).pow(vk(e)-1),s=new xe(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new xe(Math.floor(e)))}else e===0?s=new xe(Math.floor((t-1)/2)):r||(s=new xe(Math.floor(e)));var o=Math.floor((t-1)/2),l=QR(XR(c=>s.add(new xe(c-o).mul(n)).toNumber()),hp);return l(0,t)},Nk=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new xe(0),tickMin:new xe(0),tickMax:new xe(0)};var o=wk(new xe(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new xe(0):(l=new xe(t).add(r).div(2),l=l.sub(new xe(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new xe(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?Nk(t,r,n,s,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new xe(c).mul(o)),tickMax:l.add(new xe(d).mul(o))})};function JR(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=jk([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...hp(0,n-1).map(()=>1/0)]:[...hp(0,n-1).map(()=>-1/0),l];return t>r?pp(c):c}if(o===l)return ZR(o,n,s);var{step:d,tickMin:u,tickMax:m}=Nk(o,l,i,s,0),f=bk(u,m.add(new xe(.1).mul(d)),d);return t>r?pp(f):f}function e$(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=jk([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=wk(new xe(o).sub(i).div(l-1),s,0),d=[...bk(new xe(i),new xe(o),c),o];return s===!1&&(d=d.map(u=>Math.round(u))),r>n?pp(d):d}var t$=yk(JR),r$=yk(e$),Ck=e=>e.rootProps.maxBarSize,n$=e=>e.rootProps.barGap,Sk=e=>e.rootProps.barCategoryGap,a$=e=>e.rootProps.barSize,Cl=e=>e.rootProps.stackOffset,Gx=e=>e.options.chartName,Kx=e=>e.rootProps.syncId,kk=e=>e.rootProps.syncMethod,Vx=e=>e.options.eventEmitter,gn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},s$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:gn.reversed,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:gn.type,unit:void 0},i$={allowDataOverflow:nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,ticks:void 0,type:nr.type,unit:void 0},o$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},l$={allowDataOverflow:nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,ticks:void 0,type:"category",unit:void 0},Yx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?o$:s$,Xx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?l$:i$,mm=e=>e.polarOptions,Qx=H([Un,Fn,rt],sS),Ek=H([mm,Qx],(e,t)=>{if(e!=null)return kt(e.innerRadius,t,0)}),Ak=H([mm,Qx],(e,t)=>{if(e!=null)return kt(e.outerRadius,t,t*.8)}),c$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Pk=H([mm],c$);H([Yx,Pk],dm);var Tk=H([Qx,Ek,Ak],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});H([Xx,Tk],dm);var Ok=H([me,mm,Ek,Ak,Un,Fn],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:kt(o,s,s/2),cy:kt(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Ie=(e,t)=>t,Sl=(e,t,r)=>r;function fm(e){return e==null?void 0:e.id}var st=e=>{var t=me(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Di=e=>e.tooltip.settings.axisId,ft=e=>{var t=st(e),r=Di(e);return kl(e,t,r)},Lk=H([ft],e=>e==null?void 0:e.dataKey);function Dk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=fm(l);d.forEach((m,f)=>{var h=i==null||s?f:String(be(m,i,null)),p=be(m,l.dataKey,0),x;o.has(h)?x=o.get(h):x={},Object.assign(x,{[u]:p}),o.set(h,x)})}}),Array.from(o.values())}function hm(e){return e.stackId!=null&&e.dataKey!=null}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){u$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u$(e,t,r){return(t=d$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d$(e){var t=m$(e,"string");return typeof t=="symbol"?t:t+""}function m$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gp=[0,"auto"],er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Mk=(e,t)=>e.cartesianAxis.xAxis[t],Wn=(e,t)=>{var r=Mk(e,t);return r??er},tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:gp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xl},_k=(e,t)=>e.cartesianAxis.yAxis[t],qn=(e,t)=>{var r=_k(e,t);return r??tr},f$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Zx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??f$},Ye=(e,t,r)=>{switch(t){case"xAxis":return Wn(e,r);case"yAxis":return qn(e,r);case"zAxis":return Zx(e,r);case"angleAxis":return Yx(e,r);case"radiusAxis":return Xx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},h$=(e,t,r)=>{switch(t){case"xAxis":return Wn(e,r);case"yAxis":return qn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},kl=(e,t,r)=>{switch(t){case"xAxis":return Wn(e,r);case"yAxis":return qn(e,r);case"angleAxis":return Yx(e,r);case"radiusAxis":return Xx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ik=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Jx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var El=e=>e.graphicalItems.cartesianItems,p$=H([Ie,Sl],Jx),e0=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Al=H([El,Ye,p$],e0),Rk=H([Al],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(hm)),$k=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Bk=H([Al],$k),t0=e=>e.map(t=>t.data).filter(Boolean).flat(1),g$=H([Al],t0),r0=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},n0=H([g$,Nl],r0),a0=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:be(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:be(s,n)}))):e.map(n=>({value:n})),pm=H([n0,Ye,Al],a0);function Uk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ns(e){return e.filter(t=>ln(t)||t instanceof Date).map(Number).filter(t=>Jt(t)===!1)}function x$(e,t,r){return!r||typeof t!="number"||Jt(t)?[]:r.length?Ns(r.flatMap(n=>{var s=be(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!vt(i)||!vt(o)))return[t-i,t+o]})):[]}var y$=H([Rk,Nl,ft],Dk),Fk=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(fm);return[o,{stackedData:E_(e,c,r),graphicalItems:l}]}))},el=H([y$,Rk,Cl],Fk),zk=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=O_(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},v$=H([el,Da,Ie],zk),Hk=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,d=(l=n[o.id])===null||l===void 0?void 0:l.filter(m=>Uk(s,m)),u=be(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:x$(i,u,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:be(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),gm=e=>e.errorBars,Wk=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Uk(r,n));H([Bk,gm,Ie],Wk);var b$=H([n0,Ye,Bk,gm,Ie],Hk);function j$(e){var{value:t}=e;if(ln(t)||t instanceof Date)return t}var Oj=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Ns(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},w$=(e,t,r)=>{var n=e.map(j$).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&$C(n))?PS(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},s0=e=>{var t;if(e==null||!("domain"in e))return gp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ns(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:gp},qu=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},qk=e=>e.referenceElements.dots,Mi=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),N$=H([qk,Ie,Sl],Mi),Gk=e=>e.referenceElements.areas,C$=H([Gk,Ie,Sl],Mi),Kk=e=>e.referenceElements.lines,S$=H([Kk,Ie,Sl],Mi),Vk=(e,t)=>{var r=Ns(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},k$=H(N$,Ie,Vk),Yk=(e,t)=>{var r=Ns(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},E$=H([C$,Ie],Yk),Xk=(e,t)=>{var r=Ns(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},A$=H(S$,Ie,Xk),P$=H(k$,A$,E$,(e,t,r)=>qu(e,r,t)),Qk=H([Ye],s0),i0=(e,t,r,n,s,i,o)=>{var l=WR(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",d=c?qu(r,s,Oj(n)):qu(s,Oj(n));return qR(t,d,e.allowDataOverflow)},T$=H([Ye,Qk,v$,b$,P$,me,Ie],i0),O$=[0,1],o0=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,d=mn(t,i);return d&&l==null?PS(0,r.length):c==="category"?w$(n,e,d):s==="expand"?O$:o}},l0=H([Ye,me,n0,pm,Cl,Ie,T$],o0),Zk=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(fl(i));return l in co?l:"point"}}},_i=H([Ye,me,Ik,Gx,Ie],Zk);function L$(e){if(e!=null){if(e in co)return co[e]();var t="scale".concat(fl(e));if(t in co)return co[t]()}}function c0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=L$(t);if(s!=null){var i=s.domain(r).range(n);return w_(i),i}}}var u0=(e,t,r)=>{var n=s0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&pi(e))return t$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pi(e))return r$(e,t.tickCount,t.allowDecimals)}},d0=H([l0,kl,_i],u0),m0=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pi(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},D$=H([Ye,l0,d0,Ie],m0),M$=H(pm,Ye,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ns(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),Jk=H(M$,me,Sk,rt,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!vt(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=kt(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),_$=(e,t)=>{var r=Wn(e,t);return r==null||typeof r.padding!="string"?0:Jk(e,"xAxis",t,r.padding)},I$=(e,t)=>{var r=qn(e,t);return r==null||typeof r.padding!="string"?0:Jk(e,"yAxis",t,r.padding)},R$=H(Wn,_$,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),$$=H(qn,I$,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),B$=H([rt,R$,nm,rm,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),U$=H([rt,me,$$,nm,rm,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Pl=(e,t,r,n)=>{var s;switch(t){case"xAxis":return B$(e,r,n);case"yAxis":return U$(e,r,n);case"zAxis":return(s=Zx(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return Pk(e);case"radiusAxis":return Tk(e,r);default:return}},eE=H([Ye,Pl],dm),Ii=H([Ye,_i,D$,eE],c0);H([Al,gm,Ie],Wk);function tE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var xm=(e,t)=>t,ym=(e,t,r)=>r,F$=H(em,xm,ym,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(tE)),z$=H(tm,xm,ym,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(tE)),rE=(e,t)=>({width:e.width,height:t.height}),H$=(e,t)=>{var r=typeof t.width=="number"?t.width:xl;return{width:r,height:e.height}},nE=H(rt,Wn,rE),W$=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},q$=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},G$=H(Fn,rt,F$,xm,ym,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=rE(t,l);o==null&&(o=W$(t,n,e));var d=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),K$=H(Un,rt,z$,xm,ym,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=H$(t,l);o==null&&(o=q$(t,n,e));var d=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),V$=(e,t)=>{var r=Wn(e,t);if(r!=null)return G$(e,r.orientation,r.mirror)},Y$=H([rt,Wn,V$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),X$=(e,t)=>{var r=qn(e,t);if(r!=null)return K$(e,r.orientation,r.mirror)},Q$=H([rt,qn,X$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),aE=H(rt,qn,(e,t)=>{var r=typeof t.width=="number"?t.width:xl;return{width:r,height:e.height}}),Lj=(e,t,r)=>{switch(t){case"xAxis":return nE(e,r).width;case"yAxis":return aE(e,r).height;default:return}},sE=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=mn(e,n),c=t.map(d=>d.value);if(o&&l&&i==="category"&&s&&$C(c))return c}},f0=H([me,pm,Ye,Ie],sE),iE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=mn(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},h0=H([me,pm,kl,Ie],iE),Dj=H([me,h$,_i,Ii,f0,h0,Pl,d0,Ie],(e,t,r,n,s,i,o,l,c)=>{if(t==null)return null;var d=mn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}),Z$=(e,t,r,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var d=mn(e,c),{type:u,ticks:m,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/h:0;p=c==="angleAxis"&&i!=null&&i.length>=2?ct(i[0]-i[1])*2*p:p;var x=m||s;if(x){var y=x.map((v,b)=>{var j=o?o.indexOf(v):v;return{index:b,coordinate:n(j)+p,value:v,offset:p}});return y.filter(v=>!Jt(v.coordinate))}return d&&l?l.map((v,b)=>({coordinate:n(v)+p,value:v,index:b,offset:p})):n.ticks?n.ticks(f).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,b)=>({coordinate:n(v)+p,value:o?o[v]:v,index:b,offset:p}))}},oE=H([me,kl,_i,Ii,d0,Pl,f0,h0,Ie],Z$),J$=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=mn(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ct(n[0]-n[1])*2*d:d,l&&i?i.map((u,m)=>({coordinate:r(u)+d,value:u,index:m,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,m)=>({coordinate:r(u)+d,value:s?s[u]:u,index:m,offset:d}))}},un=H([me,kl,Ii,Pl,f0,h0,Ie],J$),dn=H(Ye,Ii,(e,t)=>{if(!(e==null||t==null))return Wu(Wu({},e),{},{scale:t})}),eB=H([Ye,_i,l0,eE],c0);H((e,t,r)=>Zx(e,r),eB,(e,t)=>{if(!(e==null||t==null))return Wu(Wu({},e),{},{scale:t})});var tB=H([me,em,tm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lE=e=>e.options.defaultTooltipEventType,cE=e=>e.options.validateTooltipEventTypes;function uE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function p0(e,t){var r=lE(e),n=cE(e);return uE(t,r,n)}function rB(e){return ae(t=>p0(t,e))}var dE=(e,t)=>{var r,n=Number(t);if(!(Jt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},nB=e=>e.tooltip.settings,aa={active:!1,index:null,dataKey:void 0,coordinate:void 0},aB={itemInteraction:{click:aa,hover:aa},axisInteraction:{click:aa,hover:aa},keyboardInteraction:aa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},mE=gr({name:"tooltip",initialState:aB,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Cn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:sB,removeTooltipEntrySettings:iB,setTooltipSettingsState:oB,setActiveMouseOverItemIndex:fE,mouseLeaveItem:lB,mouseLeaveChart:hE,setActiveClickItemIndex:cB,setMouseOverAxisIndex:pE,setMouseClickAxisIndex:uB,setSyncInteraction:xp,setKeyboardInteraction:yp}=mE.actions,dB=mE.reducer;function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){mB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mB(e,t,r){return(t=fB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=hB(e,"string");return typeof t=="symbol"?t:t+""}function hB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function gB(e){return e.index!=null}var gE=(e,t,r,n)=>{if(t==null)return aa;var s=pB(e,t,r);if(s==null)return aa;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(gB(s)){if(i)return xc(xc({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return xc(xc({},aa),{},{coordinate:s.coordinate})},g0=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!vt(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},xE=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=s==null?void 0:s[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},yE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Tl=e=>e.options.tooltipPayloadSearcher,Ri=e=>e.tooltip;function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){xB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xB(e,t,r){return(t=yB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=vB(e,"string");return typeof t=="symbol"?t:t+""}function vB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bB(e,t){return e??t}var vE=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,m=[];return e.reduce((f,h)=>{var p,{dataDefinedOnItem:x,settings:y}=h,v=bB(x,l),b=Array.isArray(v)?iS(v,d,u):v,j=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:n,w=y==null?void 0:y.nameKey,C;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?C=BC(b,n,s):C=i(b,t,c,w),Array.isArray(C))C.forEach(L=>{var _=Ij(Ij({},y),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});f.push(wb({tooltipEntrySettings:_,dataKey:L.dataKey,payload:L.payload,value:be(L.payload,L.dataKey),name:L.name}))});else{var S;f.push(wb({tooltipEntrySettings:y,dataKey:j,payload:C,value:be(C,j),name:(S=be(C,w))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return f},m)}},x0=H([ft,me,Ik,Gx,st],Zk),jB=H([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),wB=H([st,Di],Jx),Ol=H([jB,ft,wB],e0),NB=H([Ol],e=>e.filter(hm)),CB=H([Ol],t0),$i=H([CB,Da],r0),SB=H([NB,Da,ft],Dk),y0=H([$i,ft,Ol],a0),kB=H([ft],s0),EB=H([Ol],e=>e.filter(hm)),AB=H([SB,EB,Cl],Fk),PB=H([AB,Da,st],zk),TB=H([Ol],$k),OB=H([$i,ft,TB,gm,st],Hk),LB=H([qk,st,Di],Mi),DB=H([LB,st],Vk),MB=H([Gk,st,Di],Mi),_B=H([MB,st],Yk),IB=H([Kk,st,Di],Mi),RB=H([IB,st],Xk),$B=H([DB,RB,_B],qu),BB=H([ft,kB,PB,OB,$B,me,st],i0),bE=H([ft,me,$i,y0,Cl,st,BB],o0),UB=H([bE,ft,x0],u0),FB=H([ft,bE,UB,st],m0),jE=e=>{var t=st(e),r=Di(e),n=!1;return Pl(e,t,r,n)},wE=H([ft,jE],dm),NE=H([ft,x0,FB,wE],c0),zB=H([me,y0,ft,st],sE),HB=H([me,y0,ft,st],iE),WB=(e,t,r,n,s,i,o,l)=>{if(t){var{type:c}=t,d=mn(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return m=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?ct(s[0]-s[1])*2*m:m,d&&o?o.map((f,h)=>({coordinate:n(f)+m,value:f,index:h,offset:m})):n.domain().map((f,h)=>({coordinate:n(f)+m,value:i?i[f]:f,index:h,offset:m}))}}},Gn=H([me,ft,x0,NE,jE,zB,HB,st],WB),v0=H([lE,cE,nB],(e,t,r)=>uE(r.shared,e,t)),CE=e=>e.tooltip.settings.trigger,b0=e=>e.tooltip.settings.defaultIndex,vm=H([Ri,v0,CE,b0],gE),wa=H([vm,$i],g0),SE=H([Gn,wa],dE),kE=H([vm],e=>{if(e)return e.dataKey}),EE=H([Ri,v0,CE,b0],yE),qB=H([Un,Fn,me,rt,Gn,b0,EE,Tl],xE),GB=H([vm,qB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),KB=H([vm],e=>e.active),VB=H([EE,wa,Da,Lk,SE,Tl,v0],vE),YB=H([VB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=QB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=ZB(e,"string");return typeof t=="symbol"?t:t+""}function ZB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JB=()=>ae(ft),eU=()=>{var e=JB(),t=ae(Gn),r=ae(NE);return fs($j($j({},e),{},{scale:r}),t)},AE=()=>ae(Gx),j0=(e,t)=>t,PE=(e,t,r)=>r,w0=(e,t,r,n)=>n,tU=H(Gn,e=>Vd(e,t=>t.coordinate)),N0=H([Ri,j0,PE,w0],gE),TE=H([N0,$i],g0),rU=(e,t,r)=>{if(t!=null){var n=Ri(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},OE=H([Ri,j0,PE,w0],yE),Gu=H([Un,Fn,me,rt,Gn,w0,OE,Tl],xE),nU=H([N0,Gu],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),LE=H(Gn,TE,dE),aU=H([OE,TE,Da,Lk,LE,Tl,j0],vE),sU=H([N0],e=>({isActive:e.active,activeIndex:e.index})),iU=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=L_(e.chartX,e.chartY,t,r,l);if(c){var d=M_(c,t),u=b_(d,o,i,n,s),m=D_(t,i,u,c);return{activeIndex:String(u),activeCoordinate:m}}}};function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oU(e,t,r){return(t=lU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return typeof t=="symbol"?t:t+""}function cU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uU(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,m=r,f=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var h,p;if(d==="ScatterChart")h=u,p=M3;else if(d==="BarChart")h=_3(o,u,s,i),p=wS;else if(o==="radial"){var{cx:x,cy:y,radius:v,startAngle:b,endAngle:j}=NS(u);h={cx:x,cy:y,startAngle:b,endAngle:j,innerRadius:v,outerRadius:v},p=SS}else h={points:h6(o,u,s)},p=Vs;var w=typeof l=="object"&&"className"in l?l.className:void 0,C=yc(yc(yc(yc({stroke:"#ccc",pointerEvents:"none"},s),h),Te(l,!1)),{},{payload:m,payloadIndex:f,className:fe("recharts-tooltip-cursor",w)});return g.isValidElement(l)?g.cloneElement(l,C):g.createElement(p,C)}function dU(e){var t=eU(),r=fS(),n=yl(),s=AE();return g.createElement(uU,vp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var DE=g.createContext(null),mU=()=>g.useContext(DE),ME={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,m||c,f),p=r?r+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,h=m.length,p=new Array(h);f<h;f++)p[f]=m[f].fn;return p},l.prototype.listenerCount=function(d){var u=r?r+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,f,h,p){var x=r?r+d:d;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,b,j;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,m),!0;case 4:return y.fn.call(y.context,u,m,f),!0;case 5:return y.fn.call(y.context,u,m,f,h),!0;case 6:return y.fn.call(y.context,u,m,f,h,p),!0}for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];y.fn.apply(y.context,b)}else{var w=y.length,C;for(j=0;j<w;j++)switch(y[j].once&&this.removeListener(d,y[j].fn,void 0,!0),v){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,u);break;case 3:y[j].fn.call(y[j].context,u,m);break;case 4:y[j].fn.call(y[j].context,u,m,f);break;default:if(!b)for(C=1,b=new Array(v-1);C<v;C++)b[C-1]=arguments[C];y[j].fn.apply(y[j].context,b)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,f){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!m||p.context===m)&&o(this,h);else{for(var x=0,y=[],v=p.length;x<v;x++)(p[x].fn!==u||f&&!p[x].once||m&&p[x].context!==m)&&y.push(p[x]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(ME);var fU=ME.exports;const hU=$n(fU);var tl=new hU,bp="recharts.syncEvent.tooltip",Uj="recharts.syncEvent.brush";function bm(e,t){if(t){var r=Number.parseInt(t,10);if(!Jt(r))return e==null?void 0:e[r]}}var pU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_E=gr({name:"options",initialState:pU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gU=_E.reducer,{createEventEmitter:xU}=_E.actions;function yU(e){return e.tooltip.syncInteraction}var vU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},IE=gr({name:"chartData",initialState:vU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Fj,setDataStartEndIndexes:bU,setComputedData:Hq}=IE.actions,jU=IE.reducer,wU=["x","y"];function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){NU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NU(e,t,r){return(t=CU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CU(e){var t=SU(e,"string");return typeof t=="symbol"?t:t+""}function SU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kU(e,t){if(e==null)return{};var r,n,s=EU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function EU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RE=()=>{};function AU(){var e=ae(Kx),t=ae(Vx),r=Fe(),n=ae(kk),s=ae(Gn),i=yl(),o=gx(),l=ae(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return RE;var c=(d,u,m)=>{if(t!==m&&e===d){if(n==="index"){var f;if(o&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate){var h=u.payload.coordinate,{x:p,y:x}=h,y=kU(h,wU),v=Ma(Ma(Ma({},y),typeof p=="number"&&{x:Math.max(o.x,Math.min(p,o.x+o.width))}),typeof x=="number"&&{y:Math.max(o.y,Math.min(x,o.y+o.height))}),b=Ma(Ma({},u),{},{payload:Ma(Ma({},u.payload),{},{coordinate:v})});r(b)}else r(u);return}if(s!=null){var j;if(typeof n=="function"){var w={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},C=n(s,w);j=s[C]}else n==="value"&&(j=s.find(z=>String(z.value)===u.payload.label));var{coordinate:S}=u.payload;if(j==null||u.payload.active===!1||S==null||o==null){r(xp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:L,y:_}=S,k=Math.min(L,o.x+o.width),T=Math.min(_,o.y+o.height),I={x:i==="horizontal"?j.coordinate:k,y:i==="horizontal"?T:j.coordinate},M=xp({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(j.index),label:u.payload.label});r(M)}}};return tl.on(bp,c),()=>{tl.off(bp,c)}},[l,r,t,e,n,s,i,o])}function PU(){var e=ae(Kx),t=ae(Vx),r=Fe();g.useEffect(()=>{if(e==null)return RE;var n=(s,i,o)=>{t!==o&&e===s&&r(bU(i))};return tl.on(Uj,n),()=>{tl.off(Uj,n)}},[r,t,e])}function TU(){var e=Fe();g.useEffect(()=>{e(xU())},[e]),AU(),PU()}function OU(e,t,r,n,s,i){var o=ae(f=>rU(f,e,t)),l=ae(Vx),c=ae(Kx),d=ae(kk),u=ae(yU),m=u==null?void 0:u.active;g.useEffect(()=>{if(!m&&c!=null&&l!=null){var f=xp({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});tl.emit(bp,c,f,l)}},[m,r,o,s,n,l,c,d,i])}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){LU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LU(e,t,r){return(t=DU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=MU(e,"string");return typeof t=="symbol"?t:t+""}function MU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _U(e){return e.dataKey}function IU(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(m3,t)}var qj=[],RU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!zn.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Mt(e){var t=nt(e,RU),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:m,reverseDirection:f,useTranslate3d:h,wrapperStyle:p,cursor:x,shared:y,trigger:v,defaultIndex:b,portal:j,axisId:w}=t,C=Fe(),S=typeof b=="number"?String(b):b;g.useEffect(()=>{C(oB({shared:y,trigger:v,axisId:w,active:r,defaultIndex:S}))},[C,y,v,w,r,S]);var L=gx(),_=xS(),k=rB(y),{activeIndex:T,isActive:I}=ae(D=>sU(D,k,v,S)),M=ae(D=>aU(D,k,v,S)),z=ae(D=>LE(D,k,v,S)),G=ae(D=>nU(D,k,v,S)),Z=M,$=mU(),E=r??I,[O,R]=M2([Z,E]),U=k==="axis"?z:void 0;OU(k,v,G,U,T,E);var B=j??$;if(B==null)return null;var A=Z??qj;E||(A=qj),l&&A.length&&(A=w2(Z.filter(D=>D.value!=null&&(D.hide!==!0||t.includeHidden)),u,_U));var P=A.length>0,N=g.createElement(v3,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:E,coordinate:G,hasPayload:P,offset:d,position:m,reverseDirection:f,useTranslate3d:h,viewBox:L,wrapperStyle:p,lastBoundingBox:O,innerRef:R,hasPortalFromProps:!!j},IU(o,Wj(Wj({},t),{},{payload:A,label:U,active:E,coordinate:G,accessibilityLayer:_})));return g.createElement(g.Fragment,null,kg.createPortal(N,B),E&&g.createElement(dU,{cursor:x,tooltipEventType:k,coordinate:G,payload:Z,index:T}))}var $E={},BE={},UE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{d&&u(),x()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,m()},n)},p=()=>{f!==null&&(clearTimeout(f),f=null)},x=()=>{p(),o=void 0,l=null},y=()=>{u()},v=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const j=f==null;h(),c&&j&&u()};return v.schedule=h,v.cancel=x,v.flush=y,s==null||s.addEventListener("abort",x,{once:!0}),v}e.debounce=t})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UE;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,m=null;const f=t.debounce(function(...x){u=n.apply(this,x),m=null},s,{edges:d}),h=function(...x){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(u=n.apply(this,x),m=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,x),u)},p=()=>(f.flush(),u);return h.cancel=f.cancel,h.flush=p,h}e.debounce=r})(BE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BE;function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})($E);var $U=$E.throttle;const BU=$n($U);var No=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return(t=FU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FU(e){var t=zU(e,"string");return typeof t=="symbol"?t:t+""}function zU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _t=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:m,className:f,onResize:h,style:p={}}=e,x=g.useRef(null),y=g.useRef();y.current=h,g.useImperativeHandle(t,()=>x.current);var[v,b]=g.useState({containerWidth:n.width,containerHeight:n.height}),j=g.useCallback((C,S)=>{b(L=>{var _=Math.round(C),k=Math.round(S);return L.containerWidth===_&&L.containerHeight===k?L:{containerWidth:_,containerHeight:k}})},[]);g.useEffect(()=>{var C=k=>{var T,{width:I,height:M}=k[0].contentRect;j(I,M),(T=y.current)===null||T===void 0||T.call(y,I,M)};u>0&&(C=BU(C,u,{trailing:!0,leading:!1}));var S=new ResizeObserver(C),{width:L,height:_}=x.current.getBoundingClientRect();return j(L,_),S.observe(x.current),()=>{S.disconnect()}},[j,u]);var w=g.useMemo(()=>{var{containerWidth:C,containerHeight:S}=v;if(C<0||S<0)return null;No(qa(s)||qa(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),No(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=qa(s)?C:s,_=qa(i)?S:i;return r&&r>0&&(L?_=L/r:_&&(L=_*r),c&&_>c&&(_=c)),No(L>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,_,s,i,o,l,r),g.Children.map(d,k=>g.cloneElement(k,{width:L,height:_,style:Ef({width:L,height:_},k.props.style)}))},[r,d,i,c,l,o,v,s]);return g.createElement("div",{id:m?"".concat(m):void 0,className:fe("recharts-responsive-container",f),style:Ef(Ef({},p),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:x},g.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),Rn=e=>null;Rn.displayName="Cell";function HU(e,t,r){return(t=WU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=qU(e,"string");return typeof t=="symbol"?t:t+""}function qU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GU{constructor(t){HU(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return(t=YU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QU={cacheSize:2e3,enableCache:!0},FE=KU({},QU),Vj=new GU(FE.cacheSize),ZU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Yj="recharts_measurement_span";function JU(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var Xj=(e,t)=>{try{var r=document.getElementById(Yj);r||(r=document.createElement("span"),r.setAttribute("id",Yj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,ZU,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Co=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zn.isSsr)return{width:0,height:0};if(!FE.enableCache)return Xj(t,r);var n=JU(t,r),s=Vj.get(n);if(s)return s;var i=Xj(t,r);return Vj.set(n,i),i},Qj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rF=Object.keys(zE),Us="NaN";function nF(e,t){return e*zE[t]}class Ft{static parse(t){var r,[,n,s]=(r=tF.exec(t))!==null&&r!==void 0?r:[];return new Ft(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Jt(t)&&(this.unit=""),r!==""&&!eF.test(r)&&(this.num=NaN,this.unit=""),rF.includes(r)&&(this.num=nF(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ft(NaN,""):new Ft(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ft(NaN,""):new Ft(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ft(NaN,""):new Ft(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ft(NaN,""):new Ft(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Jt(this.num)}}function HE(e){if(e.includes(Us))return Us;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=Qj.exec(t))!==null&&r!==void 0?r:[],o=Ft.parse(n??""),l=Ft.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Us;t=t.replace(Qj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,m,f]=(d=Zj.exec(t))!==null&&d!==void 0?d:[],h=Ft.parse(u??""),p=Ft.parse(f??""),x=m==="+"?h.add(p):h.subtract(p);if(x.isNaN())return Us;t=t.replace(Zj,x.toString())}return t}var Jj=/\(([^()]*)\)/;function aF(e){for(var t=e,r;(r=Jj.exec(t))!=null;){var[,n]=r;t=t.replace(Jj,HE(n))}return t}function sF(e){var t=e.replace(/\s+/g,"");return t=aF(t),t=HE(t),t}function iF(e){try{return sF(e)}catch{return Us}}function Af(e){var t=iF(e.slice(5,-1));return t===Us?"":t}var oF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lF=["dx","dy","angle","className","breakAll"];function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(null,arguments)}function ew(e,t){if(e==null)return{};var r,n,s=cF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WE=/[ \f\n\r\t\v\u2028\u2029]+/,qE=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Pe(t)||(r?s=t.toString().split(""):s=t.toString().split(WE));var i=s.map(l=>({word:l,width:Co(l,n).width})),o=r?0:Co("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},uF=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=se(i),u=o,m=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((M,z)=>{var{word:G,width:Z}=z,$=M[M.length-1];if($&&(n==null||s||$.width+Z+r<Number(n)))$.words.push(G),$.width+=Z+r;else{var E={words:[G],width:Z};M.push(E)}return M},[])},f=m(t),h=T=>T.reduce((I,M)=>I.width>M.width?I:M);if(!d||s)return f;var p=f.length>i||h(f).width>Number(n);if(!p)return f;for(var x="",y=T=>{var I=u.slice(0,T),M=qE({breakAll:c,style:l,children:I+x}).wordsWithComputedWidth,z=m(M),G=z.length>i||h(z).width>Number(n);return[G,z]},v=0,b=u.length-1,j=0,w;v<=b&&j<=u.length-1;){var C=Math.floor((v+b)/2),S=C-1,[L,_]=y(S),[k]=y(C);if(!L&&!k&&(v=C+1),L&&k&&(b=C-1),!L&&k){w=_;break}j++}return w||f},tw=e=>{var t=Pe(e)?[]:e.toString().split(WE);return[{words:t}]},dF=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!zn.isSsr){var l,c,d=qE({breakAll:i,children:n,style:s});if(d){var{wordsWithComputedWidth:u,spaceWidth:m}=d;l=u,c=m}else return tw(n);return uF({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return tw(n)},rw="#808080",jm=g.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=rw}=e,u=ew(e,oF),m=g.useMemo(()=>dF({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:f,dy:h,angle:p,className:x,breakAll:y}=u,v=ew(u,lF);if(!ln(r)||!ln(n)||m.length===0)return null;var b=r+(se(f)?f:0),j=n+(se(h)?h:0),w;switch(c){case"start":w=Af("calc(".concat(i,")"));break;case"middle":w=Af("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:w=Af("calc(".concat(m.length-1," * -").concat(s,")"));break}var C=[];if(o){var S=m[0].width,{width:L}=u;C.push("scale(".concat(se(L)?L/S:1,")"))}return p&&C.push("rotate(".concat(p,", ").concat(b,", ").concat(j,")")),C.length&&(v.transform=C.join(" ")),g.createElement("text",jp({},Te(v,!0),{ref:t,x:b,y:j,className:fe("recharts-text",x),textAnchor:l,fill:d.includes("url")?rw:d}),m.map((_,k)=>{var T=_.words.join(y?"":" ");return g.createElement("tspan",{x:b,dy:k===0?w:s,key:"".concat(T,"-").concat(k)},T)}))});jm.displayName="Text";var mF=["labelRef"];function fF(e,t){if(e==null)return{};var r,n,s=hF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){pF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pF(e,t,r){return(t=gF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gF(e){var t=xF(e,"string");return typeof t=="symbol"?t:t+""}function xF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xn.apply(null,arguments)}var GE=g.createContext(null),yF=e=>{var{x:t,y:r,width:n,height:s,children:i}=e,o=g.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return g.createElement(GE.Provider,{value:o},i)},KE=()=>{var e=g.useContext(GE),t=gx();return e||t},vF=g.createContext(null),bF=()=>{var e=g.useContext(vF),t=ae(Ok);return e||t},jF=e=>{var{value:t,formatter:r}=e,n=Pe(e.children)?t:e.children;return typeof r=="function"?r(n):n},C0=e=>e!=null&&typeof e=="function",wF=(e,t)=>{var r=ct(t-e),n=Math.min(Math.abs(t-e),360);return r*n},NF=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:m,endAngle:f,clockWise:h}=s,p=(d+u)/2,x=wF(m,f),y=x>=0?1:-1,v,b;switch(t){case"insideStart":v=m+y*i,b=h;break;case"insideEnd":v=f-y*i,b=!h;break;case"end":v=f+y*i,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=x<=0?b:!b;var j=Qe(l,c,p,v),w=Qe(l,c,p,v+(b?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(w.x,",").concat(w.y),S=Pe(e.id)?qo("recharts-radial-line-"):e.id;return g.createElement("text",xn({},n,{dominantBaseline:"central",className:fe("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:S,d:C})),g.createElement("textPath",{xlinkHref:"#".concat(S)},r))},CF=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:m}=Qe(n,s,o+t,d);return{x:u,y:m,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var f=(i+o)/2,{x:h,y:p}=Qe(n,s,f,d);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},VE=e=>"cx"in e&&se(e.cx),SF=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!VE(r)&&(i=r);var{x:o,y:l,width:c,height:d}=t,u=d>=0?1:-1,m=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=c>=0?1:-1,x=p*n,y=p>0?"end":"start",v=p>0?"start":"end";if(s==="top"){var b={x:o+c/2,y:l-u*n,textAnchor:"middle",verticalAnchor:f};return qe(qe({},b),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var j={x:o+c/2,y:l+d+m,textAnchor:"middle",verticalAnchor:h};return qe(qe({},j),i?{height:Math.max(i.y+i.height-(l+d),0),width:c}:{})}if(s==="left"){var w={x:o-x,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return qe(qe({},w),i?{width:Math.max(w.x-i.x,0),height:d}:{})}if(s==="right"){var C={x:o+c+x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return qe(qe({},C),i?{width:Math.max(i.x+i.width-C.x,0),height:d}:{})}var S=i?{width:c,height:d}:{};return s==="insideLeft"?qe({x:o+x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},S):s==="insideRight"?qe({x:o+c-x,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideTop"?qe({x:o+c/2,y:l+m,textAnchor:"middle",verticalAnchor:h},S):s==="insideBottom"?qe({x:o+c/2,y:l+d-m,textAnchor:"middle",verticalAnchor:f},S):s==="insideTopLeft"?qe({x:o+x,y:l+m,textAnchor:v,verticalAnchor:h},S):s==="insideTopRight"?qe({x:o+c-x,y:l+m,textAnchor:y,verticalAnchor:h},S):s==="insideBottomLeft"?qe({x:o+x,y:l+d-m,textAnchor:v,verticalAnchor:f},S):s==="insideBottomRight"?qe({x:o+c-x,y:l+d-m,textAnchor:y,verticalAnchor:f},S):s&&typeof s=="object"&&(se(s.x)||qa(s.x))&&(se(s.y)||qa(s.y))?qe({x:o+kt(s.x,c),y:l+kt(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):qe({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},kF={offset:5};function ta(e){var t=nt(e,kF),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:c,labelRef:d}=t,u=bF(),m=KE(),f=n==="center"?m:u??m,h=r||f;if(!h||Pe(s)&&Pe(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var p=qe(qe({},t),{},{viewBox:h});if(g.isValidElement(o)){var{labelRef:x}=p,y=fF(p,mF);return g.cloneElement(o,y)}var v;if(typeof o=="function"){if(v=g.createElement(o,p),g.isValidElement(v))return v}else v=jF(t);var b=VE(h),j=Te(t,!0);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return NF(t,n,v,j,h);var w=b?CF(h,t.offset,t.position):SF(t,h);return g.createElement(jm,xn({ref:d,className:fe("recharts-label",l)},j,w,{breakAll:c}),v)}ta.displayName="Label";var EF=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(ta,xn({key:"label-implicit"},n)):ln(e)?g.createElement(ta,xn({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===ta?g.cloneElement(e,qe({key:"label-implicit"},n)):g.createElement(ta,xn({key:"label-implicit",content:e},n)):C0(e)?g.createElement(ta,xn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(ta,xn({},e,{key:"label-implicit"},n)):null};function AF(e){var{label:t}=e,r=KE();return EF(t,r)||null}var YE={},XE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(XE);var QE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(QE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XE,r=QE,n=Gd;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(YE);var PF=YE.last;const TF=$n(PF);var OF=["valueAccessor"],LF=["dataKey","clockWise","id","textBreakAll"];function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(null,arguments)}function aw(e,t){if(e==null)return{};var r,n,s=DF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MF=e=>Array.isArray(e.value)?TF(e.value):e.value,ZE=g.createContext(void 0),S0=ZE.Provider,JE=g.createContext(void 0),_F=JE.Provider;function IF(){return g.useContext(ZE)}function RF(){return g.useContext(JE)}function Fc(e){var{valueAccessor:t=MF}=e,r=aw(e,OF),{dataKey:n,clockWise:s,id:i,textBreakAll:o}=r,l=aw(r,LF),c=IF(),d=RF(),u=c||d;return!u||!u.length?null:g.createElement(He,{className:"recharts-label-list"},u.map((m,f)=>{var h,p=Pe(n)?t(m,f):be(m&&m.payload,n),x=Pe(i)?{}:{id:"".concat(i,"-").concat(f)};return g.createElement(ta,Ku({},Te(m,!0),l,x,{fill:(h=r.fill)!==null&&h!==void 0?h:m.fill,parentViewBox:m.parentViewBox,value:p,textBreakAll:o,viewBox:m.viewBox,key:"label-".concat(f),index:f}))}))}Fc.displayName="LabelList";function wm(e){var{label:t}=e;return t?t===!0?g.createElement(Fc,{key:"labelList-implicit"}):g.isValidElement(t)||C0(t)?g.createElement(Fc,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Fc,Ku({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(null,arguments)}var k0=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=fe("recharts-dot",s);return t===+t&&r===+r&&n===+n?g.createElement("circle",wp({},Dr(e),Hg(e),{className:i,cx:t,cy:r,r:n})):null},eA=e=>e.graphicalItems.polarItems,$F=H([Ie,Sl],Jx),E0=H([eA,Ye,$F],e0),BF=H([E0],t0),A0=H([BF,Hx],r0),UF=H([A0,Ye,E0],a0),FF=H([A0,Ye,E0],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=be(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:be(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),sw=()=>{},zF=H([Ye,Qk,sw,FF,sw,me,Ie],i0),tA=H([Ye,me,A0,UF,Cl,Ie,zF],o0),HF=H([tA,Ye,_i],u0);H([Ye,tA,HF,Ie],m0);var WF={radiusAxis:{},angleAxis:{}},rA=gr({name:"polarAxis",initialState:WF,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Wq,removeRadiusAxis:qq,addAngleAxis:Gq,removeAngleAxis:Kq}=rA.actions,qF=rA.reducer;function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(n){GF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GF(e,t,r){return(t=KF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KF(e){var t=VF(e,"string");return typeof t=="symbol"?t:t+""}function VF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YF=(e,t)=>t,P0=H([eA,YF],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),XF=[],T0=(e,t,r)=>(r==null?void 0:r.length)===0?XF:r,nA=H([Hx,P0,T0],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>ow(ow({},t.presentationProps),i.props))),s!=null)return s}}),QF=H([nA,P0,T0],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=be(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Ta(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),ZF=H([nA,P0,T0,rt],(e,t,r,n)=>{if(!(t==null||e==null))return K8({offset:n,pieSettings:t,displayedData:e,cells:r})}),aA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(aA);var JF=aA.isPlainObject;const e8=$n(JF);function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){t8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t8(e,t,r){return(t=r8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8(e){var t=n8(e,"string");return typeof t=="symbol"?t:t+""}function n8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vu.apply(null,arguments)}var uw=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},a8={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},s8=e=>{var t=nt(e,a8),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:m}=t,f=g.useRef(),[h,p]=g.useState(-1),x=g.useRef(s),y=g.useRef(i),v=g.useRef(o),b=g.useRef(r),j=g.useRef(n),w=Pi(e,"trapezoid-");if(g.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var G=f.current.getTotalLength();G&&p(G)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var C=fe("recharts-trapezoid",l);if(!m)return g.createElement("g",null,g.createElement("path",Vu({},Te(t,!0),{className:C,d:uw(r,n,s,i,o)})));var S=x.current,L=y.current,_=v.current,k=b.current,T=j.current,I="0px ".concat(h===-1?1:h,"px"),M="".concat(h,"px 0px"),z=yS(["strokeDasharray"],d,c);return g.createElement(Ai,{animationId:w,key:w,canBegin:h>0,duration:d,easing:c,isActive:m,begin:u},G=>{var Z=ve(S,s,G),$=ve(L,i,G),E=ve(_,o,G),O=ve(k,r,G),R=ve(T,n,G);f.current&&(x.current=Z,y.current=$,v.current=E,b.current=O,j.current=R);var U=G>0?{transition:z,strokeDasharray:M}:{strokeDasharray:I};return g.createElement("path",Vu({},Te(t,!0),{className:C,d:uw(O,R,Z,$,E),ref:f,style:cw(cw({},U),t.style)}))})},i8=["option","shapeType","propTransformer","activeClassName","isActive"];function o8(e,t){if(e==null)return{};var r,n,s=l8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function l8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){c8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c8(e,t,r){return(t=u8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u8(e){var t=d8(e,"string");return typeof t=="symbol"?t:t+""}function d8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m8(e,t){return Yu(Yu({},t),e)}function f8(e,t){return e==="symbols"}function mw(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(wS,r);case"trapezoid":return g.createElement(s8,r);case"sector":return g.createElement(SS,r);case"symbols":if(f8(t))return g.createElement(Yg,r);break;default:return null}}function h8(e){return g.isValidElement(e)?e.props:e}function sA(e){var{option:t,shapeType:r,propTransformer:n=m8,activeClassName:s="recharts-active-shape",isActive:i}=e,o=o8(e,i8),l;if(g.isValidElement(t))l=g.cloneElement(t,Yu(Yu({},o),h8(t)));else if(typeof t=="function")l=t(o);else if(e8(t)&&typeof t!="boolean"){var c=n(t,o);l=g.createElement(mw,{shapeType:r,elementProps:c})}else{var d=o;l=g.createElement(mw,{shapeType:r,elementProps:d})}return i?g.createElement(He,{className:s},l):l}var O0=(e,t)=>{var r=Fe();return(n,s)=>i=>{e==null||e(n,s,i),r(fE({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},L0=e=>{var t=Fe();return(r,n)=>s=>{e==null||e(r,n,s),t(lB())}},D0=(e,t)=>{var r=Fe();return(n,s)=>i=>{e==null||e(n,s,i),r(cB({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Nm(e){var{fn:t,args:r}=e,n=Fe(),s=At();return g.useEffect(()=>{if(!s){var i=t(r);return n(sB(i)),()=>{n(iB(i))}}},[t,r,n,s]),null}var iA=()=>{};function M0(e){var{legendPayload:t}=e,r=Fe(),n=At();return g.useEffect(()=>n?iA:(r(pS(t)),()=>{r(gS(t))}),[r,n,t]),null}function p8(e){var{legendPayload:t}=e,r=Fe(),n=ae(me);return g.useEffect(()=>n!=="centric"&&n!=="radial"?iA:(r(pS(t)),()=>{r(gS(t))}),[r,n,t]),null}var Pf,g8=()=>{var[e]=g.useState(()=>qo("uid-"));return e},x8=(Pf=qw.useId)!==null&&Pf!==void 0?Pf:g8;function y8(e,t){var r=x8();return t||(e?"".concat(e,"-").concat(r):r)}var v8=g.createContext(void 0),Cm=e=>{var{id:t,type:r,children:n}=e,s=y8("recharts-".concat(r),t);return g.createElement(v8.Provider,{value:s},n(s))},b8={cartesianItems:[],polarItems:[]},oA=gr({name:"graphicalItems",initialState:b8,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=Cn(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=Cn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Cn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:j8,replaceCartesianGraphicalItem:w8,removeCartesianGraphicalItem:N8,addPolarGraphicalItem:C8,removePolarGraphicalItem:S8}=oA.actions,k8=oA.reducer;function _0(e){var t=Fe(),r=g.useRef(null);return g.useEffect(()=>{r.current===null?t(j8(e)):r.current!==e&&t(w8({prev:r.current,next:e})),r.current=e},[t,e]),g.useEffect(()=>()=>{r.current&&(t(N8(r.current)),r.current=null)},[t]),null}function E8(e){var t=Fe();return g.useEffect(()=>(t(C8(e)),()=>{t(S8(e))}),[t,e]),null}var A8=["onMouseEnter","onClick","onMouseLeave"],P8=["id"],T8=["id"];function I0(e,t){if(e==null)return{};var r,n,s=O8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function O8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){L8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8(e,t,r){return(t=D8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=M8(e,"string");return typeof t=="symbol"?t:t+""}function M8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Na.apply(null,arguments)}function _8(e){var t=g.useMemo(()=>Wg(e.children,Rn),[e.children]),r=ae(n=>QF(n,e.id,t));return r==null?null:g.createElement(p8,{legendPayload:r})}function I8(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Ta(l,t),hide:c,type:d,color:o,unit:""}}}var R8=(e,t)=>e>t?"start":e<t?"end":"middle",$8=(e,t,r)=>kt(typeof t=="function"?t(e):t,r,r*.8),B8=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=sS(i,o),c=s+kt(e.cx,i,i/2),d=n+kt(e.cy,o,o/2),u=kt(e.innerRadius,l,0),m=$8(r,e.outerRadius,l),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:m,maxRadius:f}},U8=(e,t)=>{var r=ct(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function F8(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var z8=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=fe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(Vs,Na({},t,{type:"linear",className:r}))},H8=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var s=fe("recharts-pie-label-text",F8(e));return g.createElement(jm,Na({},t,{alignmentBaseline:"middle",className:s}),n)};function W8(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=Dr(r),c=Te(s,!1),d=Te(i,!1),u=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,m=t.map((f,h)=>{var p=(f.startAngle+f.endAngle)/2,x=Qe(f.cx,f.cy,f.outerRadius+u,p),y=Le(Le(Le(Le({},l),f),{},{stroke:"none"},c),{},{index:h,textAnchor:R8(x.x,f.cx)},x),v=Le(Le(Le(Le({},l),f),{},{fill:"none",stroke:f.fill},d),{},{index:h,points:[Qe(f.cx,f.cy,f.outerRadius,p),x],key:"line"});return g.createElement(He,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(h)},i&&z8(i,v),H8(s,y,be(f,o)))});return g.createElement(He,{className:"recharts-pie-labels"},m)}function q8(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?g.createElement(wm,{label:s}):g.createElement(W8,{sectors:t,props:r,showLabels:n})}function G8(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s}=e,i=ae(wa),{onMouseEnter:o,onClick:l,onMouseLeave:c}=s,d=I0(s,A8),u=O0(o,s.dataKey),m=L0(c),f=D0(l,s.dataKey);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((h,p)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var x=r&&String(p)===i,y=i?n:null,v=x?r:y,b=Le(Le({},h),{},{stroke:h.stroke,tabIndex:-1,[dS]:p,[mS]:s.dataKey});return g.createElement(He,Na({tabIndex:-1,className:"recharts-pie-sector"},hl(d,h,p),{onMouseEnter:u(h,p),onMouseLeave:m(h,p),onClick:f(h,p),key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),g.createElement(sA,Na({option:v,isActive:x,shapeType:"sector"},b)))}))}function K8(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:m}=r,f=Math.abs(r.minAngle),h=U8(l,c),p=Math.abs(h),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(S=>be(S,d,0)!==0).length,v=(p>=360?y:y-1)*x,b=p-y*f-v,j=n.reduce((S,L)=>{var _=be(L,d,0);return S+(se(_)?_:0)},0),w;if(j>0){var C;w=n.map((S,L)=>{var _=be(S,d,0),k=be(S,u,L),T=B8(r,i,S),I=(se(_)?_:0)/j,M,z=Le(Le({},S),s&&s[L]&&s[L].props);L?M=C.endAngle+ct(h)*x*(_!==0?1:0):M=l;var G=M+ct(h)*((_!==0?f:0)+I*b),Z=(M+G)/2,$=(T.innerRadius+T.outerRadius)/2,E=[{name:k,value:_,payload:z,dataKey:d,type:m}],O=Qe(T.cx,T.cy,$,Z);return C=Le(Le(Le(Le({},r.presentationProps),{},{percent:I,cornerRadius:o,name:k,tooltipPayload:E,midAngle:Z,middleRadius:$,tooltipPosition:O},z),T),{},{value:_,startAngle:M,endAngle:G,payload:z,paddingAngle:ct(h)*x}),C})}return w}function V8(e){var{showLabels:t,sectors:r,children:n}=e,s=g.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return g.createElement(_F,{value:t?s:void 0},n)}function Y8(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:m}=t,f=Pi(t,"recharts-pie-"),h=r.current,[p,x]=g.useState(!1),y=g.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),v=g.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return g.createElement(V8,{showLabels:!p,sectors:n},g.createElement(Ai,{animationId:f,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:v,onAnimationEnd:y,key:f},b=>{var j=[],w=n&&n[0],C=w==null?void 0:w.startAngle;return n==null||n.forEach((S,L)=>{var _=h&&h[L],k=L>0?us(S,"paddingAngle",0):0;if(_){var T=ve(_.endAngle-_.startAngle,S.endAngle-S.startAngle,b),I=Le(Le({},S),{},{startAngle:C+k,endAngle:C+T+k});j.push(I),C=I.endAngle}else{var{endAngle:M,startAngle:z}=S,G=ve(0,M-z,b),Z=Le(Le({},S),{},{startAngle:C+k,endAngle:C+G+k});j.push(Z),C=Z.endAngle}}),r.current=j,g.createElement(He,null,g.createElement(G8,{sectors:j,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),g.createElement(q8,{showLabels:!p,sectors:n,props:t}),t.children)}var X8={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!zn.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Q8(e){var{id:t}=e,r=I0(e,P8),{hide:n,className:s,rootTabIndex:i}=e,o=g.useMemo(()=>Wg(e.children,Rn),[e.children]),l=ae(u=>ZF(u,t,o)),c=g.useRef(null),d=fe("recharts-pie",s);return n||l==null?(c.current=null,g.createElement(He,{tabIndex:i,className:d})):g.createElement(g.Fragment,null,g.createElement(Nm,{fn:I8,args:Le(Le({},e),{},{sectors:l})}),g.createElement(He,{tabIndex:i,className:d},g.createElement(Y8,{props:Le(Le({},r),{},{sectors:l}),previousSectorsRef:c})))}function gi(e){var t=nt(e,X8),{id:r}=t,n=I0(t,T8),s=Dr(n);return g.createElement(Cm,{id:r,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(E8,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),g.createElement(_8,Na({},n,{id:i})),g.createElement(Q8,Na({},n,{id:i}))))}gi.displayName="Pie";function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){Z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8(e,t,r){return(t=J8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t7={xAxis:{},yAxis:{},zAxis:{}},lA=gr({name:"cartesianAxis",initialState:t7,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=pw(pw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:r7,removeXAxis:n7,addYAxis:a7,removeYAxis:s7,addZAxis:Vq,removeZAxis:Yq,updateYAxisWidth:i7}=lA.actions,o7=lA.reducer,l7=H([rt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),c7=H([l7,Un,Fn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Sm=()=>ae(c7),u7=()=>ae(YB);function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){d7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d7(e,t,r){return(t=m7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m7(e){var t=f7(e,"string");return typeof t=="symbol"?t:t+""}function f7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h7=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=xw(xw({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Te(s,!1)),Hg(s)),l;return g.isValidElement(s)?l=g.cloneElement(s,o):typeof s=="function"?l=s(o):l=g.createElement(k0,o),g.createElement(He,{className:"recharts-active-dot"},l)};function Np(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=ae(wa),o=u7();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return Pe(l)?null:h7({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var p7="Invariant failed";function g7(e,t){throw new Error(p7)}var x7=["x","y"];function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(null,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y7(e,t,r){return(t=v7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j7(e,t){if(e==null)return{};var r,n,s=w7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function w7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function N7(e,t){var{x:r,y:n}=e,s=j7(e,x7),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),m="".concat(t.width||s.width),f=parseInt(m,10);return ro(ro(ro(ro(ro({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function R0(e){return g.createElement(sA,Cp({shapeType:"rectangle",propTransformer:N7,activeClassName:"recharts-active-bar"},e))}var C7=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(se(t))return t;var i=se(n)||Pe(n);return i?t(n,s):(i||g7(),r)}},S7={},cA=gr({name:"errorBars",initialState:S7,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:Xq,replaceErrorBar:Qq,removeErrorBar:Zq}=cA.actions,k7=cA.reducer,E7=["children"];function A7(e,t){if(e==null)return{};var r,n,s=P7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function P7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T7={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},O7=g.createContext(T7);function uA(e){var{children:t}=e,r=A7(e,E7);return g.createElement(O7.Provider,{value:r},t)}function km(e,t){var r,n,s=ae(d=>Wn(d,e)),i=ae(d=>qn(d,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:er.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function $0(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Sm(),{needClipX:i,needClipY:o,needClip:l}=km(t,r);if(!l)return null;var{x:c,y:d,width:u,height:m}=s;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?c:c-u/2,y:o?d:d-m/2,width:i?u:u*2,height:o?m:m*2}))}var L7=["onMouseEnter","onMouseLeave","onClick"],D7=["value","background","tooltipPosition"],M7=["id"],_7=["onMouseEnter","onClick","onMouseLeave"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(null,arguments)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){I7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I7(e,t,r){return(t=R7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R7(e){var t=$7(e,"string");return typeof t=="symbol"?t:t+""}function $7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xu(e,t){if(e==null)return{};var r,n,s=B7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function B7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var U7=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Ta(r,t),payload:e}]};function F7(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Ta(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function z7(e){var t=ae(wa),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=Xu(i,L7),u=O0(o,n),m=L0(l),f=D0(c,n);if(!s||r==null)return null;var h=Te(s,!1);return g.createElement(g.Fragment,null,r.map((p,x)=>{var{value:y,background:v,tooltipPosition:b}=p,j=Xu(p,D7);if(!v)return null;var w=u(p,x),C=m(p,x),S=f(p,x),L=Ot(Ot(Ot(Ot(Ot({option:s,isActive:String(x)===t},j),{},{fill:"#eee"},v),h),hl(d,p,x)),{},{onMouseEnter:w,onMouseLeave:C,onClick:S,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return g.createElement(R0,Ca({key:"background-bar-".concat(L.index)},L))}))}function H7(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Ot(Ot({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return g.createElement(S0,{value:t?s:void 0},r)}function W7(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=ae(wa),c=ae(kE),d=r&&String(i)===l&&(c==null||o===c),u=d?r:t;return g.createElement(R0,Ca({},n,s,{isActive:d,option:u,index:i,dataKey:o}))}function q7(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return g.createElement(R0,Ca({},r,n,{isActive:!1,option:t,index:s,dataKey:i}))}function G7(e){var{data:t,props:r}=e,n=Dr(r),{id:s}=n,i=Xu(n,M7),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:d,onClick:u,onMouseLeave:m}=r,f=Xu(r,_7),h=O0(d,l),p=L0(m),x=D0(u,l);return t?g.createElement(g.Fragment,null,t.map((y,v)=>g.createElement(He,Ca({className:"recharts-bar-rectangle"},hl(f,y,v),{onMouseEnter:h(y,v),onMouseLeave:p(y,v),onClick:x(y,v),key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(v)}),c?g.createElement(W7,{shape:o,activeBar:c,baseProps:i,entry:y,index:v,dataKey:l}):g.createElement(q7,{shape:o,baseProps:i,entry:y,index:v,dataKey:l})))):null}function K7(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,m=r.current,f=Pi(t,"recharts-bar-"),[h,p]=g.useState(!1),x=!h,y=g.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),v=g.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return g.createElement(H7,{showLabels:x,rects:n},g.createElement(Ai,{animationId:f,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:y,onAnimationStart:v,key:f},b=>{var j=b===1?n:n==null?void 0:n.map((w,C)=>{var S=m&&m[C];if(S)return Ot(Ot({},w),{},{x:ve(S.x,w.x,b),y:ve(S.y,w.y,b),width:ve(S.width,w.width,b),height:ve(S.height,w.height,b)});if(s==="horizontal"){var L=ve(0,w.height,b);return Ot(Ot({},w),{},{y:w.y+w.height-L,height:L})}var _=ve(0,w.width,b);return Ot(Ot({},w),{},{width:_})});return b>0&&(r.current=j??null),j==null?null:g.createElement(He,null,g.createElement(G7,{props:t,data:j}))}),g.createElement(wm,{label:t.label}),t.children)}function V7(e){var t=g.useRef(null);return g.createElement(K7,{previousRectanglesRef:t,props:e})}var dA=0,Y7=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:be(e,t)}};class X7 extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:c,id:d}=this.props;if(t||r==null)return null;var u=fe("recharts-bar",s),m=d;return g.createElement(He,{className:u,id:d},l&&g.createElement("defs",null,g.createElement($0,{clipPathId:m,xAxisId:i,yAxisId:o})),g.createElement(He,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},g.createElement(z7,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(V7,this.props)))}}var Q7={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!zn.isSsr,legendType:"rect",minPointSize:dA,xAxisId:0,yAxisId:0};function Z7(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:m}=km(t,r),f=yl(),h=At(),p=Wg(e.children,Rn),x=ae(b=>k9(b,t,r,h,e.id,p));if(f!=="vertical"&&f!=="horizontal")return null;var y,v=x==null?void 0:x[0];return v==null||v.height==null||v.width==null?y=0:y=f==="vertical"?v.height/2:v.width/2,g.createElement(uA,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Y7,errorBarOffset:y},g.createElement(X7,Ca({},e,{layout:f,needClip:m,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function J7(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:m,offset:f,cells:h,parentViewBox:p}=e,x=t==="horizontal"?l:o,y=u?x.scale.domain():null,v=A_({numericAxis:x});return m.map((b,j)=>{var w,C,S,L,_,k;u?w=N_(u[j],y):(w=be(b,r),Array.isArray(w)||(w=[v,w]));var T=C7(n,dA)(w[1],j);if(t==="horizontal"){var I,[M,z]=[l.scale(w[0]),l.scale(w[1])];C=vb({axis:o,ticks:c,bandSize:i,offset:s.offset,entry:b,index:j}),S=(I=z??M)!==null&&I!==void 0?I:void 0,L=s.size;var G=M-z;if(_=Jt(G)?0:G,k={x:C,y:f.top,width:L,height:f.height},Math.abs(T)>0&&Math.abs(_)<Math.abs(T)){var Z=ct(_||T)*(Math.abs(T)-Math.abs(_));S-=Z,_+=Z}}else{var[$,E]=[o.scale(w[0]),o.scale(w[1])];if(C=$,S=vb({axis:l,ticks:d,bandSize:i,offset:s.offset,entry:b,index:j}),L=E-$,_=s.size,k={x:f.left,y:S,width:f.width,height:_},Math.abs(T)>0&&Math.abs(L)<Math.abs(T)){var O=ct(L||T)*(Math.abs(T)-Math.abs(L));L+=O}}if(C==null||S==null||L==null||_==null)return null;var R=Ot(Ot({},b),{},{x:C,y:S,width:L,height:_,value:u?w:w[1],payload:b,background:k,tooltipPosition:{x:C+L/2,y:S+_/2},parentViewBox:p},h&&h[j]&&h[j].props);return R}).filter(Boolean)}function e9(e){var t=nt(e,Q7),r=At();return g.createElement(Cm,{id:t.id,type:"bar"},n=>g.createElement(g.Fragment,null,g.createElement(M0,{legendPayload:U7(t)}),g.createElement(Nm,{fn:F7,args:t}),g.createElement(_0,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:cS(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),g.createElement(Z7,Ca({},t,{id:n}))))}var Ur=g.memo(e9);Ur.displayName="Bar";function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){t9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r){return(t=r9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a9=(e,t)=>t,s9=(e,t,r)=>r,i9=(e,t,r,n)=>n,o9=(e,t,r,n,s)=>s,Ll=H([El,o9],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),l9=H([Ll],e=>e==null?void 0:e.maxBarSize),c9=(e,t,r,n,s,i)=>i,jw=(e,t,r)=>{var n=r??e;if(!Pe(n))return kt(n,t,0)},u9=H([me,El,a9,s9,i9],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),d9=(e,t,r,n)=>{var s=me(e);return s==="horizontal"?el(e,"yAxis",r,n):el(e,"xAxis",t,n)},m9=(e,t,r)=>{var n=me(e);return n==="horizontal"?Lj(e,"xAxis",t):Lj(e,"yAxis",r)},f9=(e,t,r)=>{var n={},s=e.filter(hm),i=e.filter(d=>d.stackId==null),o=s.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),l=Object.entries(o).map(d=>{var[u,m]=d,f=m.map(p=>p.dataKey),h=jw(t,r,m[0].barSize);return{stackId:u,dataKeys:f,barSize:h}}),c=i.map(d=>{var u=[d.dataKey].filter(f=>f!=null),m=jw(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...l,...c]},h9=H([u9,a$,m9],f9),p9=(e,t,r,n,s)=>{var i,o,l=Ll(e,t,r,n,s);if(l!=null){var c=me(e),d=Ck(e),{maxBarSize:u}=l,m=Pe(u)?d:u,f,h;return c==="horizontal"?(f=dn(e,"xAxis",t,n),h=un(e,"xAxis",t,n)):(f=dn(e,"yAxis",r,n),h=un(e,"yAxis",r,n)),(i=(o=fs(f,h,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},mA=(e,t,r,n)=>{var s=me(e),i,o;return s==="horizontal"?(i=dn(e,"xAxis",t,n),o=un(e,"xAxis",t,n)):(i=dn(e,"yAxis",r,n),o=un(e,"yAxis",r,n)),fs(i,o)};function g9(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=kt(e,r,0,!0),l,c=[];if(vt(n[0].barSize)){var d=!1,u=r/i,m=n.reduce((v,b)=>v+(b.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&u>0&&(d=!0,u*=.9,m=i*u);var f=(r-m)/2>>0,h={offset:f-o,size:0};l=n.reduce((v,b)=>{var j,w={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+o,size:d?u:(j=b.barSize)!==null&&j!==void 0?j:0}},C=[...v,w];return h=C[C.length-1].position,C},c)}else{var p=kt(t,r,0,!0);r-2*p-(i-1)*o<=0&&(o=0);var x=(r-2*p-(i-1)*o)/i;x>1&&(x>>=0);var y=vt(s)?Math.min(x,s):x;l=n.reduce((v,b,j)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(x+o)*j+(x-y)/2,size:y}}],c)}return l}}var x9=(e,t,r,n,s,i,o)=>{var l=Pe(o)?t:o,c=g9(r,n,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(d=>vc(vc({},d),{},{position:vc(vc({},d.position),{},{offset:d.position.offset-s/2})}))),c},y9=H([h9,Ck,n$,Sk,p9,mA,l9],x9),v9=(e,t,r,n)=>dn(e,"xAxis",t,n),b9=(e,t,r,n)=>dn(e,"yAxis",r,n),j9=(e,t,r,n)=>un(e,"xAxis",t,n),w9=(e,t,r,n)=>un(e,"yAxis",r,n),N9=H([y9,Ll],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),C9=(e,t)=>{var r=fm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},S9=H([d9,Ll],C9),k9=H([rt,px,v9,b9,j9,w9,N9,me,Nl,mA,S9,Ll,c9],(e,t,r,n,s,i,o,l,c,d,u,m,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:x}=c;if(!(m==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||d==null)){var{data:y}=m,v;if(y!=null&&y.length>0?v=y:v=h==null?void 0:h.slice(p,x+1),v!=null)return J7({layout:l,barSettings:m,pos:o,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:u,displayedData:v,offset:e,cells:f})}}),fA=e=>{var{chartData:t}=e,r=Fe(),n=At();return g.useEffect(()=>n?()=>{}:(r(Fj(t)),()=>{r(Fj(void 0))}),[t,r,n]),null},ww={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hA=gr({name:"brush",initialState:ww,reducers:{setBrushSettings(e,t){return t.payload==null?ww:t.payload}}}),{setBrushSettings:Jq}=hA.actions,E9=hA.reducer;function A9(e,t,r){return(t=P9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=T9(e,"string");return typeof t=="symbol"?t:t+""}function T9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class B0{static create(t){return new B0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}A9(B0,"EPS",1e-4);function O9(e){return(e%180+180)%180}var L9=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=O9(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},D9={dots:[],areas:[],lines:[]},pA=gr({name:"referenceElements",initialState:D9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Cn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Cn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Cn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:eG,removeDot:tG,addArea:rG,removeArea:nG,addLine:aG,removeLine:sG}=pA.actions,M9=pA.reducer,_9=g.createContext(void 0),I9=e=>{var{children:t}=e,[r]=g.useState("".concat(qo("recharts"),"-clip")),n=Sm();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return g.createElement(_9.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function xi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function gA(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function R9(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return L9(n,r)}function $9(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Qu(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function B9(e,t){return gA(e,t+1)}function U9(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,m=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:gA(n,d)};var x=c,y,v=()=>(y===void 0&&(y=r(p,x)),y),b=p.coordinate,j=c===0||Qu(e,b,v,u,l);j||(c=0,u=o,d+=1),j&&(u=b+e*(v()/2+s),c+=d)},f;d<=i.length;)if(f=m(),f)return f.v;return[]}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9(e,t,r){return(t=z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=H9(e,"string");return typeof t=="symbol"?t:t+""}function H9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W9(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(f){var h=i[f],p,x=()=>(p===void 0&&(p=r(h,f)),p);if(f===o-1){var y=e*(h.coordinate+e*x()/2-c);i[f]=h=wt(wt({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else i[f]=h=wt(wt({},h),{},{tickCoord:h.coordinate});var v=Qu(e,h.tickCoord,x,l,c);v&&(c=h.tickCoord-e*(x()/2+s),i[f]=wt(wt({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function q9(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=n[l-1],m=r(u,l-1),f=e*(u.coordinate+e*m/2-d);o[l-1]=u=wt(wt({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var h=Qu(e,u.tickCoord,()=>m,c,d);h&&(d=u.tickCoord-e*(m/2+s),o[l-1]=wt(wt({},u),{},{isShow:!0}))}for(var p=i?l-1:l,x=function(b){var j=o[b],w,C=()=>(w===void 0&&(w=r(j,b)),w);if(b===0){var S=e*(j.coordinate-e*C()/2-c);o[b]=j=wt(wt({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[b]=j=wt(wt({},j),{},{tickCoord:j.coordinate});var L=Qu(e,j.tickCoord,C,c,d);L&&(c=j.tickCoord+e*(C()/2+s),o[b]=wt(wt({},j),{},{isShow:!0}))},y=0;y<p;y++)x(y);return o}function U0(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!s||!s.length||!n)return[];if(se(c)||zn.isSsr){var f;return(f=B9(s,se(c)?c:0))!==null&&f!==void 0?f:[]}var h=[],p=l==="top"||l==="bottom"?"width":"height",x=u&&p==="width"?Co(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(j,w)=>{var C=typeof d=="function"?d(j.value,w):j.value;return p==="width"?R9(Co(C,{fontSize:t,letterSpacing:r}),x,m):Co(C,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?ct(s[1].coordinate-s[0].coordinate):1,b=$9(i,v,p);return c==="equidistantPreserveStart"?U9(v,b,y,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=q9(v,b,y,s,o,c==="preserveStartEnd"):h=W9(v,b,y,s,o),h.filter(j=>j.isShow))}var G9=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,d=o+c+l+(r?n:0);return Math.round(d)}return 0},K9=["axisLine","width","height","className","hide","ticks"],V9=["viewBox"],Y9=["viewBox"];function Sp(e,t){if(e==null)return{};var r,n,s=X9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(null,arguments)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){Q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q9(e,t,r){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function ez(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var d=et(et(et({},c),Te(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);d=et(et({},d),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var m=+(i==="left"&&!o||i==="right"&&o);d=et(et({},d),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return g.createElement("line",ps({},d,{className:fe("recharts-cartesian-axis-line",us(l,"className"))}))}function tz(e,t,r,n,s,i,o,l,c){var d,u,m,f,h,p,x=l?-1:1,y=e.tickSize||o,v=se(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,f=r+ +!l*s,m=f-x*y,p=m-x*c,h=v;break;case"left":m=f=e.coordinate,u=t+ +!l*n,d=u-x*y,h=d-x*c,p=v;break;case"right":m=f=e.coordinate,u=t+ +l*n,d=u+x*y,h=d+x*c,p=v;break;default:d=u=e.coordinate,f=r+ +l*s,m=f+x*y,p=m+x*c,h=v;break}return{line:{x1:d,y1:m,x2:u,y2:f},tick:{x:h,y:p}}}function rz(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function nz(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function az(e){var{option:t,tickProps:r,value:n}=e,s,i=fe(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))s=g.cloneElement(t,et(et({},r),{},{className:i}));else if(typeof t=="function")s=t(et(et({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=fe(o,t==null?void 0:t.className)),s=g.createElement(jm,ps({},r,{className:o}),n)}return s}function sz(e){var{ticks:t=[],tick:r,tickLine:n,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:u,x:m,y:f,width:h,height:p,tickSize:x,tickMargin:y,fontSize:v,letterSpacing:b,getTicksConfig:j,events:w}=e,C=U0(et(et({},j),{},{ticks:t}),v,b),S=rz(d,u),L=nz(d,u),_=Dr(j),k=Te(r,!1),T=et(et({},_),{},{fill:"none"},Te(n,!1)),I=C.map((M,z)=>{var{line:G,tick:Z}=tz(M,m,f,h,p,d,x,u,y),$=et(et(et(et({textAnchor:S,verticalAnchor:L},_),{},{stroke:"none",fill:s},k),Z),{},{index:z,payload:M,visibleTicksCount:C.length,tickFormatter:i,padding:l},c);return g.createElement(He,ps({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},hl(w,M,z)),n&&g.createElement("line",ps({},T,G,{className:fe("recharts-cartesian-axis-tick-line",us(n,"className"))})),r&&g.createElement(az,{option:r,tickProps:$,value:"".concat(typeof i=="function"?i(M.value,z):M.value).concat(o||"")}))});return I.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}var iz=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:o,ticks:l}=e,c=Sp(e,K9),[d,u]=g.useState(""),[m,f]=g.useState(""),h=g.useRef([]);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return G9({ticks:h.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=g.useCallback(x=>{if(x){var y=x.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(y);var v=y[0];if(v){var b=window.getComputedStyle(v),j=b.fontSize,w=b.letterSpacing;(j!==d||w!==m)&&(u(j),f(w))}}},[d,m]);return o||n!=null&&n<=0||s!=null&&s<=0?null:g.createElement(He,{className:fe("recharts-cartesian-axis",i),ref:p},g.createElement(ez,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Dr(e)}),g.createElement(sz,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:m,getTicksConfig:e,events:c}),g.createElement(yF,{x:e.x,y:e.y,width:e.width,height:e.height},g.createElement(AF,{label:e.label}),e.children))}),oz=g.memo(iz,(e,t)=>{var{viewBox:r}=e,n=Sp(e,V9),{viewBox:s}=t,i=Sp(t,Y9);return xi(r,s)&&xi(n,i)}),z0=g.forwardRef((e,t)=>{var r=nt(e,F0);return g.createElement(oz,ps({},r,{ref:t}))});z0.displayName="CartesianAxis";var lz=["x1","y1","x2","y2","key"],cz=["offset"],uz=["xAxisId","yAxisId"],dz=["xAxisId","yAxisId"];function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mz(e,t,r){return(t=fz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fz(e){var t=hz(e,"string");return typeof t=="symbol"?t:t+""}function hz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Va.apply(null,arguments)}function Zu(e,t){if(e==null)return{};var r,n,s=pz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gz=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return g.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function xA(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=Zu(t,lz),d=Dr(c),{offset:u}=d,m=Zu(d,cz);r=g.createElement("line",Va({},m,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function xz(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Zu(e,uz),c=s.map((d,u)=>{var m=Ct(Ct({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return xA(n,m)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function yz(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Zu(e,dz),c=s.map((d,u)=>{var m=Ct(Ct({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return xA(n,m)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function vz(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(m=>Math.round(m+s-s)).sort((m,f)=>m-f);s!==d[0]&&d.unshift(0);var u=d.map((m,f)=>{var h=!d[f+1],p=h?s+o-m:d[f+1]-m;if(p<=0)return null;var x=f%t.length;return g.createElement("rect",{key:"react-".concat(f),y:m,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function bz(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(m=>Math.round(m+s-s)).sort((m,f)=>m-f);s!==d[0]&&d.unshift(0);var u=d.map((m,f)=>{var h=!d[f+1],p=h?s+o-m:d[f+1]-m;if(p<=0)return null;var x=f%r.length;return g.createElement("rect",{key:"react-".concat(f),x:m,y:i,width:p,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var jz=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return oS(U0(Ct(Ct(Ct({},F0),r),{},{ticks:lS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},wz=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return oS(U0(Ct(Ct(Ct({},F0),r),{},{ticks:lS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},Nz={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Kr(e){var t=xx(),r=yx(),n=fS(),s=Ct(Ct({},nt(e,Nz)),{},{x:se(e.x)?e.x:n.left,y:se(e.y)?e.y:n.top,width:se(e.width)?e.width:n.width,height:se(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:f,verticalValues:h}=s,p=At(),x=ae(k=>Dj(k,"xAxis",i,p)),y=ae(k=>Dj(k,"yAxis",o,p));if(!se(d)||d<=0||!se(u)||u<=0||!se(l)||l!==+l||!se(c)||c!==+c)return null;var v=s.verticalCoordinatesGenerator||jz,b=s.horizontalCoordinatesGenerator||wz,{horizontalPoints:j,verticalPoints:w}=s;if((!j||!j.length)&&typeof b=="function"){var C=f&&f.length,S=b({yAxis:y?Ct(Ct({},y),{},{ticks:C?f:y.ticks}):void 0,width:t,height:r,offset:n},C?!0:m);No(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}if((!w||!w.length)&&typeof v=="function"){var L=h&&h.length,_=v({xAxis:x?Ct(Ct({},x),{},{ticks:L?h:x.ticks}):void 0,width:t,height:r,offset:n},L?!0:m);No(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(gz,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement(vz,Va({},s,{horizontalPoints:j})),g.createElement(bz,Va({},s,{verticalPoints:w})),g.createElement(xz,Va({},s,{offset:n,horizontalPoints:j,xAxis:x,yAxis:y})),g.createElement(yz,Va({},s,{offset:n,verticalPoints:w,xAxis:x,yAxis:y})))}Kr.displayName="CartesianGrid";var yA=(e,t,r,n)=>dn(e,"xAxis",t,n),vA=(e,t,r,n)=>un(e,"xAxis",t,n),bA=(e,t,r,n)=>dn(e,"yAxis",r,n),jA=(e,t,r,n)=>un(e,"yAxis",r,n),Cz=H([me,yA,bA,vA,jA],(e,t,r,n,s)=>mn(e,"xAxis")?fs(t,n,!1):fs(r,s,!1)),Sz=(e,t,r,n,s)=>s;function kz(e){return e.type==="line"}var Ez=H([El,Sz],(e,t)=>e.filter(kz).find(r=>r.id===t)),Az=H([me,yA,bA,vA,jA,Ez,Cz,Nl],(e,t,r,n,s,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:m,data:f}=i,h;if(f!=null&&f.length>0?h=f:h=c==null?void 0:c.slice(d,u+1),h!=null)return Xz({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:o,displayedData:h})}}),Pz=["id"],Tz=["type","layout","connectNulls","needClip"],Oz=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){Lz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lz(e,t,r){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=Mz(e,"string");return typeof t=="symbol"?t:t+""}function Mz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H0(e,t){if(e==null)return{};var r,n,s=_z(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _z(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(null,arguments)}var Iz=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Ta(r,t),payload:e}]};function Rz(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Ta(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var wA=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function $z(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var Bz=(e,t,r)=>{var n=r.reduce((m,f)=>m+f);if(!n)return wA(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){l=[...r.slice(0,c),i-d];break}var u=l.length%2===0?[0,o]:[o];return[...$z(r,s),...l,...u].map(m=>"".concat(m,"px")).join(", ")};function Uz(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=fe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=g.createElement(k0,gs({},t,{className:n}))}return r}function Fz(e,t){return e==null?!1:t?!0:e.length===1}function zz(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!Fz(r,s))return null;var{id:l}=n,c=H0(n,Pz),d=zd(s),u=Dr(c),m=Te(s,!0),f=r.map((p,x)=>{var y=sr(sr(sr({key:"dot-".concat(x),r:3},u),m),{},{index:x,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return Uz(s,y)}),h={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return g.createElement(He,gs({className:"recharts-line-dots",key:"dots"},h),f)}function Hz(e){var{showLabels:t,children:r,points:n}=e,s=g.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return sr(sr({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return g.createElement(S0,{value:t?s:null},r)}function Ew(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:d}=i,u=H0(i,Tz),m=sr(sr({},Te(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(Vs,gs({},m,{pathRef:r})),g.createElement(zz,{points:n,clipPathId:t,props:i}))}function Wz(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function qz(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:f,width:h,height:p,onAnimationEnd:x,onAnimationStart:y}=r,v=s.current,b=Pi(r,"recharts-line-"),[j,w]=g.useState(!1),C=!j,S=g.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),L=g.useCallback(()=>{typeof y=="function"&&y(),w(!0)},[y]),_=Wz(n.current),k=i.current;return g.createElement(Hz,{points:o,showLabels:C},r.children,g.createElement(Ai,{animationId:b,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:S,onAnimationStart:L,key:b},T=>{var I=ve(k,_+k,T),M=Math.min(I,_),z;if(c)if(l){var G="".concat(l).split(/[,\s]+/gim).map(E=>parseFloat(E));z=Bz(M,_,G)}else z=wA(_,M);else z=l==null?void 0:String(l);if(v){var Z=v.length/o.length,$=T===1?o:o.map((E,O)=>{var R=Math.floor(O*Z);if(v[R]){var U=v[R];return sr(sr({},E),{},{x:ve(U.x,E.x,T),y:ve(U.y,E.y,T)})}return f?sr(sr({},E),{},{x:ve(h*2,E.x,T),y:ve(p/2,E.y,T)}):sr(sr({},E),{},{x:E.x,y:E.y})});return s.current=$,g.createElement(Ew,{props:r,points:$,clipPathId:t,pathRef:n,strokeDasharray:z})}return T>0&&_>0&&(s.current=o,i.current=M),g.createElement(Ew,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:z})}),g.createElement(wm,{label:r.label}))}function Gz(e){var{clipPathId:t,props:r}=e,n=g.useRef(null),s=g.useRef(0),i=g.useRef(null);return g.createElement(qz,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var Kz=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:be(e.payload,t)});class Vz extends g.Component{render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:l,top:c,left:d,width:u,height:m,id:f,needClip:h}=this.props;if(r)return null;var p=fe("recharts-line",i),x=f,{r:y=3,strokeWidth:v=2}=(t=Te(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=zd(n),j=y*2+v;return g.createElement(g.Fragment,null,g.createElement(He,{className:p},h&&g.createElement("defs",null,g.createElement($0,{clipPathId:x,xAxisId:o,yAxisId:l}),!b&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:d-j/2,y:c-j/2,width:u+j,height:m+j}))),g.createElement(uA,{xAxisId:o,yAxisId:l,data:s,dataPointFormatter:Kz,errorBarOffset:0},g.createElement(Gz,{props:this.props,clipPathId:x}))),g.createElement(Np,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var NA={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!zn.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Yz(e){var t=nt(e,NA),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:m,legendType:f,xAxisId:h,yAxisId:p,id:x}=t,y=H0(t,Oz),{needClip:v}=km(h,p),b=Sm(),j=yl(),w=At(),C=ae(T=>Az(T,h,p,w,x));if(j!=="horizontal"&&j!=="vertical"||C==null||b==null)return null;var{height:S,width:L,x:_,y:k}=b;return g.createElement(Vz,gs({},y,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:m,legendType:f,xAxisId:h,yAxisId:p,points:C,layout:j,height:S,width:L,left:_,top:k,needClip:v}))}function Xz(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var m=be(d,o);if(t==="horizontal"){var f=Tu({axis:r,ticks:s,bandSize:l,entry:d,index:u}),h=Pe(m)?null:n.scale(m);return{x:f,y:h,value:m,payload:d}}var p=Pe(m)?null:r.scale(m),x=Tu({axis:n,ticks:i,bandSize:l,entry:d,index:u});return p==null||x==null?null:{x:p,y:x,value:m,payload:d}}).filter(Boolean)}function Qz(e){var t=nt(e,NA),r=At();return g.createElement(Cm,{id:t.id,type:"line"},n=>g.createElement(g.Fragment,null,g.createElement(M0,{legendPayload:Iz(t)}),g.createElement(Nm,{fn:Rz,args:t}),g.createElement(_0,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),g.createElement(Yz,gs({},t,{id:n}))))}var Fr=g.memo(Qz);Fr.displayName="Line";var CA=(e,t,r,n)=>dn(e,"xAxis",t,n),SA=(e,t,r,n)=>un(e,"xAxis",t,n),kA=(e,t,r,n)=>dn(e,"yAxis",r,n),EA=(e,t,r,n)=>un(e,"yAxis",r,n),Zz=H([me,CA,kA,SA,EA],(e,t,r,n,s)=>mn(e,"xAxis")?fs(t,n,!1):fs(r,s,!1)),Jz=(e,t,r,n,s)=>s,AA=H([El,Jz],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),eH=(e,t,r,n,s)=>{var i,o=AA(e,t,r,n,s);if(o!=null){var l=me(e),c=mn(l,"xAxis"),d;if(c?d=el(e,"yAxis",r,n):d=el(e,"xAxis",t,n),d!=null){var{stackId:u}=o,m=fm(o);if(!(u==null||m==null)){var f=(i=d[u])===null||i===void 0?void 0:i.stackedData;return f==null?void 0:f.find(h=>h.key===m)}}}},tH=H([me,CA,kA,SA,EA,eH,Nl,Zz,AA],(e,t,r,n,s,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:m}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:f}=c,h;if(f&&f.length>0?h=f:h=d==null?void 0:d.slice(u,m+1),h!=null){var p=void 0;return wH({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:h,chartBaseValue:p,bandSize:l})}}}),rH=["id"],nH=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function PA(e,t){if(e==null)return{};var r,n,s=aH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function aH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){sH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sH(e,t,r){return(t=iH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kn.apply(null,arguments)}function Ju(e,t){return e&&e!=="none"?e:t}var lH=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Ju(n,s),value:Ta(r,t),payload:e}]};function cH(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Ta(o,t),hide:l,type:e.tooltipType,color:Ju(n,i),unit:c}}}var uH=(e,t)=>{var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=fe("recharts-area-dot",typeof e!="boolean"?e.className:"");r=g.createElement(k0,kn({},t,{className:n}))}return r};function dH(e,t){return e==null?!1:t?!0:e.length===1}function mH(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:i,dataKey:o}=n;if(!dH(r,i))return null;var l=zd(i),c=Dr(n),d=Te(i,!0),u=r.map((f,h)=>{var p=wn(wn(wn({key:"dot-".concat(h),r:3},c),d),{},{index:h,cx:f.x,cy:f.y,dataKey:o,value:f.value,payload:f.payload,points:r});return uH(i,p)}),m={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return g.createElement(He,kn({className:"recharts-area-dots"},m),u)}function fH(e){var{showLabels:t,children:r,points:n}=e,s=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return wn(wn({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return g.createElement(S0,{value:t?s:null},r)}function Pw(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:d,isRange:u}=i,{id:m}=i,f=PA(i,rH),h=Dr(f);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(He,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},g.createElement(Vs,kn({},h,{id:m,points:t,connectNulls:d,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&g.createElement(Vs,kn({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),c!=="none"&&u&&g.createElement(Vs,kn({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:r}))),g.createElement(mH,{points:t,props:f,clipPathId:s}))}function hH(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].y,o=n[n.length-1].y;if(!vt(i)||!vt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.x||0));return se(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),se(c)?g.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function pH(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].x,o=n[n.length-1].x;if(!vt(i)||!vt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.y||0));return se(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),se(c)?g.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function gH(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:i}=e;return r==="vertical"?g.createElement(hH,{alpha:t,points:n,baseLine:s,strokeWidth:i}):g.createElement(pH,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function xH(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,onAnimationStart:f,onAnimationEnd:h}=n,p=Pi(n,"recharts-area-"),[x,y]=g.useState(!1),v=!x,b=g.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),j=g.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]),w=s.current,C=i.current;return g.createElement(fH,{showLabels:v,points:o},n.children,g.createElement(Ai,{animationId:p,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:b,onAnimationStart:j,key:p},S=>{if(w){var L=w.length/o.length,_=S===1?o:o.map((T,I)=>{var M=Math.floor(I*L);if(w[M]){var z=w[M];return wn(wn({},T),{},{x:ve(z.x,T.x,S),y:ve(z.y,T.y,S)})}return T}),k;return se(l)?k=ve(C,l,S):Pe(l)||Jt(l)?k=ve(C,0,S):k=l.map((T,I)=>{var M=Math.floor(I*L);if(Array.isArray(C)&&C[M]){var z=C[M];return wn(wn({},T),{},{x:ve(z.x,T.x,S),y:ve(z.y,T.y,S)})}return T}),S>0&&(s.current=_,i.current=k),g.createElement(Pw,{points:_,baseLine:k,needClip:t,clipPathId:r,props:n})}return S>0&&(s.current=o,i.current=l),g.createElement(He,null,c&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(gH,{alpha:S,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),g.createElement(He,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(Pw,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),g.createElement(wm,{label:n.label}))}function yH(e){var{needClip:t,clipPathId:r,props:n}=e,s=g.useRef(null),i=g.useRef();return g.createElement(xH,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i})}class vH extends g.PureComponent{render(){var t,{hide:r,dot:n,points:s,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:m,height:f,id:h,baseLine:p}=this.props;if(r)return null;var x=fe("recharts-area",i),y=h,{r:v=3,strokeWidth:b=2}=(t=Te(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=zd(n),w=v*2+b;return g.createElement(g.Fragment,null,g.createElement(He,{className:x},c&&g.createElement("defs",null,g.createElement($0,{clipPathId:y,xAxisId:d,yAxisId:u}),!j&&g.createElement("clipPath",{id:"clipPath-dots-".concat(y)},g.createElement("rect",{x:l-w/2,y:o-w/2,width:m+w,height:f+w}))),g.createElement(yH,{needClip:c,clipPathId:y,props:this.props})),g.createElement(Np,{points:s,mainColor:Ju(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&g.createElement(Np,{points:p,mainColor:Ju(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var TA={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!zn.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function bH(e){var t,r=nt(e,TA),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:m,isAnimationActive:f,legendType:h,stroke:p,xAxisId:x,yAxisId:y}=r,v=PA(r,nH),b=yl(),j=AE(),{needClip:w}=km(x,y),C=At(),{points:S,isRange:L,baseLine:_}=(t=ae(G=>tH(G,x,y,C,e.id)))!==null&&t!==void 0?t:{},k=Sm();if(b!=="horizontal"&&b!=="vertical"||k==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:T,width:I,x:M,y:z}=k;return!S||!S.length?null:g.createElement(vH,kn({},v,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:_,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:T,hide:m,layout:b,isAnimationActive:f,isRange:L,legendType:h,needClip:w,points:S,stroke:p,width:I,left:M,top:z,xAxisId:x,yAxisId:y}))}var jH=(e,t,r,n,s)=>{var i=r??t;if(se(i))return i;var o=e==="horizontal"?s:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function wH(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:m,yAxisTicks:f,bandSize:h}=e,p=s&&s.length,x=jH(i,o,r,l,c),y=i==="horizontal",v=!1,b=d.map((w,C)=>{var S;p?S=s[u+C]:(S=be(w,n),Array.isArray(S)?v=!0:S=[x,S]);var L=S[1]==null||p&&!t&&be(w,n)==null;return y?{x:Tu({axis:l,ticks:m,bandSize:h,entry:w,index:C}),y:L?null:c.scale(S[1]),value:S,payload:w}:{x:L?null:l.scale(S[1]),y:Tu({axis:c,ticks:f,bandSize:h,entry:w,index:C}),value:S,payload:w}}),j;return p||v?j=b.map(w=>{var C=Array.isArray(w.value)?w.value[0]:null;return y?{x:w.x,y:C!=null&&w.y!=null?c.scale(C):null,payload:w.payload}:{x:C!=null?l.scale(C):null,y:w.y,payload:w.payload}}):j=y?c.scale(x):l.scale(x),{points:b,baseLine:j,isRange:v}}function NH(e){var t=nt(e,TA),r=At();return g.createElement(Cm,{id:t.id,type:"area"},n=>g.createElement(g.Fragment,null,g.createElement(M0,{legendPayload:lH(t)}),g.createElement(Nm,{fn:cH,args:t}),g.createElement(_0,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:cS(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),g.createElement(bH,kn({},t,{id:n}))))}var xs=g.memo(NH);xs.displayName="Area";var CH=["dangerouslySetInnerHTML","ticks"],SH=["id"],kH=["domain"],EH=["domain"];function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(null,arguments)}function ed(e,t){if(e==null)return{};var r,n,s=AH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PH(e){var t=Fe();return g.useEffect(()=>(t(r7(e)),()=>{t(n7(e))}),[e,t]),null}var TH=e=>{var{xAxisId:t,className:r}=e,n=ae(px),s=At(),i="xAxis",o=ae(y=>Ii(y,i,t,s)),l=ae(y=>oE(y,i,t,s)),c=ae(y=>nE(y,t)),d=ae(y=>Y$(y,t)),u=ae(y=>Mk(y,t));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:m,ticks:f}=e,h=ed(e,CH),{id:p}=u,x=ed(u,SH);return g.createElement(z0,kp({},h,x,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:fe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},OH={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,height:er.height,hide:!1,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tickCount:er.tickCount,type:er.type,xAxisId:0},LH=e=>{var t,r,n,s,i,o=nt(e,OH);return g.createElement(g.Fragment,null,g.createElement(PH,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),g.createElement(TH,o))},DH=(e,t)=>{var{domain:r}=e,n=ed(e,kH),{domain:s}=t,i=ed(t,EH);return xi(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:xi({domain:r},{domain:s}):!1},Vr=g.memo(LH,DH);Vr.displayName="XAxis";var MH=["dangerouslySetInnerHTML","ticks"],_H=["id"],IH=["domain"],RH=["domain"];function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(null,arguments)}function td(e,t){if(e==null)return{};var r,n,s=$H(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $H(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BH(e){var t=Fe();return g.useEffect(()=>(t(a7(e)),()=>{t(s7(e))}),[e,t]),null}var UH=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=g.useRef(null),o=g.useRef(null),l=ae(px),c=At(),d=Fe(),u="yAxis",m=ae(C=>Ii(C,u,t,c)),f=ae(C=>aE(C,t)),h=ae(C=>Q$(C,t)),p=ae(C=>oE(C,u,t,c)),x=ae(C=>_k(C,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!f||C0(s)||g.isValidElement(s)||x==null)){var C=i.current;if(C){var S=C.getCalculatedWidth();Math.round(f.width)!==Math.round(S)&&d(i7({id:t,width:S}))}}},[p,f,d,s,t,n,x]),f==null||h==null||x==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=td(e,MH),{id:j}=x,w=td(x,_H);return g.createElement(z0,Ep({},b,w,{ref:i,labelRef:o,scale:m,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:fe("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:p}))},FH={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,hide:!1,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tickCount:tr.tickCount,type:tr.type,width:tr.width,yAxisId:0},zH=e=>{var t,r,n,s,i,o=nt(e,FH);return g.createElement(g.Fragment,null,g.createElement(BH,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),g.createElement(UH,o))},HH=(e,t)=>{var{domain:r}=e,n=td(e,IH),{domain:s}=t,i=td(t,RH);return xi(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:xi({domain:r},{domain:s}):!1},Ht=g.memo(zH,HH);Ht.displayName="YAxis";var WH={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=g;function qH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GH=typeof Object.is=="function"?Object.is:qH,KH=Dl.useSyncExternalStore,VH=Dl.useRef,YH=Dl.useEffect,XH=Dl.useMemo,QH=Dl.useDebugValue;WH.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=VH(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=XH(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return m=p}return m=h}if(p=m,GH(u,h))return p;var x=n(h);return s!==void 0&&s(p,x)?(u=h,p):(u=h,m=x)}var d=!1,u,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var l=KH(e,i[0],i[1]);return YH(function(){o.hasValue=!0,o.value=l},[l]),QH(l),l};function ZH(e){e()}function JH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ZH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Tw={notify(){},get:()=>[]};function eW(e,t){let r,n=Tw,s=0,i=!1;function o(x){u();const y=n.subscribe(x);let v=!1;return()=>{v||(v=!0,y(),m())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function d(){return i}function u(){s++,r||(r=e.subscribe(c),n=JH())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=Tw)}function f(){i||(i=!0,u())}function h(){i&&(i=!1,m())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return p}var tW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rW=tW(),nW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aW=nW(),sW=()=>rW||aW?g.useLayoutEffect:g.useEffect,iW=sW(),Tf=Symbol.for("react-redux-context"),Of=typeof globalThis<"u"?globalThis:{};function oW(){if(!g.createContext)return{};const e=Of[Tf]??(Of[Tf]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var lW=oW();function cW(e){const{children:t,context:r,serverState:n,store:s}=e,i=g.useMemo(()=>{const c=eW(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=g.useMemo(()=>s.getState(),[s]);iW(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||lW;return g.createElement(l.Provider,{value:i},t)}var uW=cW,dW=(e,t)=>t,W0=H([dW,me,Ok,st,wE,Gn,tU,rt],iU),q0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},OA=Tr("mouseClick"),LA=gl();LA.startListening({actionCreator:OA,effect:(e,t)=>{var r=e.payload,n=W0(t.getState(),q0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(uB({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ap=Tr("mouseMove"),DA=gl();DA.startListening({actionCreator:Ap,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=p0(n,n.tooltip.settings.shared),i=W0(n,q0(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(pE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(hE()))}});var Ow={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},MA=gr({name:"rootProps",initialState:Ow,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Ow.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),mW=MA.reducer,{updateOptions:fW}=MA.actions,_A=gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hW}=_A.actions,pW=_A.reducer,IA=Tr("keyDown"),RA=Tr("focus"),G0=gl();G0.startListening({actionCreator:IA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(g0(s,$i(r))),l=Gn(r);if(i==="Enter"){var c=Gu(r,"axis","hover",String(s.index));t.dispatch(yp({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var d=tB(r),u=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,f=o+m*u;if(!(l==null||f>=l.length||f<0)){var h=Gu(r,"axis","hover",String(f));t.dispatch(yp({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});G0.startListening({actionCreator:RA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=Gu(r,"axis","hover",String(i));t.dispatch(yp({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var br=Tr("externalEvent"),$A=gl();$A.startListening({actionCreator:br,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:GB(r),activeDataKey:kE(r),activeIndex:wa(r),activeLabel:SE(r),activeTooltipIndex:wa(r),isTooltipActive:KB(r)};e.payload.handler(n,e.payload.reactEvent)}}});var gW=H([Ri],e=>e.tooltipItemPayloads),xW=H([gW,Tl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),BA=Tr("touchMove"),UA=gl();UA.startListening({actionCreator:BA,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=p0(n,n.tooltip.settings.shared);if(s==="axis"){var i=W0(n,q0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(pE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(dS),u=(o=c.getAttribute(mS))!==null&&o!==void 0?o:void 0,m=xW(t.getState(),d,u);t.dispatch(fE({activeDataKey:u,activeIndex:d,activeCoordinate:m}))}}});var yW=I2({brush:E9,cartesianAxis:o7,chartData:jU,errorBars:k7,graphicalItems:k8,layout:o_,legend:X_,options:gU,polarAxis:qF,polarOptions:pW,referenceElements:M9,rootProps:mW,tooltip:dB}),vW=function(t){return LM({reducer:yW,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([LA.middleware,DA.middleware,G0.middleware,$A.middleware,UA.middleware]),devTools:zn.devToolsEnabled})};function FA(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=At(),i=g.useRef(null);if(s)return r;i.current==null&&(i.current=vW(t));var o=ox;return g.createElement(uW,{context:o,store:i.current},r)}function zA(e){var{layout:t,width:r,height:n,margin:s}=e,i=Fe(),o=At();return g.useEffect(()=>{o||(i(a_(t)),i(s_({width:r,height:n})),i(n_(s)))},[i,o,t,r,n,s]),null}function HA(e){var t=Fe();return g.useEffect(()=>{t(fW(e))},[t,e]),null}var bW=["children"];function jW(e,t){if(e==null)return{};var r,n,s=wW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(null,arguments)}var NW={width:"100%",height:"100%"},CW=g.forwardRef((e,t)=>{var r=xx(),n=yx(),s=xS();if(!di(r)||!di(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=s?0:void 0,typeof o.role=="string"?u=o.role:u=s?"application":void 0,g.createElement(qg,rd({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:NW,ref:t}),i)}),SW=e=>{var{children:t}=e,r=ae(nm);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return g.createElement(qg,{width:n,height:s,x:o,y:i},t)},Lw=g.forwardRef((e,t)=>{var{children:r}=e,n=jW(e,bW),s=At();return s?g.createElement(SW,null,r):g.createElement(CW,rd({ref:t},n),r)});function kW(){var e=Fe(),[t,r]=g.useState(null),n=ae(__);return g.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;vt(i)&&i!==n&&e(i_(i))}},[t,e,n]),r}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function EW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){AW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AW(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OW=g.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:f,onTouchEnd:h,onTouchMove:p,onTouchStart:x,style:y,width:v}=e,b=Fe(),[j,w]=g.useState(null),[C,S]=g.useState(null);TU();var L=kW(),_=g.useCallback(A=>{L(A),typeof t=="function"&&t(A),w(A),S(A)},[L,t,w,S]),k=g.useCallback(A=>{b(OA(A)),b(br({handler:i,reactEvent:A}))},[b,i]),T=g.useCallback(A=>{b(Ap(A)),b(br({handler:d,reactEvent:A}))},[b,d]),I=g.useCallback(A=>{b(hE()),b(br({handler:u,reactEvent:A}))},[b,u]),M=g.useCallback(A=>{b(Ap(A)),b(br({handler:m,reactEvent:A}))},[b,m]),z=g.useCallback(()=>{b(RA())},[b]),G=g.useCallback(A=>{b(IA(A.key))},[b]),Z=g.useCallback(A=>{b(br({handler:o,reactEvent:A}))},[b,o]),$=g.useCallback(A=>{b(br({handler:l,reactEvent:A}))},[b,l]),E=g.useCallback(A=>{b(br({handler:c,reactEvent:A}))},[b,c]),O=g.useCallback(A=>{b(br({handler:f,reactEvent:A}))},[b,f]),R=g.useCallback(A=>{b(br({handler:x,reactEvent:A}))},[b,x]),U=g.useCallback(A=>{b(BA(A)),b(br({handler:p,reactEvent:A}))},[b,p]),B=g.useCallback(A=>{b(br({handler:h,reactEvent:A}))},[b,h]);return g.createElement(DE.Provider,{value:j},g.createElement(zC.Provider,{value:C},g.createElement("div",{className:fe("recharts-wrapper",n),style:EW({position:"relative",cursor:"default",width:v,height:s},y),onClick:k,onContextMenu:Z,onDoubleClick:$,onFocus:z,onKeyDown:G,onMouseDown:E,onMouseEnter:T,onMouseLeave:I,onMouseMove:M,onMouseUp:O,onTouchEnd:B,onTouchMove:U,onTouchStart:R,ref:_},r)))}),LW=["children","className","width","height","style","compact","title","desc"];function DW(e,t){if(e==null)return{};var r,n,s=MW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function MW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WA=g.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:l,title:c,desc:d}=e,u=DW(e,LW),m=Dr(u);return l?g.createElement(Lw,{otherAttributes:m,title:c,desc:d},r):g.createElement(OW,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(Lw,{otherAttributes:m,title:c,desc:d,ref:t},g.createElement(I9,null,r)))}),_W=["width","height"];function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pp.apply(null,arguments)}function IW(e,t){if(e==null)return{};var r,n,s=RW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $W={top:5,right:5,bottom:5,left:5},BW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$W,reverseStackOrder:!1,syncMethod:"index"},K0=g.forwardRef(function(t,r){var n,s=nt(t.categoricalChartProps,BW),{width:i,height:o}=s,l=IW(s,_W);if(!di(i)||!di(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:f}=t,h={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return g.createElement(FA,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:c},g.createElement(fA,{chartData:f.data}),g.createElement(zA,{width:i,height:o,layout:s.layout,margin:s.margin}),g.createElement(HA,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(WA,Pp({},l,{width:i,height:o,ref:r})))}),UW=["axis"],V0=g.forwardRef((e,t)=>g.createElement(K0,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UW,tooltipPayloadSearcher:bm,categoricalChartProps:e,ref:t})),FW=["axis","item"],nd=g.forwardRef((e,t)=>g.createElement(K0,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FW,tooltipPayloadSearcher:bm,categoricalChartProps:e,ref:t}));function zW(e){var t=Fe();return g.useEffect(()=>{t(hW(e))},[t,e]),null}var HW=["width","height","layout"];function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(null,arguments)}function WW(e,t){if(e==null)return{};var r,n,s=qW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GW={top:5,right:5,bottom:5,left:5},KW={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:GW,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},VW=g.forwardRef(function(t,r){var n,s=nt(t.categoricalChartProps,KW),{width:i,height:o,layout:l}=s,c=WW(s,HW);if(!di(i)||!di(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f}=t,h={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(FA,{preloadedState:{options:h},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:d},g.createElement(fA,{chartData:s.data}),g.createElement(zA,{width:i,height:o,layout:l,margin:s.margin}),g.createElement(HA,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(zW,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),g.createElement(WA,Tp({width:i,height:o},c,{ref:r})))}),YW=["item"],XW={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rl=g.forwardRef((e,t)=>{var r=nt(e,XW);return g.createElement(VW,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:YW,tooltipPayloadSearcher:bm,categoricalChartProps:r,ref:t})}),QW=["axis"],Y0=g.forwardRef((e,t)=>g.createElement(K0,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:QW,tooltipPayloadSearcher:bm,categoricalChartProps:e,ref:t}));const ZW=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(u),i=u=>`${u.toFixed(1)}%`,o=u=>u>=20?"text-green-600":u>=10?"text-yellow-600":"text-red-600",c=(()=>{const u=[],m=["Jan","Feb","Mar","Apr","May","Jun"];for(let f=0;f<m.length;f++){const h=e.totalRevenue*.8+f*e.totalRevenue*.1+Math.random()*e.totalRevenue*.1,p=e.totalCost*.8+f*e.totalCost*.1+Math.random()*e.totalCost*.1;u.push({month:m[f],revenue:Math.round(h),cost:Math.round(p),profit:Math.round(h-p)})}return u})(),d=[{name:"Crew Labor",value:e.totalCost*.35,color:"#8884d8"},{name:"Vehicle",value:e.totalCost*.25,color:"#82ca9d"},{name:"Fuel",value:e.totalCost*.15,color:"#ffc658"},{name:"Maintenance",value:e.totalCost*.12,color:"#ff7300"},{name:"Overhead",value:e.totalCost*.13,color:"#8dd1e1"}];return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Financial Summary Report"}),a.jsxs("p",{className:"text-blue-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-blue-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-blue-500 hover:bg-blue-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ls,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-blue-500 hover:bg-blue-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(On,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(e.totalRevenue)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(wo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Costs"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:s(e.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ba,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:s(e.grossProfit)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(on,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${o(e.averageProfitMargin)}`,children:i(e.averageProfitMargin)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Me,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalTrips.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(dt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue per Mile"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.averageRevenuePerMile)})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sr,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Utilization Rate"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:i(e.averageUtilizationRate*100)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(Y0,{data:c,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ht,{tickFormatter:u=>`$${(u/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:u=>[s(u),""],labelFormatter:u=>`Month: ${u}`}),a.jsx(dr,{}),a.jsx(xs,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(xs,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(rl,{children:[a.jsx(gi,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:m})=>`${u} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((u,m)=>a.jsx(Rn,{fill:u.color},`cell-${m}`))}),a.jsx(Mt,{formatter:u=>[s(u),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Summary Statistics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Financial Performance"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Average Revenue per Trip: ",s(e.totalRevenue/e.totalTrips)]}),a.jsxs("li",{children:[" Average Cost per Trip: ",s(e.totalCost/e.totalTrips)]}),a.jsxs("li",{children:[" Average Profit per Trip: ",s(e.grossProfit/e.totalTrips)]}),a.jsxs("li",{children:[" Cost per Mile: ",s(e.averageCostPerMile)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Operational Metrics"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Total Trips Completed: ",e.totalTrips.toLocaleString()]}),a.jsxs("li",{children:[" Average Revenue per Mile: ",s(e.averageRevenuePerMile)]}),a.jsxs("li",{children:[" Utilization Rate: ",i(e.averageUtilizationRate*100)]}),a.jsxs("li",{children:[" Profit Margin: ",i(e.averageProfitMargin)]})]})]})]})]})]})]})},JW=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(y),i=y=>`${y.toFixed(1)}%`,o=y=>y>=20?"text-green-600":y>=10?"text-yellow-600":"text-red-600",l=y=>y>=20?"bg-green-100":y>=10?"bg-yellow-100":"bg-red-100",c=y=>{switch(y){case"URGENT":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},d=y=>{switch(y){case"BLS":return"text-blue-600 bg-blue-100";case"ALS":return"text-purple-600 bg-purple-100";case"CCT":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},u=Object.entries(e.tripsByTransportLevel).map(([y,v])=>({level:y,revenue:v.revenue,cost:v.cost,profit:v.profit,margin:v.margin,count:v.count})),m=Object.entries(e.tripsByPriority).map(([y,v])=>({priority:y,revenue:v.revenue,cost:v.cost,profit:v.profit,margin:v.margin,count:v.count})),f=Object.entries(e.tripsByTransportLevel).map(([y,v])=>({name:y,value:v.revenue,color:y==="BLS"?"#3b82f6":y==="ALS"?"#8b5cf6":"#10b981"})),h=Object.entries(e.tripsByPriority).map(([y,v])=>({name:y,value:v.revenue,color:y==="URGENT"?"#ef4444":y==="HIGH"?"#f97316":y==="MEDIUM"?"#eab308":"#22c55e"})),p=Object.values(e.tripsByTransportLevel).reduce((y,v)=>y+v.revenue,0),x=Object.values(e.tripsByTransportLevel).reduce((y,v)=>y+v.count,0);return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Revenue Analysis Report"}),a.jsxs("p",{className:"text-green-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-green-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-green-500 hover:bg-green-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ls,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-green-500 hover:bg-green-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(On,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(p)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Me,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Total Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:x.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(on,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Avg Revenue/Mile"}),a.jsx("p",{className:"text-2xl font-semibold text-purple-900",children:s(e.averageRevenuePerMile)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(nd,{data:u,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"level"}),a.jsx(Ht,{tickFormatter:y=>`$${(y/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:y=>[s(y),"Revenue"]}),a.jsx(dr,{}),a.jsx(Ur,{dataKey:"revenue",fill:"#10b981",name:"Revenue"}),a.jsx(Ur,{dataKey:"cost",fill:"#ef4444",name:"Cost"}),a.jsx(Ur,{dataKey:"profit",fill:"#3b82f6",name:"Profit"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Priority Level"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(nd,{data:m,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"priority"}),a.jsx(Ht,{tickFormatter:y=>`$${(y/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:y=>[s(y),"Revenue"]}),a.jsx(dr,{}),a.jsx(Ur,{dataKey:"revenue",fill:"#10b981",name:"Revenue"}),a.jsx(Ur,{dataKey:"cost",fill:"#ef4444",name:"Cost"}),a.jsx(Ur,{dataKey:"profit",fill:"#3b82f6",name:"Profit"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Distribution by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(rl,{children:[a.jsx(gi,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:v})=>`${y} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.map((y,v)=>a.jsx(Rn,{fill:y.color},`cell-${v}`))}),a.jsx(Mt,{formatter:y=>[s(y),"Revenue"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Distribution by Priority"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(rl,{children:[a.jsx(gi,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:v})=>`${y} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((y,v)=>a.jsx(Rn,{fill:y.color},`cell-${v}`))}),a.jsx(Mt,{formatter:y=>[s(y),"Revenue"]})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transport Level Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(y=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${d(y.level)}`,children:y.level})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:y.count}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:s(y.revenue)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(y.margin)} ${o(y.margin)}`,children:i(y.margin)})})]},y.level))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Priority Level Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(y=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(y.priority)}`,children:y.priority})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:y.count}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:s(y.revenue)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(y.margin)} ${o(y.margin)}`,children:i(y.margin)})})]},y.priority))})]})})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Top Performing Transport Level"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Object.entries(e.tripsByTransportLevel).sort(([,y],[,v])=>v.revenue-y.revenue)[0][0]," generates the highest revenue at"," ",s(Object.entries(e.tripsByTransportLevel).sort(([,y],[,v])=>v.revenue-y.revenue)[0][1].revenue)]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Top Performing Priority Level"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Object.entries(e.tripsByPriority).sort(([,y],[,v])=>v.revenue-y.revenue)[0][0]," priority generates the highest revenue at"," ",s(Object.entries(e.tripsByPriority).sort(([,y],[,v])=>v.revenue-y.revenue)[0][1].revenue)]})]})]})]})]})]})},eq=({data:e,onClose:t,onDownload:r,onShare:n})=>{var Z;const[s,i]=g.useState("all"),[o,l]=g.useState("all"),c=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format($),d=$=>`${$.toFixed(1)}%`,u=$=>$>=20?"text-green-600":$>=10?"text-yellow-600":"text-red-600",m=$=>$>=20?"bg-green-100":$>=10?"bg-yellow-100":"bg-red-100",f=$=>{switch($){case"BLS":return"text-blue-600 bg-blue-100";case"ALS":return"text-purple-600 bg-purple-100";case"CCT":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},h=$=>{switch($){case"URGENT":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};if(console.log("TCC_DEBUG: CostReport - Component render, data:",e),console.log("TCC_DEBUG: CostReport - data.tripCostBreakdowns:",e==null?void 0:e.tripCostBreakdowns),console.log("TCC_DEBUG: CostReport - typeof data.tripCostBreakdowns:",typeof(e==null?void 0:e.tripCostBreakdowns)),console.log("TCC_DEBUG: CostReport - Array.isArray(data.tripCostBreakdowns):",Array.isArray(e==null?void 0:e.tripCostBreakdowns)),!e||!e.tripCostBreakdowns&&!((Z=e.tripCostBreakdowns)!=null&&Z.breakdowns))return console.log("TCC_DEBUG: CostReport - Early return due to missing data"),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-500",children:"Loading cost analysis data..."})]})});let p=[];Array.isArray(e.tripCostBreakdowns)?p=e.tripCostBreakdowns:e.tripCostBreakdowns&&Array.isArray(e.tripCostBreakdowns.breakdowns)?p=e.tripCostBreakdowns.breakdowns:p=[],console.log("TCC_DEBUG: CostReport - tripBreakdowns after Array.isArray check:",p),console.log("TCC_DEBUG: CostReport - tripBreakdowns.length:",p.length);const x=p.filter($=>!(s!=="all"&&$.transportLevel!==s||o!=="all"&&$.priorityLevel!==o));console.log("TCC_DEBUG: CostReport - filteredTrips after filter:",x),console.log("TCC_DEBUG: CostReport - filteredTrips.length:",x.length),console.log("TCC_DEBUG: CostReport - typeof filteredTrips:",typeof x),console.log("TCC_DEBUG: CostReport - Array.isArray(filteredTrips):",Array.isArray(x));const y=x.reduce(($,E)=>$+(E.crewLaborCost||0),0),v=x.reduce(($,E)=>$+(E.vehicleCost||0),0),b=x.reduce(($,E)=>$+(E.fuelCost||0),0),j=x.reduce(($,E)=>$+(E.maintenanceCost||0),0),w=x.reduce(($,E)=>$+(E.overheadCost||0),0),C=[{name:"Crew Labor",value:y,color:"#8884d8"},{name:"Vehicle",value:v,color:"#82ca9d"},{name:"Fuel",value:b,color:"#ffc658"},{name:"Maintenance",value:j,color:"#ff7300"},{name:"Overhead",value:w,color:"#8dd1e1"}],S=x.reduce(($,E)=>{const O=E.transportLevel||"Unknown";return $[O]||($[O]={totalCost:0,tripCount:0,averageCost:0}),$[O].totalCost+=E.totalCost||0,$[O].tripCount+=1,$},{});Object.keys(S).forEach($=>{S[$].averageCost=S[$].totalCost/S[$].tripCount});const L=Object.entries(S).map(([$,E])=>({level:$,totalCost:E.totalCost,tripCount:E.tripCount,averageCost:E.averageCost}));console.log("TCC_DEBUG: CostReport - About to filter recentTrips, filteredTrips:",x);const _=x.filter($=>$.calculatedAt);console.log("TCC_DEBUG: CostReport - tripsWithDates after filter:",_);const k=_.sort(($,E)=>new Date(E.calculatedAt).getTime()-new Date($.calculatedAt).getTime());console.log("TCC_DEBUG: CostReport - sortedTrips after sort:",k),console.log("TCC_DEBUG: CostReport - About to call slice on sortedTrips, typeof:",typeof k,"Array.isArray:",Array.isArray(k));const T=k.slice(0,10);console.log("TCC_DEBUG: CostReport - slicedTrips after slice:",T);const I=T.reverse();console.log("TCC_DEBUG: CostReport - recentTrips after reverse:",I);const M=I.map(($,E)=>({trip:`Trip ${E+1}`,totalCost:$.totalCost||0,crewLabor:$.crewLaborCost||0,vehicle:$.vehicleCost||0,fuel:$.fuelCost||0,maintenance:$.maintenanceCost||0,overhead:$.overheadCost||0})),z=[...new Set(p.map($=>$.transportLevel).filter(Boolean))],G=[...new Set(p.map($=>$.priorityLevel).filter(Boolean))];return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Cost Analysis Report"}),a.jsxs("p",{className:"text-red-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-red-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ls,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(On,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(wo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Cost"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:c(e.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Avg Cost/Mile"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:c(e.averageCostPerMile)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Me,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Total Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-purple-900",children:x.length.toLocaleString()})]})]})})]}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(wd,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:s,onChange:$=>i($.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"all",children:"All Transport Levels"}),z.map($=>a.jsx("option",{value:$,children:$},$))]}),a.jsxs("select",{value:o,onChange:$=>l($.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"all",children:"All Priorities"}),G.map($=>a.jsx("option",{value:$,children:$},$))]})]})]})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(rl,{children:[a.jsx(gi,{data:C,cx:"50%",cy:"50%",labelLine:!1,label:({name:$,percent:E})=>`${$} ${(E*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:C.map(($,E)=>a.jsx(Rn,{fill:$.color},`cell-${E}`))}),a.jsx(Mt,{formatter:$=>[c($),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(nd,{data:L,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"level"}),a.jsx(Ht,{tickFormatter:$=>`$${($/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:$=>[c($),"Cost"]}),a.jsx(dr,{}),a.jsx(Ur,{dataKey:"totalCost",fill:"#ef4444",name:"Total Cost"}),a.jsx(Ur,{dataKey:"averageCost",fill:"#f97316",name:"Average Cost per Trip"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Cost Trends (Last 10 Trips)"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(V0,{data:M,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"trip"}),a.jsx(Ht,{tickFormatter:$=>`$${($/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:$=>[c($),""]}),a.jsx(dr,{}),a.jsx(Fr,{type:"monotone",dataKey:"totalCost",stroke:"#ef4444",strokeWidth:2,name:"Total Cost"}),a.jsx(Fr,{type:"monotone",dataKey:"crewLabor",stroke:"#8884d8",strokeWidth:2,name:"Crew Labor"}),a.jsx(Fr,{type:"monotone",dataKey:"vehicle",stroke:"#82ca9d",strokeWidth:2,name:"Vehicle"}),a.jsx(Fr,{type:"monotone",dataKey:"fuel",stroke:"#ffc658",strokeWidth:2,name:"Fuel"}),a.jsx(Fr,{type:"monotone",dataKey:"maintenance",stroke:"#ff7300",strokeWidth:2,name:"Maintenance"}),a.jsx(Fr,{type:"monotone",dataKey:"overhead",stroke:"#8dd1e1",strokeWidth:2,name:"Overhead"})]})})})]}),e.costCenterBreakdown.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Center Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Center"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.costCenterBreakdown.map($=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.costCenterName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c($.totalRevenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c($.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c($.grossProfit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m($.profitMargin)} ${u($.profitMargin)}`,children:d($.profitMargin)})})]},$.costCenterId))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Trip Cost Breakdowns"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trip ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crew Labor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fuel"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{console.log("TCC_DEBUG: CostReport - About to slice filteredTrips for table, filteredTrips:",x),console.log("TCC_DEBUG: CostReport - typeof filteredTrips for table:",typeof x,"Array.isArray:",Array.isArray(x));const $=x.slice(0,10);return console.log("TCC_DEBUG: CostReport - tableTrips after slice:",$),$.map(E=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[E.tripId.substring(0,8),"..."]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(E.transportLevel)}`,children:E.transportLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(E.priorityLevel)}`,children:E.priorityLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(E.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(E.crewLaborCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(E.vehicleCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(E.fuelCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.calculatedAt).toLocaleDateString()})]},E.id))})()})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Analysis Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Cost Breakdown"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Crew Labor: ",c(y)," (",(y/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Vehicle Costs: ",c(v)," (",(v/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Fuel Costs: ",c(b)," (",(b/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Maintenance: ",c(j)," (",(j/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Overhead: ",c(w)," (",(w/e.totalCost*100).toFixed(1),"%)"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Key Metrics"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Average Cost per Trip: ",c(e.totalCost/x.length)]}),a.jsxs("li",{children:[" Average Cost per Mile: ",c(e.averageCostPerMile)]}),a.jsxs("li",{children:[" Total Trips Analyzed: ",x.length.toLocaleString()]}),a.jsxs("li",{children:[" Highest Cost Category: ",C.sort(($,E)=>E.value-$.value)[0].name]})]})]})]})]})]})]})},tq=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(p),i=p=>`${p.toFixed(1)}%`,o=p=>p>=20?"text-green-600":p>=10?"text-yellow-600":"text-red-600",l=p=>p>=20?"bg-green-100":p>=10?"bg-yellow-100":"bg-red-100",c=e.profitabilityAnalysis.monthlyBreakdown.map(p=>({...p,profitMargin:p.margin})),u=["Jan","Feb","Mar","Apr","May","Jun"].map((x,y)=>({month:x,revenue:e.profitabilityAnalysis.trends.revenue[y]||0,cost:e.profitabilityAnalysis.trends.cost[y]||0,profit:e.profitabilityAnalysis.trends.profit[y]||0,margin:e.profitabilityAnalysis.trends.margin[y]||0})),m=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,x)=>p+x.margin,0)/e.profitabilityAnalysis.monthlyBreakdown.length,f=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,x)=>x.margin>p.margin?x:p),h=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,x)=>x.margin<p.margin?x:p);return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Profitability Analysis Report"}),a.jsxs("p",{className:"text-purple-100 mt-1",children:["Period: ",e.period," - ",e.profitabilityAnalysis.period]}),a.jsxs("p",{className:"text-purple-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-purple-500 hover:bg-purple-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ls,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-purple-500 hover:bg-purple-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(On,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(e.profitabilityAnalysis.totalRevenue)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ba,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Cost"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:s(e.profitabilityAnalysis.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(on,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:s(e.profitabilityAnalysis.grossProfit)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Oh,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${o(e.profitabilityAnalysis.profitMargin)}`,children:i(e.profitabilityAnalysis.profitMargin)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(hu,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.profitabilityAnalysis.tripCount.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Revenue/Trip"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.profitabilityAnalysis.averageRevenuePerTrip)})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ba,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Cost/Trip"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.profitabilityAnalysis.averageCostPerTrip)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profitability Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(V0,{data:u,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ht,{yAxisId:"left"}),a.jsx(Ht,{yAxisId:"right",orientation:"right"}),a.jsx(Mt,{formatter:(p,x)=>[x==="margin"?`${p}%`:s(p),x==="margin"?"Margin":x==="profit"?"Profit":x==="revenue"?"Revenue":"Cost"],labelFormatter:p=>`Month: ${p}`}),a.jsx(dr,{}),a.jsx(Fr,{yAxisId:"left",type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"}),a.jsx(Fr,{yAxisId:"right",type:"monotone",dataKey:"margin",stroke:"#10b981",strokeWidth:2,name:"Margin %"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Analysis"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(Y0,{data:u,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ht,{tickFormatter:p=>`$${(p/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:p=>[s(p),""],labelFormatter:p=>`Month: ${p}`}),a.jsx(dr,{}),a.jsx(xs,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(xs,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Profitability Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(nd,{data:c,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ht,{yAxisId:"left"}),a.jsx(Ht,{yAxisId:"right",orientation:"right"}),a.jsx(Mt,{formatter:(p,x)=>[x==="profitMargin"?`${p}%`:s(p),x==="profitMargin"?"Margin":x==="profit"?"Profit":x==="revenue"?"Revenue":"Cost"],labelFormatter:p=>`Month: ${p}`}),a.jsx(dr,{}),a.jsx(Ur,{yAxisId:"left",dataKey:"profit",fill:"#3b82f6",name:"Profit"}),a.jsx(Ur,{yAxisId:"right",dataKey:"profitMargin",fill:"#10b981",name:"Margin %"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Breakdown Details"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.profitabilityAnalysis.monthlyBreakdown.map((p,x)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.month}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(p.margin)} ${o(p.margin)}`,children:i(p.margin)})})]},x))})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Best Performing Month"}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:f.month})," achieved the highest profit margin of"," ",a.jsx("span",{className:"font-semibold",children:i(f.margin)})," with"," ",a.jsx("span",{className:"font-semibold",children:s(f.profit)})," in profit from"," ",a.jsx("span",{className:"font-semibold",children:f.tripCount})," trips."]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Areas for Improvement"}),a.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:h.month})," had the lowest profit margin of"," ",a.jsx("span",{className:"font-semibold",children:i(h.margin)}),". Consider analyzing cost drivers and revenue optimization strategies."]})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Overall Performance Summary"}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:a.jsxs("p",{className:"text-sm text-blue-800",children:["Average profit margin across all months: ",a.jsx("span",{className:"font-semibold",children:i(m)}),". Total profit generated: ",a.jsx("span",{className:"font-semibold",children:s(e.profitabilityAnalysis.grossProfit)})," from"," ",a.jsx("span",{className:"font-semibold",children:e.profitabilityAnalysis.tripCount})," trips over the period."]})})]})]})]})]})},rq=({data:e,onClose:t,onDownload:r,onShare:n})=>{const[s,i]=g.useState(""),[o,l]=g.useState("all"),[c,d]=g.useState(new Set(["costAnalysis"])),[u,m]=g.useState("csv"),f=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(C),h=C=>new Date(C).toLocaleString(),p=C=>{const S=new Set(c);S.has(C)?S.delete(C):S.add(C),d(S)},x=[{id:"all",name:"All Data",count:3,description:"Complete dataset including all analysis"},{id:"costAnalysis",name:"Cost Analysis",count:1,description:"Financial cost breakdown and metrics"},{id:"profitabilityAnalysis",name:"Profitability Analysis",count:1,description:"Profit margins and trends"},{id:"tripCostBreakdowns",name:"Trip Details",count:e.tripCostBreakdowns.length,description:"Individual trip cost breakdowns"}],y=x.filter(C=>C.name.toLowerCase().includes(s.toLowerCase())||C.description.toLowerCase().includes(s.toLowerCase())),v=C=>{switch(C){case"costAnalysis":return a.jsx(vv,{className:"h-5 w-5 text-blue-600"});case"profitabilityAnalysis":return a.jsx(Ha,{className:"h-5 w-5 text-green-600"});case"tripCostBreakdowns":return a.jsx(hu,{className:"h-5 w-5 text-purple-600"});default:return a.jsx(Ha,{className:"h-5 w-5 text-gray-600"})}},b=()=>e.costAnalysis?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Financial Summary"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Total Revenue: ",f(e.costAnalysis.totalRevenue||0)]}),a.jsxs("li",{children:["Total Cost: ",f(e.costAnalysis.totalCost||0)]}),a.jsxs("li",{children:["Gross Profit: ",f(e.costAnalysis.grossProfit||0)]}),a.jsxs("li",{children:["Profit Margin: ",(e.costAnalysis.averageProfitMargin||0).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Operational Metrics"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Total Trips: ",(e.costAnalysis.totalTrips||0).toLocaleString()]}),a.jsxs("li",{children:["Avg Revenue/Mile: ",f(e.costAnalysis.averageRevenuePerMile||0)]}),a.jsxs("li",{children:["Avg Cost/Mile: ",f(e.costAnalysis.averageCostPerMile||0)]}),a.jsxs("li",{children:["Utilization Rate: ",((e.costAnalysis.averageUtilizationRate||0)*100).toFixed(1),"%"]})]})]})]})}):a.jsx("p",{className:"text-gray-500",children:"No cost analysis data available"}),j=()=>{var C;return e.profitabilityAnalysis?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Period Summary"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Period: ",e.profitabilityAnalysis.period||"N/A"]}),a.jsxs("li",{children:["Total Revenue: ",f(e.profitabilityAnalysis.totalRevenue||0)]}),a.jsxs("li",{children:["Total Cost: ",f(e.profitabilityAnalysis.totalCost||0)]}),a.jsxs("li",{children:["Gross Profit: ",f(e.profitabilityAnalysis.grossProfit||0)]}),a.jsxs("li",{children:["Profit Margin: ",(e.profitabilityAnalysis.profitMargin||0).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Trip Metrics"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Trip Count: ",(e.profitabilityAnalysis.tripCount||0).toLocaleString()]}),a.jsxs("li",{children:["Avg Revenue/Trip: ",f(e.profitabilityAnalysis.averageRevenuePerTrip||0)]}),a.jsxs("li",{children:["Avg Cost/Trip: ",f(e.profitabilityAnalysis.averageCostPerTrip||0)]}),a.jsxs("li",{children:["Monthly Breakdown: ",((C=e.profitabilityAnalysis.monthlyBreakdown)==null?void 0:C.length)||0," months"]})]})]})]})}):a.jsx("p",{className:"text-gray-500",children:"No profitability analysis data available"})},w=()=>!e.tripCostBreakdowns||e.tripCostBreakdowns.length===0?a.jsx("p",{className:"text-gray-500",children:"No trip cost breakdown data available"}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Trip Summary"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[e.tripCostBreakdowns.length," trip records available with detailed cost breakdowns"]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Trip ID"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Level"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Profit"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.tripCostBreakdowns.slice(0,10).map((C,S)=>{var L;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[((L=C.tripId)==null?void 0:L.substring(0,8))||"N/A","..."]}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:C.transportLevel||"N/A"}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:C.priorityLevel||"N/A"}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(C.totalRevenue||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(C.totalCost||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(C.grossProfit||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:C.calculatedAt?new Date(C.calculatedAt).toLocaleDateString():"N/A"})]},C.id||S)})})]}),e.tripCostBreakdowns.length>10&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-center",children:["Showing first 10 of ",e.tripCostBreakdowns.length," records"]})]})]});return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Data Export Report"}),a.jsx("p",{className:"text-gray-100 mt-1",children:"Comprehensive financial data export"}),a.jsxs("p",{className:"text-gray-100 text-sm",children:["Generated: ",h(e.exportDate)]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ls,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(On,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Options"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search data types...",value:s,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-gray-500 focus:border-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wd,{className:"h-4 w-4 text-gray-500"}),a.jsx("select",{value:o,onChange:C=>l(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:x.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{value:u,onChange:C=>m(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(C=>a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[v(C.id),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:C.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[C.count," records"]})]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:C.id})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:C.description})]},C.id))}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("costAnalysis"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(vv,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Cost Analysis Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Financial cost breakdown and metrics"})]})]}),c.has("costAnalysis")?a.jsx(jo,{className:"h-5 w-5 text-gray-400"}):a.jsx(bo,{className:"h-5 w-5 text-gray-400"})]}),c.has("costAnalysis")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:b()})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("profitabilityAnalysis"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ha,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Profitability Analysis Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Profit margins and trends"})]})]}),c.has("profitabilityAnalysis")?a.jsx(jo,{className:"h-5 w-5 text-gray-400"}):a.jsx(bo,{className:"h-5 w-5 text-gray-400"})]}),c.has("profitabilityAnalysis")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:j()})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("tripCostBreakdowns"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(hu,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Trip Cost Breakdowns"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.tripCostBreakdowns.length," individual trip records"]})]})]}),c.has("tripCostBreakdowns")?a.jsx(jo,{className:"h-5 w-5 text-gray-400"}):a.jsx(bo,{className:"h-5 w-5 text-gray-400"})]}),c.has("tripCostBreakdowns")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:w()})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Data Overview"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Total Records: ",e.tripCostBreakdowns.length+2]}),a.jsx("li",{children:" Data Types: 3 (Cost Analysis, Profitability, Trip Details)"}),a.jsxs("li",{children:[" Export Format: ",u.toUpperCase()]}),a.jsxs("li",{children:[" Generated: ",h(e.exportDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Export Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[a.jsx(On,{className:"h-4 w-4 mr-2"}),"Download ",u.toUpperCase()," Export"]}),a.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:[a.jsx(ls,{className:"h-4 w-4 mr-2"}),"Share Export Link"]})]})]})]})]})]})]})},nq=()=>{console.log("TCC_DEBUG: FinancialDashboard - Component rendering");const[e,t]=g.useState("overview"),[r,n]=g.useState(!0),[s,i]=g.useState(null),[o,l]=g.useState(null),[c,d]=g.useState(null),[u,m]=g.useState([]),[f,h]=g.useState([]),[p,x]=g.useState("month"),[y]=g.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),v=[{id:"overview",name:"Financial Overview",icon:on},{id:"revenue",name:"Revenue Analysis",icon:ba},{id:"costs",name:"Cost Analysis",icon:wo},{id:"profitability",name:"Profitability",icon:Oh},{id:"billing",name:"Reports",icon:Ha}];g.useEffect(()=>{b()},[p,y]);const b=async()=>{var N,D,W,X,J;try{n(!0),i(null),console.log("TCC_DEBUG: FinancialDashboard.loadFinancialData() fetching analytics",{period:p,startDate:y.start,endDate:y.end});const[F,ee,ne]=await Promise.all([gu.getCostAnalysis({startDate:y.start,endDate:y.end}),gu.getProfitability({period:p}),OC.getCostBreakdowns({limit:50})]);(N=F.data)!=null&&N.success&&l(F.data.data),(D=ee.data)!=null&&D.success&&d(ee.data.data),(W=ne.data)!=null&&W.success&&m(ne.data.data)}catch(F){console.error("Error loading financial data:",F),i(((J=(X=F.response)==null?void 0:X.data)==null?void 0:J.error)||"Failed to load financial data")}finally{n(!1)}},j=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(N),w=N=>N==null||isNaN(N)?"0.0%":`${N.toFixed(1)}%`,C=N=>N==null||isNaN(N)?"text-gray-600":N>=20?"text-green-600":N>=10?"text-yellow-600":"text-red-600",S=N=>N==null||isNaN(N)?"bg-gray-100":N>=20?"bg-green-100":N>=10?"bg-yellow-100":"bg-red-100",L=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const N={period:p,dateRange:y,totalRevenue:o.totalRevenue,totalCost:o.totalCost,grossProfit:o.grossProfit,averageProfitMargin:o.averageProfitMargin,totalTrips:o.totalTrips,averageRevenuePerMile:o.averageRevenuePerMile,averageCostPerMile:o.averageCostPerMile,averageUtilizationRate:o.averageUtilizationRate,generatedAt:new Date().toISOString()};M("financial-summary","Financial Summary Report",N)},_=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const N={period:p,dateRange:y,tripsByTransportLevel:o.tripsByTransportLevel,tripsByPriority:o.tripsByPriority,averageRevenuePerMile:o.averageRevenuePerMile,generatedAt:new Date().toISOString()};M("revenue","Revenue Analysis Report",N)},k=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const N={period:p,dateRange:y,totalCost:o.totalCost,averageCostPerMile:o.averageCostPerMile,costCenterBreakdown:o.costCenterBreakdown,tripCostBreakdowns:((u==null?void 0:u.breakdowns)||u||[]).slice(0,50),generatedAt:new Date().toISOString()};M("cost","Cost Analysis Report",N)},T=()=>{if(!c){alert("No profitability data available. Please refresh the data first.");return}const N={period:p,profitabilityAnalysis:c,generatedAt:new Date().toISOString()};M("profitability","Profitability Analysis Report",N)},I=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const N={costAnalysis:o,profitabilityAnalysis:c,tripCostBreakdowns:((u==null?void 0:u.breakdowns)||u||[]).slice(0,100),exportDate:new Date().toISOString()};M("export-data","Financial Data Export",N)},M=(N,D,W)=>{const X={id:`${N}-${Date.now()}`,type:N,name:D,data:W,generatedAt:new Date().toISOString(),isOpen:!0};h(J=>[X,...J])},z=N=>{h(D=>D.map(W=>W.id===N?{...W,isOpen:!1}:W))},G=N=>{h(D=>D.filter(W=>W.id!==N))},Z=N=>{const D=f.find(W=>W.id===N);if(D)try{let W,X,J;D.type==="export-data"?(W=$(D.data),X="text/csv",J="csv"):(W=JSON.stringify(D.data,null,2),X="application/json",J="json");const F=new Blob([W],{type:X}),ee=window.URL.createObjectURL(F),ne=document.createElement("a");ne.href=ee,ne.download=`${D.name}_${new Date().toISOString().split("T")[0]}.${J}`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(ee)}catch(W){console.error("Error downloading report:",W),alert("Error downloading report. Please try again.")}},$=N=>{const D=[];return N.costAnalysis&&(D.push("=== COST ANALYSIS ==="),D.push("Metric,Value"),D.push(`Total Revenue,${N.costAnalysis.totalRevenue||0}`),D.push(`Total Cost,${N.costAnalysis.totalCost||0}`),D.push(`Gross Profit,${N.costAnalysis.grossProfit||0}`),D.push(`Average Profit Margin,${N.costAnalysis.averageProfitMargin||0}%`),D.push(`Total Trips,${N.costAnalysis.totalTrips||0}`),D.push(`Average Revenue per Mile,${N.costAnalysis.averageRevenuePerMile||0}`),D.push(`Average Cost per Mile,${N.costAnalysis.averageCostPerMile||0}`),D.push(`Average Utilization Rate,${N.costAnalysis.averageUtilizationRate||0}%`),D.push("")),N.profitabilityAnalysis&&(D.push("=== PROFITABILITY ANALYSIS ==="),D.push("Metric,Value"),D.push(`Period,${N.profitabilityAnalysis.period||"N/A"}`),D.push(`Total Revenue,${N.profitabilityAnalysis.totalRevenue||0}`),D.push(`Total Cost,${N.profitabilityAnalysis.totalCost||0}`),D.push(`Gross Profit,${N.profitabilityAnalysis.grossProfit||0}`),D.push(`Profit Margin,${N.profitabilityAnalysis.profitMargin||0}%`),D.push(`Trip Count,${N.profitabilityAnalysis.tripCount||0}`),D.push(`Average Revenue per Trip,${N.profitabilityAnalysis.averageRevenuePerTrip||0}`),D.push(`Average Cost per Trip,${N.profitabilityAnalysis.averageCostPerTrip||0}`),D.push("")),N.tripCostBreakdowns&&N.tripCostBreakdowns.length>0&&(D.push("=== TRIP COST BREAKDOWNS ==="),D.push("Trip ID,Transport Level,Priority,Total Revenue,Total Cost,Gross Profit,Profit Margin,Revenue per Mile,Cost per Mile,Calculated At"),N.tripCostBreakdowns.forEach(W=>{D.push([W.tripId||"N/A",W.transportLevel||"N/A",W.priorityLevel||"N/A",W.totalRevenue||0,W.totalCost||0,W.grossProfit||0,W.profitMargin||0,W.revenuePerMile||0,W.costPerMile||0,W.calculatedAt?new Date(W.calculatedAt).toISOString():"N/A"].join(","))})),D.join(`
`)},E=N=>{const D=f.find(W=>W.id===N);D&&alert(`Share link for ${D.name} would be generated here.`)},O=()=>{const N=[],D=["Jan","Feb","Mar","Apr","May","Jun"];for(let W=0;W<D.length;W++){const X=5e4+W*5e3+Math.random()*1e4,J=35e3+W*3e3+Math.random()*8e3;N.push({month:D[W],revenue:Math.round(X),cost:Math.round(J),profit:Math.round(X-J)})}return N},R=()=>[{name:"Crew Labor",value:45e3,color:"#8884d8"},{name:"Vehicle",value:25e3,color:"#82ca9d"},{name:"Fuel",value:15e3,color:"#ffc658"},{name:"Maintenance",value:12e3,color:"#ff7300"},{name:"Overhead",value:18e3,color:"#8dd1e1"}],U=()=>{const N=[],D=["Jan","Feb","Mar","Apr","May","Jun"];for(let W=0;W<D.length;W++){const X=15+W*2+Math.random()*5;N.push({month:D[W],margin:Math.round(X*10)/10,profit:Math.round(2e4+W*3e3+Math.random()*5e3)})}return N},B=O(),A=R(),P=U();return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zr,{className:"h-5 w-5 animate-spin text-blue-600"}),a.jsx("span",{className:"text-gray-600",children:"Loading financial data..."})]})}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Lt,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:s}),a.jsx("button",{onClick:b,className:"mt-2 text-sm text-red-600 hover:text-red-500 underline",children:"Try again"})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Comprehensive financial analysis and reporting"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:p,onChange:N=>x(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"week",children:"Last Week"}),a.jsx("option",{value:"month",children:"Last Month"}),a.jsx("option",{value:"quarter",children:"Last Quarter"}),a.jsx("option",{value:"year",children:"Last Year"})]}),a.jsxs("button",{onClick:b,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[a.jsx(zr,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:v.map(N=>a.jsx("button",{onClick:()=>{console.log("TCC_DEBUG: FinancialDashboard - Tab clicked:",N.id),t(N.id)},className:`py-2 px-1 border-b-2 font-medium text-sm ${e===N.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(N.icon,{className:"h-4 w-4 mr-2"}),N.name]})},N.id))})}),e==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.totalRevenue):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(wo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Costs"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.totalCost):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ba,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.grossProfit):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(on,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${C((o==null?void 0:o.averageProfitMargin)||0)}`,children:o?w(o.averageProfitMargin):"0.0%"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Me,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:(o==null?void 0:o.totalTrips)||0})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(dt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue per Mile"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o?j(o.averageRevenuePerMile):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sr,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Utilization Rate"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o?w(o.averageUtilizationRate*100):"0.0%"})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(Y0,{data:B,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ht,{tickFormatter:N=>`$${(N/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:N=>[j(N),""],labelFormatter:N=>`Month: ${N}`}),a.jsx(dr,{}),a.jsx(xs,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(xs,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]})]}),e==="revenue"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Revenue Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Transport Level"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(o==null?void 0:o.tripsByTransportLevel)&&Object.entries(o.tripsByTransportLevel).map(([N,D])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.count}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(D.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(D.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(D.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(D.margin)} ${C(D.margin)}`,children:w(D.margin)})})]},N))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Priority Level"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(o==null?void 0:o.tripsByPriority)&&Object.entries(o.tripsByPriority).map(([N,D])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.count}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(D.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(D.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(D.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(D.margin)} ${C(D.margin)}`,children:w(D.margin)})})]},N))})]})})]})]}),e==="costs"&&a.jsxs("div",{className:"space-y-6",children:[console.log("TCC_DEBUG: FinancialDashboard - Rendering Cost Analysis tab"),console.log("TCC_DEBUG: FinancialDashboard - costAnalysis data:",o),console.log("TCC_DEBUG: FinancialDashboard - tripCostBreakdowns:",u),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cost Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(rl,{children:[a.jsx(gi,{data:A,cx:"50%",cy:"50%",labelLine:!1,label:({name:N,percent:D})=>`${N} ${(D*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:A.map((N,D)=>a.jsx(Rn,{fill:N.color},`cell-${D}`))}),a.jsx(Mt,{formatter:N=>[j(N),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Trip Cost Breakdowns"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trip ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:((u==null?void 0:u.breakdowns)||u||[]).slice(0,10).map(N=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[N.tripId.substring(0,8),"..."]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.transportLevel}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(N.totalRevenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(N.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(N.grossProfit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(N.profitMargin)} ${C(N.profitMargin)}`,children:w(N.profitMargin)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.calculatedAt).toLocaleDateString()})]},N.id))})]})})]})]}),e==="profitability"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profitability Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profitability Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(_t,{width:"100%",height:"100%",children:a.jsxs(V0,{data:P,children:[a.jsx(Kr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ht,{yAxisId:"left"}),a.jsx(Ht,{yAxisId:"right",orientation:"right"}),a.jsx(Mt,{formatter:(N,D)=>[D==="margin"?`${N}%`:j(N),D==="margin"?"Margin":"Profit"],labelFormatter:N=>`Month: ${N}`}),a.jsx(dr,{}),a.jsx(Fr,{yAxisId:"left",type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"}),a.jsx(Fr,{yAxisId:"right",type:"monotone",dataKey:"margin",stroke:"#10b981",strokeWidth:2,name:"Margin %"})]})})})]}),(c==null?void 0:c.monthlyBreakdown)&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.monthlyBreakdown.map((N,D)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N.month}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(N.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(N.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(N.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(N.margin)} ${C(N.margin)}`,children:w(N.margin)})})]},D))})]})})]})]}),e==="billing"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reports"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Generate Reports"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:L,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Ha,{className:"h-6 w-6 text-blue-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Financial Summary"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Complete financial overview"})]})]}),a.jsxs("button",{onClick:_,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Zt,{className:"h-6 w-6 text-green-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Revenue Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Detailed revenue analysis"})]})]}),a.jsxs("button",{onClick:k,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(wo,{className:"h-6 w-6 text-red-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Cost Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Detailed cost breakdown"})]})]}),a.jsxs("button",{onClick:T,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Oh,{className:"h-6 w-6 text-purple-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Profitability Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Profit margin analysis"})]})]}),a.jsxs("button",{onClick:I,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(On,{className:"h-6 w-6 text-gray-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Export Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Export to CSV format"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Reports"}),f.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ha,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("p",{children:"No reports generated yet"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Generate your first report using the options above"})]}):a.jsx("div",{className:"space-y-4",children:f.map(N=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ha,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:N.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Generated: ",new Date(N.generatedAt).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>Z(N.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Download Report",children:a.jsx(On,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>E(N.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Share Report",children:a.jsx(ls,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>G(N.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Remove Report",children:a.jsx(Yt,{className:"h-4 w-4"})})]})]})},N.id))})]})]}),f.filter(N=>N.isOpen).map(N=>a.jsxs("div",{className:"mt-6",children:[N.type==="financial-summary"&&a.jsx(ZW,{data:N.data,onClose:()=>z(N.id),onDownload:()=>Z(N.id),onShare:()=>E(N.id)}),N.type==="revenue"&&a.jsx(JW,{data:N.data,onClose:()=>z(N.id),onDownload:()=>Z(N.id),onShare:()=>E(N.id)}),N.type==="cost"&&a.jsx(eq,{data:N.data,onClose:()=>z(N.id),onDownload:()=>Z(N.id),onShare:()=>E(N.id)}),N.type==="profitability"&&a.jsx(tq,{data:N.data,onClose:()=>z(N.id),onDownload:()=>Z(N.id),onShare:()=>E(N.id)}),N.type==="export-data"&&a.jsx(rq,{data:N.data,onClose:()=>z(N.id),onDownload:()=>Z(N.id),onShare:()=>E(N.id)})]},N.id))]})},aq=()=>{const[e,t]=g.useState([]),[r,n]=g.useState([]),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,d]=g.useState("all"),[u,m]=g.useState("all");g.useEffect(()=>{f()},[]);const f=async()=>{var v,b,j,w,C;try{if(i(!0),!localStorage.getItem("token")){l("No authentication token found");return}const L=await Y.get("/api/tcc/agencies");if(!((v=L.data)!=null&&v.success))throw new Error(`Failed to fetch agencies: ${((b=L.data)==null?void 0:b.message)||"Unknown error"}`);const _=L.data;console.log(" TCCUnitsManagement: Agencies response:",_),_.success&&n(_.data||[]);const k=await Y.get("/api/tcc/units");if(!((j=k.data)!=null&&j.success))throw new Error(`Failed to fetch units: ${((w=k.data)==null?void 0:w.message)||"Unknown error"}`);const T=k.data;console.log(" TCCUnitsManagement: Units response:",T),T.success&&(t(T.data||[]),console.log(" TCCUnitsManagement: Units count:",((C=T.data)==null?void 0:C.length)||0))}catch(S){console.error("Error fetching data:",S),l(S instanceof Error?S.message:"An error occurred")}finally{i(!1)}},h=v=>{const b=r.find(j=>j.id===v);return b?b.name:`Agency ${v}`},p=v=>{switch(v){case"AVAILABLE":return"bg-green-100 text-green-800";case"COMMITTED":return"bg-blue-100 text-blue-800";case"OUT_OF_SERVICE":return"bg-red-100 text-red-800";case"MAINTENANCE":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},x=v=>{switch(v){case"AMBULANCE":return"bg-red-100 text-red-800";case"WHEELCHAIR_VAN":return"bg-blue-100 text-blue-800";case"CRITICAL_CARE":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},y=e.filter(v=>{const b=c==="all"||v.agencyId===c,j=u==="all"||v.currentStatus===u;return b&&j});return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:o})}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:f,className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",children:"Retry"})})]})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Units Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage and monitor all EMS units across agencies"})]}),a.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Refresh"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Units"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="AVAILABLE").length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Committed"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="COMMITTED").length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Service"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="OUT_OF_SERVICE").length})]})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Agency"}),a.jsxs("select",{value:c,onChange:v=>d(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Agencies"}),r.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),a.jsxs("select",{value:u,onChange:v=>m(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"AVAILABLE",children:"Available"}),a.jsx("option",{value:"COMMITTED",children:"Committed"}),a.jsx("option",{value:"OUT_OF_SERVICE",children:"Out of Service"}),a.jsx("option",{value:"MAINTENANCE",children:"Maintenance"})]})]})]})}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Units (",y.length,")"]}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"All EMS units across all agencies"})]}),a.jsx("div",{className:"border-t border-gray-200",children:y.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No units found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c==="all"&&u==="all"?"No units have been created yet.":"No units match the current filters."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:v.unitNumber})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.unitNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:v.isActive?"Active":"Inactive"})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:h(v.agencyId)}),a.jsx("div",{className:"text-sm text-gray-500",children:v.agencyId})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(v.type)}`,children:v.type.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(v.currentStatus)}`,children:v.currentStatus.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:v.capabilities.map((b,j)=>a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:b},j))})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.totalTripsCompleted}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.lastStatusUpdate).toLocaleString()})]},v.id))})]})})})]})]})};class sq{constructor(){Bl(this,"baseUrl","/api/optimize")}async optimizeRoutes(t){try{const r=await fetch(`${this.baseUrl}/routes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||"Failed to optimize routes");return n}catch(r){return console.error("Error optimizing routes:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async analyzeBackhaul(t){try{const r=await fetch(`${this.baseUrl}/backhaul`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({requestIds:t})}),n=await r.json();if(!r.ok)throw new Error(n.error||"Failed to analyze backhaul opportunities");return n}catch(r){return console.error("Error analyzing backhaul:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async getRevenueAnalytics(t="24h",r){try{const n=new URLSearchParams({timeframe:t});r&&n.append("agencyId",r);const s=await fetch(`${this.baseUrl}/revenue?${n}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to get revenue analytics");return i}catch(n){return console.error("Error getting revenue analytics:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getPerformanceMetrics(t="24h",r){try{const n=new URLSearchParams({timeframe:t});r&&n.append("unitId",r);const s=await fetch(`${this.baseUrl}/performance?${n}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to get performance metrics");return i}catch(n){return console.error("Error getting performance metrics:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getAvailableUnits(){try{const t=await fetch("/api/units/available",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get available units");return r.data||[]}catch(t){return console.error("Error getting available units:",t),[]}}async getPendingRequests(){try{const t=await fetch("/api/trips?status=PENDING",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get pending requests");return(r.data||[]).map(n=>{var s,i,o,l;return{id:n.id,patientId:n.patientId,originFacilityId:n.fromFacilityId||"unknown",destinationFacilityId:n.toFacilityId||"unknown",transportLevel:n.transportLevel||"BLS",priority:n.priority||"MEDIUM",status:n.status||"PENDING",specialRequirements:n.specialRequirements||"",requestTimestamp:new Date(n.createdAt),readyStart:new Date(n.scheduledTime||n.createdAt),readyEnd:new Date(new Date(n.scheduledTime||n.createdAt).getTime()+60*60*1e3),originLocation:{lat:((s=n.fromLocation)==null?void 0:s.lat)||40.7128,lng:((i=n.fromLocation)==null?void 0:i.lng)||-74.006},destinationLocation:{lat:((o=n.toLocation)==null?void 0:o.lat)||40.7589,lng:((l=n.toLocation)==null?void 0:l.lng)||-73.9851}}})}catch(t){return console.error("Error getting pending requests:",t),[]}}async updateOptimizationWeights(t){try{const r=await fetch(`${this.baseUrl}/weights`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({weights:t})});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to update optimization weights")}return!0}catch(r){return console.error("Error updating optimization weights:",r),!1}}async getOptimizationSettings(){try{const t=await fetch(`${this.baseUrl}/settings`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get optimization settings");return r.data||{}}catch(t){return console.error("Error getting optimization settings:",t),{}}}async saveOptimizationSettings(t){try{const r=await fetch(`${this.baseUrl}/settings`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to save optimization settings")}return!0}catch(r){return console.error("Error saving optimization settings:",r),!1}}}const bc=new sq,iq=()=>{const[e,t]=g.useState(""),[r,n]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState([]),[c,d]=g.useState(null),[u,m]=g.useState(null),[f,h]=g.useState(null),[p,x]=g.useState(null),[y,v]=g.useState(!1),[b,j]=g.useState(!1),[w,C]=g.useState(!1),[S,L]=g.useState(!1),[_,k]=g.useState(null),[T,I]=g.useState(!1),[M,z]=g.useState({weights:{deadheadMiles:.5,waitTime:.1,backhaulBonus:25,overtimeRisk:2,baseRevenue:1},constraints:{maxDeadheadMiles:50,maxWaitTime:120,maxOvertimeHours:2,maxBackhaulDistance:15,maxBackhaulTimeWindow:90},autoOptimize:!1,refreshInterval:30});g.useEffect(()=>{Z(),G()},[]);const G=()=>{try{const P=localStorage.getItem("tcc_optimization_settings");if(P){const N=JSON.parse(P);z(D=>({...D,...N})),console.log("TCC_DEBUG: Loaded saved optimization settings")}}catch(P){console.error("TCC_DEBUG: Error loading saved settings:",P)}};g.useEffect(()=>{if(M.autoOptimize){const P=setInterval(()=>{e&&o.length>0&&R()},M.refreshInterval*1e3);return()=>clearInterval(P)}},[M.autoOptimize,M.refreshInterval,e,o]);const Z=async()=>{try{await Promise.all([$(),E(),O()])}catch(P){console.error("TCC_DEBUG: Error loading initial data:",P),k("Failed to load initial data")}},$=async()=>{var P,N,D;j(!0);try{if(console.log("TCC_DEBUG: Loading system-wide units for TCC optimization"),!localStorage.getItem("token"))throw new Error("No authentication token found");const X=await Y.get("/api/tcc/units");if(!((P=X.data)!=null&&P.success))throw new Error(`Failed to fetch units: ${((N=X.data)==null?void 0:N.message)||"Unknown error"}`);const J=X.data;if(console.log("TCC_DEBUG: Units API response:",J),J.success)console.log("TCC_DEBUG: Units loaded:",((D=J.data)==null?void 0:D.length)||0),n(J.data||[]);else throw new Error(J.error||"Failed to load units")}catch(W){k("Failed to load units"),console.error("TCC_DEBUG: Units loading error:",W)}finally{j(!1)}},E=async()=>{var P,N;C(!0);try{if(console.log("TCC_DEBUG: Loading system-wide pending requests for TCC optimization"),!localStorage.getItem("token"))throw new Error("No authentication token found");const W=await Y.get("/api/trips?status=PENDING");if(!((P=W.data)!=null&&P.success))throw new Error(`Failed to fetch pending requests: ${((N=W.data)==null?void 0:N.message)||"Unknown error"}`);const X=W.data;if(console.log("TCC_DEBUG: Pending requests API response:",X),X.success){const J=(X.data||[]).map(F=>({id:F.id,patientId:F.patientId,originFacilityId:F.fromFacilityId||F.fromLocation||"Unknown",destinationFacilityId:F.toFacilityId||F.toLocation||"Unknown",transportLevel:F.transportLevel||"BLS",priority:F.priority||"MEDIUM",status:F.status||"PENDING",specialRequirements:F.specialNeeds||F.specialRequirements||"",requestTimestamp:new Date(F.requestTimestamp||F.createdAt),readyStart:new Date(F.scheduledTime||F.createdAt),readyEnd:new Date(new Date(F.scheduledTime||F.createdAt).getTime()+36e5),originLocation:{lat:F.originLatitude||40.7128,lng:F.originLongitude||-74.006},destinationLocation:{lat:F.destinationLatitude||40.7589,lng:F.destinationLongitude||-73.9851}}));console.log("TCC_DEBUG: Pending requests loaded:",J.length),i(J)}else throw new Error(X.error||"Failed to load pending requests")}catch(D){k("Failed to load pending requests"),console.error("TCC_DEBUG: Requests loading error:",D)}finally{C(!1)}},O=async()=>{L(!0);try{console.log("TCC_DEBUG: Loading analytics data...");const[P,N]=await Promise.all([bc.getRevenueAnalytics("24h"),bc.getPerformanceMetrics("24h")]);console.log("TCC_DEBUG: Revenue analytics response:",P),console.log("TCC_DEBUG: Performance metrics response:",N),h(P),x(N)}catch(P){console.error("TCC_DEBUG: Analytics loading error:",P),k("Failed to load analytics data")}finally{L(!1)}},R=async()=>{if(!e||o.length===0){k("Please select a unit and at least one request");return}v(!0),k(null);try{const P=await bc.optimizeRoutes({unitId:e,requestIds:o,constraints:M.constraints});d(P)}catch(P){k("Failed to optimize routes"),console.error("Optimization error:",P)}finally{v(!1)}},U=async()=>{if(o.length<2){k("Please select at least 2 requests for backhaul analysis");return}v(!0),k(null);try{console.log("TCC_DEBUG: Starting backhaul analysis with selected requests:",o);const P=await bc.analyzeBackhaul(o);console.log("TCC_DEBUG: Backhaul analysis response:",P),m(P)}catch(P){k("Failed to analyze backhaul opportunities"),console.error("TCC_DEBUG: Backhaul analysis error:",P)}finally{v(!1)}},B=async()=>{var P,N;v(!0),k(null);try{if(console.log("TCC_DEBUG: Starting return trip analysis..."),!localStorage.getItem("token"))throw new Error("No authentication token found");const W=await Y.get("/api/optimize/return-trips");if(!((P=W.data)!=null&&P.success))throw new Error(`Failed to fetch return trips: ${((N=W.data)==null?void 0:N.message)||"Unknown error"}`);const X=W.data;if(console.log("TCC_DEBUG: Return trips response:",X),X.success){const J={success:!0,data:{pairs:X.data.returnTrips||[],statistics:X.data.statistics||{},recommendations:X.data.recommendations||[]}};m(J)}else throw new Error(X.error||"Failed to load return trips")}catch(D){k("Failed to analyze return trip opportunities"),console.error("TCC_DEBUG: Return trip analysis error:",D)}finally{v(!1)}},A=P=>{l(N=>N.includes(P)?N.filter(D=>D!==P):[...N,P])};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Route Optimization"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optimize routes across all agencies and units in the system."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>I(!T),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Settings"]}),a.jsxs("button",{onClick:Z,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(zr,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),T&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Settings"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Auto-Optimization"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Auto-optimize every ",M.refreshInterval," seconds"]}),a.jsx("input",{type:"checkbox",checked:M.autoOptimize,onChange:P=>z(N=>({...N,autoOptimize:P.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Interval (seconds)"}),a.jsx("input",{type:"number",value:M.refreshInterval,onChange:P=>z(N=>({...N,refreshInterval:parseInt(P.target.value)||30})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"10",max:"300"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Optimization Weights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadhead Miles Weight"}),a.jsx("input",{type:"number",step:"0.1",value:M.weights.deadheadMiles,onChange:P=>z(N=>({...N,weights:{...N.weights,deadheadMiles:parseFloat(P.target.value)||.5}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wait Time Weight"}),a.jsx("input",{type:"number",step:"0.1",value:M.weights.waitTime,onChange:P=>z(N=>({...N,weights:{...N.weights,waitTime:parseFloat(P.target.value)||.1}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backhaul Bonus ($)"}),a.jsx("input",{type:"number",step:"5",value:M.weights.backhaulBonus,onChange:P=>z(N=>({...N,weights:{...N.weights,backhaulBonus:parseFloat(P.target.value)||25}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overtime Risk Weight"}),a.jsx("input",{type:"number",step:"0.5",value:M.weights.overtimeRisk,onChange:P=>z(N=>({...N,weights:{...N.weights,overtimeRisk:parseFloat(P.target.value)||2}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"5"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Constraints"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Deadhead Miles"}),a.jsx("input",{type:"number",value:M.constraints.maxDeadheadMiles,onChange:P=>z(N=>({...N,constraints:{...N.constraints,maxDeadheadMiles:parseInt(P.target.value)||50}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"10",max:"200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Wait Time (minutes)"}),a.jsx("input",{type:"number",value:M.constraints.maxWaitTime,onChange:P=>z(N=>({...N,constraints:{...N.constraints,maxWaitTime:parseInt(P.target.value)||120}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"30",max:"300"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Overtime Hours"}),a.jsx("input",{type:"number",value:M.constraints.maxOvertimeHours,onChange:P=>z(N=>({...N,constraints:{...N.constraints,maxOvertimeHours:parseInt(P.target.value)||2}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"8"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Backhaul Distance (miles)"}),a.jsx("input",{type:"number",value:M.constraints.maxBackhaulDistance,onChange:P=>z(N=>({...N,constraints:{...N.constraints,maxBackhaulDistance:parseInt(P.target.value)||15}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"5",max:"50"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{localStorage.setItem("tcc_optimization_settings",JSON.stringify(M)),I(!1)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Unit"}),b?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(zr,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading units..."})]}):a.jsxs("select",{value:e,onChange:P=>t(P.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"Select a unit..."}),r&&r.length>0?r.map(P=>a.jsxs("option",{value:P.id,children:[P.unitNumber||"Unknown"," (",P.type||"Unknown",") - ",P.currentStatus||"Unknown"]},P.id)):a.jsx("option",{disabled:!0,children:"No units available"})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Requests"}),w?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(zr,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading requests..."})]}):a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s&&s.length>0?s.map(P=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.includes(P.id),onChange:()=>A(P.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[P.patientId||"Unknown"," - ",P.originFacilityId||"Unknown","  ",P.destinationFacilityId||"Unknown"]})]},P.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No pending requests available"})})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:R,disabled:y||!e||o.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[y?a.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Th,{className:"h-4 w-4 mr-2"}),"Optimize Routes"]}),a.jsxs("button",{onClick:U,disabled:y||o.length<2,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(sC,{className:"h-4 w-4 mr-2"}),"Analyze Backhaul"]}),a.jsxs("button",{onClick:B,disabled:y,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Th,{className:"h-4 w-4 mr-2"}),"Find Return Trips"]})]}),_&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Lt,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:_})})]})]})}),c&&c.success&&c.data&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Results"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zt,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Revenue"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:["$",typeof c.data.totalRevenue=="number"?c.data.totalRevenue.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(dt,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Distance"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:[typeof c.data.totalDeadheadMiles=="number"?c.data.totalDeadheadMiles.toFixed(1):"0.0"," mi"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sr,{className:"h-5 w-5 text-orange-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Wait Time"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:[typeof c.data.totalWaitTime=="number"?c.data.totalWaitTime.toFixed(0):"0"," min"]})]})]}),c.data.optimizedRequests&&c.data.optimizedRequests.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Optimized Requests"}),a.jsx("div",{className:"space-y-2",children:c.data.optimizedRequests.map((P,N)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Request ",N+1]}),a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Score: ",typeof P.score=="number"?P.score.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Revenue: $",typeof P.revenue=="number"?P.revenue.toFixed(2):"0.00"," | Deadhead: ",typeof P.deadheadMiles=="number"?P.deadheadMiles.toFixed(1):"0.0"," mi"]})]},N))})]})]}),u&&u.success&&u.data&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Backhaul Analysis"}),a.jsxs("div",{className:"space-y-4",children:[u.data.pairs&&u.data.pairs.map((P,N)=>{var D,W;return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[((D=P.request1)==null?void 0:D.patientId)||"Unknown","  ",((W=P.request2)==null?void 0:W.patientId)||"Unknown"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Potential savings: $",typeof P.revenueBonus=="number"?P.revenueBonus.toFixed(2):"0.00"]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Distance: ",typeof P.distance=="number"?P.distance.toFixed(1):"0.0"," mi | Time Window: ",P.timeWindow||"0"," min | Efficiency: ",typeof P.efficiency=="number"?(P.efficiency*100).toFixed(1):"0.0","%"]})]}),a.jsx($e,{className:"h-5 w-5 text-green-500"})]})},N)}),(!u.data.pairs||u.data.pairs.length===0)&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No backhaul opportunities found"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Performance Analytics"}),S?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(zr,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading analytics..."})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f&&f.success&&f.data&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"System Revenue (24h)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue:"}),a.jsxs("span",{className:"text-sm font-medium",children:["$",typeof f.data.totalRevenue=="number"?f.data.totalRevenue.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Revenue per Hour:"}),a.jsxs("span",{className:"text-sm font-medium",children:["$",typeof f.data.revenuePerHour=="number"?f.data.revenuePerHour.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof f.data.loadedMileRatio=="number"?(f.data.loadedMileRatio*100).toFixed(1):"0.0","%"]})]})]})]}),p&&p.success&&p.data&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"System Performance (24h)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Trips:"}),a.jsx("span",{className:"text-sm font-medium",children:p.data.totalTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Average Response Time:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof p.data.averageResponseTime=="number"?p.data.averageResponseTime.toFixed(1):"0.0"," min"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof p.data.efficiency=="number"?(p.data.efficiency*100).toFixed(1):"0.0","%"]})]})]})]})]})]})]})},Rr=(e,t=0)=>{if(e==null||e==="")return t;const r=Number(e);return isNaN(r)?t:r},Lf=(e,t=2,r="0.00")=>Rr(e,0).toFixed(t),jc=(e,t=1)=>`${(Rr(e,0)*100).toFixed(t)}%`,Es=(e,t=2)=>`$${Rr(e,0).toFixed(t)}`,Mw=({showBackhaulPairs:e=!0,showUnitManagement:t=!0,title:r="Revenue Optimization",className:n=""})=>{const[s,i]=g.useState(null),[o,l]=g.useState([]),[,c]=g.useState([]),[d,u]=g.useState(null),[m,f]=g.useState(!0);g.useEffect(()=>{h()},[]);const h=async()=>{try{f(!0);const p=await Y.get("/api/optimize/revenue?timeframe=24h");p.data.success&&i({totalRevenue:Rr(p.data.data.totalRevenue,0),revenuePerHour:Rr(p.data.data.revenuePerHour,0),loadedMileRatio:Rr(p.data.data.loadedMileRatio,0),backhaulPairs:0,averageEfficiency:.75,potentialRevenueIncrease:0,totalTrips:Rr(p.data.data.totalTrips,0),averageRevenuePerTrip:Rr(p.data.data.averageRevenuePerTrip,0),totalMiles:Rr(p.data.data.totalMiles,0),loadedMiles:Rr(p.data.data.loadedMiles,0)});const x=await Y.get("/api/optimize/backhaul");x.data.success&&(l(x.data.data.pairs||[]),i(b=>{var j,w;return b?{...b,backhaulPairs:((j=x.data.data.pairs)==null?void 0:j.length)||0,potentialRevenueIncrease:((w=x.data.data.pairs)==null?void 0:w.reduce((C,S)=>C+Rr(S.revenueBonus,0),0))||0}:null}));const y=await Y.get("/api/units");y.data.success&&c(y.data.data||[]);const v=await Y.get("/api/units/analytics");v.data.success&&u(v.data.data)}catch(p){console.error("Error loading optimization data:",p)}finally{f(!1)}};return m?a.jsx("div",{className:`bg-white rounded-lg p-6 shadow-sm ${n}`,children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})}):a.jsxs("div",{className:`space-y-6 ${n}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(os,{className:"h-4 w-4"}),a.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Analytics"}),a.jsx(Zt,{className:"h-6 w-6 text-green-600"})]}),s&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue:"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:Es(s.totalRevenue)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Revenue/Hour:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:Es(s.revenuePerHour)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:jc(s.loadedMileRatio)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Trips:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.totalTrips})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Revenue/Trip:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:Es(s.averageRevenuePerTrip)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backhaul Opportunities"}),a.jsx(bv,{className:"h-6 w-6 text-blue-600"})]}),s&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Available Pairs:"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:s.backhaulPairs})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Efficiency:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:jc(s.averageEfficiency)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Potential Increase:"}),a.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",Es(s.potentialRevenueIncrease)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Miles:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[Lf(s.totalMiles,1)," mi"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Miles:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[Lf(s.loadedMiles,1)," mi"]})]})]})]}),t&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Unit Management"}),a.jsx(os,{className:"h-6 w-6 text-purple-600"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Available Units:"}),a.jsx("span",{className:"text-lg font-semibold text-green-600",children:(d==null?void 0:d.availableUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Committed Units:"}),a.jsx("span",{className:"text-sm font-medium text-yellow-600",children:(d==null?void 0:d.committedUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Units:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:(d==null?void 0:d.totalUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Out of Service:"}),a.jsx("span",{className:"text-sm font-medium text-red-600",children:(d==null?void 0:d.outOfServiceUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:d!=null&&d.efficiency?`${(d.efficiency*100).toFixed(1)}%`:"0%"})]})]})]})]}),e&&o.length>0&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recommended Backhaul Pairs"}),a.jsx(sC,{className:"h-5 w-5 text-blue-600"})]}),a.jsx("div",{className:"space-y-4",children:o.slice(0,5).map((p,x)=>{var y,v,b,j,w,C;return a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(bv,{className:"h-5 w-5 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Pair #",x+1]}),a.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Efficiency: ",jc(p.efficiency)]})]}),a.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["+",Es(p.revenueBonus)," bonus"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"bg-white rounded p-3",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Request 1"}),a.jsxs("div",{children:["Patient: ",((y=p.request1)==null?void 0:y.patientId)||"N/A"]}),a.jsxs("div",{children:["Level: ",((v=p.request1)==null?void 0:v.transportLevel)||"N/A"]}),a.jsxs("div",{children:["Priority: ",((b=p.request1)==null?void 0:b.priority)||"N/A"]})]}),a.jsxs("div",{className:"bg-white rounded p-3",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Request 2"}),a.jsxs("div",{children:["Patient: ",((j=p.request2)==null?void 0:j.patientId)||"N/A"]}),a.jsxs("div",{children:["Level: ",((w=p.request2)==null?void 0:w.transportLevel)||"N/A"]}),a.jsxs("div",{children:["Priority: ",((C=p.request2)==null?void 0:C.priority)||"N/A"]})]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["Distance: ",Lf(p.distance,1)," mi"]}),a.jsxs("span",{children:["Time Window: ",p.timeWindow," min"]})]})]},x)})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Metrics"}),a.jsx(on,{className:"h-5 w-5 text-indigo-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?jc(s.loadedMileRatio):"0.0%"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s?Es(s.revenuePerHour,0):"$0","/hr"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Revenue per Hour"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?s.totalTrips:0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Trips"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Backhaul Pairs"})]})]})]})]})},oq=()=>{const[e,t]=g.useState("overview"),[r,n]=g.useState(null),[s,i]=g.useState(null),[o,l]=g.useState(!0),[c,d]=g.useState(null),u=[{id:"overview",name:"System Overview",icon:on},{id:"revenue",name:"Revenue Optimization",icon:Zt},{id:"performance",name:"Performance",icon:ba},{id:"units",name:"Unit Management",icon:os},{id:"settings",name:"Revenue Settings",icon:Wo}];return g.useEffect(()=>{(async()=>{try{l(!0),d(null);const f=localStorage.getItem("token");if(!f){d("Authentication required");return}const h={Authorization:`Bearer ${f}`,"Content-Type":"application/json"},p=await fetch("/api/tcc/analytics/overview",{headers:h});if(!p.ok)throw new Error("Failed to fetch overview data");const x=await p.json();x.success&&n(x.data);const y=await fetch("/api/tcc/analytics/trips",{headers:h});if(!y.ok)throw new Error("Failed to fetch trip statistics");const v=await y.json();v.success&&i(v.data)}catch(f){console.error("Error fetching analytics data:",f),d(f instanceof Error?f.message:"Failed to load analytics data")}finally{l(!1)}})()},[]),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View system-wide analytics, performance metrics, and revenue optimization across all agencies."})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:u.map(m=>{const f=m.icon;return a.jsxs("button",{onClick:()=>t(m.id),className:`${e===m.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[a.jsx(f,{className:"h-4 w-4"}),a.jsx("span",{children:m.name})]},m.id)})})}),e==="overview"&&a.jsxs("div",{className:"space-y-6",children:[o&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading analytics data..."})]}),c&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading analytics"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:c})]})]})}),!o&&!c&&r&&s&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(on,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.totalTrips})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(os,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.activeUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ba,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Agencies"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.activeAgencies})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Zt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Hospitals"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.activeHospitals})]})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trip Status Breakdown"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.completedTrips})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Pending"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.pendingTrips})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Accepted"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.acceptedTrips})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Cancelled"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.cancelledTrips})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transport Level Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"BLS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.tripsByLevel.BLS||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"ALS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.tripsByLevel.ALS||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"CCT"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.tripsByLevel.CCT||0})]})]})]})]})]})]}),e==="revenue"&&a.jsx(Mw,{showBackhaulPairs:!0,showUnitManagement:!0,title:"Revenue Optimization Analytics"}),e==="performance"&&a.jsx(lq,{}),e==="units"&&a.jsx(Mw,{showBackhaulPairs:!1,showUnitManagement:!0,title:"Unit Management Analytics"}),e==="settings"&&a.jsx(cq,{})]})},lq=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(!0),[s,i]=g.useState(null);return g.useEffect(()=>{(async()=>{try{n(!0),i(null);const l=localStorage.getItem("token");if(!l){i("Authentication required");return}const c={Authorization:`Bearer ${l}`,"Content-Type":"application/json"},d=await fetch("/api/optimize/performance",{headers:c});if(!d.ok)throw new Error("Failed to fetch performance data");const u=await d.json();u.success&&t(u.data)}catch(l){console.error("Error fetching performance data:",l),i(l instanceof Error?l.message:"Failed to load performance data")}finally{n(!1)}})()},[]),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading performance data..."})]}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading performance data"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:s})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ba,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(e==null?void 0:e.totalTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(os,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(e==null?void 0:e.completedTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(on,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Efficiency"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e!=null&&e.efficiency?`${(e.efficiency*100).toFixed(1)}%`:"0%"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Zt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["$",(e==null?void 0:e.totalRevenue)||0]})]})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Response Times"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Average Response Time"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.averageResponseTime?`${e.averageResponseTime.toFixed(1)} min`:"0 min"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Average Trip Time"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.averageTripTime?`${e.averageTripTime.toFixed(1)} min`:"0 min"})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Satisfaction"}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Rating"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.customerSatisfaction?`${e.customerSatisfaction}/5.0`:"N/A"})]})})]})]})]})},cq=()=>{const[e,t]=g.useState({baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialSurcharge:50,insuranceRates:{medicare:{BLS:120,ALS:200,CCT:350},medicaid:{BLS:100,ALS:180,CCT:300},private:{BLS:180,ALS:300,CCT:450},selfPay:{BLS:200,ALS:350,CCT:500}}}),[r,n]=g.useState(null),s=o=>{const{name:l,value:c}=o.target,[d,u]=l.split(".");t(u?m=>({...m,[d]:{...m[d],[u]:parseFloat(c)||0}}):m=>({...m,[l]:parseFloat(c)||0})),i()},i=()=>{const o={transportLevel:"ALS",priority:"MEDIUM",distanceMiles:15,specialRequirements:!1,insuranceCompany:"medicare"},l=e.baseRates[o.transportLevel],c=e.perMileRates[o.transportLevel],d=e.priorityMultipliers[o.priority],u=e.insuranceRates[o.insuranceCompany][o.transportLevel],m=o.specialRequirements?e.specialSurcharge:0,f=l*d+m,h=(l+c*o.distanceMiles+m)*d,p=(u+c*o.distanceMiles+m)*d;n({sampleTrip:o,standardRevenue:Math.round(f*100)/100,mileageRevenue:Math.round(h*100)/100,insuranceRevenue:Math.round(p*100)/100})};return g.useEffect(()=>{i()},[e]),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Revenue Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure global pricing rates for revenue calculations"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Base Rates by Transport Level"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BLS Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.baseRates.BLS,onChange:s,name:"baseRates.BLS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ALS Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.baseRates.ALS,onChange:s,name:"baseRates.ALS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CCT Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.baseRates.CCT,onChange:s,name:"baseRates.CCT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Per Mile Rates"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BLS Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.perMileRates.BLS,onChange:s,name:"perMileRates.BLS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ALS Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.perMileRates.ALS,onChange:s,name:"perMileRates.ALS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CCT Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.perMileRates.CCT,onChange:s,name:"perMileRates.CCT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),r&&a.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Revenue Preview"}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Sample trip: ",r.sampleTrip.transportLevel," transport, ",r.sampleTrip.priority," priority,",r.sampleTrip.distanceMiles," miles, ",r.sampleTrip.insuranceCompany," insurance"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Standard Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r.standardRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base rate  priority"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Mileage Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r.mileageRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base + (per mile  distance)"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Insurance Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r.insuranceRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Insurance rate + mileage"})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>{localStorage.setItem("tcc_revenue_settings",JSON.stringify(e)),alert("Revenue settings saved!")},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save Revenue Settings"})})]})]})})},uq=({user:e,onLogout:t})=>{var c;const[r,n]=g.useState(!1),s=bs(),o=(()=>{const d=[{name:"Overview",href:"/dashboard",icon:CL},{name:"Trips",href:"/dashboard/trips",icon:Me},{name:"Analytics",href:"/dashboard/analytics",icon:on},{name:"Units",href:"/dashboard/units",icon:Me},{name:"Healthcare Facilities",href:"/dashboard/hospitals",icon:Rt},{name:"EMS Agencies",href:"/dashboard/agencies",icon:Me},{name:"Route Optimization",href:"/dashboard/route-optimization",icon:Th},{name:"Notifications",href:"/dashboard/notifications",icon:fu}];return e.userType==="ADMIN"?[...d.slice(0,3),{name:"Financial",href:"/dashboard/financial",icon:Zt},...d.slice(3),{name:"Settings",href:"/dashboard/settings",icon:jv}]:d})(),l=((c=o.find(d=>s.pathname===d.href||d.href!=="/dashboard"&&s.pathname.startsWith(d.href)))==null?void 0:c.name)||"Overview";return a.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[a.jsxs("div",{className:`fixed inset-0 flex z-40 md:hidden ${r?"":"hidden"}`,children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>n(!1)}),a.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:a.jsx("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>n(!1),children:a.jsx(Yt,{className:"h-6 w-6 text-white"})})}),a.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[a.jsxs("div",{className:"flex-shrink-0 flex items-center px-4",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(Rt,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"TCC"})]}),a.jsx("nav",{className:"mt-5 px-2 space-y-1",children:o.map(d=>{const u=s.pathname===d.href||d.href!=="/dashboard"&&s.pathname.startsWith(d.href);return a.jsxs(pv,{to:d.href,className:`${u?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-base font-medium rounded-md`,onClick:()=>n(!1),children:[a.jsx(d.icon,{className:`${u?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-4 flex-shrink-0 h-6 w-6`}),d.name]},d.name)})})]})]})]}),a.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:a.jsx("div",{className:"flex flex-col w-64",children:a.jsxs("div",{className:"flex flex-col h-0 flex-1 border-r border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center flex-shrink-0 px-4",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(Rt,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"TCC"})]}),a.jsx("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:o.map(d=>{const u=s.pathname===d.href||d.href!=="/dashboard"&&s.pathname.startsWith(d.href);return a.jsxs(pv,{to:d.href,className:`${u?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-sm font-medium rounded-md`,children:[a.jsx(d.icon,{className:`${u?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-6 w-6`}),d.name]},d.name)})})]}),a.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:a.jsxs("div",{className:"flex-shrink-0 w-full group block",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:e.name}),a.jsx("p",{className:"text-xs font-medium text-gray-500 group-hover:text-gray-700",children:e.email})]})}),a.jsxs("button",{onClick:t,className:"mt-2 w-full flex items-center px-2 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-md",children:[a.jsx(Og,{className:"mr-3 h-5 w-5 text-gray-400"}),"Sign out"]})]})})]})})}),a.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"relative z-10 flex-shrink-0 flex h-16 bg-white shadow",children:[a.jsx("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 md:hidden",onClick:()=>n(!0),children:a.jsx(jv,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex-1 px-4 flex justify-between",children:[a.jsx("div",{className:"flex-1 flex",children:a.jsx("div",{className:"w-full flex md:ml-0",children:a.jsx("div",{className:"relative w-full text-gray-400 focus-within:text-gray-600",children:a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:l})})})})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx(Rg,{user:e})})]})]}),a.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:a.jsxs(Eh,{children:[a.jsx(Oe,{path:"/",element:a.jsx(n4,{})}),a.jsx(Oe,{path:"/trips",element:a.jsx(s4,{user:e})}),a.jsx(Oe,{path:"/analytics",element:a.jsx(oq,{})}),a.jsx(Oe,{path:"/units",element:a.jsx(aq,{})}),a.jsx(Oe,{path:"/hospitals/*",element:a.jsx(i4,{})}),a.jsx(Oe,{path:"/agencies/*",element:a.jsx(o4,{})}),a.jsx(Oe,{path:"/route-optimization",element:a.jsx(iq,{})}),a.jsx(Oe,{path:"/healthcare-portal",element:a.jsx(l4,{})}),a.jsx(Oe,{path:"/ems-dashboard",element:a.jsx(MC,{user:e,onLogout:t})}),a.jsx(Oe,{path:"/notifications",element:a.jsx(p4,{})}),a.jsx(Oe,{path:"/settings",element:a.jsx(g4,{})}),a.jsx(Oe,{path:"/financial",element:a.jsx(nq,{})}),a.jsx(Oe,{path:"/my-trips",element:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Trips"}),a.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})}),a.jsx(Oe,{path:"/my-assignments",element:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Assignments"}),a.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})})]})})})})]})]})},dq=({user:e,onTripCreated:t,onCancel:r})=>{const[n,s]=g.useState(1),[i,o]=g.useState(!1),[l,c]=g.useState(null),[d,u]=g.useState(!1),[m,f]=g.useState({diagnosis:[],mobility:[],transportLevel:[],urgency:[],insurance:[],specialNeeds:[],facilities:[],agencies:[],pickupLocations:[],healthcareLocations:[]}),[h,p]=g.useState({patientId:"",patientWeight:"",specialNeeds:"",insuranceCompany:"",generateQRCode:!1,fromLocation:e.facilityName||"",fromLocationId:"",pickupLocationId:"",toLocation:"",scheduledTime:new Date().toISOString().slice(0,16),transportLevel:"BLS",urgencyLevel:"Routine",diagnosis:"",mobilityLevel:"Ambulatory",oxygenRequired:!1,monitoringRequired:!1,selectedAgencies:[],notificationRadius:100,notes:""}),[x,y]=g.useState("select"),[v,b]=g.useState(!1),[j,w]=g.useState(!1),C=async()=>{var O,R;if(e.manageMultipleLocations)try{console.log("PHASE_A: Reloading facilities with showAllStates:",j);const U=await Y.get("/api/healthcare/locations/active");if((O=U.data)!=null&&O.success&&Array.isArray(U.data.data)){const B=U.data.data,A=B.find(N=>N.isPrimary)||B[0];let P;if(j?(console.log("PHASE_A: Loading all facilities within 100 miles"),P=await Y.get("/api/tcc/facilities",{params:{originLat:A.latitude,originLng:A.longitude,radius:100,isActive:!0}})):(console.log("PHASE_A: Loading PA facilities within 100 miles"),P=await Y.get("/api/tcc/facilities",{params:{state:"PA",originLat:A.latitude,originLng:A.longitude,radius:100,isActive:!0}})),(R=P.data)!=null&&R.success&&Array.isArray(P.data.data)){const N=P.data.data;console.log("PHASE_A: Reloaded",N.length,"facilities"),f(D=>({...D,facilities:N}))}}}catch(U){console.error("PHASE_A: Error reloading facilities:",U)}},S=[{id:1,name:"Patient Info",icon:ni},{id:2,name:"Trip Details",icon:dt},{id:3,name:"Clinical Info",icon:Nv}];g.useEffect(()=>{console.log("MULTI_LOC: EnhancedTripForm useEffect triggered"),console.log("MULTI_LOC: User object:",e),console.log("MULTI_LOC: user.manageMultipleLocations:",e.manageMultipleLocations),L()},[]),g.useEffect(()=>{if(e.manageMultipleLocations&&h.fromLocationId)console.log("MULTI_LOC: Loading pickup locations for healthcare location:",h.fromLocationId),k(h.fromLocationId);else if(!e.manageMultipleLocations&&h.fromLocation&&m.facilities.length>0){const O=m.facilities.find(R=>R.name===h.fromLocation);O&&k(O.id)}},[h.fromLocation,h.fromLocationId,m.facilities,e.manageMultipleLocations]),g.useEffect(()=>{if(console.log("TCC_DEBUG: Agency loading useEffect triggered",{currentStep:n,fromLocation:h.fromLocation,facilitiesCount:m.facilities.length}),n===4&&h.fromLocation&&m.facilities.length>0){const O=m.facilities.find(R=>R.name===h.fromLocation);console.log("TCC_DEBUG: Selected facility:",O),O&&_(O.id)}},[n,h.fromLocation,m.facilities]);const L=async()=>{var O,R,U,B;try{console.log("TCC_DEBUG: Loading real form options from API...");let A=[],P=[];if(e.manageMultipleLocations){console.log("PHASE_A: Loading healthcare locations and facilities for Penn Highlands user");const le=await Y.get("/api/healthcare/locations/active");if((O=le.data)!=null&&O.success&&Array.isArray(le.data.data)){P=le.data.data,console.log("MULTI_LOC: Loaded",P.length,"healthcare locations for form options:",P);const ge=P.find(Se=>Se.isPrimary)||P[0];if(ge&&ge.latitude&&ge.longitude){console.log("PHASE_A: Using primary location as origin:",ge.locationName);const Se=await Y.get("/api/tcc/facilities",{params:{state:"PA",originLat:ge.latitude,originLng:ge.longitude,radius:100,isActive:!0}});(R=Se.data)!=null&&R.success&&Array.isArray(Se.data.data)&&(A=Se.data.data,console.log("PHASE_A: Loaded",A.length,"PA facilities within 100 miles of",ge.locationName))}else{console.warn("PHASE_A: Primary location missing coordinates, falling back to PA facilities only");const Se=await Y.get("/api/tcc/facilities",{params:{state:"PA",isActive:!0}});(U=Se.data)!=null&&U.success&&Array.isArray(Se.data.data)&&(A=Se.data.data)}}}else{console.log("PHASE_A: Loading all facilities for single-location user");const le=await Y.get("/api/tcc/facilities");(B=le.data)!=null&&B.success&&Array.isArray(le.data.data)&&(A=le.data.data,console.log("TCC_DEBUG: Loaded",A.length,"real facilities")),P=[]}A.length===0&&(console.warn("TCC_DEBUG: Failed to load facilities, using fallback"),A=[]);const[N,D,W,X,J,F]=await Promise.all([ar.getByCategory("diagnosis").catch(()=>({data:{success:!1,data:[]}})),ar.getByCategory("mobility").catch(()=>({data:{success:!1,data:[]}})),ar.getByCategory("transport-level").catch(()=>({data:{success:!1,data:[]}})),ar.getByCategory("urgency").catch(()=>({data:{success:!1,data:[]}})),ar.getByCategory("insurance").catch(()=>({data:{success:!1,data:[]}})),ar.getByCategory("special-needs").catch(()=>({data:{success:!1,data:[]}}))]),ee=(le,ge)=>{var Se;return(Se=le==null?void 0:le.data)!=null&&Se.success&&Array.isArray(le.data.data)?le.data.data.map(Kn=>Kn.value):ge},ne=["Routine","Urgent","Emergent"],K=ee(X,[]),We=[...ne,...K.filter(le=>!ne.includes(le))],ue={diagnosis:ee(N,["Cardiac","Respiratory","Neurological","Trauma"]),mobility:ee(D,["Ambulatory","Wheelchair","Stretcher","Bed-bound"]),transportLevel:ee(W,["BLS","ALS","CCT","Other"]),urgency:We,insurance:ee(J,["Medicare","Medicaid","Private","Self-pay"]),specialNeeds:ee(F,["Bariatric Stretcher"]),facilities:A,agencies:[],pickupLocations:[],healthcareLocations:P};if(console.log("TCC_DEBUG: Setting real form options:",ue),console.log("MULTI_LOC: Healthcare locations being set in formOptions:",P.length,"locations"),f(ue),e.manageMultipleLocations&&P.length>0){const le=P.find(ge=>ge.isPrimary);console.log("MULTI_LOC: Primary location found:",le),le&&(p(ge=>({...ge,fromLocation:le.locationName,fromLocationId:le.id})),console.log("MULTI_LOC: Set default location:",le.locationName))}try{const[le,ge,Se,Kn,Em,Am]=await Promise.all([Y.get("/api/dropdown-options/transport-level/default"),Y.get("/api/dropdown-options/urgency/default"),Y.get("/api/dropdown-options/diagnosis/default"),Y.get("/api/dropdown-options/mobility/default"),Y.get("/api/dropdown-options/insurance/default"),Y.get("/api/dropdown-options/special-needs/default")]);p(Vn=>{var Cs,Ml,_l,Il,Rl,Yn,$l,Xn,Bi,V,ie,Ut,it,fn,Pt,X0,Q0,Z0;return{...Vn,transportLevel:((_l=(Ml=(Cs=le.data)==null?void 0:Cs.data)==null?void 0:Ml.option)==null?void 0:_l.value)||Vn.transportLevel,urgencyLevel:((Yn=(Rl=(Il=ge.data)==null?void 0:Il.data)==null?void 0:Rl.option)==null?void 0:Yn.value)||Vn.urgencyLevel,diagnosis:(Bi=(Xn=($l=Se.data)==null?void 0:$l.data)==null?void 0:Xn.option)!=null&&Bi.value?Se.data.data.option.value:"",mobilityLevel:((Ut=(ie=(V=Kn.data)==null?void 0:V.data)==null?void 0:ie.option)==null?void 0:Ut.value)||Vn.mobilityLevel,insuranceCompany:((Pt=(fn=(it=Em.data)==null?void 0:it.data)==null?void 0:fn.option)==null?void 0:Pt.value)||Vn.insuranceCompany,specialNeeds:((Z0=(Q0=(X0=Am.data)==null?void 0:X0.data)==null?void 0:Q0.option)==null?void 0:Z0.value)||Vn.specialNeeds}})}catch{console.warn("TCC_DEBUG: Defaults not available yet")}}catch(A){console.error("Error loading form options:",A),f({diagnosis:["Cardiac","Respiratory","Neurological","Trauma"],mobility:["Ambulatory","Wheelchair","Stretcher","Bed-bound"],transportLevel:["BLS","ALS","CCT","Other"],urgency:["Routine","Urgent","Emergent","Critical"],insurance:["Medicare","Medicaid","Private","Self-pay"],specialNeeds:["Bariatric Stretcher"],facilities:[],agencies:[],pickupLocations:[],healthcareLocations:[]})}},_=async O=>{var R;try{if(console.log("TCC_DEBUG: Loading agencies for hospital:",O,"with radius:",h.notificationRadius),!O){console.warn("TCC_DEBUG: No hospital ID provided for agencies"),f(B=>({...B,agencies:[]}));return}const U=await ja.getAgenciesForHospital(O,h.notificationRadius);console.log("TCC_DEBUG: Agencies response:",U.data),(R=U.data)!=null&&R.success&&Array.isArray(U.data.data)?(console.log("TCC_DEBUG: Setting agencies:",U.data.data.length,"agencies"),f(B=>({...B,agencies:U.data.data}))):(console.warn("TCC_DEBUG: Invalid agencies response structure:",U.data),f(B=>({...B,agencies:[]})))}catch(U){console.error("Error loading agencies:",U),f(B=>({...B,agencies:[]}))}},k=async O=>{var R;try{if(b(!0),console.log("TCC_DEBUG: Loading pickup locations for hospital:",O),!O){console.warn("TCC_DEBUG: No hospital ID provided for pickup locations"),f(B=>({...B,pickupLocations:[]}));return}const U=await Y.get(`/api/tcc/pickup-locations/hospital/${O}`);if(console.log("TCC_DEBUG: Pickup locations response:",U.data),(R=U.data)!=null&&R.success&&Array.isArray(U.data.data)){console.log("TCC_DEBUG: Setting pickup locations:",U.data.data.length,"locations");const B=U.data.data.map(A=>({id:A.id||`pickup-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,hospitalId:A.hospitalId||"",name:A.name||"Unnamed Location",description:A.description||"",contactPhone:A.contactPhone||"",contactEmail:A.contactEmail||"",floor:A.floor||"",room:A.room||"",isActive:A.isActive!==void 0?A.isActive:!0,createdAt:A.createdAt||new Date().toISOString(),updatedAt:A.updatedAt||new Date().toISOString(),hospital:A.hospital||A.hospitals||null,hospitals:A.hospitals||A.hospital||null}));console.log("TCC_DEBUG: Transformed pickup locations:",B),f(A=>({...A,pickupLocations:B}))}else console.warn("TCC_DEBUG: Invalid pickup locations response structure:",U.data),f(B=>({...B,pickupLocations:[]}))}catch(U){console.error("Error loading pickup locations:",U),f(B=>({...B,pickupLocations:[]}))}finally{b(!1)}},T=O=>{const{name:R,value:U,type:B}=O.target;if(R==="fromLocation"&&e.manageMultipleLocations){const A=m.healthcareLocations.find(P=>P.locationName===U);A&&(p(P=>({...P,fromLocation:A.locationName,fromLocationId:A.id})),console.log("MULTI_LOC: Selected healthcare location:",A),k(A.id))}else p(A=>({...A,[R]:B==="checkbox"?O.target.checked:U}));if(R==="fromLocation"&&U&&!e.manageMultipleLocations){const A=m.facilities.find(P=>P.name===U);A?k(A.id):(f(P=>({...P,pickupLocations:[]})),p(P=>({...P,pickupLocationId:""})))}if(R==="toLocation"&&U&&x==="select"){const A=m.facilities.find(P=>P.name===U);A&&_(A.id)}},I=O=>{y(O),p(R=>({...R,toLocation:""})),O==="manual"&&f(R=>({...R,agencies:[]}))},M=()=>{const O="P"+Math.random().toString(36).substr(2,8).toUpperCase();p(R=>({...R,patientId:O}))},z=()=>{r&&r()},G=O=>{O==null||O.preventDefault(),console.log("TCC_DEBUG: handleNext called, current step:",n,"total steps:",S.length),n<S.length&&(s(n+1),console.log("TCC_DEBUG: Advanced to step:",n+1))},Z=()=>{n>1&&s(n-1)},$=async O=>{if(O.preventDefault(),console.log("TCC_DEBUG: handleSubmit called, current step:",n),n<S.length){console.log("TCC_DEBUG: Submission blocked - not on final step");return}o(!0),c(null);try{if(!h.patientId||!h.patientWeight)throw new Error("Please fill in Patient ID and Patient Weight");const R=parseFloat(h.patientWeight);if(isNaN(R)||R<=0)throw new Error("Please enter a valid patient weight");if(!h.fromLocation||!h.pickupLocationId||!h.toLocation||!h.scheduledTime||!h.transportLevel||!h.urgencyLevel)throw new Error("Please fill in all trip details: From Location, Pickup Location, To Location, Scheduled Time, Transport Level, and Urgency Level");if(new Date(h.scheduledTime)<new Date)throw new Error("Scheduled time cannot be in the past");if(!["BLS","ALS","CCT","Other"].includes(h.transportLevel))throw new Error("Invalid transport level");if(!["Routine","Urgent","Emergent","Critical"].includes(h.urgencyLevel))throw new Error("Invalid urgency level");console.log("TCC_DEBUG: Creating trip with data:",h);const U=m.facilities.find(N=>N.name===h.fromLocation);if(!U)throw new Error("Selected facility not found");const B=m.facilities.find(N=>N.name===h.toLocation);if(!B)throw new Error("Destination facility not found");const A={patientId:h.patientId,patientWeight:parseFloat(h.patientWeight),originFacilityId:U.id,destinationFacilityId:B.id,transportLevel:h.transportLevel,urgencyLevel:h.urgencyLevel,priority:h.urgencyLevel==="Critical"||h.urgencyLevel==="Emergent"?"HIGH":h.urgencyLevel==="Urgent"?"MEDIUM":"LOW",specialRequirements:h.specialNeeds||"",readyStart:h.scheduledTime,readyEnd:new Date(new Date(h.scheduledTime).getTime()+60*60*1e3).toISOString(),isolation:!1,bariatric:parseFloat(h.patientWeight)>300,pickupLocationId:h.pickupLocationId,notes:h.notes||"",fromLocationId:e.manageMultipleLocations?h.fromLocationId:void 0,healthcareUserId:e.manageMultipleLocations?e.id:void 0};console.log("TCC_DEBUG: Submitting trip data:",A);const P=await ja.create(A);if(P.data.success)console.log("TCC_DEBUG: Trip created successfully:",P.data.data),u(!0),setTimeout(()=>{t()},3e3);else throw new Error(P.data.error||"Failed to create transport request")}catch(R){console.error("TCC_DEBUG: Error creating trip:",R),c(R.message||"Failed to create transport request")}finally{o(!1)}},E=()=>{switch(n){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ni,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Patient Information"})]}),a.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Enter patient details. No names or ages for HIPAA compliance."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",name:"patientId",value:h.patientId,onChange:T,required:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter patient ID"}),a.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Generate ID"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Weight (kgs)"}),a.jsx("input",{type:"number",name:"patientWeight",value:h.patientWeight,onChange:T,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter weight in kilograms"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Company"}),a.jsxs("select",{name:"insuranceCompany",value:h.insuranceCompany,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select insurance company"}),m.insurance.map(O=>a.jsx("option",{value:O,children:O},O))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Needs"}),a.jsxs("select",{name:"specialNeeds",value:h.specialNeeds,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select special needs"}),m.specialNeeds.map(O=>a.jsx("option",{value:O,children:O},O))]})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(dt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Trip Details"})]}),a.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Specify origin, destination, and transport requirements."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Location *"}),a.jsxs("select",{name:"fromLocation",value:h.fromLocation,onChange:T,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select origin facility"}),e.manageMultipleLocations?a.jsxs(a.Fragment,{children:[console.log("MULTI_LOC: Rendering healthcare locations dropdown with",m.healthcareLocations.length,"locations:",m.healthcareLocations),m.healthcareLocations.map(O=>a.jsxs("option",{value:O.locationName,children:[O.locationName," - ",O.city,", ",O.state]},O.id))]}):a.jsxs(a.Fragment,{children:[console.log("MULTI_LOC: Rendering facilities dropdown with",m.facilities.length,"facilities:",m.facilities),m.facilities.map(O=>a.jsxs("option",{value:O.name,children:[O.name," - ",O.type]},O.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Location *"}),(()=>{try{return a.jsxs("select",{name:"pickupLocationId",value:h.pickupLocationId,onChange:T,required:!0,disabled:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"",children:v?"Loading pickup locations...":"Select pickup location"}),m.pickupLocations&&m.pickupLocations.length>0?m.pickupLocations.map(O=>{try{return console.log("TCC_DEBUG: Rendering pickup location option:",O),!O||!O.id||!O.name?(console.warn("TCC_DEBUG: Invalid pickup location data:",O),null):a.jsxs("option",{value:O.id,children:[O.name," ",O.floor&&`(${O.floor})`]},O.id)}catch(R){return console.error("TCC_DEBUG: Error rendering pickup location option:",R,O),null}}).filter(Boolean):!v&&h.fromLocation&&a.jsx("option",{value:"",disabled:!0,children:"No pickup locations available for this facility"})]})}catch(O){return console.error("TCC_DEBUG: Error rendering pickup location select:",O),a.jsx("div",{className:"w-full px-3 py-2 border border-red-300 rounded-md bg-red-50 text-red-700",children:"Error loading pickup locations. Please refresh the page."})}})(),h.pickupLocationId&&m.pickupLocations&&a.jsx("div",{className:"mt-2 text-sm text-gray-600",children:(()=>{const O=m.pickupLocations.find(R=>R.id===h.pickupLocationId);return O?a.jsxs("div",{children:[O.contactPhone&&a.jsxs("p",{children:[a.jsx("strong",{children:"Contact:"})," ",O.contactPhone]}),O.contactEmail&&a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",O.contactEmail]}),O.room&&a.jsxs("p",{children:[a.jsx("strong",{children:"Room:"})," ",O.room]})]}):null})()})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Location *"}),a.jsxs("div",{className:"flex space-x-4 mb-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"destinationMode",value:"select",checked:x==="select",onChange:O=>I(O.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Select from list"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"destinationMode",value:"manual",checked:x==="manual",onChange:O=>I(O.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Enter manually"})]})]}),x==="select"?a.jsxs("select",{name:"toLocation",value:h.toLocation,onChange:T,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select destination"}),m.facilities.map(O=>a.jsxs("option",{value:O.name,children:[O.name," - ",O.type]},O.id))]}):a.jsx("input",{type:"text",name:"toLocation",value:h.toLocation,onChange:T,required:!0,placeholder:"Enter destination facility name and location",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"}),x==="select"&&m.facilities.length===0&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Loading facilities..."}),e.manageMultipleLocations&&x==="select"&&a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsxs("label",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:O=>{w(O.target.checked),setTimeout(()=>C(),100)},className:"mr-2 rounded border-gray-300 text-green-600 focus:ring-green-500"}),"Show facilities from all states"]}),!j&&a.jsx("span",{className:"text-xs text-gray-500",children:"(Currently showing PA facilities within 100 miles)"}),j&&a.jsx("span",{className:"text-xs text-gray-500",children:"(Currently showing all facilities within 100 miles)"})]}),x==="manual"&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Enter the full facility name and location (e.g., "Johns Hopkins Hospital, Baltimore, MD")'})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Time *"}),a.jsx("input",{type:"datetime-local",name:"scheduledTime",value:h.scheduledTime,onChange:T,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Level *"}),a.jsx("select",{name:"transportLevel",value:h.transportLevel,onChange:T,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:m.transportLevel.map(O=>a.jsx("option",{value:O,children:O},O))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level *"}),a.jsx("select",{name:"urgencyLevel",value:h.urgencyLevel,onChange:T,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:m.urgency.map(O=>a.jsx("option",{value:O,children:O},O))})]})]})]});case 3:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nv,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Clinical Details"})]}),a.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"Provide clinical information for appropriate transport planning."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Diagnosis"}),a.jsxs("select",{name:"diagnosis",value:h.diagnosis,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:[a.jsx("option",{value:"",children:"Select diagnosis"}),m.diagnosis.map(O=>a.jsx("option",{value:O,children:O},O))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobility Level"}),a.jsx("select",{name:"mobilityLevel",value:h.mobilityLevel,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:m.mobility.map(O=>a.jsx("option",{value:O,children:O},O))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"oxygenRequired",checked:h.oxygenRequired,onChange:T,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Oxygen Required"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"monitoringRequired",checked:h.monitoringRequired,onChange:T,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Continuous Monitoring Required"})]})]})]});default:return null}};return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between",children:S.map((O,R)=>{const U=O.icon,B=n===O.id,A=n>O.id;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${B?"border-blue-500 bg-blue-500 text-white":A?"border-green-500 bg-green-500 text-white":"border-gray-300 bg-white text-gray-400"}`,children:a.jsx(U,{className:"h-5 w-5"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:`text-sm font-medium ${B?"text-blue-600":A?"text-green-600":"text-gray-500"}`,children:O.name})}),R<S.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-4 ${A?"bg-green-500":"bg-gray-300"}`})]},O.id)})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Enhanced Transport Request"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Step ",n," of ",S.length]})]}),a.jsxs("div",{className:"p-6",children:[d&&a.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx($e,{className:"h-5 w-5 text-green-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Transport request completed successfully!"}),a.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Patient: ",h.patientId," | From: ",h.fromLocation," | To: ",h.toLocation]}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Redirecting to dashboard in 3 seconds..."})]})]})}),l&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Lt,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:l})})]})}),a.jsxs("form",{onSubmit:$,children:[E(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{type:"button",onClick:z,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"button",onClick:Z,disabled:n===1,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(NL,{className:"h-4 w-4 mr-2"}),"Previous"]})]}),n<S.length?a.jsxs("button",{type:"button",onClick:G,className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:["Next",a.jsx(aC,{className:"h-4 w-4 ml-2"})]}):a.jsx("button",{type:"submit",disabled:i,className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:i?"Creating...":"Create Request"})]})]})]})]})]})},mq=({user:e})=>{var Bi;const[t,r]=g.useState("dropdowns"),[n,s]=g.useState([]),[i,o]=g.useState(""),[l,c]=g.useState([]),[d,u]=g.useState(!1),[m,f]=g.useState(null),[h,p]=g.useState(null),[x,y]=g.useState(""),[v,b]=g.useState(null),[j,w]=g.useState(""),[C,S]=g.useState([]),[L,_]=g.useState(""),[k,T]=g.useState([]),[I,M]=g.useState(!1),[z,G]=g.useState(null),[Z,$]=g.useState(null),[E,O]=g.useState(!1),[R,U]=g.useState(null),[B,A]=g.useState({name:"",description:"",contactPhone:"",contactEmail:"",floor:"",room:""}),[P,N]=g.useState({contactName:"",contactTitle:"",contactEmail:"",contactPhone:"",contactNotes:""}),[D,W]=g.useState(!1),[X,J]=g.useState(null),[F,ee]=g.useState(null),[ne,K]=g.useState("");g.useEffect(()=>{We()},[]),g.useEffect(()=>{i&&ue(i)},[i]),g.useEffect(()=>{Vn()},[]),g.useEffect(()=>{L&&Cs(L)},[L]),g.useEffect(()=>{i&&le(i)},[i]);const We=async()=>{try{u(!0);const V=["transport-level","urgency","diagnosis","mobility","insurance","special-needs"];s(V),o(V[0])}catch(V){console.error("Error loading categories:",V),f("Failed to load categories")}finally{u(!1)}},ue=async V=>{try{u(!0);const ie=await ar.getByCategory(V);ie.data.success&&c(ie.data.data)}catch(ie){console.error("Error loading options:",ie),f("Failed to load options")}finally{u(!1)}},le=async V=>{try{const ie=await ar.getDefault(V);ie.data.success&&ie.data.data?K(ie.data.data.optionId):K("")}catch{K("")}},ge=async V=>{if(V.preventDefault(),!(!x.trim()||!i))try{u(!0),(await ar.create({category:i,value:x.trim()})).data.success&&(y(""),p("Option added successfully"),ue(i),setTimeout(()=>p(null),3e3))}catch(ie){console.error("Error adding option:",ie),f("Failed to add option")}finally{u(!1)}},Se=V=>{b(V),w(V.value)},Kn=async V=>{if(V.preventDefault(),!(!v||!j.trim()))try{u(!0),(await ar.update(v.id,{value:j.trim()})).data.success&&(b(null),w(""),p("Option updated successfully"),ue(i),setTimeout(()=>p(null),3e3))}catch(ie){console.error("Error updating option:",ie),f("Failed to update option")}finally{u(!1)}},Em=async V=>{if(window.confirm("Are you sure you want to delete this option?"))try{u(!0),(await ar.delete(V)).data.success&&(p("Option deleted successfully"),ue(i),setTimeout(()=>p(null),3e3))}catch(ie){console.error("Error deleting option:",ie),f("Failed to delete option")}finally{u(!1)}},Am=async()=>{if(!(!i||!ne))try{u(!0),(await ar.setDefault(i,ne)).data.success&&(p("Default updated"),setTimeout(()=>p(null),3e3))}catch{f("Failed to set default")}finally{u(!1)}},Vn=async()=>{var V;try{if(M(!0),e.manageMultipleLocations){console.log("MULTI_LOC: Loading healthcare locations for pickup location management");const ie=await Y.get("/api/healthcare/locations/active");if((V=ie.data)!=null&&V.success&&Array.isArray(ie.data.data)){const Ut=ie.data.data;console.log("MULTI_LOC: Loaded",Ut.length,"healthcare locations");const it=Ut.map(Pt=>({id:Pt.id,name:Pt.locationName,address:Pt.address,city:Pt.city,state:Pt.state,zipCode:Pt.zipCode,phone:Pt.phone||"",email:"",type:Pt.facilityType,capabilities:[],region:Pt.state,isActive:Pt.isActive}));S(it);const fn=Ut.find(Pt=>Pt.isPrimary);fn?_(fn.id):it.length>0&&_(it[0].id)}}else{const ie=await Y.get("/api/public/hospitals");ie.data.success&&(S(ie.data.data),ie.data.data.length>0&&_(ie.data.data[0].id))}}catch(ie){console.error("Error loading hospitals:",ie),G("Failed to load hospitals")}finally{M(!1)}},Cs=async V=>{try{M(!0);const ie=await Y.get(`/api/tcc/pickup-locations/hospital/${V}`);ie.data.success&&T(ie.data.data)}catch(ie){console.error("Error loading pickup locations:",ie),G("Failed to load pickup locations")}finally{M(!1)}},Ml=()=>{U(null),A({name:"",description:"",contactPhone:"",contactEmail:"",floor:"",room:""}),O(!0)},_l=V=>{U(V),A({name:V.name,description:V.description||"",contactPhone:V.contactPhone||"",contactEmail:V.contactEmail||"",floor:V.floor||"",room:V.room||""}),O(!0)},Il=async V=>{var ie,Ut;if(V.preventDefault(),!(!B.name.trim()||!L))try{M(!0);const it={hospitalId:L,name:B.name.trim(),description:B.description.trim()||null,contactPhone:B.contactPhone.trim()||null,contactEmail:B.contactEmail.trim()||null,floor:B.floor.trim()||null,room:B.room.trim()||null};let fn;R?fn=await Y.put(`/api/tcc/pickup-locations/${R.id}`,it):fn=await Y.post("/api/tcc/pickup-locations",it),fn.data.success&&(O(!1),$(R?"Pickup location updated successfully":"Pickup location created successfully"),Cs(L),setTimeout(()=>$(null),3e3))}catch(it){console.error("Error saving pickup location:",it),G(((Ut=(ie=it.response)==null?void 0:ie.data)==null?void 0:Ut.error)||"Failed to save pickup location")}finally{M(!1)}},Rl=async V=>{var ie,Ut;if(window.confirm("Are you sure you want to delete this pickup location?"))try{M(!0),(await Y.delete(`/api/tcc/pickup-locations/${V}`)).data.success&&($("Pickup location deleted successfully"),Cs(L),setTimeout(()=>$(null),3e3))}catch(it){console.error("Error deleting pickup location:",it),G(((Ut=(ie=it.response)==null?void 0:ie.data)==null?void 0:Ut.error)||"Failed to delete pickup location")}finally{M(!1)}},Yn=V=>{const{name:ie,value:Ut}=V.target;N(it=>({...it,[ie]:Ut}))},$l=async V=>{if(V.preventDefault(),!P.contactName||!P.contactEmail){J("Contact name and email are required");return}try{W(!0),J(null),await new Promise(ie=>setTimeout(ie,1e3)),ee("Contact information saved successfully"),setTimeout(()=>ee(null),3e3)}catch(ie){console.error("Error saving contact information:",ie),J("Failed to save contact information")}finally{W(!1)}},Xn=V=>({insurance:"Insurance Companies",diagnosis:"Primary Diagnosis",mobility:"Mobility Levels","transport-level":"Transport Levels",urgency:"Urgency Levels","special-needs":"Special Needs"})[V]||V;return a.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hospital Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage dropdown options and pickup locations for transport request forms"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>r("dropdowns"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="dropdowns"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dropdown Options"}),a.jsx("button",{onClick:()=>r("pickup-locations"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="pickup-locations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pickup Locations"}),a.jsx("button",{onClick:()=>r("main-contact"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="main-contact"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Main Contact"})]})})}),h&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:h})}),m&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("p",{className:"text-red-800",children:m}),a.jsx("button",{onClick:()=>f(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),Z&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:Z})}),z&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("p",{className:"text-red-800",children:z}),a.jsx("button",{onClick:()=>G(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),t==="dropdowns"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Category"}),a.jsxs("select",{id:"category",value:i,onChange:V=>o(V.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a category..."}),n.map(V=>a.jsx("option",{value:V,children:Xn(V)},V))]})]}),i&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Add New ",Xn(i)]}),a.jsxs("form",{onSubmit:ge,className:"flex gap-2",children:[a.jsx("input",{type:"text",value:x,onChange:V=>y(V.target.value),placeholder:`Enter new ${Xn(i).toLowerCase()}...`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("button",{type:"submit",disabled:d||!x.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Adding...":"Add"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Default ",Xn(i)]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs("select",{value:ne,onChange:V=>K(V.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"No default"}),l.map(V=>a.jsx("option",{value:V.id,children:V.value},V.id))]}),a.jsx("button",{type:"button",onClick:Am,disabled:d,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50",children:d?"Saving...":"Save Default"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Current ",Xn(i)]}),d?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):l.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No options found for this category."}),a.jsx("p",{className:"text-sm",children:"Add some options using the form above."})]}):a.jsx("div",{className:"space-y-2",children:l.map(V=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-md",children:(v==null?void 0:v.id)===V.id?a.jsxs("form",{onSubmit:Kn,className:"flex items-center gap-2 flex-1",children:[a.jsx("input",{type:"text",value:j,onChange:ie=>w(ie.target.value),className:"flex-1 px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("button",{type:"submit",disabled:d,className:"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50",children:"Save"}),a.jsx("button",{type:"button",onClick:()=>{b(null),w("")},className:"px-3 py-1 bg-gray-500 text-white text-sm rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-900",children:V.value}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Se(V),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit"}),a.jsx("button",{onClick:()=>Em(V.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Delete"})]})]})},V.id))})]}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Select a category to manage its dropdown options"}),a.jsx("li",{children:" Add new options using the form above"}),a.jsx("li",{children:' Edit existing options by clicking the "Edit" button'}),a.jsx("li",{children:' Delete options by clicking the "Delete" button'}),a.jsx("li",{children:" Changes will be reflected in the transport request forms immediately"})]})]})]})]}),t==="pickup-locations"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"hospital",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hospital"}),a.jsxs("select",{id:"hospital",value:L,onChange:V=>_(V.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a hospital..."}),C.map(V=>a.jsx("option",{value:V.id,children:V.name},V.id))]})]}),L&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Pickup Locations for ",(Bi=C.find(V=>V.id===L))==null?void 0:Bi.name]}),a.jsx("button",{onClick:Ml,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add Pickup Location"})]}),I?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):k.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No pickup locations found for this hospital."}),a.jsx("p",{className:"text-sm",children:"Add some pickup locations using the button above."})]}):a.jsx("div",{className:"space-y-2",children:k.map(V=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-md",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:V.name}),V.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:V.description}),a.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-500",children:[V.floor&&a.jsxs("span",{children:["Floor: ",V.floor]}),V.room&&a.jsxs("span",{children:["Room: ",V.room]}),V.contactPhone&&a.jsxs("span",{children:["Phone: ",V.contactPhone]}),V.contactEmail&&a.jsxs("span",{children:["Email: ",V.contactEmail]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>_l(V),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit"}),a.jsx("button",{onClick:()=>Rl(V.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Delete"})]})]},V.id))})]}),E&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:R?"Edit Pickup Location":"Add New Pickup Location"}),a.jsxs("form",{onSubmit:Il,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Name *"}),a.jsx("input",{type:"text",value:B.name,onChange:V=>A({...B,name:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Emergency Department",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:B.description,onChange:V=>A({...B,description:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional description",rows:2})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor"}),a.jsx("input",{type:"text",value:B.floor,onChange:V=>A({...B,floor:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1st Floor"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room"}),a.jsx("input",{type:"text",value:B.room,onChange:V=>A({...B,room:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Room 101"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),a.jsx("input",{type:"tel",value:B.contactPhone,onChange:V=>A({...B,contactPhone:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),a.jsx("input",{type:"email",value:B.contactEmail,onChange:V=>A({...B,contactEmail:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., ed@hospital.com"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:I||!B.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:I?"Saving...":R?"Update":"Create"})]})]})]})})}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Select a hospital to manage its pickup locations"}),a.jsx("li",{children:' Add new pickup locations using the "Add Pickup Location" button'}),a.jsx("li",{children:' Edit existing locations by clicking the "Edit" button'}),a.jsx("li",{children:' Delete locations by clicking the "Delete" button'}),a.jsx("li",{children:" Pickup locations will be available in the trip creation form"})]})]})]}),t==="main-contact"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Main Contact Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Set the main contact person for this facility's administration of the TCC application."})]}),a.jsxs("div",{className:"px-6 py-6",children:[F&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:F})}),X&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsx("p",{className:"text-red-800",children:X})}),a.jsxs("form",{onSubmit:$l,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",value:P.contactName,onChange:Yn,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter contact name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title/Position"}),a.jsx("input",{type:"text",id:"contactTitle",name:"contactTitle",value:P.contactTitle,onChange:Yn,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., IT Director, Administrator"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",id:"contactEmail",name:"contactEmail",value:P.contactEmail,onChange:Yn,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"contact@hospital.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactPhone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",id:"contactPhone",name:"contactPhone",value:P.contactPhone,onChange:Yn,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(555) 123-4567"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),a.jsx("textarea",{id:"contactNotes",name:"contactNotes",value:P.contactNotes,onChange:Yn,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Any additional information about this contact person..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{N({contactName:"",contactTitle:"",contactEmail:"",contactPhone:"",contactNotes:""}),J(null),ee(null)},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Clear"}),a.jsx("button",{type:"submit",disabled:D,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:D?"Saving...":"Save Contact Information"})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" This contact person will be the main administrator for this facility's TCC application"}),a.jsx("li",{children:" They will receive notifications about system updates and important changes"}),a.jsx("li",{children:" This information may be used for support and troubleshooting purposes"}),a.jsx("li",{children:" Ensure the email address is monitored regularly for important communications"})]})]})]})]})},fq=({user:e})=>{const[t,r]=g.useState([]),[n,s]=g.useState(!1),[i,o]=g.useState(null),[l,c]=g.useState(null);console.log("MULTI_LOC: HealthcareLocationSettings rendered with user:",e),console.log("MULTI_LOC: User manageMultipleLocations:",e.manageMultipleLocations);const[d,u]=g.useState(!1),[m,f]=g.useState(null),[h,p]=g.useState({locationName:"",address:"",city:"",state:"",zipCode:"",phone:"",facilityType:"Hospital"}),x=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],y=["Hospital","Clinic","Doctor's Office","Urgent Care","Other"];g.useEffect(()=>{v()},[]);const v=async()=>{var k,T,I;try{s(!0);const M=localStorage.getItem("token");console.log("MULTI_LOC: Loading locations for user");const z=await Y.get("/api/healthcare/locations",{headers:{Authorization:`Bearer ${M}`}});(k=z.data)!=null&&k.success&&Array.isArray(z.data.data)?(r(z.data.data),console.log("MULTI_LOC: Loaded",z.data.data.length,"locations")):(console.error("MULTI_LOC: Invalid response format:",z.data),r([]))}catch(M){console.error("MULTI_LOC: Error loading locations:",M),o(((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"Failed to load locations")}finally{s(!1)}},b=()=>{f(null),p({locationName:"",address:"",city:"",state:"",zipCode:"",phone:"",facilityType:"Hospital"}),u(!0)},j=k=>{f(k),p({locationName:k.locationName,address:k.address,city:k.city,state:k.state,zipCode:k.zipCode,phone:k.phone||"",facilityType:k.facilityType}),u(!0)},w=async(k,T,I,M)=>{try{const z=`${k}, ${T}, ${I} ${M}`;console.log("MULTI_LOC: Geocoding address:",z);const Z=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(z)}&limit=1`)).json();if(Z&&Z.length>0){const{lat:$,lon:E}=Z[0];return console.log("MULTI_LOC: Geocoded coordinates:",{latitude:parseFloat($),longitude:parseFloat(E)}),{latitude:parseFloat($),longitude:parseFloat(E)}}else return console.warn("MULTI_LOC: No coordinates found for address:",z),null}catch(z){return console.error("MULTI_LOC: Geocoding error:",z),null}},C=async k=>{var T,I;if(k.preventDefault(),!h.locationName.trim()||!h.address.trim()||!h.city.trim()||!h.state||!h.zipCode.trim()){o("Please fill in all required fields");return}try{s(!0),o(null);const M=localStorage.getItem("token"),z=await w(h.address.trim(),h.city.trim(),h.state,h.zipCode.trim()),G={locationName:h.locationName.trim(),address:h.address.trim(),city:h.city.trim(),state:h.state,zipCode:h.zipCode.trim(),phone:h.phone.trim()||null,facilityType:h.facilityType,isPrimary:t.length===0,latitude:(z==null?void 0:z.latitude)||null,longitude:(z==null?void 0:z.longitude)||null};console.log("MULTI_LOC: Saving location:",G);let Z;m?Z=await Y.put(`/api/healthcare/locations/${m.id}`,G,{headers:{Authorization:`Bearer ${M}`}}):Z=await Y.post("/api/healthcare/locations",G,{headers:{Authorization:`Bearer ${M}`}}),Z.data&&(c(m?"Location updated successfully":"Location added successfully"),u(!1),v(),setTimeout(()=>c(null),3e3))}catch(M){console.error("MULTI_LOC: Error saving location:",M),o(((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"Failed to save location")}finally{s(!1)}},S=async k=>{var T,I;if(window.confirm("Are you sure you want to delete this location? This action cannot be undone."))try{s(!0),o(null);const M=localStorage.getItem("token");console.log("MULTI_LOC: Deleting location:",k),await Y.delete(`/api/healthcare/locations/${k}`,{headers:{Authorization:`Bearer ${M}`}}),c("Location deleted successfully"),v(),setTimeout(()=>c(null),3e3)}catch(M){console.error("MULTI_LOC: Error deleting location:",M),o(((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"Failed to delete location")}finally{s(!1)}},L=async k=>{var T,I;try{s(!0),o(null);const M=localStorage.getItem("token");console.log("MULTI_LOC: Setting primary location:",k),await Y.put(`/api/healthcare/locations/${k}/set-primary`,{},{headers:{Authorization:`Bearer ${M}`}}),c("Primary location updated"),v(),setTimeout(()=>c(null),3e3)}catch(M){console.error("MULTI_LOC: Error setting primary location:",M),o(((I=(T=M.response)==null?void 0:T.data)==null?void 0:I.error)||"Failed to set primary location")}finally{s(!1)}},_=k=>{const{name:T,value:I}=k.target;p(M=>({...M,[T]:I}))};return e.manageMultipleLocations?a.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Manage Locations"}),a.jsx("p",{className:"text-gray-600",children:"Manage the hospitals, clinics, and facilities under your organization"})]}),l&&a.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md flex items-center",children:[a.jsx(wL,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("p",{className:"text-green-800",children:l})]}),i&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("p",{className:"text-red-800",children:i}),a.jsx("button",{onClick:()=>o(null),className:"text-red-600 hover:text-red-800",children:a.jsx(Yt,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:[a.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Add Location"]})}),n&&t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading locations..."})]}):t.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[a.jsx(dt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No locations yet"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding your first location."})]}):a.jsx("div",{className:"space-y-3",children:(Array.isArray(t)?t:[]).map(k=>a.jsxs("div",{className:"flex items-start justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:k.locationName}),k.isPrimary&&a.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx(wv,{className:"h-3 w-3 mr-1"}),"Primary"]}),!k.isActive&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:"Inactive"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{className:"flex items-start",children:[a.jsx(dt,{className:"h-4 w-4 mr-1 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[k.address,", ",k.city,", ",k.state," ",k.zipCode]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-500",children:[a.jsxs("span",{children:["Type: ",k.facilityType]}),k.phone&&a.jsxs("span",{children:["Phone: ",k.phone]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!k.isPrimary&&a.jsx("button",{onClick:()=>L(k.id),disabled:n,className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-md",title:"Set as primary",children:a.jsx(wv,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>j(k),disabled:n,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md",title:"Edit location",children:a.jsx(Ci,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>S(k.id),disabled:n,className:"p-2 text-red-600 hover:bg-red-50 rounded-md",title:"Delete location",children:a.jsx(Si,{className:"h-4 w-4"})})]})]},k.id))}),d&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m?"Edit Location":"Add New Location"}),a.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-500",children:a.jsx(Yt,{className:"h-5 w-5"})})]})}),a.jsxs("form",{onSubmit:C,className:"px-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"locationName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Name *"}),a.jsx("input",{type:"text",id:"locationName",name:"locationName",value:h.locationName,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., Penn Highlands Tyrone",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"facilityType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Facility Type *"}),a.jsx("select",{id:"facilityType",name:"facilityType",value:h.facilityType,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:y.map(k=>a.jsx("option",{value:k,children:k},k))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),a.jsx("input",{type:"text",id:"address",name:"address",value:h.address,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 187 Hospital Drive",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",value:h.city,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"City",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),a.jsxs("select",{id:"state",name:"state",value:h.state,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[a.jsx("option",{value:"",children:"State"}),x.map(k=>a.jsx("option",{value:k,children:k},k))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:h.zipCode,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"ZIP",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"(555) 123-4567"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":m?"Update Location":"Add Location"})]})]})]})}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"How to use"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Add all hospitals, clinics, and facilities your organization manages"}),a.jsx("li",{children:" The first location you add will automatically be set as primary"}),a.jsx("li",{children:" When creating transport requests, you'll select which location needs transport"}),a.jsx("li",{children:" You can set a different location as primary at any time by clicking the star icon"}),a.jsx("li",{children:" Edit or delete locations as needed (cannot delete if trips exist)"})]})]})]}):a.jsx("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Rt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Multi-location management not enabled"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your account is not configured to manage multiple locations."}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Contact support if you need to manage multiple healthcare facilities."})]})})},hq=({user:e})=>{const[t,r]=g.useState("system");return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[a.jsxs("button",{onClick:()=>r("system"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${t==="system"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Wo,{className:"h-4 w-4"}),"System Settings"]}),a.jsxs("button",{onClick:()=>r("locations"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${t==="locations"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(dt,{className:"h-4 w-4"}),"Manage Locations",!e.manageMultipleLocations&&a.jsx("span",{className:"ml-1 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Upgrade"})]})]})})}),t==="system"&&a.jsx(mq,{user:e}),t==="locations"&&a.jsx(fq,{user:e})]})},pq=({user:e,onLogout:t})=>{var $;const[r,n]=g.useState("create"),[s,i]=g.useState([]),[o,l]=g.useState("ALL"),[c,d]=g.useState([]),[u,m]=g.useState([]),[f,h]=g.useState(null),[p,x]=g.useState({}),[y,v]=g.useState(!1),[b,j]=g.useState({transportLevel:[],urgency:[],diagnosis:[],mobility:[],insurance:[],specialNeeds:[]}),w=(E,O)=>{if(!O)return null;const R=new Date(E),B=new Date(O).getTime()-R.getTime();if(B<0)return"0 min";const A=Math.floor(B/(1e3*60)),P=Math.floor(A/60),N=A%60;return P>0?`${P}h ${N}m`:`${A} min`};g.useEffect(()=>{C(),S();const E=setInterval(()=>{C()},3e4);return()=>clearInterval(E)},[]),g.useEffect(()=>{if(o==="ALL")m(c);else{const E=c.filter(O=>O.status===o);m(E)}},[c,o]);const C=async()=>{try{const E=await fetch("/api/trips",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(E.ok){const O=await E.json();if(O.success&&O.data){const R=O.data.map(A=>{var P,N,D,W,X,J;return{id:A.id,patientId:A.patientId,origin:((P=A.originFacility)==null?void 0:P.name)||((N=A.origin)==null?void 0:N.name)||A.originName||"Unknown Origin",destination:((D=A.destinationFacility)==null?void 0:D.name)||((W=A.destination)==null?void 0:W.name)||A.destinationName||"Unknown Destination",pickupLocation:A.pickupLocation?{name:A.pickupLocation.name,floor:A.pickupLocation.floor,room:A.pickupLocation.room}:null,transportLevel:A.transportLevel||"BLS",status:A.status,requestTime:new Date(A.createdAt).toLocaleString(),requestTimeISO:A.createdAt,pickupTime:A.pickupTimestamp?new Date(A.pickupTimestamp).toLocaleString():null,pickupTimeISO:A.pickupTimestamp,assignedUnitId:A.assignedUnitId||null,assignedUnitNumber:((X=A.assignedUnit)==null?void 0:X.unitNumber)||null,assignedUnitType:((J=A.assignedUnit)==null?void 0:J.type)||null,arrivalTime:A.arrivalTimestamp?new Date(A.arrivalTimestamp).toLocaleString():null,arrivalTimestampISO:A.arrivalTimestamp||null,departureTime:A.departureTimestamp?new Date(A.departureTimestamp).toLocaleString():null,departureTimestampISO:A.departureTimestamp||null,assignedAgencyId:A.assignedAgencyId||null,priority:A.priority,urgencyLevel:A.urgencyLevel,completionTime:A.completionTimestamp?new Date(A.completionTimestamp).toLocaleString():null,completionTimestampISO:A.completionTimestamp||null}});try{console.log("TCC_DEBUG: Healthcare transformed active trips (sample)",R.slice(0,3)),console.log("TCC_DEBUG: Healthcare raw trips (sample)",(O.data||[]).slice(0,3))}catch{}let U=R.filter(A=>A.status!=="COMPLETED"&&A.status!=="CANCELLED");try{const A=Array.from(new Set(U.filter(P=>!P.assignedUnitNumber&&P.assignedUnitId).map(P=>P.assignedUnitId).filter(Boolean)));if(console.log("TCC_DEBUG: Healthcare unit hydration - missingUnitIds",A),console.log("TCC_DEBUG: Healthcare unit hydration - assigned fields sample",U.slice(0,3).map(P=>({id:P.id,assignedUnitId:P.assignedUnitId,assignedUnitNumber:P.assignedUnitNumber,assignedUnitType:P.assignedUnitType}))),A.length>0){const P=await Promise.all(A.map(D=>Ig.getById(D).then(W=>{var X;return{id:D,unit:((X=W.data)==null?void 0:X.data)||null}}).catch(()=>({id:D,unit:null}))));console.log("TCC_DEBUG: Healthcare unit hydration - fetched units",P);const N={};P.forEach(({id:D,unit:W})=>{W&&(N[D]=W)}),U=U.map(D=>{if(!D.assignedUnitNumber&&D.assignedUnitId&&N[D.assignedUnitId]){const W=N[D.assignedUnitId];return{...D,assignedUnitNumber:W.unitNumber||null,assignedUnitType:W.type||null}}return D}),console.log("TCC_DEBUG: Healthcare unit hydration - after merge sample",U.slice(0,3).map(D=>({id:D.id,assignedUnitId:D.assignedUnitId,assignedUnitNumber:D.assignedUnitNumber,assignedUnitType:D.assignedUnitType})))}}catch(A){console.log("TCC_DEBUG: unit hydration skipped due to error",A)}d(U),m(U);const B=R.filter(A=>A.status==="COMPLETED"||A.status==="CANCELLED").map(A=>({...A,waitTime:w(A.requestTimeISO,A.pickupTimeISO)}));i(B)}}}catch(E){console.error("Error loading trips:",E)}},S=async()=>{try{console.log("TCC_DEBUG: Loading edit options from hospital settings...");const[E,O,R,U,B,A]=await Promise.all([fetch("/api/dropdown-options/transport-level",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(J=>J.json()).catch(()=>({success:!1,data:[]})),fetch("/api/dropdown-options/urgency",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(J=>J.json()).catch(()=>({success:!1,data:[]})),fetch("/api/dropdown-options/diagnosis",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(J=>J.json()).catch(()=>({success:!1,data:[]})),fetch("/api/dropdown-options/mobility",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(J=>J.json()).catch(()=>({success:!1,data:[]})),fetch("/api/dropdown-options/insurance",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(J=>J.json()).catch(()=>({success:!1,data:[]})),fetch("/api/dropdown-options/special-needs",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(J=>J.json()).catch(()=>({success:!1,data:[]}))]),P=(J,F)=>J!=null&&J.success&&Array.isArray(J.data)?J.data.map(ee=>ee.value):F,N=["Routine","Urgent","Emergent"],D=P(O,[]),W=[...N,...D.filter(J=>!N.includes(J))],X={transportLevel:P(E,["BLS","ALS","CCT","Other"]),urgency:W,diagnosis:P(R,["Cardiac","Respiratory","Neurological","Trauma"]),mobility:P(U,["Ambulatory","Wheelchair","Stretcher","Bed-bound"]),insurance:P(B,["Medicare","Medicaid","Private","Self-pay"]),specialNeeds:P(A,["Bariatric Stretcher"])};console.log("TCC_DEBUG: Setting edit options:",X),j(X)}catch(E){console.error("Error loading edit options:",E),j({transportLevel:["BLS","ALS","CCT","Other"],urgency:["Routine","Urgent","Emergent"],diagnosis:["Cardiac","Respiratory","Neurological","Trauma"],mobility:["Ambulatory","Wheelchair","Stretcher","Bed-bound"],insurance:["Medicare","Medicaid","Private","Self-pay"],specialNeeds:["Bariatric Stretcher"]})}},L=async(E,O)=>{var R,U;console.log("TCC_DEBUG: Healthcare markArrival click",{tripId:E,currentStatus:O}),v(!0);try{const B=await ja.updateStatus(E,{status:O,arrivalTimestamp:new Date().toISOString()});console.log("TCC_DEBUG: markArrival response",B.status),await C()}catch(B){console.error("TCC_DEBUG: markArrival error",B),alert(((U=(R=B==null?void 0:B.response)==null?void 0:R.data)==null?void 0:U.error)||(B==null?void 0:B.message)||"Failed to mark arrival")}finally{v(!1)}},_=async(E,O)=>{var R,U;console.log("TCC_DEBUG: Healthcare markDeparture click",{tripId:E,currentStatus:O}),v(!0);try{const B=await ja.updateStatus(E,{status:O,departureTimestamp:new Date().toISOString()});console.log("TCC_DEBUG: markDeparture response",B.status),await C()}catch(B){console.error("TCC_DEBUG: markDeparture error",B),alert(((U=(R=B==null?void 0:B.response)==null?void 0:R.data)==null?void 0:U.error)||(B==null?void 0:B.message)||"Failed to mark departure")}finally{v(!1)}},k=E=>{h(E),x({status:E.status,transportLevel:E.transportLevel,urgencyLevel:E.urgencyLevel||"Routine",diagnosis:E.diagnosis||"",mobilityLevel:E.mobilityLevel||"",insuranceCompany:E.insuranceCompany||"",specialNeeds:E.specialNeeds||"",oxygenRequired:E.oxygenRequired||!1,monitoringRequired:E.monitoringRequired||!1})},T=async()=>{if(f){v(!0);try{const E=await fetch(`/api/trips/${f.id}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:p.status,urgencyLevel:p.urgencyLevel,transportLevel:p.transportLevel,diagnosis:p.diagnosis,mobilityLevel:p.mobilityLevel,insuranceCompany:p.insuranceCompany,specialNeeds:p.specialNeeds,oxygenRequired:p.oxygenRequired,monitoringRequired:p.monitoringRequired,...p.status==="COMPLETED"&&{completionTimestamp:new Date().toISOString()}})});if(!E.ok){const O=await E.json();throw new Error(O.error||"Failed to update trip")}await C(),h(null),x({})}catch(E){console.error("Error updating trip:",E),alert(E.message||"Failed to update trip")}finally{v(!1)}}},I=async E=>{if(confirm("Are you sure you want to mark this trip as completed?")){v(!0);try{const O=await fetch(`/api/trips/${E}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:"COMPLETED",completionTimestamp:new Date().toISOString()})});if(!O.ok){const R=await O.json();throw new Error(R.error||"Failed to complete trip")}await C()}catch(O){console.error("Error completing trip:",O),alert(O.message||"Failed to complete trip")}finally{v(!1)}}},M=async E=>{if(confirm("Cancel this transport request? This cannot be undone."))try{const R=await fetch(`/api/trips/${E}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:"CANCELLED"})});if(!R.ok){const U=await R.json().catch(()=>({}));throw new Error(U.error||"Failed to cancel trip")}await C()}catch(R){console.error("Error cancelling trip:",R),alert(R.message||"Failed to cancel trip")}},z=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t()},G=()=>{if(s.length===0){alert("No completed trips to export");return}const E=["Patient ID","Origin Facility","Destination Facility","Transport Level","Urgency Level","Request Time","Completion Time","Status"],O=s.map(P=>[P.patientId,P.origin,P.destination,P.transportLevel,P.urgencyLevel,P.requestTime,P.completionTime||"N/A",P.status]),R=[E,...O].map(P=>P.map(N=>`"${N}"`).join(",")).join(`
`),U=new Blob([R],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),A=URL.createObjectURL(U);B.setAttribute("href",A),B.setAttribute("download",`completed-trips-${new Date().toISOString().split("T")[0]}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)},Z=E=>{switch(E){case"PENDING":return"text-yellow-800 bg-yellow-200 border border-yellow-300";case"ACCEPTED":return"text-green-800 bg-green-200 border border-green-300 font-bold";case"DECLINED":return"text-red-800 bg-red-200 border border-red-300 font-bold";case"CANCELLED":return"text-red-800 bg-red-200 border border-red-300 font-bold";case"IN_PROGRESS":return"text-blue-800 bg-blue-200 border border-blue-300 font-bold";case"COMPLETED":return"text-gray-800 bg-gray-200 border border-gray-300 font-bold";default:return"text-gray-600 bg-gray-100"}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx(Rt,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e.facilityName||"Healthcare Facility"}),a.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[(($=e.facilityType)==null?void 0:$.toLowerCase())||"Healthcare","  Healthcare Portal"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Rg,{user:e}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ni,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:e.name})]}),a.jsxs("button",{onClick:z,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[a.jsx(Og,{className:"h-4 w-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"trips",name:"Transport Requests",icon:Sr},{id:"in-progress",name:"In-Progress",icon:Lt},{id:"completed",name:"Completed Trips",icon:$e},{id:"create",name:"Create Request",icon:Ln},{id:"hospital-settings",name:"Hospital Settings",icon:Rt}].map(E=>{const O=E.icon;return a.jsxs("button",{onClick:()=>n(E.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${r===E.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(O,{className:"h-4 w-4"}),a.jsx("span",{children:E.name})]},E.id)})})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="trips"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(Sr,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Requests"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.filter(E=>E.status==="PENDING").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx($e,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Today"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-red-500",children:a.jsx(jL,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Emergent Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.filter(E=>(E.status==="PENDING"||E.status==="ACCEPTED"||E.status==="IN_PROGRESS")&&E.urgencyLevel==="Emergent").length})]})})]})})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transport Requests"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{htmlFor:"status-filter",className:"text-sm font-medium text-gray-700",children:"Filter by status:"}),a.jsxs("select",{id:"status-filter",value:o,onChange:E=>l(E.target.value),className:"block w-40 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[a.jsx("option",{value:"ALL",children:"All Status"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"ACCEPTED",children:"Accepted"}),a.jsx("option",{value:"DECLINED",children:"Declined"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]})}),a.jsx("div",{className:"p-6",children:u.length>0?a.jsx("div",{className:"space-y-4",children:u.map(E=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Patient ",E.patientId," - ",E.transportLevel," - Request Time: ",E.requestTime]}),a.jsxs("p",{className:"text-base text-gray-600",children:[E.origin,"  ",E.destination]}),E.pickupLocation&&a.jsxs("p",{className:"text-xs text-blue-600",children:["Pickup: ",E.pickupLocation.name,E.pickupLocation.floor&&` (Floor ${E.pickupLocation.floor})`,E.pickupLocation.room&&` - Room ${E.pickupLocation.room}`,E.pickupTime&&`  ${E.pickupTime}`]})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(E.urgencyLevel||"Routine")==="Emergent"?"bg-red-100 text-red-800":(E.urgencyLevel||"Routine")==="Urgent"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:E.urgencyLevel||"Routine"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(E.status)}`,children:E.status}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{title:"Edit",onClick:()=>k(E),className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-blue-100 text-blue-800 hover:bg-blue-200",disabled:y,children:a.jsx(Ci,{className:"h-4 w-4"})}),E.status!=="COMPLETED"&&a.jsx("button",{title:"Complete",onClick:()=>I(E.id),className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-green-100 text-green-800 hover:bg-green-200",disabled:y,children:a.jsx($e,{className:"h-4 w-4"})}),a.jsx("button",{title:"Delete",onClick:()=>M(E.id),className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-red-100 text-red-800 hover:bg-red-200",disabled:y,children:a.jsx(Si,{className:"h-4 w-4"})})]})]})]},E.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Sr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:o==="ALL"?"No transport requests":`No ${o.toLowerCase()} requests`}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o==="ALL"?"Create your first transport request to get started.":"Try selecting a different status filter or create a new request."})]})})]})]}),r==="create"&&a.jsx("div",{children:a.jsx(dq,{user:e,onTripCreated:()=>{C(),n("trips")},onCancel:()=>{n("trips")}})}),r==="in-progress"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"In-Progress"})}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Accepted and Active Trips"})}),a.jsx("div",{className:"p-6",children:c.filter(E=>E.status==="ACCEPTED"||E.status==="IN_PROGRESS").length>0?a.jsx("div",{className:"space-y-4",children:c.filter(E=>E.status==="ACCEPTED"||E.status==="IN_PROGRESS").map(E=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Patient ",E.patientId]}),a.jsxs("p",{className:"text-base text-gray-600",children:[E.origin,"  ",E.destination]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Assigned Unit"}),a.jsx("div",{className:"text-gray-600",children:E.assignedUnitNumber?`${E.assignedUnitNumber}${E.assignedUnitType?` (${E.assignedUnitType})`:""}`:E.assignedUnitId?`#${E.assignedUnitId}`:E.status==="ACCEPTED"?"Awaiting unit assignment":""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Pickup Time"}),a.jsx("div",{className:"text-gray-600",children:E.pickupTime||(E.arrivalTime,"")})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Arrival Time"}),a.jsx("div",{className:"text-gray-600",children:E.arrivalTime||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Departure Time"}),a.jsx("div",{className:"text-gray-600",children:E.departureTime||""})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[!E.arrivalTimestampISO&&a.jsx("button",{onClick:()=>L(E.id,E.status),disabled:y,className:"px-3 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 disabled:opacity-50",children:"Mark Arrival"}),E.arrivalTimestampISO&&!E.departureTimestampISO&&a.jsx("button",{onClick:()=>_(E.id,E.status),disabled:y,className:"px-3 py-2 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-700 disabled:opacity-50",children:"Mark Departure"})]})]})},E.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Sr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No in-progress trips"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Trips will appear here after EMS accepts and starts them."})]})})]})]}),r==="completed"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Completed Trips"}),a.jsx("button",{onClick:G,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm font-medium",children:"Export CSV"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Completed Transport Requests (",s.length,")"]})}),a.jsx("div",{className:"p-6",children:s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(E=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Patient ",E.patientId]}),a.jsxs("p",{className:"text-base text-gray-600",children:[E.origin,"  ",E.destination]})]})}),a.jsxs("div",{className:"mt-2 grid grid-cols-6 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Transport Level:"}),a.jsx("div",{className:"text-gray-500",children:E.transportLevel})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Urgency:"}),a.jsx("div",{className:"text-gray-500",children:E.urgencyLevel||"Routine"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Request Time:"}),a.jsx("div",{className:"text-gray-500",children:E.requestTime})]}),E.pickupTime&&a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Pickup Time:"}),a.jsx("div",{className:"text-gray-500",children:E.pickupTime})]}),E.waitTime&&a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Wait Time:"}),a.jsx("div",{className:"text-green-600 font-semibold",children:E.waitTime})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800",children:"Completion Time:"}),a.jsx("div",{className:"text-gray-500",children:E.status==="CANCELLED"?"Cancelled":E.completionTime||"N/A"})]})]})]})})},E.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx($e,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No completed trips"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Completed trips will appear here once they are finished."})]})})]})]}),!1,r==="hospital-settings"&&a.jsx(hq,{user:e})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Edit Trip Details - Patient ",f.patientId]}),a.jsxs("form",{onSubmit:E=>{E.preventDefault(),T()},children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{value:p.status,onChange:E=>x({...p,status:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"ACCEPTED",children:"Accepted"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Level"}),a.jsx("select",{value:p.transportLevel,onChange:E=>x({...p,transportLevel:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:b.transportLevel.map(E=>a.jsx("option",{value:E,children:E==="BLS"?"BLS - Basic Life Support":E==="ALS"?"ALS - Advanced Life Support":E==="CCT"?"CCT - Critical Care Transport":E},E))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),a.jsx("select",{value:p.urgencyLevel,onChange:E=>x({...p,urgencyLevel:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:b.urgency.map(E=>a.jsx("option",{value:E,children:E},E))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Diagnosis"}),a.jsxs("select",{value:p.diagnosis,onChange:E=>x({...p,diagnosis:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select diagnosis"}),b.diagnosis.map(E=>a.jsx("option",{value:E,children:E},E))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobility Level"}),a.jsxs("select",{value:p.mobilityLevel,onChange:E=>x({...p,mobilityLevel:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select mobility level"}),b.mobility.map(E=>a.jsx("option",{value:E,children:E},E))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Company"}),a.jsxs("select",{value:p.insuranceCompany,onChange:E=>x({...p,insuranceCompany:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select insurance company"}),b.insurance.map(E=>a.jsx("option",{value:E,children:E},E))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Needs"}),a.jsxs("select",{value:p.specialNeeds,onChange:E=>x({...p,specialNeeds:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select special needs"}),b.specialNeeds.map(E=>a.jsx("option",{value:E,children:E},E))]})]}),a.jsxs("div",{className:"mb-4 md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clinical Requirements"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:p.oxygenRequired,onChange:E=>x({...p,oxygenRequired:E.target.checked}),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Oxygen Required"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:p.monitoringRequired,onChange:E=>x({...p,monitoringRequired:E.target.checked}),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Continuous Monitoring Required"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{h(null),x({})},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:y?"Updating...":"Update Trip"})]})]})]})})})]})},gq=({onRoleSelect:e,onShowRegistration:t,onClearSession:r})=>{const[n,s]=g.useState(!1),i=l=>{s(!0),e(l)},o=()=>{s(!1)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-primary-600 rounded-full flex items-center justify-center",children:a.jsx(Rt,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome to TCC"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Select your login type to continue"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>i("healthcare"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[a.jsx(Rt,{className:"h-5 w-5 mr-2"}),"Healthcare Facility Login"]}),a.jsxs("button",{onClick:()=>i("ems"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[a.jsx(Me,{className:"h-5 w-5 mr-2"}),"EMS Agency Login"]}),a.jsxs("button",{onClick:()=>i("tcc"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(Lg,{className:"h-5 w-5 mr-2"}),"Transport Center Login"]})]}),a.jsx("div",{className:"mt-8 border-t border-gray-200 pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Don't have an account? Create one for your organization:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>t("healthcare"),className:"w-full flex items-center justify-center px-4 py-2 border border-green-300 text-sm font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[a.jsx(Cv,{className:"h-4 w-4 mr-2"}),"Create Healthcare Facility Account"]}),a.jsxs("button",{onClick:()=>t("ems"),className:"w-full flex items-center justify-center px-4 py-2 border border-orange-300 text-sm font-medium rounded-md text-orange-700 bg-orange-50 hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[a.jsx(Cv,{className:"h-4 w-4 mr-2"}),"Create EMS Agency Account"]})]}),r&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full text-xs text-gray-500 hover:text-gray-700 underline",children:"Clear Session & Start Fresh"})})]})}),n&&a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:o,className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200",children:[a.jsx(Ni,{className:"h-4 w-4 mr-1"}),"Back to Selection"]})})]})})},xq=({onBack:e,onSuccess:t})=>{var v,b,j,w,C,S,L,_,k,T,I,M,z,G,Z,$;const[r,n]=g.useState({facilityName:"",facilityType:"",manageMultipleLocations:!1,contactName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",latitude:"",longitude:"",password:"",confirmPassword:""}),[s,i]=g.useState(!1),[o,l]=g.useState(null),[c,d]=g.useState(!1),[u,m]=g.useState(!1),f=["Hospital","Clinic","Urgent Care","Rehabilitation Facility","Doctor's Office","Dialysis Center","Nursing Home","Assisted Living","Other"],h=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],p=async()=>{if(!r.address||!r.city||!r.state||!r.zipCode){l("Please fill in address, city, state, and ZIP code before looking up coordinates");return}m(!0),l(null);const E=`${r.address}, ${r.city}, ${r.state} ${r.zipCode}`;console.log("TCC_DEBUG: Geocoding address:",E);const O=[E,`${r.address}, ${r.city}, ${r.state}`,`${r.city}, ${r.state}`,`${r.facilityName}, ${r.city}, ${r.state}`],R=[{name:"OpenStreetMap Nominatim",url:U=>`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(U)}&limit=1&addressdetails=1`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}},{name:"OpenStreetMap Nominatim (alt)",url:U=>`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(U)}&format=json&limit=1&addressdetails=1&countrycodes=us`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}}];for(const U of O){console.log(`TCC_DEBUG: Trying address variation: "${U}"`);for(const B of R)try{console.log(`TCC_DEBUG: Trying ${B.name} with "${U}"...`);const A=await fetch(B.url(U),{method:"GET",headers:B.headers,mode:"cors"});if(console.log(`TCC_DEBUG: ${B.name} response status:`,A.status),!A.ok){console.log(`TCC_DEBUG: ${B.name} failed with status:`,A.status);continue}const P=await A.json();if(console.log(`TCC_DEBUG: ${B.name} response data:`,P),P&&P.length>0){const N=P[0];if(console.log(`TCC_DEBUG: ${B.name} result:`,N),N.lat&&N.lon){n(D=>({...D,latitude:N.lat,longitude:N.lon})),l(null),console.log("TCC_DEBUG: Coordinates set successfully:",N.lat,N.lon),m(!1);return}}console.log(`TCC_DEBUG: ${B.name} returned no valid results for "${U}"`)}catch(A){console.log(`TCC_DEBUG: ${B.name} error for "${U}":`,A);continue}}console.log("TCC_DEBUG: All geocoding services failed"),l("Address not found. Please enter coordinates manually or try a different address format."),m(!1)},x=E=>{const{name:O,value:R,type:U}=E.target,B=E.target.checked;n(A=>({...A,[O]:U==="checkbox"?B:R}))},y=async E=>{var U,B;if(E.preventDefault(),i(!0),l(null),r.password!==r.confirmPassword){l("Passwords do not match"),i(!1);return}if(r.password.length<8){l("Password must be at least 8 characters long"),i(!1);return}if(!r.latitude||!r.longitude){l("Location coordinates are required. Please lookup or enter latitude and longitude."),i(!1);return}const O=parseFloat(r.latitude),R=parseFloat(r.longitude);if(isNaN(O)||isNaN(R)){l("Please enter valid numeric coordinates."),i(!1);return}if(O<-90||O>90){l("Latitude must be between -90 and 90 degrees."),i(!1);return}if(R<-180||R>180){l("Longitude must be between -180 and 180 degrees."),i(!1);return}try{console.log("TCC_DEBUG: Submitting healthcare registration with data:",r);const A=await fetch("http://localhost:5001/api/auth/healthcare/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.contactName,email:r.email,password:r.password,facilityName:r.facilityName,facilityType:r.facilityType,manageMultipleLocations:r.manageMultipleLocations,phone:r.phone,address:r.address,city:r.city,state:r.state,zipCode:r.zipCode,latitude:parseFloat(r.latitude),longitude:parseFloat(r.longitude)})}),P=await A.json();if(!A.ok){const N=P.error||P.message||"Registration failed. Please try again.";throw new Error(N)}console.log("TCC_DEBUG: Healthcare registration successful:",P),d(!0),setTimeout(()=>{t()},2e3)}catch(A){console.error("Healthcare registration error:",A);let P="Registration failed. Please try again.";A.message?P=A.message:(B=(U=A.response)==null?void 0:U.data)!=null&&B.error&&(P=A.response.data.error),l(P)}finally{i(!1)}};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx($e,{className:"mx-auto h-16 w-16 text-green-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Registration Submitted!"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a verification email to ",r.email,". Please check your inbox and click the verification link to activate your account."]}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Your account will be reviewed by our team and approved within 24 hours."})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(Rt,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create Healthcare Facility Account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Register your healthcare facility to start using TCC"})]}),o&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(lr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Healthcare Facility Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter your healthcare facility details to create an account"})]}),a.jsx("div",{className:"px-6 py-6",children:a.jsxs("form",{className:"space-y-6",onSubmit:y,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"facilityName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Name *"}),a.jsx("input",{type:"text",id:"facilityName",name:"facilityName",required:!0,value:r.facilityName,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter facility name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"facilityType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Type *"}),a.jsxs("select",{id:"facilityType",name:"facilityType",required:!0,value:r.facilityType,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select facility type"}),f.map(E=>a.jsx("option",{value:E,children:E},E))]})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5",children:a.jsx("input",{type:"checkbox",id:"manageMultipleLocations",name:"manageMultipleLocations",checked:r.manageMultipleLocations,onChange:x,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("label",{htmlFor:"manageMultipleLocations",className:"font-medium text-gray-900",children:"Manage Multiple Locations"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Check this if you manage multiple hospitals, clinics, or facilities that need to arrange transportation. You'll be able to add and manage all your locations after creating your account."}),r.manageMultipleLocations&&a.jsx("div",{className:"mt-2 bg-green-50 border border-green-200 rounded p-2",children:a.jsx("p",{className:"text-sm text-green-800",children:" You'll be able to add your locations in Settings after registration"})})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",required:!0,value:r.contactName,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter contact person name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ll,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:x,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter email address"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Nd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:r.phone,onChange:x,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter phone number"})]})]}),a.jsx("div",{})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(dt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"address",name:"address",required:!0,value:r.address,onChange:x,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter street address"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",required:!0,value:r.city,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsxs("select",{id:"state",name:"state",required:!0,value:r.state,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"State"}),h.map(E=>a.jsx("option",{value:E,children:E},E))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",required:!0,value:r.zipCode,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"ZIP Code"})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(dt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for agency distance calculations. You can either lookup coordinates automatically or enter them manually."}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Tip:"}),` If the exact address doesn't work, try using just the facility name and city (e.g., "Hurley Medical Center, Flint, MI") or a well-known address format like "123 Main St, City, State 12345"`]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:p,disabled:u||!((v=r.address)!=null&&v.trim())||!((b=r.city)!=null&&b.trim())||!((j=r.state)!=null&&j.trim())||!((w=r.zipCode)!=null&&w.trim()),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${u||!((C=r.address)!=null&&C.trim())||!((S=r.city)!=null&&S.trim())||!((L=r.state)!=null&&L.trim())||!((_=r.zipCode)!=null&&_.trim())?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(dt,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),u||!((k=r.address)!=null&&k.trim())||!((T=r.city)!=null&&T.trim())||!((I=r.state)!=null&&I.trim())||!((M=r.zipCode)!=null&&M.trim())?a.jsx("p",{className:"text-xs text-red-500 mt-1",children:u?"Looking up coordinates...":`Please fill in: ${[!((z=r.address)!=null&&z.trim())&&"Address",!((G=r.city)!=null&&G.trim())&&"City",!((Z=r.state)!=null&&Z.trim())&&"State",!(($=r.zipCode)!=null&&$.trim())&&"ZIP Code"].filter(Boolean).join(", ")}`}):a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from your address"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"latitude",className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",id:"latitude",name:"latitude",value:r.latitude,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"longitude",className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",id:"longitude",name:"longitude",value:r.longitude,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., -78.5678"})]})]}),r.latitude&&r.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:[" Coordinates set: ",r.latitude,", ",r.longitude]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:r.password,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter password (min 8 characters)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Confirm password"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(Ni,{className:"h-4 w-4 mr-1 inline"}),"Back to Login Selection"]}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]})]})})]})]})})},yq=({onBack:e,onSuccess:t})=>{var w,C,S,L,_,k,T,I,M,z,G,Z,$,E,O,R;const[r,n]=g.useState({agencyName:"",contactName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",latitude:"",longitude:"",serviceArea:[],capabilities:[],operatingHours:{start:"",end:""},password:"",confirmPassword:""}),[s,i]=g.useState(!1),[o,l]=g.useState(null),[c,d]=g.useState(!1),[u,m]=g.useState(!1),f=["Emergency Medical Services","Non-Emergency Medical Transport","Wheelchair Transport","Critical Care Transport","Neonatal Transport","Pediatric Transport","Bariatric Transport","Air Ambulance","Ground Ambulance","Specialized Medical Transport"],h=["BLS","ALS","CCT","Critical Care","Neonatal","Pediatric","Bariatric","Isolation"],p=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],x=async()=>{if(!r.address||!r.city||!r.state||!r.zipCode){l("Please fill in address, city, state, and ZIP code before looking up coordinates");return}m(!0),l(null);const U=`${r.address}, ${r.city}, ${r.state} ${r.zipCode}`;console.log("TCC_DEBUG: Geocoding address:",U);const B=[U,`${r.address}, ${r.city}, ${r.state}`,`${r.city}, ${r.state}`,`${r.agencyName}, ${r.city}, ${r.state}`],A=[{name:"OpenStreetMap Nominatim",url:P=>`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(P)}&limit=1&addressdetails=1`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}},{name:"OpenStreetMap Nominatim (alt)",url:P=>`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(P)}&format=json&limit=1&addressdetails=1&countrycodes=us`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}}];for(const P of B){console.log(`TCC_DEBUG: Trying address variation: "${P}"`);for(const N of A)try{console.log(`TCC_DEBUG: Trying ${N.name} with "${P}"...`);const D=await fetch(N.url(P),{method:"GET",headers:N.headers,mode:"cors"});if(console.log(`TCC_DEBUG: ${N.name} response status:`,D.status),!D.ok){console.log(`TCC_DEBUG: ${N.name} failed with status:`,D.status);continue}const W=await D.json();if(console.log(`TCC_DEBUG: ${N.name} response data:`,W),W&&W.length>0){const X=W[0];if(console.log(`TCC_DEBUG: ${N.name} result:`,X),X.lat&&X.lon){n(J=>({...J,latitude:X.lat,longitude:X.lon})),l(null),console.log("TCC_DEBUG: Coordinates set successfully:",X.lat,X.lon),m(!1);return}}console.log(`TCC_DEBUG: ${N.name} returned no valid results for "${P}"`)}catch(D){console.log(`TCC_DEBUG: ${N.name} error for "${P}":`,D);continue}}console.log("TCC_DEBUG: All geocoding services failed"),l("Address not found. Please enter coordinates manually or try a different address format."),m(!1)},y=U=>{const{name:B,value:A}=U.target;n(B==="operatingHours.start"||B==="operatingHours.end"?P=>({...P,operatingHours:{...P.operatingHours,[B.split(".")[1]]:A}}):P=>({...P,[B]:A}))},v=U=>{n(B=>({...B,capabilities:B.capabilities.includes(U)?B.capabilities.filter(A=>A!==U):[...B.capabilities,U]}))},b=U=>{n(B=>({...B,serviceArea:B.serviceArea.includes(U)?B.serviceArea.filter(A=>A!==U):[...B.serviceArea,U]}))},j=async U=>{var P,N;if(U.preventDefault(),i(!0),l(null),r.password!==r.confirmPassword){l("Passwords do not match"),i(!1);return}if(r.password.length<8){l("Password must be at least 8 characters long"),i(!1);return}if(r.serviceArea.length===0){l("Please select at least one service area"),i(!1);return}if(r.capabilities.length===0){l("Please select at least one service capability"),i(!1);return}if(!r.latitude||!r.longitude){l("Location coordinates are required. Please lookup or enter latitude and longitude."),i(!1);return}const B=parseFloat(r.latitude),A=parseFloat(r.longitude);if(isNaN(B)||isNaN(A)){l("Please enter valid numeric coordinates."),i(!1);return}if(B<-90||B>90){l("Latitude must be between -90 and 90 degrees."),i(!1);return}if(A<-180||A>180){l("Longitude must be between -180 and 180 degrees."),i(!1);return}try{console.log("TCC_DEBUG: Submitting EMS agency registration with data:",r);const D=await fetch("http://localhost:5001/api/auth/ems/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.contactName,email:r.email,password:r.password,agencyName:r.agencyName,phone:r.phone,address:r.address,city:r.city,state:r.state,zipCode:r.zipCode,latitude:parseFloat(r.latitude),longitude:parseFloat(r.longitude),serviceArea:r.serviceArea,capabilities:r.capabilities,operatingHours:r.operatingHours.start&&r.operatingHours.end?`${r.operatingHours.start} - ${r.operatingHours.end}`:"24/7"})}),W=await D.json();if(!D.ok){const X=W.error||W.message||"Registration failed. Please try again.";throw new Error(X)}console.log("TCC_DEBUG: EMS registration successful:",W),d(!0),setTimeout(()=>{t()},2e3)}catch(D){console.error("EMS registration error:",D);let W="Registration failed. Please try again.";D.message?W=D.message:(N=(P=D.response)==null?void 0:P.data)!=null&&N.error&&(W=D.response.data.error),l(W)}finally{i(!1)}};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx($e,{className:"mx-auto h-16 w-16 text-orange-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Registration Submitted!"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a verification email to ",r.email,". Please check your inbox and click the verification link to activate your account."]}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Your account will be reviewed by our team and approved within 24 hours."})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-orange-600 rounded-full flex items-center justify-center",children:a.jsx(Me,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create EMS Agency Account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Register your EMS agency to start using TCC"})]}),o&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(lr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"EMS Agency Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter your EMS agency details to create an account"})]}),a.jsx("div",{className:"px-6 py-6",children:a.jsxs("form",{className:"space-y-6",onSubmit:j,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"agencyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency Name *"}),a.jsx("input",{type:"text",id:"agencyName",name:"agencyName",required:!0,value:r.agencyName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter agency name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",required:!0,value:r.contactName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter contact person name"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ll,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter email address"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Nd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:r.phone,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter phone number"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(dt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"address",name:"address",required:!0,value:r.address,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter street address"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",required:!0,value:r.city,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsxs("select",{id:"state",name:"state",required:!0,value:r.state,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[a.jsx("option",{value:"",children:"State"}),p.map(U=>a.jsx("option",{value:U,children:U},U))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",required:!0,value:r.zipCode,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"ZIP Code"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Areas * (Select all that apply)"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(U=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:r.serviceArea.includes(U),onChange:()=>b(U),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:U})]},U))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(dt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for distance calculations and agency matching. You can either lookup coordinates automatically or enter them manually."}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Tip:"}),` If the exact address doesn't work, try using just the agency name and city (e.g., "City EMS, Flint, MI") or a well-known address format like "123 Main St, City, State 12345"`]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:x,disabled:u||!((w=r.address)!=null&&w.trim())||!((C=r.city)!=null&&C.trim())||!((S=r.state)!=null&&S.trim())||!((L=r.zipCode)!=null&&L.trim()),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${u||!((_=r.address)!=null&&_.trim())||!((k=r.city)!=null&&k.trim())||!((T=r.state)!=null&&T.trim())||!((I=r.zipCode)!=null&&I.trim())?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(dt,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),u||!((M=r.address)!=null&&M.trim())||!((z=r.city)!=null&&z.trim())||!((G=r.state)!=null&&G.trim())||!((Z=r.zipCode)!=null&&Z.trim())?a.jsx("p",{className:"text-xs text-red-500 mt-1",children:u?"Looking up coordinates...":`Please fill in: ${[!(($=r.address)!=null&&$.trim())&&"Address",!((E=r.city)!=null&&E.trim())&&"City",!((O=r.state)!=null&&O.trim())&&"State",!((R=r.zipCode)!=null&&R.trim())&&"ZIP Code"].filter(Boolean).join(", ")}`}):a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from your address"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",name:"latitude",value:r.latitude,onChange:y,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",name:"longitude",value:r.longitude,onChange:y,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"e.g., -78.5678"})]})]}),r.latitude&&r.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:[" Coordinates set: ",r.latitude,", ",r.longitude]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Capabilities * (Select all that apply)"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(U=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:r.capabilities.includes(U),onChange:()=>v(U),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:U})]},U))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Availability (Optional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHoursStart",className:"block text-xs text-gray-500 mb-1",children:"Start Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Sr,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"time",id:"operatingHoursStart",name:"operatingHours.start",value:r.operatingHours.start,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHoursEnd",className:"block text-xs text-gray-500 mb-1",children:"End Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Sr,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"time",id:"operatingHoursEnd",name:"operatingHours.end",value:r.operatingHours.end,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave blank for 24/7 availability. Specify hours only if you have restrictions (e.g., "Monday-Friday 6 AM - 6 PM")'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:r.password,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter password (min 8 characters)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirm password"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[a.jsx(Ni,{className:"h-4 w-4 mr-1 inline"}),"Back to Login Selection"]}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]})]})})]})]})})},vq=({onBack:e,onLogin:t})=>{console.log("TCC_DEBUG: HealthcareLogin component rendering");const[r,n]=g.useState({email:"",password:""}),[s,i]=g.useState(!1),[o,l]=g.useState(""),c=u=>{const{name:m,value:f}=u.target;n(h=>({...h,[m]:f}))},d=async u=>{var m,f;u.preventDefault(),i(!0),l("");try{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("TCC_DEBUG: Attempting healthcare login with data:",r);const h=await ii.healthcareLogin(r);if(h.data.success){const{user:p,token:x}=h.data;console.log("TCC_DEBUG: Healthcare login successful:",p),localStorage.setItem("token",x),localStorage.setItem("user",JSON.stringify(p)),t(p,x)}else throw new Error(h.data.error||"Login failed")}catch(h){console.error("Healthcare login error:",h);const p=((f=(m=h.response)==null?void 0:m.data)==null?void 0:f.error)||h.message||"Login failed. Please try again.";l(p)}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(Rt,{className:"h-8 w-8 text-green-600"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Healthcare Facility Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your healthcare facility account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),o&&a.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[a.jsx(Lt,{className:"h-4 w-4 mr-2"}),o]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:e,className:"flex items-center justify-center text-gray-600 hover:text-gray-800 text-sm",children:[a.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Back to Login Options"]})})]})]})})},bq=({onBack:e,onLogin:t})=>{const[r,n]=g.useState({email:"",password:""}),[s,i]=g.useState(!1),[o,l]=g.useState(""),c=u=>{const{name:m,value:f}=u.target;n(h=>({...h,[m]:f}))},d=async u=>{var m,f,h;u.preventDefault(),i(!0),l("");try{localStorage.removeItem("token"),localStorage.removeItem("user");const{authAPI:p}=await Bc(async()=>{const{authAPI:y}=await Promise.resolve().then(()=>$c);return{authAPI:y}},void 0);console.log("TCC_DEBUG: EMS Login attempt with:",r.email);const x=await p.login({email:r.email,password:r.password});console.log("TCC_DEBUG: EMS Login response:",x.data),x.data.success?(console.log("TCC_DEBUG: EMS Login successful, calling onLogin with user:",x.data.user),t(x.data.user,x.data.token)):(console.log("TCC_DEBUG: EMS Login failed:",x.data.error),l(x.data.error||"Login failed"))}catch(p){console.error("TCC_DEBUG: EMS login error:",p),console.error("TCC_DEBUG: Error response:",(m=p.response)==null?void 0:m.data);const x=((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||p.message||"Network error. Please try again.";l(x)}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:a.jsx(Me,{className:"h-8 w-8 text-orange-600"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"EMS Agency Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your EMS agency account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),o&&a.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[a.jsx(Lt,{className:"h-4 w-4 mr-2"}),o]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:e,className:"flex items-center justify-center text-gray-600 hover:text-gray-800 text-sm",children:[a.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Back to Login Options"]})})]})]})})};class jq extends _p.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,message:(t==null?void 0:t.message)||"Render error"}}componentDidCatch(t,r){console.error("Render error boundary caught:",t,r)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:a.jsxs("div",{className:"bg-white shadow rounded-lg p-8 max-w-xl text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:this.state.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Reload Page"})]})}):this.props.children}}function wq(){const[e,t]=g.useState(null),[r,n]=g.useState(!0),s=jd(),i=bs();g.useEffect(()=>{(async()=>{if(localStorage.getItem("token"))try{const x=await ii.verify();t(x.data.user)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}n(!1)})()},[]),g.useEffect(()=>{const h=p=>{e&&(i.pathname==="/"||i.pathname.startsWith("/login")||i.pathname.startsWith("/register"))&&s("/dashboard",{replace:!0})};return window.addEventListener("popstate",h),()=>window.removeEventListener("popstate",h)},[e,i.pathname,s]);const o=(h,p)=>{console.log("TCC_DEBUG: handleLogin called with userData:",h),console.log("TCC_DEBUG: handleLogin called with token:",p?"present":"missing"),t(h),localStorage.setItem("token",p),localStorage.setItem("user",JSON.stringify(h)),console.log("TCC_DEBUG: User state set, localStorage updated"),h.userType==="ADMIN"||h.userType==="USER"?(console.log("TCC_DEBUG: Redirecting to dashboard for admin/user"),s("/dashboard",{replace:!0})):console.log("TCC_DEBUG: No redirect needed for healthcare/EMS - component should re-render")},l=()=>{t(null),localStorage.removeItem("token"),localStorage.removeItem("user"),s("/",{replace:!0})},c=h=>{h==="tcc"?s("/login"):h==="healthcare"?s("/healthcare-login"):h==="ems"&&s("/ems-login")},d=h=>{s(h==="healthcare"?"/healthcare-register":"/ems-register")},u=()=>{s("/")},m=()=>{s("/")},f=()=>{t(null),localStorage.removeItem("token"),localStorage.removeItem("user"),s("/")};return console.log("TCC_DEBUG: App render - user:",e,"loading:",r),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e?e.userType==="HEALTHCARE"?a.jsx(pq,{user:e,onLogout:l}):e.userType==="EMS"?a.jsx(MC,{user:e,onLogout:l}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs(Eh,{children:[a.jsx(Oe,{path:"/dashboard/*",element:a.jsx(uq,{user:e,onLogout:l})}),a.jsx(Oe,{path:"*",element:a.jsx(fv,{to:"/dashboard",replace:!0})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs(Eh,{children:[a.jsx(Oe,{path:"/",element:a.jsx(gq,{onRoleSelect:c,onShowRegistration:d,onClearSession:f})}),a.jsx(Oe,{path:"/healthcare-register",element:a.jsx(xq,{onBack:m,onSuccess:u})}),a.jsx(Oe,{path:"/ems-register",element:a.jsx(yq,{onBack:m,onSuccess:u})}),a.jsx(Oe,{path:"/login",element:a.jsx(r4,{onLogin:o,onBack:m})}),a.jsx(Oe,{path:"/healthcare-login",element:a.jsx(vq,{onBack:m,onLogin:o})}),a.jsx(Oe,{path:"/ems-login",element:a.jsx(bq,{onBack:m,onLogin:o})}),a.jsx(Oe,{path:"*",element:a.jsx(fv,{to:"/",replace:!0})})]})})}function Nq(){return a.jsx(pL,{children:a.jsx(jq,{children:a.jsx(wq,{})})})}Df.createRoot(document.getElementById("root")).render(a.jsx(_p.StrictMode,{children:a.jsx(Nq,{})}));
