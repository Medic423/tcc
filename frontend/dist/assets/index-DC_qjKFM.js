var BP=Object.defineProperty;var FP=(e,t,r)=>t in e?BP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fl=(e,t,r)=>FP(e,typeof t!="symbol"?t+"":t,r);function UP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Gn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ew={exports:{}},nu={},Pw={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),zP=Symbol.for("react.portal"),WP=Symbol.for("react.fragment"),HP=Symbol.for("react.strict_mode"),GP=Symbol.for("react.profiler"),qP=Symbol.for("react.provider"),KP=Symbol.for("react.context"),VP=Symbol.for("react.forward_ref"),YP=Symbol.for("react.suspense"),XP=Symbol.for("react.memo"),QP=Symbol.for("react.lazy"),W0=Symbol.iterator;function ZP(e){return e===null||typeof e!="object"?null:(e=W0&&e[W0]||e["@@iterator"],typeof e=="function"?e:null)}var Aw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tw=Object.assign,Ow={};function wi(e,t,r){this.props=e,this.context=t,this.refs=Ow,this.updater=r||Aw}wi.prototype.isReactComponent={};wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mw(){}Mw.prototype=wi.prototype;function Ep(e,t,r){this.props=e,this.context=t,this.refs=Ow,this.updater=r||Aw}var Pp=Ep.prototype=new Mw;Pp.constructor=Ep;Tw(Pp,wi.prototype);Pp.isPureReactComponent=!0;var H0=Array.isArray,Lw=Object.prototype.hasOwnProperty,Ap={current:null},Dw={key:!0,ref:!0,__self:!0,__source:!0};function _w(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Lw.call(t,n)&&!Dw.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:il,type:e,key:i,ref:o,props:s,_owner:Ap.current}}function JP(e,t){return{$$typeof:il,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tp(e){return typeof e=="object"&&e!==null&&e.$$typeof===il}function eA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var G0=/\/+/g;function Pm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eA(""+e.key):t.toString(36)}function Cc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case il:case zP:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Pm(o,0):n,H0(s)?(r="",e!=null&&(r=e.replace(G0,"$&/")+"/"),Cc(s,t,r,"",function(u){return u})):s!=null&&(Tp(s)&&(s=JP(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(G0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",H0(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Pm(i,l);o+=Cc(i,t,r,c,s)}else if(c=ZP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Pm(i,l++),o+=Cc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ul(e,t,r){if(e==null)return e;var n=[],s=0;return Cc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function tA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},Sc={transition:null},rA={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:Ap};function Rw(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Ul,forEach:function(e,t,r){Ul(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ul(e,function(){t++}),t},toArray:function(e){return Ul(e,function(t){return t})||[]},only:function(e){if(!Tp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=wi;ue.Fragment=WP;ue.Profiler=GP;ue.PureComponent=Ep;ue.StrictMode=HP;ue.Suspense=YP;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rA;ue.act=Rw;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Tw({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ap.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Lw.call(t,c)&&!Dw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:il,type:e.type,key:s,ref:i,props:n,_owner:o}};ue.createContext=function(e){return e={$$typeof:KP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qP,_context:e},e.Consumer=e};ue.createElement=_w;ue.createFactory=function(e){var t=_w.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:VP,render:e}};ue.isValidElement=Tp;ue.lazy=function(e){return{$$typeof:QP,_payload:{_status:-1,_result:e},_init:tA}};ue.memo=function(e,t){return{$$typeof:XP,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Sc.transition;Sc.transition={};try{e()}finally{Sc.transition=t}};ue.unstable_act=Rw;ue.useCallback=function(e,t){return Ut.current.useCallback(e,t)};ue.useContext=function(e){return Ut.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};ue.useEffect=function(e,t){return Ut.current.useEffect(e,t)};ue.useId=function(){return Ut.current.useId()};ue.useImperativeHandle=function(e,t,r){return Ut.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return Ut.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return Ut.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return Ut.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return Ut.current.useReducer(e,t,r)};ue.useRef=function(e){return Ut.current.useRef(e)};ue.useState=function(e){return Ut.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return Ut.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return Ut.current.useTransition()};ue.version="18.3.1";Pw.exports=ue;var x=Pw.exports;const ol=Gn(x),Iw=UP({__proto__:null,default:ol},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA=x,aA=Symbol.for("react.element"),sA=Symbol.for("react.fragment"),iA=Object.prototype.hasOwnProperty,oA=nA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lA={key:!0,ref:!0,__self:!0,__source:!0};function $w(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)iA.call(t,n)&&!lA.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:aA,type:e,key:i,ref:o,props:s,_owner:oA.current}}nu.Fragment=sA;nu.jsx=$w;nu.jsxs=$w;Ew.exports=nu;var a=Ew.exports,Mf={},Bw={exports:{}},yr={},Fw={exports:{}},Uw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,W){var D=U.length;U.push(W);e:for(;0<D;){var q=D-1>>>1,V=U[q];if(0<s(V,W))U[q]=W,U[D]=V,D=q;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var W=U[0],D=U.pop();if(D!==W){U[0]=D;e:for(var q=0,V=U.length,_=V>>>1;q<_;){var C=2*(q+1)-1,B=U[C],G=C+1,Q=U[G];if(0>s(B,D))G<V&&0>s(Q,B)?(U[q]=Q,U[G]=D,q=G):(U[q]=B,U[C]=D,q=C);else if(G<V&&0>s(Q,D))U[q]=Q,U[G]=D,q=G;else break e}}return W}function s(U,W){var D=U.sortIndex-W.sortIndex;return D!==0?D:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,m=null,f=3,h=!1,p=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(U){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=U)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(u)}}function w(U){if(y=!1,j(U),!p)if(r(c)!==null)p=!0,M(N);else{var W=r(u);W!==null&&F(w,W.startTime-U)}}function N(U,W){p=!1,y&&(y=!1,v(O),O=-1),h=!0;var D=f;try{for(j(W),m=r(c);m!==null&&(!(m.expirationTime>W)||U&&!R());){var q=m.callback;if(typeof q=="function"){m.callback=null,f=m.priorityLevel;var V=q(m.expirationTime<=W);W=e.unstable_now(),typeof V=="function"?m.callback=V:m===r(c)&&n(c),j(W)}else n(c);m=r(c)}if(m!==null)var _=!0;else{var C=r(u);C!==null&&F(w,C.startTime-W),_=!1}return _}finally{m=null,f=D,h=!1}}var S=!1,P=null,O=-1,A=5,k=-1;function R(){return!(e.unstable_now()-k<A)}function L(){if(P!==null){var U=e.unstable_now();k=U;var W=!0;try{W=P(!0,U)}finally{W?T():(S=!1,P=null)}}else S=!1}var T;if(typeof b=="function")T=function(){b(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,I=K.port2;K.port1.onmessage=L,T=function(){I.postMessage(null)}}else T=function(){g(L,0)};function M(U){P=U,S||(S=!0,T())}function F(U,W){O=g(function(){U(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,M(N))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(U){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var D=f;f=W;try{return U()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var D=f;f=U;try{return W()}finally{f=D}},e.unstable_scheduleCallback=function(U,W,D){var q=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?q+D:q):D=q,U){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=D+V,U={id:d++,callback:W,priorityLevel:U,startTime:D,expirationTime:V,sortIndex:-1},D>q?(U.sortIndex=D,t(u,U),r(c)===null&&U===r(u)&&(y?(v(O),O=-1):y=!0,F(w,D-q))):(U.sortIndex=V,t(c,U),p||h||(p=!0,M(N))),U},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(U){var W=f;return function(){var D=f;f=W;try{return U.apply(this,arguments)}finally{f=D}}}})(Uw);Fw.exports=Uw;var cA=Fw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA=x,xr=cA;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zw=new Set,Eo={};function ws(e,t){ei(e,t),ei(e+"Capture",t)}function ei(e,t){for(Eo[e]=t,e=0;e<t.length;e++)zw.add(t[e])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=Object.prototype.hasOwnProperty,uA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q0={},K0={};function mA(e){return Lf.call(K0,e)?!0:Lf.call(q0,e)?!1:uA.test(e)?K0[e]=!0:(q0[e]=!0,!1)}function fA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hA(e,t,r,n){if(t===null||typeof t>"u"||fA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function Mp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Op,Mp);bt[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Op,Mp);bt[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Op,Mp);bt[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lp(e,t,r,n){var s=bt.hasOwnProperty(t)?bt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hA(t,r,s,n)&&(r=null),n||s===null?mA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qn=dA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),Hw=Symbol.for("react.context"),_p=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),Rf=Symbol.for("react.suspense_list"),Rp=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),Gw=Symbol.for("react.offscreen"),V0=Symbol.iterator;function zi(e){return e===null||typeof e!="object"?null:(e=V0&&e[V0]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Am;function so(e){if(Am===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Am=t&&t[1]||""}return`
`+Am+e}var Tm=!1;function Om(e,t){if(!e||Tm)return"";Tm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Tm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?so(e):""}function pA(e){switch(e.tag){case 5:return so(e.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return e=Om(e.type,!1),e;case 11:return e=Om(e.type.render,!1),e;case 1:return e=Om(e.type,!0),e;default:return""}}function If(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ms:return"Fragment";case Os:return"Portal";case Df:return"Profiler";case Dp:return"StrictMode";case _f:return"Suspense";case Rf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hw:return(e.displayName||"Context")+".Consumer";case Ww:return(e._context.displayName||"Context")+".Provider";case _p:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rp:return t=e.displayName||null,t!==null?t:If(e.type)||"Memo";case aa:t=e._payload,e=e._init;try{return If(e(t))}catch{}}return null}function xA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return If(t);case 8:return t===Dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ca(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gA(e){var t=qw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wl(e){e._valueTracker||(e._valueTracker=gA(e))}function Kw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $f(e,t){var r=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Y0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ca(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vw(e,t){t=t.checked,t!=null&&Lp(e,"checked",t,!1)}function Bf(e,t){Vw(e,t);var r=Ca(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ff(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ff(e,t.type,Ca(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function X0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ff(e,t,r){(t!=="number"||zc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var io=Array.isArray;function Hs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ca(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Uf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Q0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(io(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ca(r)}}function Yw(e,t){var r=Ca(t.value),n=Ca(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Z0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hl,Qw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Po(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yA=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(e){yA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ho[t]=ho[e]})});function Zw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ho.hasOwnProperty(e)&&ho[e]?(""+t).trim():t+"px"}function Jw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Zw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var vA=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(e,t){if(t){if(vA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Hf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=null;function Ip(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qf=null,Gs=null,qs=null;function J0(e){if(e=dl(e)){if(typeof qf!="function")throw Error(J(280));var t=e.stateNode;t&&(t=lu(t),qf(e.stateNode,e.type,t))}}function eN(e){Gs?qs?qs.push(e):qs=[e]:Gs=e}function tN(){if(Gs){var e=Gs,t=qs;if(qs=Gs=null,J0(e),t)for(e=0;e<t.length;e++)J0(t[e])}}function rN(e,t){return e(t)}function nN(){}var Mm=!1;function aN(e,t,r){if(Mm)return e(t,r);Mm=!0;try{return rN(e,t,r)}finally{Mm=!1,(Gs!==null||qs!==null)&&(nN(),tN())}}function Ao(e,t){var r=e.stateNode;if(r===null)return null;var n=lu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var Kf=!1;if(Rn)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{Kf=!1}function bA(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var po=!1,Wc=null,Hc=!1,Vf=null,jA={onError:function(e){po=!0,Wc=e}};function wA(e,t,r,n,s,i,o,l,c){po=!1,Wc=null,bA.apply(jA,arguments)}function NA(e,t,r,n,s,i,o,l,c){if(wA.apply(this,arguments),po){if(po){var u=Wc;po=!1,Wc=null}else throw Error(J(198));Hc||(Hc=!0,Vf=u)}}function Ns(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ey(e){if(Ns(e)!==e)throw Error(J(188))}function CA(e){var t=e.alternate;if(!t){if(t=Ns(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ey(s),e;if(i===n)return ey(s),t;i=i.sibling}throw Error(J(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function iN(e){return e=CA(e),e!==null?oN(e):null}function oN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oN(e);if(t!==null)return t;e=e.sibling}return null}var lN=xr.unstable_scheduleCallback,ty=xr.unstable_cancelCallback,SA=xr.unstable_shouldYield,kA=xr.unstable_requestPaint,qe=xr.unstable_now,EA=xr.unstable_getCurrentPriorityLevel,$p=xr.unstable_ImmediatePriority,cN=xr.unstable_UserBlockingPriority,Gc=xr.unstable_NormalPriority,PA=xr.unstable_LowPriority,dN=xr.unstable_IdlePriority,au=null,dn=null;function AA(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(au,e,void 0,(e.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:MA,TA=Math.log,OA=Math.LN2;function MA(e){return e>>>=0,e===0?32:31-(TA(e)/OA|0)|0}var Gl=64,ql=4194304;function oo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=oo(l):(i&=o,i!==0&&(n=oo(i)))}else o=r&~s,o!==0?n=oo(o):i!==0&&(n=oo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kr(t),s=1<<r,n|=e[r],t&=~s;return n}function LA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Kr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=LA(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Yf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uN(){var e=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),e}function Lm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ll(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kr(t),e[t]=r}function _A(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Kr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Bp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var be=0;function mN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fN,Fp,hN,pN,xN,Xf=!1,Kl=[],ha=null,pa=null,xa=null,To=new Map,Oo=new Map,la=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ry(e,t){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":To.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(t.pointerId)}}function Hi(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=dl(t),t!==null&&Fp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function IA(e,t,r,n,s){switch(t){case"focusin":return ha=Hi(ha,e,t,r,n,s),!0;case"dragenter":return pa=Hi(pa,e,t,r,n,s),!0;case"mouseover":return xa=Hi(xa,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return To.set(i,Hi(To.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Oo.set(i,Hi(Oo.get(i)||null,e,t,r,n,s)),!0}return!1}function gN(e){var t=Ga(e.target);if(t!==null){var r=Ns(t);if(r!==null){if(t=r.tag,t===13){if(t=sN(r),t!==null){e.blockedOn=t,xN(e.priority,function(){hN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Gf=n,r.target.dispatchEvent(n),Gf=null}else return t=dl(r),t!==null&&Fp(t),e.blockedOn=r,!1;t.shift()}return!0}function ny(e,t,r){kc(e)&&r.delete(t)}function $A(){Xf=!1,ha!==null&&kc(ha)&&(ha=null),pa!==null&&kc(pa)&&(pa=null),xa!==null&&kc(xa)&&(xa=null),To.forEach(ny),Oo.forEach(ny)}function Gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Xf||(Xf=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,$A)))}function Mo(e){function t(s){return Gi(s,e)}if(0<Kl.length){Gi(Kl[0],e);for(var r=1;r<Kl.length;r++){var n=Kl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ha!==null&&Gi(ha,e),pa!==null&&Gi(pa,e),xa!==null&&Gi(xa,e),To.forEach(t),Oo.forEach(t),r=0;r<la.length;r++)n=la[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)gN(r),r.blockedOn===null&&la.shift()}var Ks=qn.ReactCurrentBatchConfig,Kc=!0;function BA(e,t,r,n){var s=be,i=Ks.transition;Ks.transition=null;try{be=1,Up(e,t,r,n)}finally{be=s,Ks.transition=i}}function FA(e,t,r,n){var s=be,i=Ks.transition;Ks.transition=null;try{be=4,Up(e,t,r,n)}finally{be=s,Ks.transition=i}}function Up(e,t,r,n){if(Kc){var s=Qf(e,t,r,n);if(s===null)Wm(e,t,n,Vc,r),ry(e,n);else if(IA(s,e,t,r,n))n.stopPropagation();else if(ry(e,n),t&4&&-1<RA.indexOf(e)){for(;s!==null;){var i=dl(s);if(i!==null&&fN(i),i=Qf(e,t,r,n),i===null&&Wm(e,t,n,Vc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Wm(e,t,n,null,r)}}var Vc=null;function Qf(e,t,r,n){if(Vc=null,e=Ip(n),e=Ga(e),e!==null)if(t=Ns(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vc=e,null}function yN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EA()){case $p:return 1;case cN:return 4;case Gc:case PA:return 16;case dN:return 536870912;default:return 16}default:return 16}}var ua=null,zp=null,Ec=null;function vN(){if(Ec)return Ec;var e,t=zp,r=t.length,n,s="value"in ua?ua.value:ua.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ec=s.slice(e,1<n?1-n:void 0)}function Pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vl(){return!0}function ay(){return!1}function vr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vl:ay,this.isPropagationStopped=ay,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),t}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wp=vr(Ni),cl=Fe({},Ni,{view:0,detail:0}),UA=vr(cl),Dm,_m,qi,su=Fe({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Dm=e.screenX-qi.screenX,_m=e.screenY-qi.screenY):_m=Dm=0,qi=e),Dm)},movementY:function(e){return"movementY"in e?e.movementY:_m}}),sy=vr(su),zA=Fe({},su,{dataTransfer:0}),WA=vr(zA),HA=Fe({},cl,{relatedTarget:0}),Rm=vr(HA),GA=Fe({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),qA=vr(GA),KA=Fe({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VA=vr(KA),YA=Fe({},Ni,{data:0}),iy=vr(YA),XA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZA[e])?!!t[e]:!1}function Hp(){return JA}var eT=Fe({},cl,{key:function(e){if(e.key){var t=XA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hp,charCode:function(e){return e.type==="keypress"?Pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tT=vr(eT),rT=Fe({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=vr(rT),nT=Fe({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hp}),aT=vr(nT),sT=Fe({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),iT=vr(sT),oT=Fe({},su,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lT=vr(oT),cT=[9,13,27,32],Gp=Rn&&"CompositionEvent"in window,xo=null;Rn&&"documentMode"in document&&(xo=document.documentMode);var dT=Rn&&"TextEvent"in window&&!xo,bN=Rn&&(!Gp||xo&&8<xo&&11>=xo),ly=" ",cy=!1;function jN(e,t){switch(e){case"keyup":return cT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ls=!1;function uT(e,t){switch(e){case"compositionend":return wN(t);case"keypress":return t.which!==32?null:(cy=!0,ly);case"textInput":return e=t.data,e===ly&&cy?null:e;default:return null}}function mT(e,t){if(Ls)return e==="compositionend"||!Gp&&jN(e,t)?(e=vN(),Ec=zp=ua=null,Ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bN&&t.locale!=="ko"?null:t.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fT[e.type]:t==="textarea"}function NN(e,t,r,n){eN(n),t=Yc(t,"onChange"),0<t.length&&(r=new Wp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var go=null,Lo=null;function hT(e){DN(e,0)}function iu(e){var t=Rs(e);if(Kw(t))return e}function pT(e,t){if(e==="change")return t}var CN=!1;if(Rn){var Im;if(Rn){var $m="oninput"in document;if(!$m){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),$m=typeof uy.oninput=="function"}Im=$m}else Im=!1;CN=Im&&(!document.documentMode||9<document.documentMode)}function my(){go&&(go.detachEvent("onpropertychange",SN),Lo=go=null)}function SN(e){if(e.propertyName==="value"&&iu(Lo)){var t=[];NN(t,Lo,e,Ip(e)),aN(hT,t)}}function xT(e,t,r){e==="focusin"?(my(),go=t,Lo=r,go.attachEvent("onpropertychange",SN)):e==="focusout"&&my()}function gT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return iu(Lo)}function yT(e,t){if(e==="click")return iu(t)}function vT(e,t){if(e==="input"||e==="change")return iu(t)}function bT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qr=typeof Object.is=="function"?Object.is:bT;function Do(e,t){if(Qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Lf.call(t,s)||!Qr(e[s],t[s]))return!1}return!0}function fy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hy(e,t){var r=fy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fy(r)}}function kN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function EN(){for(var e=window,t=zc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zc(e.document)}return t}function qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jT(e){var t=EN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kN(r.ownerDocument.documentElement,r)){if(n!==null&&qp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=hy(r,i);var o=hy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wT=Rn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Zf=null,yo=null,Jf=!1;function py(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jf||Ds==null||Ds!==zc(n)||(n=Ds,"selectionStart"in n&&qp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yo&&Do(yo,n)||(yo=n,n=Yc(Zf,"onSelect"),0<n.length&&(t=new Wp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ds)))}function Yl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _s={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},Bm={},PN={};Rn&&(PN=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function ou(e){if(Bm[e])return Bm[e];if(!_s[e])return e;var t=_s[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in PN)return Bm[e]=t[r];return e}var AN=ou("animationend"),TN=ou("animationiteration"),ON=ou("animationstart"),MN=ou("transitionend"),LN=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){LN.set(e,t),ws(t,[e])}for(var Fm=0;Fm<xy.length;Fm++){var Um=xy[Fm],NT=Um.toLowerCase(),CT=Um[0].toUpperCase()+Um.slice(1);Aa(NT,"on"+CT)}Aa(AN,"onAnimationEnd");Aa(TN,"onAnimationIteration");Aa(ON,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(MN,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function gy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,NA(n,t,void 0,e),e.currentTarget=null}function DN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;gy(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;gy(s,l,u),i=c}}}if(Hc)throw e=Vf,Hc=!1,Vf=null,e}function Ee(e,t){var r=t[ah];r===void 0&&(r=t[ah]=new Set);var n=e+"__bubble";r.has(n)||(_N(t,e,2,!1),r.add(n))}function zm(e,t,r){var n=0;t&&(n|=4),_N(r,e,n,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[Xl]){e[Xl]=!0,zw.forEach(function(r){r!=="selectionchange"&&(ST.has(r)||zm(r,!1,e),zm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,zm("selectionchange",!1,t))}}function _N(e,t,r,n){switch(yN(t)){case 1:var s=BA;break;case 4:s=FA;break;default:s=Up}r=s.bind(null,t,r,e),s=void 0,!Kf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Wm(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ga(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}aN(function(){var u=i,d=Ip(r),m=[];e:{var f=LN.get(e);if(f!==void 0){var h=Wp,p=e;switch(e){case"keypress":if(Pc(r)===0)break e;case"keydown":case"keyup":h=tT;break;case"focusin":p="focus",h=Rm;break;case"focusout":p="blur",h=Rm;break;case"beforeblur":case"afterblur":h=Rm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=WA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=aT;break;case AN:case TN:case ON:h=qA;break;case MN:h=iT;break;case"scroll":h=UA;break;case"wheel":h=lT;break;case"copy":case"cut":case"paste":h=VA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=oy}var y=(t&4)!==0,g=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var b=u,j;b!==null;){j=b;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,v!==null&&(w=Ao(b,v),w!=null&&y.push(Ro(b,w,j)))),g)break;b=b.return}0<y.length&&(f=new h(f,p,null,r,d),m.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==Gf&&(p=r.relatedTarget||r.fromElement)&&(Ga(p)||p[In]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?Ga(p):null,p!==null&&(g=Ns(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=sy,w="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=oy,w="onPointerLeave",v="onPointerEnter",b="pointer"),g=h==null?f:Rs(h),j=p==null?f:Rs(p),f=new y(w,b+"leave",h,r,d),f.target=g,f.relatedTarget=j,w=null,Ga(d)===u&&(y=new y(v,b+"enter",p,r,d),y.target=j,y.relatedTarget=g,w=y),g=w,h&&p)t:{for(y=h,v=p,b=0,j=y;j;j=Ps(j))b++;for(j=0,w=v;w;w=Ps(w))j++;for(;0<b-j;)y=Ps(y),b--;for(;0<j-b;)v=Ps(v),j--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ps(y),v=Ps(v)}y=null}else y=null;h!==null&&yy(m,f,h,y,!1),p!==null&&g!==null&&yy(m,g,p,y,!0)}}e:{if(f=u?Rs(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var N=pT;else if(dy(f))if(CN)N=vT;else{N=gT;var S=xT}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=yT);if(N&&(N=N(e,u))){NN(m,N,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Ff(f,"number",f.value)}switch(S=u?Rs(u):window,e){case"focusin":(dy(S)||S.contentEditable==="true")&&(Ds=S,Zf=u,yo=null);break;case"focusout":yo=Zf=Ds=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,py(m,r,d);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":py(m,r,d)}var P;if(Gp)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ls?jN(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(bN&&r.locale!=="ko"&&(Ls||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ls&&(P=vN()):(ua=d,zp="value"in ua?ua.value:ua.textContent,Ls=!0)),S=Yc(u,O),0<S.length&&(O=new iy(O,e,null,r,d),m.push({event:O,listeners:S}),P?O.data=P:(P=wN(r),P!==null&&(O.data=P)))),(P=dT?uT(e,r):mT(e,r))&&(u=Yc(u,"onBeforeInput"),0<u.length&&(d=new iy("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=P))}DN(m,t)})}function Ro(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ao(e,r),i!=null&&n.unshift(Ro(e,i,s)),i=Ao(e,t),i!=null&&n.push(Ro(e,i,s))),e=e.return}return n}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ao(r,i),c!=null&&o.unshift(Ro(r,c,l))):s||(c=Ao(r,i),c!=null&&o.push(Ro(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var kT=/\r\n?/g,ET=/\u0000|\uFFFD/g;function vy(e){return(typeof e=="string"?e:""+e).replace(kT,`
`).replace(ET,"")}function Ql(e,t,r){if(t=vy(t),vy(e)!==t&&r)throw Error(J(425))}function Xc(){}var eh=null,th=null;function rh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nh=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(TT)}:nh;function TT(e){setTimeout(function(){throw e})}function Hm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Mo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Mo(t)}function ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),sn="__reactFiber$"+Ci,Io="__reactProps$"+Ci,In="__reactContainer$"+Ci,ah="__reactEvents$"+Ci,OT="__reactListeners$"+Ci,MT="__reactHandles$"+Ci;function Ga(e){var t=e[sn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[In]||r[sn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jy(e);e!==null;){if(r=e[sn])return r;e=jy(e)}return t}e=r,r=e.parentNode}return null}function dl(e){return e=e[sn]||e[In],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function lu(e){return e[Io]||null}var sh=[],Is=-1;function Ta(e){return{current:e}}function Ae(e){0>Is||(e.current=sh[Is],sh[Is]=null,Is--)}function ke(e,t){Is++,sh[Is]=e.current,e.current=t}var Sa={},Mt=Ta(Sa),Yt=Ta(!1),is=Sa;function ti(e,t){var r=e.type.contextTypes;if(!r)return Sa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(e){return e=e.childContextTypes,e!=null}function Qc(){Ae(Yt),Ae(Mt)}function wy(e,t,r){if(Mt.current!==Sa)throw Error(J(168));ke(Mt,t),ke(Yt,r)}function RN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(J(108,xA(e)||"Unknown",s));return Fe({},r,n)}function Zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,is=Mt.current,ke(Mt,e),ke(Yt,Yt.current),!0}function Ny(e,t,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=RN(e,t,is),n.__reactInternalMemoizedMergedChildContext=e,Ae(Yt),Ae(Mt),ke(Mt,e)):Ae(Yt),ke(Yt,r)}var Nn=null,cu=!1,Gm=!1;function IN(e){Nn===null?Nn=[e]:Nn.push(e)}function LT(e){cu=!0,IN(e)}function Oa(){if(!Gm&&Nn!==null){Gm=!0;var e=0,t=be;try{var r=Nn;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nn=null,cu=!1}catch(s){throw Nn!==null&&(Nn=Nn.slice(e+1)),lN($p,Oa),s}finally{be=t,Gm=!1}}return null}var $s=[],Bs=0,Jc=null,ed=0,Sr=[],kr=0,os=null,kn=1,En="";function Fa(e,t){$s[Bs++]=ed,$s[Bs++]=Jc,Jc=e,ed=t}function $N(e,t,r){Sr[kr++]=kn,Sr[kr++]=En,Sr[kr++]=os,os=e;var n=kn;e=En;var s=32-Kr(n)-1;n&=~(1<<s),r+=1;var i=32-Kr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,kn=1<<32-Kr(t)+s|r<<s|n,En=i+e}else kn=1<<i|r<<s|n,En=e}function Kp(e){e.return!==null&&(Fa(e,1),$N(e,1,0))}function Vp(e){for(;e===Jc;)Jc=$s[--Bs],$s[Bs]=null,ed=$s[--Bs],$s[Bs]=null;for(;e===os;)os=Sr[--kr],Sr[kr]=null,En=Sr[--kr],Sr[kr]=null,kn=Sr[--kr],Sr[kr]=null}var fr=null,ur=null,Le=!1,zr=null;function BN(e,t){var r=Pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fr=e,ur=ga(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fr=e,ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=os!==null?{id:kn,overflow:En}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,fr=e,ur=null,!0):!1;default:return!1}}function ih(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oh(e){if(Le){var t=ur;if(t){var r=t;if(!Cy(e,t)){if(ih(e))throw Error(J(418));t=ga(r.nextSibling);var n=fr;t&&Cy(e,t)?BN(n,r):(e.flags=e.flags&-4097|2,Le=!1,fr=e)}}else{if(ih(e))throw Error(J(418));e.flags=e.flags&-4097|2,Le=!1,fr=e}}}function Sy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fr=e}function Zl(e){if(e!==fr)return!1;if(!Le)return Sy(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rh(e.type,e.memoizedProps)),t&&(t=ur)){if(ih(e))throw FN(),Error(J(418));for(;t;)BN(e,t),t=ga(t.nextSibling)}if(Sy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ur=ga(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ur=null}}else ur=fr?ga(e.stateNode.nextSibling):null;return!0}function FN(){for(var e=ur;e;)e=ga(e.nextSibling)}function ri(){ur=fr=null,Le=!1}function Yp(e){zr===null?zr=[e]:zr.push(e)}var DT=qn.ReactCurrentBatchConfig;function Ki(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function Jl(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ky(e){var t=e._init;return t(e._payload)}function UN(e){function t(v,b){if(e){var j=v.deletions;j===null?(v.deletions=[b],v.flags|=16):j.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=ja(v,b),v.index=0,v.sibling=null,v}function i(v,b,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<b?(v.flags|=2,b):j):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,j,w){return b===null||b.tag!==6?(b=Zm(j,v.mode,w),b.return=v,b):(b=s(b,j),b.return=v,b)}function c(v,b,j,w){var N=j.type;return N===Ms?d(v,b,j.props.children,w,j.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===aa&&ky(N)===b.type)?(w=s(b,j.props),w.ref=Ki(v,b,j),w.return=v,w):(w=_c(j.type,j.key,j.props,null,v.mode,w),w.ref=Ki(v,b,j),w.return=v,w)}function u(v,b,j,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Jm(j,v.mode,w),b.return=v,b):(b=s(b,j.children||[]),b.return=v,b)}function d(v,b,j,w,N){return b===null||b.tag!==7?(b=es(j,v.mode,w,N),b.return=v,b):(b=s(b,j),b.return=v,b)}function m(v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zm(""+b,v.mode,j),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zl:return j=_c(b.type,b.key,b.props,null,v.mode,j),j.ref=Ki(v,null,b),j.return=v,j;case Os:return b=Jm(b,v.mode,j),b.return=v,b;case aa:var w=b._init;return m(v,w(b._payload),j)}if(io(b)||zi(b))return b=es(b,v.mode,j,null),b.return=v,b;Jl(v,b)}return null}function f(v,b,j,w){var N=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(v,b,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zl:return j.key===N?c(v,b,j,w):null;case Os:return j.key===N?u(v,b,j,w):null;case aa:return N=j._init,f(v,b,N(j._payload),w)}if(io(j)||zi(j))return N!==null?null:d(v,b,j,w,null);Jl(v,j)}return null}function h(v,b,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(j)||null,l(b,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zl:return v=v.get(w.key===null?j:w.key)||null,c(b,v,w,N);case Os:return v=v.get(w.key===null?j:w.key)||null,u(b,v,w,N);case aa:var S=w._init;return h(v,b,j,S(w._payload),N)}if(io(w)||zi(w))return v=v.get(j)||null,d(b,v,w,N,null);Jl(b,w)}return null}function p(v,b,j,w){for(var N=null,S=null,P=b,O=b=0,A=null;P!==null&&O<j.length;O++){P.index>O?(A=P,P=null):A=P.sibling;var k=f(v,P,j[O],w);if(k===null){P===null&&(P=A);break}e&&P&&k.alternate===null&&t(v,P),b=i(k,b,O),S===null?N=k:S.sibling=k,S=k,P=A}if(O===j.length)return r(v,P),Le&&Fa(v,O),N;if(P===null){for(;O<j.length;O++)P=m(v,j[O],w),P!==null&&(b=i(P,b,O),S===null?N=P:S.sibling=P,S=P);return Le&&Fa(v,O),N}for(P=n(v,P);O<j.length;O++)A=h(P,v,O,j[O],w),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?O:A.key),b=i(A,b,O),S===null?N=A:S.sibling=A,S=A);return e&&P.forEach(function(R){return t(v,R)}),Le&&Fa(v,O),N}function y(v,b,j,w){var N=zi(j);if(typeof N!="function")throw Error(J(150));if(j=N.call(j),j==null)throw Error(J(151));for(var S=N=null,P=b,O=b=0,A=null,k=j.next();P!==null&&!k.done;O++,k=j.next()){P.index>O?(A=P,P=null):A=P.sibling;var R=f(v,P,k.value,w);if(R===null){P===null&&(P=A);break}e&&P&&R.alternate===null&&t(v,P),b=i(R,b,O),S===null?N=R:S.sibling=R,S=R,P=A}if(k.done)return r(v,P),Le&&Fa(v,O),N;if(P===null){for(;!k.done;O++,k=j.next())k=m(v,k.value,w),k!==null&&(b=i(k,b,O),S===null?N=k:S.sibling=k,S=k);return Le&&Fa(v,O),N}for(P=n(v,P);!k.done;O++,k=j.next())k=h(P,v,O,k.value,w),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?O:k.key),b=i(k,b,O),S===null?N=k:S.sibling=k,S=k);return e&&P.forEach(function(L){return t(v,L)}),Le&&Fa(v,O),N}function g(v,b,j,w){if(typeof j=="object"&&j!==null&&j.type===Ms&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case zl:e:{for(var N=j.key,S=b;S!==null;){if(S.key===N){if(N=j.type,N===Ms){if(S.tag===7){r(v,S.sibling),b=s(S,j.props.children),b.return=v,v=b;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===aa&&ky(N)===S.type){r(v,S.sibling),b=s(S,j.props),b.ref=Ki(v,S,j),b.return=v,v=b;break e}r(v,S);break}else t(v,S);S=S.sibling}j.type===Ms?(b=es(j.props.children,v.mode,w,j.key),b.return=v,v=b):(w=_c(j.type,j.key,j.props,null,v.mode,w),w.ref=Ki(v,b,j),w.return=v,v=w)}return o(v);case Os:e:{for(S=j.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(v,b.sibling),b=s(b,j.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=Jm(j,v.mode,w),b.return=v,v=b}return o(v);case aa:return S=j._init,g(v,b,S(j._payload),w)}if(io(j))return p(v,b,j,w);if(zi(j))return y(v,b,j,w);Jl(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(v,b.sibling),b=s(b,j),b.return=v,v=b):(r(v,b),b=Zm(j,v.mode,w),b.return=v,v=b),o(v)):r(v,b)}return g}var ni=UN(!0),zN=UN(!1),td=Ta(null),rd=null,Fs=null,Xp=null;function Qp(){Xp=Fs=rd=null}function Zp(e){var t=td.current;Ae(td),e._currentValue=t}function lh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vs(e,t){rd=e,Xp=Fs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function Or(e){var t=e._currentValue;if(Xp!==e)if(e={context:e,memoizedValue:t,next:null},Fs===null){if(rd===null)throw Error(J(308));Fs=e,rd.dependencies={lanes:0,firstContext:e}}else Fs=Fs.next=e;return t}var qa=null;function Jp(e){qa===null?qa=[e]:qa.push(e)}function WN(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Jp(t)):(r.next=s.next,s.next=r),t.interleaved=r,$n(e,n)}function $n(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var sa=!1;function ex(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ya(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,$n(e,r)}return s=n.interleaved,s===null?(t.next=t,Jp(n)):(t.next=s.next,s.next=t),n.interleaved=t,$n(e,r)}function Ac(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bp(e,r)}}function Ey(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nd(e,t,r,n){var s=e.updateQueue;sa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,h=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(f=t,h=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){m=p.call(h,m,f);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,m,f):p,f==null)break e;m=Fe({},m,f);break e;case 2:sa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=m):d=d.next=h,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);cs|=o,e.lanes=o,e.memoizedState=m}}function Py(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(J(191,s));s.call(n)}}}var ul={},un=Ta(ul),$o=Ta(ul),Bo=Ta(ul);function Ka(e){if(e===ul)throw Error(J(174));return e}function tx(e,t){switch(ke(Bo,t),ke($o,e),ke(un,ul),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zf(t,e)}Ae(un),ke(un,t)}function ai(){Ae(un),Ae($o),Ae(Bo)}function GN(e){Ka(Bo.current);var t=Ka(un.current),r=zf(t,e.type);t!==r&&(ke($o,e),ke(un,r))}function rx(e){$o.current===e&&(Ae(un),Ae($o))}var Ie=Ta(0);function ad(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qm=[];function nx(){for(var e=0;e<qm.length;e++)qm[e]._workInProgressVersionPrimary=null;qm.length=0}var Tc=qn.ReactCurrentDispatcher,Km=qn.ReactCurrentBatchConfig,ls=0,Be=null,Je=null,lt=null,sd=!1,vo=!1,Fo=0,_T=0;function Nt(){throw Error(J(321))}function ax(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qr(e[r],t[r]))return!1;return!0}function sx(e,t,r,n,s,i){if(ls=i,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tc.current=e===null||e.memoizedState===null?BT:FT,e=r(n,s),vo){i=0;do{if(vo=!1,Fo=0,25<=i)throw Error(J(301));i+=1,lt=Je=null,t.updateQueue=null,Tc.current=UT,e=r(n,s)}while(vo)}if(Tc.current=id,t=Je!==null&&Je.next!==null,ls=0,lt=Je=Be=null,sd=!1,t)throw Error(J(300));return e}function ix(){var e=Fo!==0;return Fo=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Be.memoizedState=lt=e:lt=lt.next=e,lt}function Mr(){if(Je===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=lt===null?Be.memoizedState:lt.next;if(t!==null)lt=t,Je=e;else{if(e===null)throw Error(J(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},lt===null?Be.memoizedState=lt=e:lt=lt.next=e}return lt}function Uo(e,t){return typeof t=="function"?t(e):t}function Vm(e){var t=Mr(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=Je,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ls&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,Be.lanes|=d,cs|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Qr(n,t.memoizedState)||(Kt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Be.lanes|=i,cs|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ym(e){var t=Mr(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Qr(i,t.memoizedState)||(Kt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function qN(){}function KN(e,t){var r=Be,n=Mr(),s=t(),i=!Qr(n.memoizedState,s);if(i&&(n.memoizedState=s,Kt=!0),n=n.queue,ox(XN.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,zo(9,YN.bind(null,r,n,s,t),void 0,null),dt===null)throw Error(J(349));ls&30||VN(r,t,s)}return s}function VN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function YN(e,t,r,n){t.value=r,t.getSnapshot=n,QN(t)&&ZN(e)}function XN(e,t,r){return r(function(){QN(t)&&ZN(e)})}function QN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qr(e,r)}catch{return!0}}function ZN(e){var t=$n(e,1);t!==null&&Vr(t,e,1,-1)}function Ay(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=$T.bind(null,Be,e),[t.memoizedState,e]}function zo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function JN(){return Mr().memoizedState}function Oc(e,t,r,n){var s=an();Be.flags|=e,s.memoizedState=zo(1|t,r,void 0,n===void 0?null:n)}function du(e,t,r,n){var s=Mr();n=n===void 0?null:n;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,n!==null&&ax(n,o.deps)){s.memoizedState=zo(t,r,i,n);return}}Be.flags|=e,s.memoizedState=zo(1|t,r,i,n)}function Ty(e,t){return Oc(8390656,8,e,t)}function ox(e,t){return du(2048,8,e,t)}function e1(e,t){return du(4,2,e,t)}function t1(e,t){return du(4,4,e,t)}function r1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n1(e,t,r){return r=r!=null?r.concat([e]):null,du(4,4,r1.bind(null,t,e),r)}function lx(){}function a1(e,t){var r=Mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ax(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function s1(e,t){var r=Mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ax(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function i1(e,t,r){return ls&21?(Qr(r,t)||(r=uN(),Be.lanes|=r,cs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=r)}function RT(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=Km.transition;Km.transition={};try{e(!1),t()}finally{be=r,Km.transition=n}}function o1(){return Mr().memoizedState}function IT(e,t,r){var n=ba(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},l1(e))c1(t,r);else if(r=WN(e,t,r,n),r!==null){var s=Ft();Vr(r,e,n,s),d1(r,t,n)}}function $T(e,t,r){var n=ba(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(l1(e))c1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Qr(l,o)){var c=t.interleaved;c===null?(s.next=s,Jp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=WN(e,t,s,n),r!==null&&(s=Ft(),Vr(r,e,n,s),d1(r,t,n))}}function l1(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function c1(e,t){vo=sd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function d1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bp(e,r)}}var id={readContext:Or,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},BT={readContext:Or,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Or,useEffect:Ty,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Oc(4194308,4,r1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Oc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oc(4,2,e,t)},useMemo:function(e,t){var r=an();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=an();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=IT.bind(null,Be,e),[n.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:Ay,useDebugValue:lx,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=Ay(!1),t=e[0];return e=RT.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Be,s=an();if(Le){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),dt===null)throw Error(J(349));ls&30||VN(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ty(XN.bind(null,n,i,e),[e]),n.flags|=2048,zo(9,YN.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=an(),t=dt.identifierPrefix;if(Le){var r=En,n=kn;r=(n&~(1<<32-Kr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_T++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FT={readContext:Or,useCallback:a1,useContext:Or,useEffect:ox,useImperativeHandle:n1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:Vm,useRef:JN,useState:function(){return Vm(Uo)},useDebugValue:lx,useDeferredValue:function(e){var t=Mr();return i1(t,Je.memoizedState,e)},useTransition:function(){var e=Vm(Uo)[0],t=Mr().memoizedState;return[e,t]},useMutableSource:qN,useSyncExternalStore:KN,useId:o1,unstable_isNewReconciler:!1},UT={readContext:Or,useCallback:a1,useContext:Or,useEffect:ox,useImperativeHandle:n1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:Ym,useRef:JN,useState:function(){return Ym(Uo)},useDebugValue:lx,useDeferredValue:function(e){var t=Mr();return Je===null?t.memoizedState=e:i1(t,Je.memoizedState,e)},useTransition:function(){var e=Ym(Uo)[0],t=Mr().memoizedState;return[e,t]},useMutableSource:qN,useSyncExternalStore:KN,useId:o1,unstable_isNewReconciler:!1};function Br(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ch(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var uu={isMounted:function(e){return(e=e._reactInternals)?Ns(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ft(),s=ba(e),i=Mn(n,s);i.payload=t,r!=null&&(i.callback=r),t=ya(e,i,s),t!==null&&(Vr(t,e,s,n),Ac(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ft(),s=ba(e),i=Mn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ya(e,i,s),t!==null&&(Vr(t,e,s,n),Ac(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),n=ba(e),s=Mn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ya(e,s,n),t!==null&&(Vr(t,e,n,r),Ac(t,e,n))}};function Oy(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Do(r,n)||!Do(s,i):!0}function u1(e,t,r){var n=!1,s=Sa,i=t.contextType;return typeof i=="object"&&i!==null?i=Or(i):(s=Xt(t)?is:Mt.current,n=t.contextTypes,i=(n=n!=null)?ti(e,s):Sa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=uu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function My(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&uu.enqueueReplaceState(t,t.state,null)}function dh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ex(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Or(i):(i=Xt(t)?is:Mt.current,s.context=ti(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ch(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&uu.enqueueReplaceState(s,s.state,null),nd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function si(e,t){try{var r="",n=t;do r+=pA(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Xm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zT=typeof WeakMap=="function"?WeakMap:Map;function m1(e,t,r){r=Mn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ld||(ld=!0,jh=n),uh(e,t)},r}function f1(e,t,r){r=Mn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){uh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){uh(e,t),typeof n!="function"&&(va===null?va=new Set([this]):va.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ly(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new zT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=rO.bind(null,e,t,r),t.then(e,e))}function Dy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _y(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mn(-1,1),t.tag=2,ya(r,t,1))),r.lanes|=1),e)}var WT=qn.ReactCurrentOwner,Kt=!1;function Dt(e,t,r,n){t.child=e===null?zN(t,null,r,n):ni(t,e.child,r,n)}function Ry(e,t,r,n,s){r=r.render;var i=t.ref;return Vs(t,s),n=sx(e,t,r,n,i,s),r=ix(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Le&&r&&Kp(t),t.flags|=1,Dt(e,t,n,s),t.child)}function Iy(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!xx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,h1(e,t,i,n,s)):(e=_c(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Do,r(o,n)&&e.ref===t.ref)return Bn(e,t,s)}return t.flags|=1,e=ja(i,n),e.ref=t.ref,e.return=t,t.child=e}function h1(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Do(i,n)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,Bn(e,t,s)}return mh(e,t,r,n,s)}function p1(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(zs,ir),ir|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(zs,ir),ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ke(zs,ir),ir|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ke(zs,ir),ir|=n;return Dt(e,t,s,r),t.child}function x1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function mh(e,t,r,n,s){var i=Xt(r)?is:Mt.current;return i=ti(t,i),Vs(t,s),r=sx(e,t,r,n,i,s),n=ix(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Le&&n&&Kp(t),t.flags|=1,Dt(e,t,r,s),t.child)}function $y(e,t,r,n,s){if(Xt(r)){var i=!0;Zc(t)}else i=!1;if(Vs(t,s),t.stateNode===null)Mc(e,t),u1(t,r,n),dh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Or(u):(u=Xt(r)?is:Mt.current,u=ti(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&My(t,o,n,u),sa=!1;var f=t.memoizedState;o.state=f,nd(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Yt.current||sa?(typeof d=="function"&&(ch(t,r,d,n),c=t.memoizedState),(l=sa||Oy(t,r,l,n,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,HN(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Br(t.type,l),o.props=u,m=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Or(c):(c=Xt(r)?is:Mt.current,c=ti(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&My(t,o,n,c),sa=!1,f=t.memoizedState,o.state=f,nd(t,n,o,s);var p=t.memoizedState;l!==m||f!==p||Yt.current||sa?(typeof h=="function"&&(ch(t,r,h,n),p=t.memoizedState),(u=sa||Oy(t,r,u,n,f,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return fh(e,t,r,n,i,s)}function fh(e,t,r,n,s,i){x1(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ny(t,r,!1),Bn(e,t,i);n=t.stateNode,WT.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ni(t,e.child,null,i),t.child=ni(t,null,l,i)):Dt(e,t,l,i),t.memoizedState=n.state,s&&Ny(t,r,!0),t.child}function g1(e){var t=e.stateNode;t.pendingContext?wy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wy(e,t.context,!1),tx(e,t.containerInfo)}function By(e,t,r,n,s){return ri(),Yp(s),t.flags|=256,Dt(e,t,r,n),t.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function ph(e){return{baseLanes:e,cachePool:null,transitions:null}}function y1(e,t,r){var n=t.pendingProps,s=Ie.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(Ie,s&1),e===null)return oh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hu(o,n,0,null),e=es(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ph(r),t.memoizedState=hh,e):cx(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return HT(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ja(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ja(l,i):(i=es(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ph(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=hh,n}return i=e.child,e=i.sibling,n=ja(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function cx(e,t){return t=hu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ec(e,t,r,n){return n!==null&&Yp(n),ni(t,e.child,null,r),e=cx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HT(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Xm(Error(J(422))),ec(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=hu({mode:"visible",children:n.children},s,0,null),i=es(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ni(t,e.child,null,o),t.child.memoizedState=ph(o),t.memoizedState=hh,i);if(!(t.mode&1))return ec(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(J(419)),n=Xm(i,n,void 0),ec(e,t,o,n)}if(l=(o&e.childLanes)!==0,Kt||l){if(n=dt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$n(e,s),Vr(n,e,s,-1))}return px(),n=Xm(Error(J(421))),ec(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=nO.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ur=ga(s.nextSibling),fr=t,Le=!0,zr=null,e!==null&&(Sr[kr++]=kn,Sr[kr++]=En,Sr[kr++]=os,kn=e.id,En=e.overflow,os=t),t=cx(t,n.children),t.flags|=4096,t)}function Fy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lh(e.return,t,r)}function Qm(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function v1(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Dt(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fy(e,r,t);else if(e.tag===19)Fy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ke(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ad(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Qm(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ad(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Qm(t,!0,r,null,i);break;case"together":Qm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=ja(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ja(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function GT(e,t,r){switch(t.tag){case 3:g1(t),ri();break;case 5:GN(t);break;case 1:Xt(t.type)&&Zc(t);break;case 4:tx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ke(td,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ke(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?y1(e,t,r):(ke(Ie,Ie.current&1),e=Bn(e,t,r),e!==null?e.sibling:null);ke(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return v1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,p1(e,t,r)}return Bn(e,t,r)}var b1,xh,j1,w1;b1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xh=function(){};j1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ka(un.current);var i=null;switch(r){case"input":s=$f(e,s),n=$f(e,n),i=[];break;case"select":s=Fe({},s,{value:void 0}),n=Fe({},n,{value:void 0}),i=[];break;case"textarea":s=Uf(e,s),n=Uf(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xc)}Wf(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ee("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};w1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vi(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qT(e,t,r){var n=t.pendingProps;switch(Vp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Xt(t.type)&&Qc(),Ct(t),null;case 3:return n=t.stateNode,ai(),Ae(Yt),Ae(Mt),nx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zr!==null&&(Ch(zr),zr=null))),xh(e,t),Ct(t),null;case 5:rx(t);var s=Ka(Bo.current);if(r=t.type,e!==null&&t.stateNode!=null)j1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(J(166));return Ct(t),null}if(e=Ka(un.current),Zl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[sn]=t,n[Io]=i,e=(t.mode&1)!==0,r){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(s=0;s<lo.length;s++)Ee(lo[s],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Y0(n,i),Ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",n);break;case"textarea":Q0(n,i),Ee("invalid",n)}Wf(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ql(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ql(n.textContent,l,e),s=["children",""+l]):Eo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ee("scroll",n)}switch(r){case"input":Wl(n),X0(n,i,!0);break;case"textarea":Wl(n),Z0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Xc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[sn]=t,e[Io]=n,b1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hf(r,n),r){case"dialog":Ee("cancel",e),Ee("close",e),s=n;break;case"iframe":case"object":case"embed":Ee("load",e),s=n;break;case"video":case"audio":for(s=0;s<lo.length;s++)Ee(lo[s],e);s=n;break;case"source":Ee("error",e),s=n;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),s=n;break;case"details":Ee("toggle",e),s=n;break;case"input":Y0(e,n),s=$f(e,n),Ee("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Fe({},n,{value:void 0}),Ee("invalid",e);break;case"textarea":Q0(e,n),s=Uf(e,n),Ee("invalid",e);break;default:s=n}Wf(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Jw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Po(e,c):typeof c=="number"&&Po(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",e):c!=null&&Lp(e,i,c,o))}switch(r){case"input":Wl(e),X0(e,n,!1);break;case"textarea":Wl(e),Z0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ca(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Hs(e,!!n.multiple,i,!1):n.defaultValue!=null&&Hs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)w1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(J(166));if(r=Ka(Bo.current),Ka(un.current),Zl(t)){if(n=t.stateNode,r=t.memoizedProps,n[sn]=t,(i=n.nodeValue!==r)&&(e=fr,e!==null))switch(e.tag){case 3:Ql(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ql(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[sn]=t,t.stateNode=n}return Ct(t),null;case 13:if(Ae(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&ur!==null&&t.mode&1&&!(t.flags&128))FN(),ri(),t.flags|=98560,i=!1;else if(i=Zl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(J(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[sn]=t}else ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),i=!1}else zr!==null&&(Ch(zr),zr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?tt===0&&(tt=3):px())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return ai(),xh(e,t),e===null&&_o(t.stateNode.containerInfo),Ct(t),null;case 10:return Zp(t.type._context),Ct(t),null;case 17:return Xt(t.type)&&Qc(),Ct(t),null;case 19:if(Ae(Ie),i=t.memoizedState,i===null)return Ct(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Vi(i,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ad(e),o!==null){for(t.flags|=128,Vi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ke(Ie,Ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&qe()>ii&&(t.flags|=128,n=!0,Vi(i,!1),t.lanes=4194304)}else{if(!n)if(e=ad(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Le)return Ct(t),null}else 2*qe()-i.renderingStartTime>ii&&r!==1073741824&&(t.flags|=128,n=!0,Vi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qe(),t.sibling=null,r=Ie.current,ke(Ie,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return hx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ir&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function KT(e,t){switch(Vp(t),t.tag){case 1:return Xt(t.type)&&Qc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(),Ae(Yt),Ae(Mt),nx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rx(t),null;case 13:if(Ae(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Ie),null;case 4:return ai(),null;case 10:return Zp(t.type._context),null;case 22:case 23:return hx(),null;case 24:return null;default:return null}}var tc=!1,kt=!1,VT=typeof WeakSet=="function"?WeakSet:Set,re=null;function Us(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ze(e,t,n)}else r.current=null}function gh(e,t,r){try{r()}catch(n){ze(e,t,n)}}var Uy=!1;function YT(e,t){if(eh=Kc,e=EN(),qp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var h;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)f=m,m=h;for(;;){if(m===e)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(h=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(th={focusedElem:e,selectionRange:r},Kc=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,g=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Br(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(w){ze(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return p=Uy,Uy=!1,p}function bo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&gh(t,r,i)}s=s.next}while(s!==n)}}function mu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function N1(e){var t=e.alternate;t!==null&&(e.alternate=null,N1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[Io],delete t[ah],delete t[OT],delete t[MT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function C1(e){return e.tag===5||e.tag===3||e.tag===4}function zy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||C1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xc));else if(n!==4&&(e=e.child,e!==null))for(vh(e,t,r),e=e.sibling;e!==null;)vh(e,t,r),e=e.sibling}function bh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bh(e,t,r),e=e.sibling;e!==null;)bh(e,t,r),e=e.sibling}var ht=null,Ur=!1;function ra(e,t,r){for(r=r.child;r!==null;)S1(e,t,r),r=r.sibling}function S1(e,t,r){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(au,r)}catch{}switch(r.tag){case 5:kt||Us(r,t);case 6:var n=ht,s=Ur;ht=null,ra(e,t,r),ht=n,Ur=s,ht!==null&&(Ur?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(Ur?(e=ht,r=r.stateNode,e.nodeType===8?Hm(e.parentNode,r):e.nodeType===1&&Hm(e,r),Mo(e)):Hm(ht,r.stateNode));break;case 4:n=ht,s=Ur,ht=r.stateNode.containerInfo,Ur=!0,ra(e,t,r),ht=n,Ur=s;break;case 0:case 11:case 14:case 15:if(!kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gh(r,t,o),s=s.next}while(s!==n)}ra(e,t,r);break;case 1:if(!kt&&(Us(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ze(r,t,l)}ra(e,t,r);break;case 21:ra(e,t,r);break;case 22:r.mode&1?(kt=(n=kt)||r.memoizedState!==null,ra(e,t,r),kt=n):ra(e,t,r);break;default:ra(e,t,r)}}function Wy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new VT),t.forEach(function(n){var s=aO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function $r(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,Ur=!1;break e;case 3:ht=l.stateNode.containerInfo,Ur=!0;break e;case 4:ht=l.stateNode.containerInfo,Ur=!0;break e}l=l.return}if(ht===null)throw Error(J(160));S1(i,o,s),ht=null,Ur=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ze(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)k1(t,e),t=t.sibling}function k1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($r(t,e),rn(e),n&4){try{bo(3,e,e.return),mu(3,e)}catch(y){ze(e,e.return,y)}try{bo(5,e,e.return)}catch(y){ze(e,e.return,y)}}break;case 1:$r(t,e),rn(e),n&512&&r!==null&&Us(r,r.return);break;case 5:if($r(t,e),rn(e),n&512&&r!==null&&Us(r,r.return),e.flags&32){var s=e.stateNode;try{Po(s,"")}catch(y){ze(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Vw(s,i),Hf(l,o);var u=Hf(l,i);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?Jw(s,m):d==="dangerouslySetInnerHTML"?Qw(s,m):d==="children"?Po(s,m):Lp(s,d,m,u)}switch(l){case"input":Bf(s,i);break;case"textarea":Yw(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Hs(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Hs(s,!!i.multiple,i.defaultValue,!0):Hs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Io]=i}catch(y){ze(e,e.return,y)}}break;case 6:if($r(t,e),rn(e),n&4){if(e.stateNode===null)throw Error(J(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ze(e,e.return,y)}}break;case 3:if($r(t,e),rn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mo(t.containerInfo)}catch(y){ze(e,e.return,y)}break;case 4:$r(t,e),rn(e);break;case 13:$r(t,e),rn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mx=qe())),n&4&&Wy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(kt=(u=kt)||d,$r(t,e),kt=u):$r(t,e),rn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(m=re=d;re!==null;){switch(f=re,h=f.child,f.tag){case 0:case 11:case 14:case 15:bo(4,f,f.return);break;case 1:Us(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){ze(n,r,y)}}break;case 5:Us(f,f.return);break;case 22:if(f.memoizedState!==null){Gy(m);continue}}h!==null?(h.return=f,re=h):Gy(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Zw("display",o))}catch(y){ze(e,e.return,y)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){ze(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:$r(t,e),rn(e),n&4&&Wy(e);break;case 21:break;default:$r(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(C1(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Po(s,""),n.flags&=-33);var i=zy(e);bh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=zy(e);vh(e,l,o);break;default:throw Error(J(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XT(e,t,r){re=e,E1(e)}function E1(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||tc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||kt;l=tc;var u=kt;if(tc=o,(kt=c)&&!u)for(re=s;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?qy(s):c!==null?(c.return=o,re=c):qy(s);for(;i!==null;)re=i,E1(i),i=i.sibling;re=s,tc=l,kt=u}Hy(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):Hy(e)}}function Hy(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||mu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!kt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Br(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Py(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Py(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Mo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}kt||t.flags&512&&yh(t)}catch(f){ze(t,t.return,f)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function Gy(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function qy(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mu(4,t)}catch(c){ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ze(t,s,c)}}var i=t.return;try{yh(t)}catch(c){ze(t,i,c)}break;case 5:var o=t.return;try{yh(t)}catch(c){ze(t,o,c)}}}catch(c){ze(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var QT=Math.ceil,od=qn.ReactCurrentDispatcher,dx=qn.ReactCurrentOwner,Tr=qn.ReactCurrentBatchConfig,xe=0,dt=null,Xe=null,yt=0,ir=0,zs=Ta(0),tt=0,Wo=null,cs=0,fu=0,ux=0,jo=null,Ht=null,mx=0,ii=1/0,wn=null,ld=!1,jh=null,va=null,rc=!1,ma=null,cd=0,wo=0,wh=null,Lc=-1,Dc=0;function Ft(){return xe&6?qe():Lc!==-1?Lc:Lc=qe()}function ba(e){return e.mode&1?xe&2&&yt!==0?yt&-yt:DT.transition!==null?(Dc===0&&(Dc=uN()),Dc):(e=be,e!==0||(e=window.event,e=e===void 0?16:yN(e.type)),e):1}function Vr(e,t,r,n){if(50<wo)throw wo=0,wh=null,Error(J(185));ll(e,r,n),(!(xe&2)||e!==dt)&&(e===dt&&(!(xe&2)&&(fu|=r),tt===4&&ca(e,yt)),Qt(e,n),r===1&&xe===0&&!(t.mode&1)&&(ii=qe()+500,cu&&Oa()))}function Qt(e,t){var r=e.callbackNode;DA(e,t);var n=qc(e,e===dt?yt:0);if(n===0)r!==null&&ty(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ty(r),t===1)e.tag===0?LT(Ky.bind(null,e)):IN(Ky.bind(null,e)),AT(function(){!(xe&6)&&Oa()}),r=null;else{switch(mN(n)){case 1:r=$p;break;case 4:r=cN;break;case 16:r=Gc;break;case 536870912:r=dN;break;default:r=Gc}r=_1(r,P1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function P1(e,t){if(Lc=-1,Dc=0,xe&6)throw Error(J(327));var r=e.callbackNode;if(Ys()&&e.callbackNode!==r)return null;var n=qc(e,e===dt?yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dd(e,n);else{t=n;var s=xe;xe|=2;var i=T1();(dt!==e||yt!==t)&&(wn=null,ii=qe()+500,Ja(e,t));do try{eO();break}catch(l){A1(e,l)}while(!0);Qp(),od.current=i,xe=s,Xe!==null?t=0:(dt=null,yt=0,t=tt)}if(t!==0){if(t===2&&(s=Yf(e),s!==0&&(n=s,t=Nh(e,s))),t===1)throw r=Wo,Ja(e,0),ca(e,n),Qt(e,qe()),r;if(t===6)ca(e,n);else{if(s=e.current.alternate,!(n&30)&&!ZT(s)&&(t=dd(e,n),t===2&&(i=Yf(e),i!==0&&(n=i,t=Nh(e,i))),t===1))throw r=Wo,Ja(e,0),ca(e,n),Qt(e,qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(J(345));case 2:Ua(e,Ht,wn);break;case 3:if(ca(e,n),(n&130023424)===n&&(t=mx+500-qe(),10<t)){if(qc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=nh(Ua.bind(null,e,Ht,wn),t);break}Ua(e,Ht,wn);break;case 4:if(ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Kr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QT(n/1960))-n,10<n){e.timeoutHandle=nh(Ua.bind(null,e,Ht,wn),n);break}Ua(e,Ht,wn);break;case 5:Ua(e,Ht,wn);break;default:throw Error(J(329))}}}return Qt(e,qe()),e.callbackNode===r?P1.bind(null,e):null}function Nh(e,t){var r=jo;return e.current.memoizedState.isDehydrated&&(Ja(e,t).flags|=256),e=dd(e,t),e!==2&&(t=Ht,Ht=r,t!==null&&Ch(t)),e}function Ch(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function ZT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Qr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t){for(t&=~ux,t&=~fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kr(t),n=1<<r;e[r]=-1,t&=~n}}function Ky(e){if(xe&6)throw Error(J(327));Ys();var t=qc(e,0);if(!(t&1))return Qt(e,qe()),null;var r=dd(e,t);if(e.tag!==0&&r===2){var n=Yf(e);n!==0&&(t=n,r=Nh(e,n))}if(r===1)throw r=Wo,Ja(e,0),ca(e,t),Qt(e,qe()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ua(e,Ht,wn),Qt(e,qe()),null}function fx(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(ii=qe()+500,cu&&Oa())}}function ds(e){ma!==null&&ma.tag===0&&!(xe&6)&&Ys();var t=xe;xe|=1;var r=Tr.transition,n=be;try{if(Tr.transition=null,be=1,e)return e()}finally{be=n,Tr.transition=r,xe=t,!(xe&6)&&Oa()}}function hx(){ir=zs.current,Ae(zs)}function Ja(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,PT(r)),Xe!==null)for(r=Xe.return;r!==null;){var n=r;switch(Vp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qc();break;case 3:ai(),Ae(Yt),Ae(Mt),nx();break;case 5:rx(n);break;case 4:ai();break;case 13:Ae(Ie);break;case 19:Ae(Ie);break;case 10:Zp(n.type._context);break;case 22:case 23:hx()}r=r.return}if(dt=e,Xe=e=ja(e.current,null),yt=ir=t,tt=0,Wo=null,ux=fu=cs=0,Ht=jo=null,qa!==null){for(t=0;t<qa.length;t++)if(r=qa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}qa=null}return e}function A1(e,t){do{var r=Xe;try{if(Qp(),Tc.current=id,sd){for(var n=Be.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sd=!1}if(ls=0,lt=Je=Be=null,vo=!1,Fo=0,dx.current=null,r===null||r.return===null){tt=1,Wo=t,Xe=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Dy(o);if(h!==null){h.flags&=-257,_y(h,o,l,i,t),h.mode&1&&Ly(i,u,t),t=h,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){Ly(i,u,t),px();break e}c=Error(J(426))}}else if(Le&&l.mode&1){var g=Dy(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),_y(g,o,l,i,t),Yp(si(c,l));break e}}i=c=si(c,l),tt!==4&&(tt=2),jo===null?jo=[i]:jo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=m1(i,c,t);Ey(i,v);break e;case 1:l=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(va===null||!va.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=f1(i,l,t);Ey(i,w);break e}}i=i.return}while(i!==null)}M1(r)}catch(N){t=N,Xe===r&&r!==null&&(Xe=r=r.return);continue}break}while(!0)}function T1(){var e=od.current;return od.current=id,e===null?id:e}function px(){(tt===0||tt===3||tt===2)&&(tt=4),dt===null||!(cs&268435455)&&!(fu&268435455)||ca(dt,yt)}function dd(e,t){var r=xe;xe|=2;var n=T1();(dt!==e||yt!==t)&&(wn=null,Ja(e,t));do try{JT();break}catch(s){A1(e,s)}while(!0);if(Qp(),xe=r,od.current=n,Xe!==null)throw Error(J(261));return dt=null,yt=0,tt}function JT(){for(;Xe!==null;)O1(Xe)}function eO(){for(;Xe!==null&&!SA();)O1(Xe)}function O1(e){var t=D1(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?M1(e):Xe=t,dx.current=null}function M1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=KT(r,t),r!==null){r.flags&=32767,Xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Xe=null;return}}else if(r=qT(r,t,ir),r!==null){Xe=r;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);tt===0&&(tt=5)}function Ua(e,t,r){var n=be,s=Tr.transition;try{Tr.transition=null,be=1,tO(e,t,r,n)}finally{Tr.transition=s,be=n}return null}function tO(e,t,r,n){do Ys();while(ma!==null);if(xe&6)throw Error(J(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(_A(e,i),e===dt&&(Xe=dt=null,yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rc||(rc=!0,_1(Gc,function(){return Ys(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Tr.transition,Tr.transition=null;var o=be;be=1;var l=xe;xe|=4,dx.current=null,YT(e,r),k1(r,e),jT(th),Kc=!!eh,th=eh=null,e.current=r,XT(r),kA(),xe=l,be=o,Tr.transition=i}else e.current=r;if(rc&&(rc=!1,ma=e,cd=s),i=e.pendingLanes,i===0&&(va=null),AA(r.stateNode),Qt(e,qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ld)throw ld=!1,e=jh,jh=null,e;return cd&1&&e.tag!==0&&Ys(),i=e.pendingLanes,i&1?e===wh?wo++:(wo=0,wh=e):wo=0,Oa(),null}function Ys(){if(ma!==null){var e=mN(cd),t=Tr.transition,r=be;try{if(Tr.transition=null,be=16>e?16:e,ma===null)var n=!1;else{if(e=ma,ma=null,cd=0,xe&6)throw Error(J(331));var s=xe;for(xe|=4,re=e.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:bo(8,d,i)}var m=d.child;if(m!==null)m.return=d,re=m;else for(;re!==null;){d=re;var f=d.sibling,h=d.return;if(N1(d),d===u){re=null;break}if(f!==null){f.return=h,re=f;break}re=h}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(y!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,re=v;break e}re=i.return}}var b=e.current;for(re=b;re!==null;){o=re;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,re=j;else e:for(o=b;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mu(9,l)}}catch(N){ze(l,l.return,N)}if(l===o){re=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,re=w;break e}re=l.return}}if(xe=s,Oa(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(au,e)}catch{}n=!0}return n}finally{be=r,Tr.transition=t}}return!1}function Vy(e,t,r){t=si(r,t),t=m1(e,t,1),e=ya(e,t,1),t=Ft(),e!==null&&(ll(e,1,t),Qt(e,t))}function ze(e,t,r){if(e.tag===3)Vy(e,e,r);else for(;t!==null;){if(t.tag===3){Vy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(va===null||!va.has(n))){e=si(r,e),e=f1(t,e,1),t=ya(t,e,1),e=Ft(),t!==null&&(ll(t,1,e),Qt(t,e));break}}t=t.return}}function rO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(yt&r)===r&&(tt===4||tt===3&&(yt&130023424)===yt&&500>qe()-mx?Ja(e,0):ux|=r),Qt(e,t)}function L1(e,t){t===0&&(e.mode&1?(t=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):t=1);var r=Ft();e=$n(e,t),e!==null&&(ll(e,t,r),Qt(e,r))}function nO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),L1(e,r)}function aO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(t),L1(e,r)}var D1;D1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Kt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Kt=!1,GT(e,t,r);Kt=!!(e.flags&131072)}else Kt=!1,Le&&t.flags&1048576&&$N(t,ed,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Mc(e,t),e=t.pendingProps;var s=ti(t,Mt.current);Vs(t,r),s=sx(null,t,n,e,s,r);var i=ix();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(n)?(i=!0,Zc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ex(t),s.updater=uu,t.stateNode=s,s._reactInternals=t,dh(t,n,e,r),t=fh(null,t,n,!0,i,r)):(t.tag=0,Le&&i&&Kp(t),Dt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Mc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=iO(n),e=Br(n,e),s){case 0:t=mh(null,t,n,e,r);break e;case 1:t=$y(null,t,n,e,r);break e;case 11:t=Ry(null,t,n,e,r);break e;case 14:t=Iy(null,t,n,Br(n.type,e),r);break e}throw Error(J(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Br(n,s),mh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Br(n,s),$y(e,t,n,s,r);case 3:e:{if(g1(t),e===null)throw Error(J(387));n=t.pendingProps,i=t.memoizedState,s=i.element,HN(e,t),nd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=si(Error(J(423)),t),t=By(e,t,n,r,s);break e}else if(n!==s){s=si(Error(J(424)),t),t=By(e,t,n,r,s);break e}else for(ur=ga(t.stateNode.containerInfo.firstChild),fr=t,Le=!0,zr=null,r=zN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ri(),n===s){t=Bn(e,t,r);break e}Dt(e,t,n,r)}t=t.child}return t;case 5:return GN(t),e===null&&oh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,rh(n,s)?o=null:i!==null&&rh(n,i)&&(t.flags|=32),x1(e,t),Dt(e,t,o,r),t.child;case 6:return e===null&&oh(t),null;case 13:return y1(e,t,r);case 4:return tx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ni(t,null,n,r):Dt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Br(n,s),Ry(e,t,n,s,r);case 7:return Dt(e,t,t.pendingProps,r),t.child;case 8:return Dt(e,t,t.pendingProps.children,r),t.child;case 12:return Dt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ke(td,n._currentValue),n._currentValue=o,i!==null)if(Qr(i.value,o)){if(i.children===s.children&&!Yt.current){t=Bn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Mn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),lh(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),lh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Dt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vs(t,r),s=Or(s),n=n(s),t.flags|=1,Dt(e,t,n,r),t.child;case 14:return n=t.type,s=Br(n,t.pendingProps),s=Br(n.type,s),Iy(e,t,n,s,r);case 15:return h1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Br(n,s),Mc(e,t),t.tag=1,Xt(n)?(e=!0,Zc(t)):e=!1,Vs(t,r),u1(t,n,s),dh(t,n,s,r),fh(null,t,n,!0,e,r);case 19:return v1(e,t,r);case 22:return p1(e,t,r)}throw Error(J(156,t.tag))};function _1(e,t){return lN(e,t)}function sO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(e,t,r,n){return new sO(e,t,r,n)}function xx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iO(e){if(typeof e=="function")return xx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_p)return 11;if(e===Rp)return 14}return 2}function ja(e,t){var r=e.alternate;return r===null?(r=Pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _c(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")xx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ms:return es(r.children,s,i,t);case Dp:o=8,s|=8;break;case Df:return e=Pr(12,r,t,s|2),e.elementType=Df,e.lanes=i,e;case _f:return e=Pr(13,r,t,s),e.elementType=_f,e.lanes=i,e;case Rf:return e=Pr(19,r,t,s),e.elementType=Rf,e.lanes=i,e;case Gw:return hu(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ww:o=10;break e;case Hw:o=9;break e;case _p:o=11;break e;case Rp:o=14;break e;case aa:o=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Pr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function es(e,t,r,n){return e=Pr(7,e,n,t),e.lanes=r,e}function hu(e,t,r,n){return e=Pr(22,e,n,t),e.elementType=Gw,e.lanes=r,e.stateNode={isHidden:!1},e}function Zm(e,t,r){return e=Pr(6,e,null,t),e.lanes=r,e}function Jm(e,t,r){return t=Pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lm(0),this.expirationTimes=Lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gx(e,t,r,n,s,i,o,l,c){return e=new oO(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Pr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ex(i),e}function lO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function R1(e){if(!e)return Sa;e=e._reactInternals;e:{if(Ns(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(Xt(r))return RN(e,r,t)}return t}function I1(e,t,r,n,s,i,o,l,c){return e=gx(r,n,!0,e,s,i,o,l,c),e.context=R1(null),r=e.current,n=Ft(),s=ba(r),i=Mn(n,s),i.callback=t??null,ya(r,i,s),e.current.lanes=s,ll(e,s,n),Qt(e,n),e}function pu(e,t,r,n){var s=t.current,i=Ft(),o=ba(s);return r=R1(r),t.context===null?t.context=r:t.pendingContext=r,t=Mn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ya(s,t,o),e!==null&&(Vr(e,s,o,i),Ac(e,s,o)),o}function ud(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yx(e,t){Yy(e,t),(e=e.alternate)&&Yy(e,t)}function cO(){return null}var $1=typeof reportError=="function"?reportError:function(e){console.error(e)};function vx(e){this._internalRoot=e}xu.prototype.render=vx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));pu(e,t,null,null)};xu.prototype.unmount=vx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ds(function(){pu(null,e,null,null)}),t[In]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=pN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<la.length&&t!==0&&t<la[r].priority;r++);la.splice(r,0,e),r===0&&gN(e)}};function bx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xy(){}function dO(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ud(o);i.call(u)}}var o=I1(t,n,e,0,null,!1,!1,"",Xy);return e._reactRootContainer=o,e[In]=o.current,_o(e.nodeType===8?e.parentNode:e),ds(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ud(c);l.call(u)}}var c=gx(e,0,!1,null,null,!1,!1,"",Xy);return e._reactRootContainer=c,e[In]=c.current,_o(e.nodeType===8?e.parentNode:e),ds(function(){pu(t,c,r,n)}),c}function yu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ud(o);l.call(c)}}pu(t,o,e,s)}else o=dO(r,t,e,s,n);return ud(o)}fN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=oo(t.pendingLanes);r!==0&&(Bp(t,r|1),Qt(t,qe()),!(xe&6)&&(ii=qe()+500,Oa()))}break;case 13:ds(function(){var n=$n(e,1);if(n!==null){var s=Ft();Vr(n,e,1,s)}}),yx(e,1)}};Fp=function(e){if(e.tag===13){var t=$n(e,134217728);if(t!==null){var r=Ft();Vr(t,e,134217728,r)}yx(e,134217728)}};hN=function(e){if(e.tag===13){var t=ba(e),r=$n(e,t);if(r!==null){var n=Ft();Vr(r,e,t,n)}yx(e,t)}};pN=function(){return be};xN=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};qf=function(e,t,r){switch(t){case"input":if(Bf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=lu(n);if(!s)throw Error(J(90));Kw(n),Bf(n,s)}}}break;case"textarea":Yw(e,r);break;case"select":t=r.value,t!=null&&Hs(e,!!r.multiple,t,!1)}};rN=fx;nN=ds;var uO={usingClientEntryPoint:!1,Events:[dl,Rs,lu,eN,tN,fx]},Yi={findFiberByHostInstance:Ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mO={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iN(e),e===null?null:e.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||cO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{au=nc.inject(mO),dn=nc}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uO;yr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bx(t))throw Error(J(200));return lO(e,t,null,r)};yr.createRoot=function(e,t){if(!bx(e))throw Error(J(299));var r=!1,n="",s=$1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gx(e,1,!1,null,null,r,!1,n,s),e[In]=t.current,_o(e.nodeType===8?e.parentNode:e),new vx(t)};yr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=iN(t),e=e===null?null:e.stateNode,e};yr.flushSync=function(e){return ds(e)};yr.hydrate=function(e,t,r){if(!gu(t))throw Error(J(200));return yu(null,e,t,!0,r)};yr.hydrateRoot=function(e,t,r){if(!bx(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=$1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=I1(t,null,e,1,r??null,s,!1,i,o),e[In]=t.current,_o(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xu(t)};yr.render=function(e,t,r){if(!gu(t))throw Error(J(200));return yu(null,e,t,!1,r)};yr.unmountComponentAtNode=function(e){if(!gu(e))throw Error(J(40));return e._reactRootContainer?(ds(function(){yu(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0):!1};yr.unstable_batchedUpdates=fx;yr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!gu(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return yu(e,t,r,!1,n)};yr.version="18.3.1-next-f1338f8080-20240426";function B1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B1)}catch(e){console.error(e)}}B1(),Bw.exports=yr;var jx=Bw.exports,Qy=jx;Mf.createRoot=Qy.createRoot,Mf.hydrateRoot=Qy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(this,arguments)}var fa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fa||(fa={}));const Zy="popstate";function fO(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Sh("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:md(s)}return pO(t,r,null,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hO(){return Math.random().toString(36).substr(2,8)}function Jy(e,t){return{usr:e.state,key:e.key,idx:t}}function Sh(e,t,r,n){return r===void 0&&(r=null),Ho({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Si(t):t,{state:r,key:t&&t.key||n||hO()})}function md(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Si(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function pO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=fa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ho({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=fa.Pop;let g=d(),v=g==null?null:g-u;u=g,c&&c({action:l,location:y.location,delta:v})}function f(g,v){l=fa.Push;let b=Sh(y.location,g,v);u=d()+1;let j=Jy(b,u),w=y.createHref(b);try{o.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(w)}i&&c&&c({action:l,location:y.location,delta:1})}function h(g,v){l=fa.Replace;let b=Sh(y.location,g,v);u=d();let j=Jy(b,u),w=y.createHref(b);o.replaceState(j,"",w),i&&c&&c({action:l,location:y.location,delta:0})}function p(g){let v=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof g=="string"?g:md(g);return b=b.replace(/ $/,"%20"),Ke(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let y={get action(){return l},get location(){return e(s,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Zy,m),c=g,()=>{s.removeEventListener(Zy,m),c=null}},createHref(g){return t(s,g)},createURL:p,encodeLocation(g){let v=p(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(g){return o.go(g)}};return y}var ev;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ev||(ev={}));function xO(e,t,r){return r===void 0&&(r="/"),gO(e,t,r)}function gO(e,t,r,n){let s=typeof t=="string"?Si(t):t,i=wx(s.pathname||"/",r);if(i==null)return null;let o=U1(e);yO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=TO(i);l=EO(o[c],u)}return l}function U1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ke(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=wa([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),U1(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:SO(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of z1(i.path))s(i,o,c)}),t}function z1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=z1(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function yO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:kO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vO=/^:[\w-]+$/,bO=3,jO=2,wO=1,NO=10,CO=-2,tv=e=>e==="*";function SO(e,t){let r=e.split("/"),n=r.length;return r.some(tv)&&(n+=CO),t&&(n+=jO),r.filter(s=>!tv(s)).reduce((s,i)=>s+(vO.test(i)?bO:i===""?wO:NO),n)}function kO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function EO(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=PO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:wa([i,m.pathname]),pathnameBase:DO(wa([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=wa([i,m.pathnameBase]))}return o}function PO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=AO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:f,isOptional:h}=d;if(f==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function AO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),F1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function TO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return F1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function OO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Si(e):e;return{pathname:r?r.startsWith("/")?r:MO(r,t):t,search:_O(n),hash:RO(s)}}function MO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ef(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nx(e,t){let r=LO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Cx(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Si(e):(s=Ho({},e),Ke(!s.pathname||!s.pathname.includes("?"),ef("?","pathname","search",s)),Ke(!s.pathname||!s.pathname.includes("#"),ef("#","pathname","hash",s)),Ke(!s.search||!s.search.includes("#"),ef("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=OO(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const wa=e=>e.join("/").replace(/\/\/+/g,"/"),DO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_O=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const W1=["post","put","patch","delete"];new Set(W1);const $O=["get",...W1];new Set($O);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Go.apply(this,arguments)}const Sx=x.createContext(null),BO=x.createContext(null),Ma=x.createContext(null),vu=x.createContext(null),La=x.createContext({outlet:null,matches:[],isDataRoute:!1}),H1=x.createContext(null);function FO(e,t){let{relative:r}=t===void 0?{}:t;ki()||Ke(!1);let{basename:n,navigator:s}=x.useContext(Ma),{hash:i,pathname:o,search:l}=q1(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:wa([n,o])),s.createHref({pathname:c,search:l,hash:i})}function ki(){return x.useContext(vu)!=null}function Ei(){return ki()||Ke(!1),x.useContext(vu).location}function G1(e){x.useContext(Ma).static||x.useLayoutEffect(e)}function bu(){let{isDataRoute:e}=x.useContext(La);return e?JO():UO()}function UO(){ki()||Ke(!1);let e=x.useContext(Sx),{basename:t,future:r,navigator:n}=x.useContext(Ma),{matches:s}=x.useContext(La),{pathname:i}=Ei(),o=JSON.stringify(Nx(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return G1(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=Cx(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:wa([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,o,i,e])}function q1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Ma),{matches:s}=x.useContext(La),{pathname:i}=Ei(),o=JSON.stringify(Nx(s,n.v7_relativeSplatPath));return x.useMemo(()=>Cx(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function zO(e,t){return WO(e,t)}function WO(e,t,r,n){ki()||Ke(!1);let{navigator:s}=x.useContext(Ma),{matches:i}=x.useContext(La),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ei(),d;if(t){var m;let g=typeof t=="string"?Si(t):t;c==="/"||(m=g.pathname)!=null&&m.startsWith(c)||Ke(!1),d=g}else d=u;let f=d.pathname||"/",h=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=xO(e,{pathname:h}),y=VO(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:wa([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:wa([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&y?x.createElement(vu.Provider,{value:{location:Go({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fa.Pop}},y):y}function HO(){let e=ZO(),t=IO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const GO=x.createElement(HO,null);class qO extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(La.Provider,{value:this.props.routeContext},x.createElement(H1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KO(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Sx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(La.Provider,{value:t},n)}function VO(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||Ke(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:h}=r,p=m.route.loader&&f[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,f)=>{let h,p=!1,y=null,g=null;r&&(h=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||GO,c&&(u<0&&f===0?(e5("route-fallback"),p=!0,g=null):u===f&&(p=!0,g=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),b=()=>{let j;return h?j=y:p?j=g:m.route.Component?j=x.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=d,x.createElement(KO,{match:m,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?x.createElement(qO,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var K1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(K1||{}),V1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(V1||{});function YO(e){let t=x.useContext(Sx);return t||Ke(!1),t}function XO(e){let t=x.useContext(BO);return t||Ke(!1),t}function QO(e){let t=x.useContext(La);return t||Ke(!1),t}function Y1(e){let t=QO(),r=t.matches[t.matches.length-1];return r.route.id||Ke(!1),r.route.id}function ZO(){var e;let t=x.useContext(H1),r=XO(),n=Y1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function JO(){let{router:e}=YO(K1.UseNavigateStable),t=Y1(V1.UseNavigateStable),r=x.useRef(!1);return G1(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Go({fromRouteId:t},i)))},[e,t])}const rv={};function e5(e,t,r){rv[e]||(rv[e]=!0)}function t5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function r5(e){let{to:t,replace:r,state:n,relative:s}=e;ki()||Ke(!1);let{future:i,static:o}=x.useContext(Ma),{matches:l}=x.useContext(La),{pathname:c}=Ei(),u=bu(),d=Cx(t,Nx(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function Ge(e){Ke(!1)}function n5(e){let{basename:t="/",children:r=null,location:n,navigationType:s=fa.Pop,navigator:i,static:o=!1,future:l}=e;ki()&&Ke(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:Go({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Si(n));let{pathname:d="/",search:m="",hash:f="",state:h=null,key:p="default"}=n,y=x.useMemo(()=>{let g=wx(d,c);return g==null?null:{location:{pathname:g,search:m,hash:f,state:h,key:p},navigationType:s}},[c,d,m,f,h,p,s]);return y==null?null:x.createElement(Ma.Provider,{value:u},x.createElement(vu.Provider,{children:r,value:y}))}function kh(e){let{children:t,location:r}=e;return zO(Eh(t),r)}new Promise(()=>{});function Eh(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Eh(n.props.children,i));return}n.type!==Ge&&Ke(!1),!n.props.index||!n.props.children||Ke(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Eh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(this,arguments)}function a5(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function s5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i5(e,t){return e.button===0&&(!t||t==="_self")&&!s5(e)}const o5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l5="6";try{window.__reactRouterVersion=l5}catch{}const c5="startTransition",nv=Iw[c5];function d5(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=fO({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(m=>{u&&nv?nv(()=>c(m)):c(m)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>t5(n),[n]),x.createElement(n5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const u5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,na=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=t,f=a5(t,o5),{basename:h}=x.useContext(Ma),p,y=!1;if(typeof u=="string"&&m5.test(u)&&(p=u,u5))try{let j=new URL(window.location.href),w=u.startsWith("//")?new URL(j.protocol+u):new URL(u),N=wx(w.pathname,h);w.origin===j.origin&&N!=null?u=N+w.search+w.hash:y=!0}catch{}let g=FO(u,{relative:s}),v=f5(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||v(j)}return x.createElement("a",Ph({},f,{href:p||g,onClick:y||i?n:b,ref:r,target:c}))});var av;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(av||(av={}));var sv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sv||(sv={}));function f5(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=bu(),u=Ei(),d=q1(e,{relative:o});return x.useCallback(m=>{if(i5(m,r)){m.preventDefault();let f=n!==void 0?n:md(u)===md(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function X1(e,t){return function(){return e.apply(t,arguments)}}const{toString:h5}=Object.prototype,{getPrototypeOf:kx}=Object,{iterator:ju,toStringTag:Q1}=Symbol,wu=(e=>t=>{const r=h5.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Zr=e=>(e=e.toLowerCase(),t=>wu(t)===e),Nu=e=>t=>typeof t===e,{isArray:Pi}=Array,oi=Nu("undefined");function ml(e){return e!==null&&!oi(e)&&e.constructor!==null&&!oi(e.constructor)&&Zt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Z1=Zr("ArrayBuffer");function p5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Z1(e.buffer),t}const x5=Nu("string"),Zt=Nu("function"),J1=Nu("number"),fl=e=>e!==null&&typeof e=="object",g5=e=>e===!0||e===!1,Rc=e=>{if(wu(e)!=="object")return!1;const t=kx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Q1 in e)&&!(ju in e)},y5=e=>{if(!fl(e)||ml(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},v5=Zr("Date"),b5=Zr("File"),j5=Zr("Blob"),w5=Zr("FileList"),N5=e=>fl(e)&&Zt(e.pipe),C5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zt(e.append)&&((t=wu(e))==="formdata"||t==="object"&&Zt(e.toString)&&e.toString()==="[object FormData]"))},S5=Zr("URLSearchParams"),[k5,E5,P5,A5]=["ReadableStream","Request","Response","Headers"].map(Zr),T5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Pi(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(ml(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function e2(e,t){if(ml(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t2=e=>!oi(e)&&e!==Va;function Ah(){const{caseless:e,skipUndefined:t}=t2(this)&&this||{},r={},n=(s,i)=>{const o=e&&e2(r,i)||i;Rc(r[o])&&Rc(s)?r[o]=Ah(r[o],s):Rc(s)?r[o]=Ah({},s):Pi(s)?r[o]=s.slice():(!t||!oi(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&hl(arguments[s],n);return r}const O5=(e,t,r,{allOwnKeys:n}={})=>(hl(t,(s,i)=>{r&&Zt(s)?e[i]=X1(s,r):e[i]=s},{allOwnKeys:n}),e),M5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),L5=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},D5=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&kx(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_5=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},R5=e=>{if(!e)return null;if(Pi(e))return e;let t=e.length;if(!J1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},I5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&kx(Uint8Array)),$5=(e,t)=>{const n=(e&&e[ju]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},B5=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},F5=Zr("HTMLFormElement"),U5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),iv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),z5=Zr("RegExp"),r2=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};hl(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},W5=e=>{r2(e,(t,r)=>{if(Zt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Zt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},H5=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Pi(e)?n(e):n(String(e).split(t)),r},G5=()=>{},q5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function K5(e){return!!(e&&Zt(e.append)&&e[Q1]==="FormData"&&e[ju])}const V5=e=>{const t=new Array(10),r=(n,s)=>{if(fl(n)){if(t.indexOf(n)>=0)return;if(ml(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Pi(n)?[]:{};return hl(n,(o,l)=>{const c=r(o,s+1);!oi(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},Y5=Zr("AsyncFunction"),X5=e=>e&&(fl(e)||Zt(e))&&Zt(e.then)&&Zt(e.catch),n2=((e,t)=>e?setImmediate:t?((r,n)=>(Va.addEventListener("message",({source:s,data:i})=>{s===Va&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Va.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Zt(Va.postMessage)),Q5=typeof queueMicrotask<"u"?queueMicrotask.bind(Va):typeof process<"u"&&process.nextTick||n2,Z5=e=>e!=null&&Zt(e[ju]),H={isArray:Pi,isArrayBuffer:Z1,isBuffer:ml,isFormData:C5,isArrayBufferView:p5,isString:x5,isNumber:J1,isBoolean:g5,isObject:fl,isPlainObject:Rc,isEmptyObject:y5,isReadableStream:k5,isRequest:E5,isResponse:P5,isHeaders:A5,isUndefined:oi,isDate:v5,isFile:b5,isBlob:j5,isRegExp:z5,isFunction:Zt,isStream:N5,isURLSearchParams:S5,isTypedArray:I5,isFileList:w5,forEach:hl,merge:Ah,extend:O5,trim:T5,stripBOM:M5,inherits:L5,toFlatObject:D5,kindOf:wu,kindOfTest:Zr,endsWith:_5,toArray:R5,forEachEntry:$5,matchAll:B5,isHTMLForm:F5,hasOwnProperty:iv,hasOwnProp:iv,reduceDescriptors:r2,freezeMethods:W5,toObjectSet:H5,toCamelCase:U5,noop:G5,toFiniteNumber:q5,findKey:e2,global:Va,isContextDefined:t2,isSpecCompliantForm:K5,toJSONObject:V5,isAsyncFn:Y5,isThenable:X5,setImmediate:n2,asap:Q5,isIterable:Z5};function ce(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}H.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const a2=ce.prototype,s2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{s2[e]={value:e}});Object.defineProperties(ce,s2);Object.defineProperty(a2,"isAxiosError",{value:!0});ce.from=(e,t,r,n,s,i)=>{const o=Object.create(a2);H.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ce.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const J5=null;function Th(e){return H.isPlainObject(e)||H.isArray(e)}function i2(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function ov(e,t,r){return e?e.concat(t).map(function(s,i){return s=i2(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function e4(e){return H.isArray(e)&&!e.some(Th)}const t4=H.toFlatObject(H,{},null,function(t){return/^is[A-Z]/.test(t)});function Cu(e,t,r){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=H.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!H.isUndefined(g[y])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(H.isDate(p))return p.toISOString();if(H.isBoolean(p))return p.toString();if(!c&&H.isBlob(p))throw new ce("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(p)||H.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,g){let v=p;if(p&&!g&&typeof p=="object"){if(H.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(H.isArray(p)&&e4(p)||(H.isFileList(p)||H.endsWith(y,"[]"))&&(v=H.toArray(p)))return y=i2(y),v.forEach(function(j,w){!(H.isUndefined(j)||j===null)&&t.append(o===!0?ov([y],w,i):o===null?y:y+"[]",u(j))}),!1}return Th(p)?!0:(t.append(ov(g,y,i),u(p)),!1)}const m=[],f=Object.assign(t4,{defaultVisitor:d,convertValue:u,isVisitable:Th});function h(p,y){if(!H.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(p),H.forEach(p,function(v,b){(!(H.isUndefined(v)||v===null)&&s.call(t,v,H.isString(b)?b.trim():b,y,f))===!0&&h(v,y?y.concat(b):[b])}),m.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return h(e),t}function lv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ex(e,t){this._pairs=[],e&&Cu(e,this,t)}const o2=Ex.prototype;o2.append=function(t,r){this._pairs.push([t,r])};o2.toString=function(t){const r=t?function(n){return t.call(this,n,lv)}:lv;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function r4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function l2(e,t,r){if(!t)return e;const n=r&&r.encode||r4;H.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=H.isURLSearchParams(t)?t.toString():new Ex(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class cv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){H.forEach(this.handlers,function(n){n!==null&&t(n)})}}const c2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},n4=typeof URLSearchParams<"u"?URLSearchParams:Ex,a4=typeof FormData<"u"?FormData:null,s4=typeof Blob<"u"?Blob:null,i4={isBrowser:!0,classes:{URLSearchParams:n4,FormData:a4,Blob:s4},protocols:["http","https","file","blob","url","data"]},Px=typeof window<"u"&&typeof document<"u",Oh=typeof navigator=="object"&&navigator||void 0,o4=Px&&(!Oh||["ReactNative","NativeScript","NS"].indexOf(Oh.product)<0),l4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",c4=Px&&window.location.href||"http://localhost",d4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Px,hasStandardBrowserEnv:o4,hasStandardBrowserWebWorkerEnv:l4,navigator:Oh,origin:c4},Symbol.toStringTag,{value:"Module"})),Pt={...d4,...i4};function u4(e,t){return Cu(e,new Pt.classes.URLSearchParams,{visitor:function(r,n,s,i){return Pt.isNode&&H.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function m4(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function f4(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function d2(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&H.isArray(s)?s.length:o,c?(H.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!H.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&H.isArray(s[o])&&(s[o]=f4(s[o])),!l)}if(H.isFormData(e)&&H.isFunction(e.entries)){const r={};return H.forEachEntry(e,(n,s)=>{t(m4(n),s,r,0)}),r}return null}function h4(e,t,r){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const pl={transitional:c2,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=H.isObject(t);if(i&&H.isHTMLForm(t)&&(t=new FormData(t)),H.isFormData(t))return s?JSON.stringify(d2(t)):t;if(H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t)||H.isReadableStream(t))return t;if(H.isArrayBufferView(t))return t.buffer;if(H.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return u4(t,this.formSerializer).toString();if((l=H.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Cu(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),h4(t)):t}],transformResponse:[function(t){const r=this.transitional||pl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(H.isResponse(t)||H.isReadableStream(t))return t;if(t&&H.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ce.from(l,ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pt.classes.FormData,Blob:Pt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],e=>{pl.headers[e]={}});const p4=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),x4=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&p4[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},dv=Symbol("internals");function Xi(e){return e&&String(e).trim().toLowerCase()}function Ic(e){return e===!1||e==null?e:H.isArray(e)?e.map(Ic):String(e)}function g4(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const y4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tf(e,t,r,n,s){if(H.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!H.isString(t)){if(H.isString(n))return t.indexOf(n)!==-1;if(H.isRegExp(n))return n.test(t)}}function v4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function b4(e,t){const r=H.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Jt=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const d=Xi(c);if(!d)throw new Error("header name must be a non-empty string");const m=H.findKey(s,d);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||c]=Ic(l))}const o=(l,c)=>H.forEach(l,(u,d)=>i(u,d,c));if(H.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(H.isString(t)&&(t=t.trim())&&!y4(t))o(x4(t),r);else if(H.isObject(t)&&H.isIterable(t)){let l={},c,u;for(const d of t){if(!H.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?H.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Xi(t),t){const n=H.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return g4(s);if(H.isFunction(r))return r.call(this,s,n);if(H.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Xi(t),t){const n=H.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||tf(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Xi(o),o){const l=H.findKey(n,o);l&&(!r||tf(n,n[l],l,r))&&(delete n[l],s=!0)}}return H.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||tf(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return H.forEach(this,(s,i)=>{const o=H.findKey(n,i);if(o){r[o]=Ic(s),delete r[i];return}const l=t?v4(i):String(i).trim();l!==i&&delete r[i],r[l]=Ic(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return H.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&H.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[dv]=this[dv]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Xi(o);n[l]||(b4(s,o),n[l]=!0)}return H.isArray(t)?t.forEach(i):i(t),this}};Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Jt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});H.freezeMethods(Jt);function rf(e,t){const r=this||pl,n=t||r,s=Jt.from(n.headers);let i=n.data;return H.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function u2(e){return!!(e&&e.__CANCEL__)}function Ai(e,t,r){ce.call(this,e??"canceled",ce.ERR_CANCELED,t,r),this.name="CanceledError"}H.inherits(Ai,ce,{__CANCEL__:!0});function m2(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ce("Request failed with status code "+r.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function j4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function w4(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[s]=c,n[s]=u;let m=i,f=0;for(;m!==s;)f+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const h=d&&u-d;return h?Math.round(f*1e3/h):void 0}}function N4(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-r;m>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const fd=(e,t,r=3)=>{let n=0;const s=w4(50,250);return N4(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},uv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},mv=e=>(...t)=>H.asap(()=>e(...t)),C4=Pt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Pt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Pt.origin),Pt.navigator&&/(msie|trident)/i.test(Pt.navigator.userAgent)):()=>!0,S4=Pt.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];H.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),H.isString(n)&&o.push("path="+n),H.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function k4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function E4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function f2(e,t,r){let n=!k4(t);return e&&(n||r==!1)?E4(e,t):t}const fv=e=>e instanceof Jt?{...e}:e;function us(e,t){t=t||{};const r={};function n(u,d,m,f){return H.isPlainObject(u)&&H.isPlainObject(d)?H.merge.call({caseless:f},u,d):H.isPlainObject(d)?H.merge({},d):H.isArray(d)?d.slice():d}function s(u,d,m,f){if(H.isUndefined(d)){if(!H.isUndefined(u))return n(void 0,u,m,f)}else return n(u,d,m,f)}function i(u,d){if(!H.isUndefined(d))return n(void 0,d)}function o(u,d){if(H.isUndefined(d)){if(!H.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,m){if(m in t)return n(u,d);if(m in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,m)=>s(fv(u),fv(d),m,!0)};return H.forEach(Object.keys({...e,...t}),function(d){const m=c[d]||s,f=m(e[d],t[d],d);H.isUndefined(f)&&m!==l||(r[d]=f)}),r}const h2=e=>{const t=us({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Jt.from(o),t.url=l2(f2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),H.isFormData(r)){if(Pt.hasStandardBrowserEnv||Pt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(H.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,m])=>{u.includes(d.toLowerCase())&&o.set(d,m)})}}if(Pt.hasStandardBrowserEnv&&(n&&H.isFunction(n)&&(n=n(t)),n||n!==!1&&C4(t.url))){const c=s&&i&&S4.read(i);c&&o.set(s,c)}return t},P4=typeof XMLHttpRequest<"u",A4=P4&&function(e){return new Promise(function(r,n){const s=h2(e);let i=s.data;const o=Jt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,m,f,h,p;function y(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function v(){if(!g)return;const j=Jt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:e,request:g};m2(function(P){r(P),y()},function(P){n(P),y()},N),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(n(new ce("Request aborted",ce.ECONNABORTED,e,g)),g=null)},g.onerror=function(w){const N=w&&w.message?w.message:"Network Error",S=new ce(N,ce.ERR_NETWORK,e,g);S.event=w||null,n(S),g=null},g.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||c2;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new ce(w,N.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&H.forEach(o.toJSON(),function(w,N){g.setRequestHeader(N,w)}),H.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),l&&l!=="json"&&(g.responseType=s.responseType),u&&([f,p]=fd(u,!0),g.addEventListener("progress",f)),c&&g.upload&&([m,h]=fd(c),g.upload.addEventListener("progress",m),g.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(d=j=>{g&&(n(!j||j.type?new Ai(null,e,g):j),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=j4(s.url);if(b&&Pt.protocols.indexOf(b)===-1){n(new ce("Unsupported protocol "+b+":",ce.ERR_BAD_REQUEST,e));return}g.send(i||null)})},T4=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ce?d:new Ai(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new ce(`timeout ${t} of ms exceeded`,ce.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>H.asap(l),c}},O4=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},M4=async function*(e,t){for await(const r of L4(e))yield*O4(r,t)},L4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},hv=(e,t,r,n)=>{const s=M4(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let m=d.byteLength;if(r){let f=i+=m;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},pv=64*1024,{isFunction:ac}=H,D4=(({Request:e,Response:t})=>({Request:e,Response:t}))(H.global),{ReadableStream:xv,TextEncoder:gv}=H.global,yv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_4=e=>{e=H.merge.call({skipUndefined:!0},D4,e);const{fetch:t,Request:r,Response:n}=e,s=t?ac(t):typeof fetch=="function",i=ac(r),o=ac(n);if(!s)return!1;const l=s&&ac(xv),c=s&&(typeof gv=="function"?(p=>y=>p.encode(y))(new gv):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&l&&yv(()=>{let p=!1;const y=new r(Pt.origin,{body:new xv,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=o&&l&&yv(()=>H.isReadableStream(new n("").body)),m={stream:d&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!m[p]&&(m[p]=(y,g)=>{let v=y&&y[p];if(v)return v.call(y);throw new ce(`Response type '${p}' is not supported`,ce.ERR_NOT_SUPPORT,g)})});const f=async p=>{if(p==null)return 0;if(H.isBlob(p))return p.size;if(H.isSpecCompliantForm(p))return(await new r(Pt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(H.isArrayBufferView(p)||H.isArrayBuffer(p))return p.byteLength;if(H.isURLSearchParams(p)&&(p=p+""),H.isString(p))return(await c(p)).byteLength},h=async(p,y)=>{const g=H.toFiniteNumber(p.getContentLength());return g??f(y)};return async p=>{let{url:y,method:g,data:v,signal:b,cancelToken:j,timeout:w,onDownloadProgress:N,onUploadProgress:S,responseType:P,headers:O,withCredentials:A="same-origin",fetchOptions:k}=h2(p),R=t||fetch;P=P?(P+"").toLowerCase():"text";let L=T4([b,j&&j.toAbortSignal()],w),T=null;const K=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let I;try{if(S&&u&&g!=="get"&&g!=="head"&&(I=await h(O,v))!==0){let q=new r(y,{method:"POST",body:v,duplex:"half"}),V;if(H.isFormData(v)&&(V=q.headers.get("content-type"))&&O.setContentType(V),q.body){const[_,C]=uv(I,fd(mv(S)));v=hv(q.body,pv,_,C)}}H.isString(A)||(A=A?"include":"omit");const M=i&&"credentials"in r.prototype,F={...k,signal:L,method:g.toUpperCase(),headers:O.normalize().toJSON(),body:v,duplex:"half",credentials:M?A:void 0};T=i&&new r(y,F);let U=await(i?R(T,k):R(y,F));const W=d&&(P==="stream"||P==="response");if(d&&(N||W&&K)){const q={};["status","statusText","headers"].forEach(B=>{q[B]=U[B]});const V=H.toFiniteNumber(U.headers.get("content-length")),[_,C]=N&&uv(V,fd(mv(N),!0))||[];U=new n(hv(U.body,pv,_,()=>{C&&C(),K&&K()}),q)}P=P||"text";let D=await m[H.findKey(m,P)||"text"](U,p);return!W&&K&&K(),await new Promise((q,V)=>{m2(q,V,{data:D,headers:Jt.from(U.headers),status:U.status,statusText:U.statusText,config:p,request:T})})}catch(M){throw K&&K(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,p,T),{cause:M.cause||M}):ce.from(M,M&&M.code,p,T)}}},R4=new Map,p2=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,u,d=R4;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:_4(t)),d=u;return u};p2();const Mh={http:J5,xhr:A4,fetch:{get:p2}};H.forEach(Mh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vv=e=>`- ${e}`,I4=e=>H.isFunction(e)||e===null||e===!1,x2={getAdapter:(e,t)=>{e=H.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!I4(n)&&(s=Mh[(l=String(n)).toLowerCase()],s===void 0))throw new ce(`Unknown adapter '${l}'`);if(s&&(H.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(vv).join(`
`):" "+vv(o[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Mh};function nf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ai(null,e)}function bv(e){return nf(e),e.headers=Jt.from(e.headers),e.data=rf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),x2.getAdapter(e.adapter||pl.adapter,e)(e).then(function(n){return nf(e),n.data=rf.call(e,e.transformResponse,n),n.headers=Jt.from(n.headers),n},function(n){return u2(n)||(nf(e),n&&n.response&&(n.response.data=rf.call(e,e.transformResponse,n.response),n.response.headers=Jt.from(n.response.headers))),Promise.reject(n)})}const g2="1.12.2",Su={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Su[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const jv={};Su.transitional=function(t,r,n){function s(i,o){return"[Axios v"+g2+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new ce(s(o," has been removed"+(r?" in "+r:"")),ce.ERR_DEPRECATED);return r&&!jv[o]&&(jv[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Su.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function $4(e,t,r){if(typeof e!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ce("option "+i+" must be "+c,ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ce("Unknown option "+i,ce.ERR_BAD_OPTION)}}const $c={assertOptions:$4,validators:Su},nn=$c.validators;let ts=class{constructor(t){this.defaults=t||{},this.interceptors={request:new cv,response:new cv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=us(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&$c.assertOptions(n,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),s!=null&&(H.isFunction(s)?r.paramsSerializer={serialize:s}:$c.assertOptions(s,{encode:nn.function,serialize:nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),$c.assertOptions(r,{baseUrl:nn.spelling("baseURL"),withXsrfToken:nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&H.merge(i.common,i[r.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Jt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,m=0,f;if(!c){const p=[bv.bind(this),void 0];for(p.unshift(...l),p.push(...u),f=p.length,d=Promise.resolve(r);m<f;)d=d.then(p[m++],p[m++]);return d}f=l.length;let h=r;for(;m<f;){const p=l[m++],y=l[m++];try{h=p(h)}catch(g){y.call(this,g);break}}try{d=bv.call(this,h)}catch(p){return Promise.reject(p)}for(m=0,f=u.length;m<f;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=us(this.defaults,t);const r=f2(t.baseURL,t.url,t.allowAbsoluteUrls);return l2(r,t.params,t.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(t){ts.prototype[t]=function(r,n){return this.request(us(n||{},{method:t,url:r,data:(n||{}).data}))}});H.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(us(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ts.prototype[t]=r(),ts.prototype[t+"Form"]=r(!0)});let B4=class y2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Ai(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new y2(function(s){t=s}),cancel:t}}};function F4(e){return function(r){return e.apply(null,r)}}function U4(e){return H.isObject(e)&&e.isAxiosError===!0}const Lh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lh).forEach(([e,t])=>{Lh[t]=e});function v2(e){const t=new ts(e),r=X1(ts.prototype.request,t);return H.extend(r,ts.prototype,t,{allOwnKeys:!0}),H.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return v2(us(e,s))},r}const Ve=v2(pl);Ve.Axios=ts;Ve.CanceledError=Ai;Ve.CancelToken=B4;Ve.isCancel=u2;Ve.VERSION=g2;Ve.toFormData=Cu;Ve.AxiosError=ce;Ve.Cancel=Ve.CanceledError;Ve.all=function(t){return Promise.all(t)};Ve.spread=F4;Ve.isAxiosError=U4;Ve.mergeConfig=us;Ve.AxiosHeaders=Jt;Ve.formToJSON=e=>d2(H.isHTMLForm(e)?new FormData(e):e);Ve.getAdapter=x2.getAdapter;Ve.HttpStatusCode=Lh;Ve.default=Ve;const{Axios:jG,AxiosError:wG,CanceledError:NG,isCancel:CG,CancelToken:SG,VERSION:kG,all:EG,Cancel:PG,isAxiosError:AG,spread:TG,toFormData:OG,AxiosHeaders:MG,HttpStatusCode:LG,formToJSON:DG,getAdapter:_G,mergeConfig:RG}=Ve,b2="production",af="http://localhost:5001",z4="https://vercel-8b6rz6p9x-chuck-ferrells-projects.vercel.app";let li=z4;try{typeof window<"u"&&window.location.hostname==="localhost"&&li!==af&&(console.warn("TCC_WARN: Localhost detected but API_BASE_URL is not local. For safety using",af),li=af)}catch{}console.log("TCC_DEBUG: API_BASE_URL is set to:",li,"ENV:",b2);const Z=Ve.create({baseURL:li,withCredentials:!0,headers:{"Content-Type":"application/json"}});Z.interceptors.request.use(e=>{var r;const t=localStorage.getItem("token");console.log("TCC_DEBUG: API request interceptor - token present:",!!t),console.log("TCC_DEBUG: API request interceptor - token value:",t?t.substring(0,20)+"...":"none"),t&&(e.headers.Authorization=`Bearer ${t}`,console.log("TCC_DEBUG: API request interceptor - Authorization header set:",e.headers.Authorization?"YES":"NO"));try{const n=new URL(li).origin,s=typeof window<"u"?window.location.origin:n,i=n===s;!(e.url||"").toString().startsWith("/api/auth/")&&i?e.headers["X-TCC-Env"]=b2:e.headers["X-TCC-Env"]&&delete e.headers["X-TCC-Env"]}catch{}try{const n=(e.baseURL||"")+(e.url||"");(n.includes("/api/tcc/agencies")||n.includes("/api/tcc/analytics")||n.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API request ",(r=e.method)==null?void 0:r.toUpperCase(),n,"params:",e.params,"data:",e.data)}catch{}return e});Z.interceptors.response.use(e=>{var t,r;try{const n=((t=e.config)==null?void 0:t.baseURL)+(((r=e.config)==null?void 0:r.url)||"");(n!=null&&n.includes("/api/tcc/agencies")||n.includes("/api/tcc/analytics")||n.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API response ",e.status,n,"data:",e.data)}catch{}return e},e=>{var t,r,n,s,i,o,l;try{const c=(((r=(t=e.response)==null?void 0:t.config)==null?void 0:r.baseURL)||"")+(((s=(n=e.response)==null?void 0:n.config)==null?void 0:s.url)||"");(c.includes("/api/tcc/agencies")||c.includes("/api/tcc/analytics")||c.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API error ",(i=e.response)==null?void 0:i.status,c,"data:",(o=e.response)==null?void 0:o.data)}catch{}return((l=e.response)==null?void 0:l.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const qo={login:e=>(console.log("TCC_DEBUG: API login called with URL:",li+"/api/auth/login"),console.log("TCC_DEBUG: API login called with credentials:",e),Z.post("/api/auth/login",e)),logout:()=>Z.post("/api/auth/logout"),verify:()=>Z.get("/api/auth/verify"),register:e=>Z.post("/api/auth/register",e),healthcareRegister:e=>Z.post("/api/auth/healthcare/register",e),emsRegister:e=>Z.post("/api/auth/ems/register",e),healthcareLogin:e=>Z.post("/api/auth/healthcare/login",e),emsLogin:e=>Z.post("/api/auth/ems/login",e),getUsers:()=>Z.get("/api/auth/users")},j2={getOverview:()=>Z.get("/api/tcc/analytics/overview"),getTrips:()=>Z.get("/api/tcc/analytics/trips"),getCostAnalysis:e=>Z.get("/api/tcc/analytics/cost-analysis",{params:e}),getProfitability:e=>Z.get("/api/tcc/analytics/profitability",{params:e}),getCostBreakdowns:e=>Z.get("/api/tcc/analytics/cost-breakdowns",{params:e})},ci={getOverview:()=>Z.get("/api/tcc/analytics/overview"),getTrips:()=>Z.get("/api/tcc/analytics/trips"),getCostAnalysis:e=>Z.get("/api/tcc/analytics/cost-analysis",{params:e}),getProfitability:e=>Z.get("/api/tcc/analytics/profitability",{params:e})},ku={getAll:e=>Z.get("/api/trips",{params:e}),create:e=>Z.post("/api/trips",e),createEnhanced:e=>Z.post("/api/trips/with-responses",e),update:(e,t)=>Z.put(`/api/trips/${e}`,t),delete:e=>Z.delete(`/api/trips/${e}`),getOptions:{diagnosis:()=>Z.get("/api/trips/options/diagnosis"),mobility:()=>Z.get("/api/trips/options/mobility"),transportLevel:()=>Z.get("/api/trips/options/transport-level"),urgency:()=>Z.get("/api/trips/options/urgency"),insurance:()=>Z.get("/api/trips/options/insurance")},getAgenciesForHospital:(e,t)=>Z.get(`/api/trips/agencies/${encodeURIComponent(e)}`,{params:{radius:t}})},Bc={getAll:e=>Z.get("/api/tcc/agencies",{params:e}),create:e=>Z.post("/api/tcc/agencies",e),update:(e,t)=>Z.put(`/api/tcc/agencies/${e}`,t),delete:e=>Z.delete(`/api/tcc/agencies/${e}`)},w2={getAll:e=>Z.get("/api/tcc/facilities",{params:e}),create:e=>Z.post("/api/tcc/facilities",e),update:(e,t)=>Z.put(`/api/tcc/facilities/${e}`,t),delete:e=>Z.delete(`/api/tcc/facilities/${e}`)},co={getOverview:()=>Z.get("/api/ems/analytics/overview"),getTrips:()=>Z.get("/api/ems/analytics/trips"),getUnits:()=>Z.get("/api/ems/analytics/units"),getPerformance:()=>Z.get("/api/ems/analytics/performance")},uo={getCategories:()=>Z.get("/api/dropdown-options"),getByCategory:e=>Z.get(`/api/dropdown-options/${encodeURIComponent(e)}`),create:e=>Z.post("/api/dropdown-options",e),update:(e,t)=>Z.put(`/api/dropdown-options/${e}`,t),delete:e=>Z.delete(`/api/dropdown-options/${e}`)},on=Object.freeze(Object.defineProperty({__proto__:null,agenciesAPI:Bc,analyticsAPI:ci,authAPI:qo,default:Z,dropdownOptionsAPI:uo,emsAnalyticsAPI:co,facilitiesAPI:w2,tccAnalyticsAPI:j2,tripsAPI:ku},Symbol.toStringTag,{value:"Module"})),W4=({onLogin:e})=>{const[t,r]=x.useState({email:"",password:""}),[n,s]=x.useState(!1),[i,o]=x.useState(""),l=async u=>{var d,m,f,h;u.preventDefault(),s(!0),o("");try{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("TCC_DEBUG: Attempting login with:",t);const p=await qo.login(t);console.log("TCC_DEBUG: Login response:",p.data),p.data.success?(console.log("TCC_DEBUG: Login successful, calling onLogin"),e(p.data.user,p.data.token)):(console.log("TCC_DEBUG: Login failed:",p.data.error),o(p.data.error||"Login failed"))}catch(p){console.log("TCC_DEBUG: Login error:",p),console.log("TCC_DEBUG: Error response:",p.response),console.log("TCC_DEBUG: Error status:",(d=p.response)==null?void 0:d.status),console.log("TCC_DEBUG: Error data:",(m=p.response)==null?void 0:m.data),o(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||"Login failed")}finally{s(!1)}},c=u=>{r(d=>({...d,[u.target.name]:u.target.value}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100",children:a.jsx("svg",{className:"h-8 w-8 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"TCC Admin Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Transport Control Center"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t.email,onChange:c})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t.password,onChange:c})]})]}),i&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsx("div",{className:"text-sm text-red-700",children:i})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing in...":"Sign in"})})]})]})})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...H4,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${G4(e)}`,l].join(" "),...u},[...t.map(([m,f])=>x.createElement(m,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ie("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ie("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=ie("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ie("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ie("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ie("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=ie("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ie("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=ie("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=ie("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=ie("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=ie("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),t6=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!0),[s,i]=x.useState(""),[o,l]=x.useState([]),[c,u]=x.useState(!0);if(x.useEffect(()=>{(async()=>{var h,p;try{const y=await ci.getOverview();t(y.data.data)}catch(y){i(((p=(h=y.response)==null?void 0:h.data)==null?void 0:p.error)||"Failed to load overview")}finally{n(!1)}})(),(async()=>{const h=[{path:"/api/tcc/analytics/overview",label:"Analytics Overview"},{path:"/api/tcc/agencies",label:"Agencies"},{path:"/api/dropdown-options",label:"Dropdown Categories"},{path:"/api/tcc/hospitals",label:"Hospitals"}],p=[];await Promise.all(h.map(async y=>{var g,v;try{const b=await Z.get(y.path);(b.status!==200||((g=b.data)==null?void 0:g.success)===!1)&&p.push(`${y.label}: ${b.status}`)}catch(b){const j=((v=b==null?void 0:b.response)==null?void 0:v.status)||"ERR";p.push(`${y.label}: ${j}`)}})),l(p)})()},[]),r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(s)return a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"text-red-800",children:s})});const d=[{name:"Total Healthcare Facilities",value:(e==null?void 0:e.totalHospitals)||0,active:(e==null?void 0:e.activeHospitals)||0,icon:er,color:"bg-blue-500"},{name:"EMS Agencies",value:(e==null?void 0:e.totalAgencies)||0,active:(e==null?void 0:e.activeAgencies)||0,icon:$e,color:"bg-green-500"},{name:"Facilities",value:(e==null?void 0:e.totalFacilities)||0,active:(e==null?void 0:e.activeFacilities)||0,icon:vt,color:"bg-purple-500"},{name:"EMS Units",value:(e==null?void 0:e.totalUnits)||0,active:(e==null?void 0:e.activeUnits)||0,icon:cr,color:"bg-orange-500"}];return a.jsxs("div",{children:[c&&o.length>0&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-800 p-4 rounded",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Feed warnings detected"}),a.jsx("ul",{className:"list-disc ml-5 mt-1 text-sm",children:o.map((m,f)=>a.jsx("li",{children:m},f))})]}),a.jsx("button",{onClick:()=>u(!1),className:"text-sm underline",children:"Dismiss"})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Overview"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor the status of hospitals, EMS agencies, and facilities in the system."})]}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:d.map(m=>a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`p-3 rounded-md ${m.color}`,children:a.jsx(m.icon,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:m.name}),a.jsxs("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:m.value}),a.jsxs("div",{className:"ml-2 text-sm text-gray-500",children:["(",m.active," active)"]})]})]})})]})})},m.name))}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("a",{href:"/dashboard/trips",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:a.jsx($e,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Trips"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"View, manage, and monitor all transport requests."})]})]}),a.jsxs("a",{href:"/dashboard/hospitals",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:a.jsx(er,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Healthcare Facilities"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Add, edit, or remove healthcare facilities from the system."})]})]}),a.jsxs("a",{href:"/dashboard/agencies",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:a.jsx($e,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage EMS Agencies"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Add, edit, or remove EMS agencies and their units."})]})]})]})]})]})},r6=({trip:e,user:t})=>{const[r,n]=x.useState(!1),[s,i]=x.useState([]);x.useEffect(()=>{i((()=>{const f=[];return e.createdAt&&f.push({event:"Trip Created",timestamp:e.createdAt,description:""}),e.requestTimestamp&&f.push({event:"Request Sent",timestamp:e.requestTimestamp,description:""}),e.transferRequestTime&&f.push({event:"Transfer Requested",timestamp:e.transferRequestTime,description:""}),e.acceptedTimestamp&&f.push({event:"Accepted by EMS",timestamp:e.acceptedTimestamp,description:""}),e.emsArrivalTime&&f.push({event:"EMS Arrived",timestamp:e.emsArrivalTime,description:""}),e.pickupTimestamp&&f.push({event:"Patient Picked Up",timestamp:e.pickupTimestamp,description:""}),e.actualStartTime&&f.push({event:"Trip Started",timestamp:e.actualStartTime,description:""}),e.actualEndTime&&f.push({event:"Trip Ended",timestamp:e.actualEndTime,description:""}),e.completionTimestamp&&f.push({event:"Trip Completed",timestamp:e.completionTimestamp,description:""}),f.sort((h,p)=>new Date(h.timestamp).getTime()-new Date(p.timestamp).getTime())})())},[e]);const o=m=>new Date(m).toLocaleString(),l=m=>{console.log("Edit trip:",m.id)},c=m=>{window.confirm(`Are you sure you want to delete trip ${m.tripNumber}?`)&&console.log("Delete trip:",m.id)},u=m=>{switch(m){case"EMERGENT":return"bg-red-100 text-red-800";case"URGENT":return"bg-orange-100 text-orange-800";case"ROUTINE":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},d=m=>{switch(m){case"CRITICAL":return"EMERGENT";case"HIGH":return"URGENT";case"MEDIUM":case"LOW":return"ROUTINE";default:return m}};return a.jsxs("div",{className:"bg-white shadow rounded-lg border",children:[a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[a.jsx("div",{children:"PATIENT"}),a.jsx("div",{children:"ROUTE"}),a.jsx("div",{children:"PICKUP LOCATION"}),a.jsx("div",{children:"PRIORITY"}),a.jsx("div",{children:"ACTIONS"})]})}),a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:e.patientId}),a.jsx("div",{className:"text-sm text-gray-500",children:o(e.scheduledTime)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:e.fromLocation}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(N2,{className:"w-3 h-3 mr-1"}),e.toLocation]})]}),a.jsx("div",{children:e.pickupLocation?a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:e.pickupLocation.name}),e.pickupLocation.floor&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Floor: ",e.pickupLocation.floor]}),e.pickupLocation.room&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Room: ",e.pickupLocation.room]}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Au,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Contact:"})]}),a.jsx("div",{className:"text-blue-600",children:e.pickupLocation.contactPhone}),a.jsx("div",{className:"text-blue-600",children:e.pickupLocation.contactEmail})]})]}):a.jsx("span",{className:"text-gray-400 italic",children:"No specific location"})}),a.jsx("div",{children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(d(e.priority))}`,children:d(e.priority)})}),a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-green-700",children:"Accept"}),a.jsx("button",{className:"bg-red-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-red-700",children:"Decline"})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>l(e),className:"bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-blue-700",children:"Edit"}),a.jsx("button",{onClick:()=>c(e),className:"bg-gray-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-gray-700",children:"Delete"})]})]})]})}),a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:["Level: ",e.transportLevel]}),a.jsxs("div",{children:["Distance: ",e.distanceMiles?`${e.distanceMiles} miles`:"N/A"]}),a.jsxs("div",{children:["Time: ",e.estimatedTripTimeMinutes?`${e.estimatedTripTimeMinutes} minutes`:"N/A"]}),a.jsxs("div",{children:["Revenue: ",e.tripCost?`$${Number(e.tripCost).toFixed(2)}`:"N/A"]})]})}),s.length>0&&a.jsxs("div",{className:"border-t",children:[a.jsxs("button",{onClick:()=>n(!r),className:"w-full px-6 py-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center justify-between",children:[a.jsxs("span",{children:["Trip Timeline (",s.length," events)"]}),r?a.jsx(No,{className:"w-4 h-4"}):a.jsx(Xs,{className:"w-4 h-4"})]}),r&&a.jsx("div",{className:"px-6 pb-4 bg-gray-50",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((m,f)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mr-3"}),a.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.event}),a.jsx("p",{className:"text-xs text-gray-400",children:o(m.timestamp)})]})]},f))})})]})]})},n6=({user:e})=>{const t=bu(),[r,n]=x.useState([]),[s,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(""),[d,m]=x.useState(new Date),[f,h]=x.useState(""),[p,y]=x.useState("ALL"),[g,v]=x.useState("ALL"),[b,j]=x.useState("ALL"),[w,N]=x.useState("ALL"),[S,P]=x.useState("ALL"),[O,A]=x.useState(!1),[k,R]=x.useState(null),[L,T]=x.useState(!1),[K,I]=x.useState("createdAt"),[M,F]=x.useState("desc"),U=async()=>{var _,C;try{l(!0);const B=await ku.getAll();B.data.success?(n(B.data.data),i(B.data.data),m(new Date)):u(B.data.error||"Failed to fetch trips")}catch(B){u(((C=(_=B.response)==null?void 0:_.data)==null?void 0:C.error)||"Failed to fetch trips")}finally{l(!1)}};x.useEffect(()=>{U()},[]),x.useEffect(()=>{const _=setInterval(U,3e4);return()=>clearInterval(_)},[]),x.useEffect(()=>{let _=[...r];if(f){const C=f.toLowerCase();_=_.filter(B=>{var G;return B.tripNumber.toLowerCase().includes(C)||B.patientId.toLowerCase().includes(C)||B.fromLocation.toLowerCase().includes(C)||B.toLocation.toLowerCase().includes(C)||(((G=B.assignedAgency)==null?void 0:G.name)||"").toLowerCase().includes(C)})}if(p!=="ALL"&&(_=_.filter(C=>C.status===p)),g!=="ALL"&&(_=_.filter(C=>C.priority===g)),b!=="ALL"&&(_=_.filter(C=>C.transportLevel===b)),w!=="ALL"){const C=new Date,B=new Date;switch(w){case"24H":B.setHours(C.getHours()-24);break;case"7D":B.setDate(C.getDate()-7);break;case"30D":B.setDate(C.getDate()-30);break}w!=="ALL"&&(_=_.filter(G=>new Date(G.createdAt)>=B))}e.userType!=="ADMIN"&&e.facilityName&&(_=_.filter(C=>C.fromLocation.toLowerCase().includes(e.facilityName.toLowerCase()))),_.sort((C,B)=>{const G=C[K],Q=B[K];return G<Q?M==="asc"?-1:1:G>Q?M==="asc"?1:-1:0}),i(_)},[r,f,p,g,b,w,S,K,M,e]);const W=_=>{const C={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:gt},ACCEPTED:{color:"bg-blue-100 text-blue-800",icon:De},DECLINED:{color:"bg-orange-100 text-orange-800",icon:tr},IN_PROGRESS:{color:"bg-purple-100 text-purple-800",icon:$e},COMPLETED:{color:"bg-green-100 text-green-800",icon:De},CANCELLED:{color:"bg-red-100 text-red-800",icon:tr}},B=C[_]||C.PENDING,G=B.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${B.color}`,children:[a.jsx(G,{className:"w-3 h-3 mr-1"}),_.replace("_"," ")]})},D=_=>{const C={LOW:{color:"bg-gray-100 text-gray-800"},MEDIUM:{color:"bg-yellow-100 text-yellow-800"},HIGH:{color:"bg-orange-100 text-orange-800"},CRITICAL:{color:"bg-red-100 text-red-800"}},B=C[_]||C.LOW;return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${B.color}`,children:_})},q=_=>new Date(_).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),V=()=>{const _=["Trip Number","Patient ID","From Location","Pickup Location","Pickup Floor","Pickup Room","Pickup Contact","To Location","Status","Priority","Transport Level","Scheduled Time","Assigned Agency","Created At"],C=s.map(Y=>{var oe,le,E,$,ee,te;return[Y.tripNumber,Y.patientId,Y.fromLocation,((oe=Y.pickupLocation)==null?void 0:oe.name)||"N/A",((le=Y.pickupLocation)==null?void 0:le.floor)||"N/A",((E=Y.pickupLocation)==null?void 0:E.room)||"N/A",(($=Y.pickupLocation)==null?void 0:$.contactPhone)||((ee=Y.pickupLocation)==null?void 0:ee.contactEmail)||"N/A",Y.toLocation,Y.status,Y.priority,Y.transportLevel,q(Y.scheduledTime),((te=Y.assignedAgency)==null?void 0:te.name)||"Unassigned",q(Y.createdAt)]}),B=[_,...C].map(Y=>Y.map(oe=>`"${oe}"`).join(",")).join(`
`),G=new Blob([B],{type:"text/csv"}),Q=window.URL.createObjectURL(G),he=document.createElement("a");he.href=Q,he.download=`trips-${new Date().toISOString().split("T")[0]}.csv`,he.click(),window.URL.revokeObjectURL(Q)};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trip Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and monitor all transport requests"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:U,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:V,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(hn,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3",children:[a.jsx("button",{onClick:()=>t("/dashboard/trips/create"),className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx($e,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Create Trip"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"New Transport Request"})]})})]})})}),a.jsx("button",{onClick:()=>window.location.href="/dashboard/units",className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx($e,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Units"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"Manage Units"})]})})]})})}),a.jsx("button",{onClick:()=>window.location.href="/dashboard/route-optimization",className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-purple-500",children:a.jsx(vt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Route Optimization"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"Optimize Routes"})]})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx($e,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(gt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(_=>_.status==="PENDING").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-purple-500",children:a.jsx($e,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"In Progress"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(_=>_.status==="IN_PROGRESS").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(De,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(_=>_.status==="COMPLETED").length})]})})]})})})]}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Filters"}),a.jsxs("button",{onClick:()=>A(!O),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(Eu,{className:"w-4 h-4 mr-2"}),O?"Hide Filters":"Show Filters",O?a.jsx(No,{className:"w-4 h-4 ml-2"}):a.jsx(Xs,{className:"w-4 h-4 ml-2"})]})]}),O&&a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Tu,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:f,onChange:_=>h(_.target.value),className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search trips..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{value:p,onChange:_=>y(_.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Statuses"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"ACCEPTED",children:"Accepted"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),a.jsxs("select",{value:g,onChange:_=>v(_.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Priorities"}),a.jsx("option",{value:"LOW",children:"Low"}),a.jsx("option",{value:"MEDIUM",children:"Medium"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"CRITICAL",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport Level"}),a.jsxs("select",{value:b,onChange:_=>j(_.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Levels"}),a.jsx("option",{value:"BLS",children:"BLS"}),a.jsx("option",{value:"ALS",children:"ALS"}),a.jsx("option",{value:"CCT",children:"CCT"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date Range"}),a.jsxs("select",{value:w,onChange:_=>N(_.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Time"}),a.jsx("option",{value:"24H",children:"Last 24 Hours"}),a.jsx("option",{value:"7D",children:"Last 7 Days"}),a.jsx("option",{value:"30D",children:"Last 30 Days"})]})]}),e.userType==="ADMIN"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hospital"}),a.jsx("select",{value:S,onChange:_=>P(_.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:a.jsx("option",{value:"ALL",children:"All Hospitals"})})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:s.length})," of"," ",a.jsx("span",{className:"font-medium",children:r.length})," trips"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",d.toLocaleTimeString()]})]}),a.jsxs("div",{className:"space-y-4",children:[s.map(_=>a.jsx(r6,{trip:_,user:e},_.id)),s.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx($e,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No trips found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:f||p!=="ALL"||g!=="ALL"||b!=="ALL"||w!=="ALL"?"Try adjusting your filters to see more results.":"No trips have been created yet."})]})]}),L&&k&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>T(!1)}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Trip Details - ",k.tripNumber]}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(tr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Patient ID"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.patientId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("div",{className:"mt-1",children:W(k.status)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),a.jsx("div",{className:"mt-1",children:D(k.priority)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport Level"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.transportLevel})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Location"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.fromLocation})]}),k.pickupLocation&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pickup Location"}),a.jsxs("div",{className:"mt-1 p-3 bg-blue-50 rounded-md",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.pickupLocation.name}),k.pickupLocation.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.pickupLocation.description}),a.jsxs("div",{className:"mt-2 space-y-1",children:[k.pickupLocation.floor&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Floor:"})," ",k.pickupLocation.floor]}),k.pickupLocation.room&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Room:"})," ",k.pickupLocation.room]}),k.pickupLocation.contactPhone&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",k.pickupLocation.contactPhone]}),k.pickupLocation.contactEmail&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",k.pickupLocation.contactEmail]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Location"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.toLocation})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scheduled Time"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q(k.scheduledTime)})]}),k.assignedAgency&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Agency"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.assignedAgency.name})]}),k.diagnosis&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Diagnosis"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.diagnosis})]}),k.mobilityLevel&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobility Level"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.mobilityLevel})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Oxygen Required"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.oxygenRequired?"Yes":"No"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monitoring Required"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.monitoringRequired?"Yes":"No"})]})]})]})]}),a.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:a.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>T(!1),children:"Close"})})]})]})})]})},a6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null);x.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const A=await Z.get("/api/tcc/hospitals");t(A.data.data||[])}catch(A){i(A.message),console.error("Error fetching hospitals:",A)}finally{n(!1)}},l=async A=>{try{const k=await Z.put(`/api/tcc/hospitals/${A}/approve`);console.log("Hospital approved:",k.data),await o()}catch(k){console.error("Error approving hospital:",k),i("Failed to approve hospital")}},c=async A=>{try{const k=await Z.put(`/api/tcc/hospitals/${A}/reject`);console.log("Hospital rejected:",k.data),await o()}catch(k){console.error("Error rejecting hospital:",k),i("Failed to reject hospital")}},[u,d]=x.useState(null),[m,f]=x.useState({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",type:"",capabilities:[],region:"",latitude:"",longitude:""}),[h,p]=x.useState(!1),[y,g]=x.useState(null),[v,b]=x.useState(!1),j=A=>{var R,L;const k=e.find(T=>T.id===A);k&&(d(k),f({name:k.name,address:k.address,city:k.city,state:k.state,zipCode:k.zipCode,phone:k.phone||"",email:k.email||"",type:k.type,capabilities:k.capabilities,region:k.region,latitude:((R=k.latitude)==null?void 0:R.toString())||"",longitude:((L=k.longitude)==null?void 0:L.toString())||""}),g(null))},w=A=>{const{name:k,value:R}=A.target;f(L=>({...L,[k]:R}))},N=async()=>{if(!m.address||!m.city||!m.state||!m.zipCode){g("Please fill in address, city, state, and ZIP code before looking up coordinates");return}b(!0),g(null);try{const A=`${m.address}, ${m.city}, ${m.state} ${m.zipCode}`,k=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(A)}&limit=1`);if(!k.ok)throw new Error("Geocoding service unavailable");const R=await k.json();if(R&&R.length>0){const L=R[0];f(T=>({...T,latitude:L.lat,longitude:L.lon})),g(null)}else g("Address not found. Please enter coordinates manually.")}catch(A){console.error("Geocoding error:",A),g("Failed to lookup coordinates. Please enter them manually.")}finally{b(!1)}},S=async A=>{if(A.preventDefault(),!!u){p(!0),g(null);try{const k=await Z.put(`/api/tcc/hospitals/${u.id}`,m);await o(),d(null)}catch(k){console.error("Error updating hospital:",k),g(k.message||"Failed to update hospital")}finally{p(!1)}}},P=()=>{d(null),g(null)},O=async A=>{if(window.confirm("Are you sure you want to delete this hospital? This action cannot be undone."))try{const k=await Z.delete(`/api/tcc/hospitals/${A}`);console.log("Hospital deleted:",k.data),await o()}catch(k){console.error("Error deleting hospital:",k),i("Failed to delete hospital")}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading hospitals..."})]})}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(mr,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading hospitals"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:s})]})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Healthcare Facilities"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Manage healthcare facilities in the system. ",e.length," facilities found."]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Healthcare Facilities List"}),a.jsxs("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/?register=healthcare"},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add Healthcare Facility"]})]})}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(er,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hospitals found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new hospital."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facility"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),a.jsx("div",{className:"text-sm text-gray-500",children:A.email})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[A.city,", ",A.state," ",A.zipCode]}),a.jsx("div",{className:"text-sm text-gray-500",children:A.address})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:A.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[A.isActive?a.jsx(De,{className:"h-4 w-4 text-green-500 mr-1"}):A.requiresReview?a.jsx(gt,{className:"h-4 w-4 text-yellow-500 mr-1"}):a.jsx(mr,{className:"h-4 w-4 text-red-500 mr-1"}),a.jsx("span",{className:`text-sm font-medium ${A.isActive?"text-green-800":A.requiresReview?"text-yellow-800":"text-red-800"}`,children:A.isActive?"Active":A.requiresReview?"Pending Review":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[A.requiresReview&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>l(A.id),className:"text-green-600 hover:text-green-900",children:"Approve"}),a.jsx("button",{onClick:()=>c(A.id),className:"text-red-600 hover:text-red-900",children:"Reject"})]}),a.jsx("button",{onClick:()=>j(A.id),className:"text-blue-600 hover:text-blue-900",title:"Edit hospital",children:a.jsx(Pu,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>O(A.id),className:"text-red-600 hover:text-red-900",title:"Delete hospital",children:a.jsx(yl,{className:"h-4 w-4"})})]})})]},A.id))})]})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Healthcare Facility"}),a.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600",children:a.jsx(mr,{className:"h-6 w-6"})})]}),y&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(mr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:y})})]})}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Facility Name *"}),a.jsx("input",{type:"text",name:"name",value:m.name,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address *"}),a.jsx("input",{type:"text",name:"address",value:m.address,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City *"}),a.jsx("input",{type:"text",name:"city",value:m.city,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State *"}),a.jsx("input",{type:"text",name:"state",value:m.state,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zip Code *"}),a.jsx("input",{type:"text",name:"zipCode",value:m.zipCode,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:m.email,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type *"}),a.jsxs("select",{name:"type",value:m.type,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select type"}),a.jsx("option",{value:"Hospital",children:"Hospital"}),a.jsx("option",{value:"Clinic",children:"Clinic"}),a.jsx("option",{value:"Urgent Care",children:"Urgent Care"}),a.jsx("option",{value:"Rehabilitation Facility",children:"Rehabilitation Facility"}),a.jsx("option",{value:"Doctor's Office",children:"Doctor's Office"}),a.jsx("option",{value:"Dialysis Center",children:"Dialysis Center"}),a.jsx("option",{value:"Nursing Home",children:"Nursing Home"}),a.jsx("option",{value:"Assisted Living",children:"Assisted Living"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Region *"}),a.jsx("input",{type:"text",name:"region",value:m.region,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(er,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for agency distance calculations. You can either lookup coordinates automatically or enter them manually."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:N,disabled:v||!m.address||!m.city||!m.state||!m.zipCode,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(er,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from the address"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",name:"latitude",value:m.latitude,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",name:"longitude",value:m.longitude,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., -78.5678"})]})]}),m.latitude&&m.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:[" Coordinates set: ",m.latitude,", ",m.longitude]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:h?"Updating...":"Update Facility"})]})]})]})})})]})},s6=()=>{console.log("TCC_DEBUG: Agencies component mounted/rendered");const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(""),[c,u]=x.useState("all"),[d,m]=x.useState(null),[f,h]=x.useState({name:"",contactName:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",serviceType:"BLS/ALS"}),[p,y]=x.useState(!1),[g,v]=x.useState(null);x.useEffect(()=>{console.log("TCC_DEBUG: Agencies.useEffect() initial load"),b()},[]);const b=async()=>{try{n(!0),console.log("TCC_DEBUG: Agencies.loadAgencies(): calling agenciesAPI.getAll");const A=await Bc.getAll();if(console.log("TCC_DEBUG: Agencies.loadAgencies(): response status",A.status),console.log("TCC_DEBUG: Agencies.loadAgencies(): response data",A.data),A.data.success){const k=A.data.data.map(R=>{var L,T,K,I,M,F,U,W,D,q,V,_;return{...R,contactName:((L=R.contactInfo)==null?void 0:L.contactName)||"N/A",phone:((T=R.contactInfo)==null?void 0:T.phone)||"N/A",email:((K=R.contactInfo)==null?void 0:K.email)||"N/A",address:((I=R.contactInfo)==null?void 0:I.address)||"N/A",city:((M=R.contactInfo)==null?void 0:M.city)||"N/A",state:((F=R.contactInfo)==null?void 0:F.state)||"N/A",zipCode:((U=R.contactInfo)==null?void 0:U.zipCode)||"N/A",capabilities:((W=R.contactInfo)==null?void 0:W.capabilities)||[],serviceArea:((D=R.contactInfo)==null?void 0:D.serviceArea)||[],operatingHours:((q=R.contactInfo)==null?void 0:q.operatingHours)||null,pricingStructure:((V=R.contactInfo)==null?void 0:V.pricingStructure)||null,status:((_=R.contactInfo)==null?void 0:_.status)||"ACTIVE"}});console.log("TCC_DEBUG: Agencies.loadAgencies(): transformed count",k.length),t(k)}else i("Failed to load agencies")}catch(A){console.error("TCC_DEBUG: Agencies.loadAgencies(): error",A),i("Failed to load agencies")}finally{n(!1)}},j=A=>{m(A),h({name:A.name,contactName:A.contactName,phone:A.phone,email:A.email,address:A.address,city:A.city,state:A.state,zipCode:A.zipCode,serviceType:"BLS/ALS"}),v(null)},w=A=>{const{name:k,value:R}=A.target;h(L=>({...L,[k]:R}))},N=async A=>{var k,R;if(A.preventDefault(),!!d){y(!0),v(null);try{const L=await Bc.update(d.id,f);L.data.success?(t(e.map(T=>T.id===d.id?{...T,...f,updatedAt:new Date().toISOString()}:T)),m(null)):v(L.data.error||"Failed to update agency")}catch(L){console.error("Error updating agency:",L),v(((R=(k=L.response)==null?void 0:k.data)==null?void 0:R.error)||"Failed to update agency")}finally{y(!1)}}},S=()=>{m(null),h({name:"",contactName:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",serviceType:"BLS/ALS"}),v(null)},P=async A=>{if(window.confirm("Are you sure you want to delete this agency?"))try{await Bc.delete(A),await b()}catch(k){console.error("Error deleting agency:",k),i("Failed to delete agency")}},O=e.filter(A=>{const k=A.name.toLowerCase().includes(o.toLowerCase())||A.contactName.toLowerCase().includes(o.toLowerCase())||A.city.toLowerCase().includes(o.toLowerCase()),R=c==="all"||c==="active"&&A.isActive||c==="inactive"&&!A.isActive;return k&&R});return r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"EMS Agencies"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage EMS agencies and their capabilities."})]}),s&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Tu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search agencies...",value:o,onChange:A=>l(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:c,onChange:A=>u(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]}),a.jsxs("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/?register=ems"},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[a.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add Agency"]}),a.jsx("button",{onClick:b,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:a.jsx(Rt,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:O.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx($e,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No agencies found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search terms.":"Get started by adding a new agency."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",A.id]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:A.contactName}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(Au,{className:"h-3 w-3 mr-1"}),A.phone]}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(gl,{className:"h-3 w-3 mr-1"}),A.email]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[A.city,", ",A.state]}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(vt,{className:"h-3 w-3 mr-1"}),A.address]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:A.capabilities&&A.capabilities.length>0?A.capabilities.map(k=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:k},k)):a.jsx("span",{className:"text-gray-500 text-sm",children:"No capabilities"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[A.isActive?a.jsx(De,{className:"h-4 w-4 text-green-500 mr-2"}):a.jsx(mr,{className:"h-4 w-4 text-red-500 mr-2"}),a.jsx("span",{className:`text-sm font-medium ${A.isActive?"text-green-600":"text-red-600"}`,children:A.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>j(A),className:"text-primary-600 hover:text-primary-900",children:a.jsx(Pu,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>P(A.id),className:"text-red-600 hover:text-red-900",children:a.jsx(yl,{className:"h-4 w-4"})})]})})]},A.id))})]})})}),d&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Agency"}),a.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:a.jsx(mr,{className:"h-6 w-6"})})]}),g&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(mr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:g})})]})}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agency Name"}),a.jsx("input",{type:"text",name:"name",value:f.name,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),a.jsx("input",{type:"text",name:"contactName",value:f.contactName,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:f.email,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("input",{type:"text",name:"address",value:f.address,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",name:"city",value:f.city,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",name:"state",value:f.state,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zipCode",value:f.zipCode,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),a.jsxs("select",{name:"serviceType",value:f.serviceType,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"BLS",children:"BLS Only"}),a.jsx("option",{value:"ALS",children:"ALS Only"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:p?"Saving...":"Save Changes"})]})]})]})})})]})},i6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,m]=x.useState({patientId:"",originFacilityId:"",destinationFacilityId:"",transportLevel:"BLS",priority:"MEDIUM",specialRequirements:"",readyStart:"",readyEnd:"",isolation:!1,bariatric:!1});x.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const y=await w2.getAll();t(y.data.data||[])}catch(y){console.error("TCC_DEBUG: Error loading facilities:",y),u("Failed to load facilities")}finally{n(!1)}},h=y=>{const{name:g,value:v,type:b}=y.target;if(b==="checkbox"){const j=y.target.checked;m(w=>({...w,[g]:j}))}else m(j=>({...j,[g]:v}))},p=async y=>{var g,v;if(y.preventDefault(),!d.patientId||!d.originFacilityId||!d.destinationFacilityId){u("Please fill in all required fields");return}if(!d.readyStart||!d.readyEnd){u("Please select ready time window");return}try{i(!0),u(null);const b=await ku.create(d);b.data.success?(l(!0),m({patientId:"",originFacilityId:"",destinationFacilityId:"",transportLevel:"BLS",priority:"MEDIUM",specialRequirements:"",readyStart:"",readyEnd:"",isolation:!1,bariatric:!1}),setTimeout(()=>l(!1),5e3)):u(b.data.error||"Failed to create transport request")}catch(b){console.error("TCC_DEBUG: Error creating trip:",b),u(((v=(g=b.response)==null?void 0:g.data)==null?void 0:v.error)||"Failed to create transport request")}finally{i(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(pn,{className:"h-6 w-6 text-primary-600 mr-3"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Transport Request"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Submit a new transport request for patient transfer"})]}),a.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[o&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(De,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Transport request created successfully!"})})]})}),c&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(mr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"patientId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID *"}),a.jsx("input",{type:"text",id:"patientId",name:"patientId",value:d.patientId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter patient ID",required:!0})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"originFacilityId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Origin Facility *"}),a.jsxs("select",{id:"originFacilityId",name:"originFacilityId",value:d.originFacilityId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"",children:"Select origin facility"}),e.map(y=>a.jsxs("option",{value:y.id,children:[y.name," - ",y.city,", ",y.state]},y.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"destinationFacilityId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Facility *"}),a.jsxs("select",{id:"destinationFacilityId",name:"destinationFacilityId",value:d.destinationFacilityId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"",children:"Select destination facility"}),e.map(y=>a.jsxs("option",{value:y.id,children:[y.name," - ",y.city,", ",y.state]},y.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"transportLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Level of Service *"}),a.jsxs("select",{id:"transportLevel",name:"transportLevel",value:d.transportLevel,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"BLS",children:"BLS - Basic Life Support"}),a.jsx("option",{value:"ALS",children:"ALS - Advanced Life Support"}),a.jsx("option",{value:"CCT",children:"CCT - Critical Care Transport"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level *"}),a.jsxs("select",{id:"priority",name:"priority",value:d.priority,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"LOW",children:"LOW - Non-urgent"}),a.jsx("option",{value:"MEDIUM",children:"MEDIUM - Standard"}),a.jsx("option",{value:"HIGH",children:"HIGH - Urgent"}),a.jsx("option",{value:"CRITICAL",children:"CRITICAL - Emergency"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"readyStart",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ready Start Time *"}),a.jsx("input",{type:"datetime-local",id:"readyStart",name:"readyStart",value:d.readyStart,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"readyEnd",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ready End Time *"}),a.jsx("input",{type:"datetime-local",id:"readyEnd",name:"readyEnd",value:d.readyEnd,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"specialRequirements",className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),a.jsx("textarea",{id:"specialRequirements",name:"specialRequirements",value:d.specialRequirements,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter any special requirements or notes..."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Special Requirements"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isolation",name:"isolation",checked:d.isolation,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isolation",className:"ml-2 block text-sm text-gray-900",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ax,{className:"h-4 w-4 text-yellow-600 mr-1"}),"Isolation Required"]})})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"bariatric",name:"bariatric",checked:d.bariatric,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"bariatric",className:"ml-2 block text-sm text-gray-900",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(J4,{className:"h-4 w-4 text-blue-600 mr-1"}),"Bariatric Transport"]})})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Request..."]}):a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"h-4 w-4 mr-2"}),"Create Transport Request"]})})})]})]})})},C2=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,i]=x.useState(!1);x.useEffect(()=>{o()},[]);const o=async()=>{i(!0);try{const f=(await Z.get("/api/notifications")).data;if(f!=null&&f.success&&Array.isArray(f.data)){const h=f.data.map(p=>({id:p.id,type:p.type||"info",title:p.title||"Notification",message:p.message||"",timestamp:new Date(p.createdAt||Date.now()),read:!!p.isRead||!!p.read}));t(h)}}catch(m){console.error("Error loading notifications:",m)}finally{i(!1)}},l=async m=>{try{(await Z.put(`/api/notifications/${m}/read`)).status===200&&t(h=>h.map(p=>p.id===m?{...p,read:!0}:p))}catch(f){console.error("Error marking notification as read:",f)}},c=async()=>{try{(await Z.put("/api/notifications/read-all")).status===200&&t(f=>f.map(h=>({...h,read:!0})))}catch(m){console.error("Error marking all notifications as read:",m)}},u=m=>{switch(m){case"success":return a.jsx(De,{className:"h-5 w-5 text-green-500"});case"error":return a.jsx(At,{className:"h-5 w-5 text-red-500"});case"warning":return a.jsx(At,{className:"h-5 w-5 text-yellow-500"});default:return a.jsx(X4,{className:"h-5 w-5 text-blue-500"})}},d=e.filter(m=>!m.read).length;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>n(!r),className:"p-2 text-gray-400 hover:text-gray-600 relative",children:[a.jsx(di,{className:"h-5 w-5"}),d>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:d})]}),r&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"}),a.jsxs("div",{className:"flex space-x-2",children:[d>0&&a.jsx("button",{onClick:c,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"}),a.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(tr,{className:"h-4 w-4"})})]})]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:s?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}):e.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):e.map(m=>a.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${m.read?"":"bg-blue-50"}`,onClick:()=>l(m.id),children:a.jsxs("div",{className:"flex items-start space-x-3",children:[u(m.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:m.timestamp.toLocaleString()})]}),!m.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]})},m.id))}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsx("button",{onClick:o,className:"w-full text-sm text-blue-600 hover:text-blue-800",children:"Refresh"})})]})]})},o6="modulepreload",l6=function(e){return"/"+e},Ov={},ln=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=l6(c),c in Ov)return;Ov[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":o6,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((f,h)=>{m.addEventListener("load",f),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},sc={AMBULANCE:"Ambulance",WHEELCHAIR_VAN:"Wheelchair Van",CRITICAL_CARE:"Critical Care",OTHER:"Other"},Mv={AVAILABLE:"Available",COMMITTED:"Committed",OUT_OF_SERVICE:"Out of Service",MAINTENANCE:"Maintenance",OFF_DUTY:"Off Duty"},c6={AVAILABLE:"text-green-600 bg-green-100",COMMITTED:"text-blue-600 bg-blue-100",OUT_OF_SERVICE:"text-red-600 bg-red-100",MAINTENANCE:"text-yellow-600 bg-yellow-100",OFF_DUTY:"text-gray-600 bg-gray-100"},Lv={BLS:"Basic Life Support",ALS:"Advanced Life Support",CCT:"Critical Care Transport",WHEELCHAIR:"Wheelchair Transport",STRETCHER:"Stretcher Transport",OXYGEN:"Oxygen Delivery",MONITORING:"Patient Monitoring",VENTILATOR:"Ventilator Support",CUSTOM:"Custom Capability"},d6=({user:e})=>{const[t,r]=x.useState([]),[n,s]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(!1),[m,f]=x.useState(!1),[h,p]=x.useState(null),[y,g]=x.useState(""),[v,b]=x.useState("ALL"),[j,w]=x.useState("ALL"),[N,S]=x.useState({unitNumber:"",type:"AMBULANCE",capabilities:["BLS"],customCapabilities:[],isActive:!0}),[P,O]=x.useState(!1),[A,k]=x.useState(null),R=async()=>{var D;try{console.log(" UnitsManagement: fetchUnits called"),o(!0);const _=(await(await ln(async()=>{const{default:C}=await Promise.resolve().then(()=>on);return{default:C}},void 0)).default.get("/api/units",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})).data;if(console.log(" UnitsManagement: API response:",_),_.success)console.log(" UnitsManagement: Units count:",((D=_.data)==null?void 0:D.length)||0),r(_.data||[]);else throw new Error(_.error||"Failed to fetch units")}catch(q){console.error("Error fetching units:",q),c(q.message)}finally{o(!1)}},L=async()=>{try{const V=(await(await ln(async()=>{const{default:_}=await Promise.resolve().then(()=>on);return{default:_}},void 0)).default.get("/api/units/analytics",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})).data;V.success&&s(V.data)}catch(D){console.error("Error fetching analytics:",D)}};x.useEffect(()=>{console.log(" UnitsManagement: useEffect called, component mounted"),R(),L()},[]);const T=async D=>{D.preventDefault(),O(!0),k(null);try{console.log("TCC_DEBUG: Simulating unit creation with data:",N),await new Promise(V=>setTimeout(V,1e3));const q={id:`mock-unit-${Date.now()}`,agencyId:"mock-agency",unitNumber:N.unitNumber,type:N.type,capabilities:N.capabilities,currentStatus:"AVAILABLE",currentLocation:"Station 1",crew:[],isActive:N.isActive,totalTripsCompleted:0,averageResponseTime:0,lastMaintenanceDate:new Date,nextMaintenanceDate:new Date(Date.now()+30*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};r(V=>[...V,q]),d(!1),f(!1),p(null),I(),console.log("TCC_DEBUG: Mock unit created successfully:",q)}catch(q){console.error("Error saving unit:",q),k(q.message)}finally{O(!1)}},K=async D=>{if(confirm("Are you sure you want to delete this unit?"))try{const _=(await(await ln(async()=>{const{default:C}=await Promise.resolve().then(()=>on);return{default:C}},void 0)).default.delete(`/api/units/${D}`)).data;if(_.success)await R(),await L();else throw new Error(_.error||"Failed to delete unit")}catch(q){console.error("Error deleting unit:",q),c(q.message)}},I=()=>{S({unitNumber:"",type:"AMBULANCE",capabilities:["BLS"],customCapabilities:[],isActive:!0}),k(null)},M=D=>{p(D),S({unitNumber:D.unitNumber,type:D.type,capabilities:D.capabilities,customCapabilities:[],isActive:D.isActive}),f(!0)},F=t.filter(D=>{const q=D.unitNumber.toLowerCase().includes(y.toLowerCase())||sc[D.type].toLowerCase().includes(y.toLowerCase()),V=v==="ALL"||D.currentStatus===v,_=j==="ALL"||D.type===j;return q&&V&&_}),U=D=>{const q=c6[D];return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q}`,children:Mv[D]})},W=D=>D.map(q=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 mr-1 mb-1",children:Lv[q]},q));return i?a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(Rt,{className:"h-8 w-8 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading units..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Units Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage your EMS units and track their status"})]}),a.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:[a.jsx(pn,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Unit"})]})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Mock Implementation"}),a.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:a.jsx("p",{children:"Unit creation is currently simulated locally. Created units will appear in the list but won't persist after page refresh. Backend API endpoint needs to be implemented."})})]})]})}),n&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($e,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Units"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.totalUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(De,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.availableUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(cr,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.committedUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xt,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Efficiency"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(n.efficiency*100),"%"]})]})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tu,{className:"h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search units...",value:y,onChange:D=>g(D.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Eu,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:v,onChange:D=>b(D.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"ALL",children:"All Statuses"}),Object.entries(Mv).map(([D,q])=>a.jsx("option",{value:D,children:q},D))]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{value:j,onChange:D=>w(D.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"ALL",children:"All Types"}),Object.entries(sc).map(([D,q])=>a.jsx("option",{value:D,children:q},D))]})}),a.jsxs("button",{onClick:()=>{R(),L()},className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[a.jsx(Rt,{className:"h-4 w-4"}),a.jsx("span",{children:"Refresh"})]})]})}),l&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(At,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["Units (",F.length,")"]}),F.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx($e,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No units found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t.length===0?"Get started by creating your first unit.":"Try adjusting your search or filter criteria."}),t.length===0&&a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[a.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add Unit"]})})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(D=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.unitNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:D.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:sc[D.type]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U(D.currentStatus)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex flex-wrap",children:W(D.capabilities)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("div",{children:[a.jsxs("div",{children:[D.totalTripsCompleted," trips"]}),D.averageResponseTime&&a.jsxs("div",{className:"text-gray-500",children:[D.averageResponseTime.toFixed(1),"min avg"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>M(D),className:"text-orange-600 hover:text-orange-900",children:a.jsx(Pu,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>K(D.id),className:"text-red-600 hover:text-red-900",children:a.jsx(yl,{className:"h-4 w-4"})})]})})]},D.id))})]})})]})}),(u||m)&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:h?"Edit Unit":"Create New Unit"}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Number"}),a.jsx("input",{type:"text",required:!0,value:N.unitNumber,onChange:D=>S({...N,unitNumber:D.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., A-101"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Type"}),a.jsx("select",{value:N.type,onChange:D=>S({...N,type:D.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:Object.entries(sc).map(([D,q])=>a.jsx("option",{value:D,children:q},D))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capabilities"}),a.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(Lv).map(([D,q])=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:N.capabilities.includes(D),onChange:V=>{const _=D;V.target.checked?S({...N,capabilities:[...N.capabilities,_]}):S({...N,capabilities:N.capabilities.filter(C=>C!==_)})},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:q})]},D))})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:N.isActive,onChange:D=>S({...N,isActive:D.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"On Duty"}),a.jsx("p",{className:"ml-2 text-xs text-gray-500",children:"Check if unit is currently on duty"})]}),A&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:a.jsx("p",{className:"text-sm text-red-700",children:A})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),f(!1),p(null),I()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:P,className:"px-4 py-2 bg-orange-600 text-white rounded-md text-sm font-medium hover:bg-orange-700 disabled:opacity-50",children:P?"Saving...":h?"Update":"Create"})]})]})]})})})]})},S2=()=>{var Y,oe,le;const[e,t]=x.useState(()=>{const E=localStorage.getItem("revenue_settings");return E?JSON.parse(E):{baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialRequirementsSurcharge:50,insuranceRates:{medicare:.85,medicaid:.8,private:1},crewRoles:{EMT:25,Paramedic:35,RN:45,CCTSpecialist:40,CriticalCareParamedic:42},overtimeMultiplier:1.5,shiftLengthHours:12,maxOvertimeHours:4,vehicleCostPerMile:.75,fuelCostPerMile:.25,maintenanceCostPerMile:.15,crewComposition:{BLS:["EMT","EMT"],ALS:["EMT","Paramedic"],CCT:["RN","CriticalCareParamedic"]},timeBasedPricing:{peakHourMultipliers:{"6-9AM":1.3,"5-8PM":1.4,Other:1},weekendMultipliers:{Saturday:1.2,Sunday:1.3,Weekday:1},seasonalMultipliers:{Winter:1.1,Spring:1,Summer:1,Fall:1}},geographicPricing:{zoneMultipliers:{Urban:1,Suburban:1.1,Rural:1.3,Remote:1.5},distanceTiers:{"0-10mi":1,"10-25mi":.95,"25-50mi":.9,"50+mi":.85}},serviceSpecificPricing:{specialRequirements:{Oxygen:25,Monitoring:50,Isolation:75,Bariatric:100},isolationPricing:75,bariatricPricing:100,oxygenPricing:25,monitoringPricing:50},insuranceSpecificRates:{Medicare:.85,Medicaid:.8,Private:1,SelfPay:1.2},routeOptimization:{deadheadMileWeight:1,waitTimeWeight:1,backhaulBonusWeight:1,overtimeRiskWeight:1,revenueWeight:1,crewAvailabilityWeight:1,equipmentCompatibilityWeight:1,patientPriorityWeight:1,maxDeadheadMiles:50,maxWaitTimeMinutes:30,maxOvertimeHours:4,maxResponseTimeMinutes:15,maxServiceDistance:100,backhaulTimeWindow:60,backhaulDistanceLimit:25,backhaulRevenueBonus:50,enableBackhaulOptimization:!0,targetLoadedMileRatio:.75,targetRevenuePerHour:200,targetResponseTime:12,targetEfficiency:.85,optimizationAlgorithm:"HYBRID",maxOptimizationTime:30,enableRealTimeOptimization:!0}}}),[r,n]=x.useState({standardRate:0,mileageRate:0,insuranceRate:0,crewCost:0,vehicleCost:0,totalCost:0,netProfit:0,profitMargin:0}),[s,i]=x.useState({totalRevenue:0,totalDeadheadMiles:0,totalWaitTime:0,totalOvertimeRisk:0,backhaulPairs:0,loadedMileRatio:0,averageEfficiency:0,averageResponseTime:0,totalMiles:0,loadedMiles:0,optimizationResults:[],backhaulOpportunities:[]}),[o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[m,f]=x.useState(null),[h,p]=x.useState(null),[y,g]=x.useState([]),[v,b]=x.useState(!1),[j,w]=x.useState("month"),[N]=x.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[S,P]=x.useState({totalTrips:0,completedTrips:0,averageResponseTime:0,averageTripTime:0,totalRevenue:0,efficiency:0}),[O,A]=x.useState(!1),[k,R]=x.useState(!1),L=ol.useRef(null),[T,K]=x.useState(""),[I,M]=x.useState(""),[F,U]=x.useState(null),W=(E,$=0)=>{const ee=typeof E=="number"?E:Number(E);return Number.isFinite(ee)?ee:$};x.useEffect(()=>{V()},[]),x.useEffect(()=>{C(),B()},[e]),x.useEffect(()=>{Q()},[j,N]);const D=async()=>{if(L.current)return;const E=localStorage.getItem("token");if(!E){console.log("No token available for SSE connection");return}const $=`https://vercel-bqfo02a73-chuck-ferrells-projects.vercel.app/api/optimize/stream?token=${encodeURIComponent(E)}`;console.log("Creating EventSource connection to:",$);const ee=new EventSource($);L.current=ee,ee.addEventListener("connected",te=>{console.log("SSE connected event received:",te),A(!0)}),ee.addEventListener("metrics",te=>{try{console.log("SSE metrics event received:",te.data);const ye=JSON.parse(te.data),de=ye.summary||ye;P({totalTrips:de.totalTrips||0,completedTrips:de.completedTrips||0,averageResponseTime:de.averageResponseTime||0,averageTripTime:de.averageTripTime||0,totalRevenue:de.totalRevenue||0,efficiency:de.efficiency||0,customerSatisfaction:de.customerSatisfaction||4.2,lastUpdated:ye.timestamp||new Date().toISOString()})}catch(ye){console.error("Error parsing SSE metrics:",ye)}}),ee.addEventListener("error",te=>{console.error("SSE error event:",te),A(!1)}),ee.onopen=()=>{console.log("SSE connection opened successfully"),A(!0)},ee.onerror=te=>{console.error("SSE connection error:",te),console.error("EventSource readyState:",ee.readyState),A(!1)}},q=()=>{L.current&&(L.current.close(),L.current=null),A(!1)};x.useEffect(()=>(localStorage.getItem("token")&&!k&&D().catch(console.error),()=>{q()}),[]),x.useEffect(()=>{k?q():D().catch(console.error)},[k]);const V=()=>{try{const E=localStorage.getItem("revenue_settings");if(E){const $=JSON.parse(E);t(ee=>({...ee,...$}))}}catch(E){console.error("Error loading saved settings:",E)}},_=()=>{try{localStorage.setItem("revenue_settings",JSON.stringify(e)),c(!0),setTimeout(()=>c(!1),2e3)}catch(E){console.error("Error saving settings:",E)}},C=()=>{const E="ALS",$="MEDIUM",te="medicare",de=e.baseRates[E],it=e.priorityMultipliers[$],wt=e.perMileRates[E],jn=e.insuranceRates[te],$a=de*it,en=$a+wt*15,ea=en*jn,ta=e.crewComposition[E];let Es=0;ta.forEach(Ui=>{const $P=e.crewRoles[Ui];Es+=$P*2.5});const X=(e.vehicleCostPerMile+e.fuelCostPerMile+e.maintenanceCostPerMile)*15,fe=Es+X,tn=ea-fe,nr=ea>0?tn/ea*100:0;n({standardRate:Math.round($a*100)/100,mileageRate:Math.round(en*100)/100,insuranceRate:Math.round(ea*100)/100,crewCost:Math.round(Es*100)/100,vehicleCost:Math.round(X*100)/100,totalCost:Math.round(fe*100)/100,netProfit:Math.round(tn*100)/100,profitMargin:Math.round(nr*100)/100})},B=async()=>{try{d(!0);const $=[{id:"req1",transportLevel:"ALS",priority:"MEDIUM",originLocation:{lat:40.75,lng:-73.98},destinationLocation:{lat:40.76,lng:-73.99},scheduledTime:new Date(Date.now()+30*60*1e3),tripCost:275},{id:"req2",transportLevel:"BLS",priority:"LOW",originLocation:{lat:40.74,lng:-73.97},destinationLocation:{lat:40.77,lng:-74},scheduledTime:new Date(Date.now()+60*60*1e3),tripCost:150}].reduce((ea,ta)=>ea+(ta.tripCost||0),0),ee=25.5,te=45,ye=.5,de=1,it=e.routeOptimization.targetLoadedMileRatio,wt=e.routeOptimization.targetEfficiency,jn=e.routeOptimization.targetResponseTime,$a=ee/(1-it),en=$a-ee;i({totalRevenue:$,totalDeadheadMiles:ee,totalWaitTime:te,totalOvertimeRisk:ye,backhaulPairs:de,loadedMileRatio:it,averageEfficiency:wt,averageResponseTime:jn,totalMiles:$a,loadedMiles:en,optimizationResults:[],backhaulOpportunities:[]})}catch(E){console.error("Error calculating optimization preview:",E)}finally{d(!1)}},G=(E,$,ee)=>{t(te=>{const ye=te[E];return{...te,[E]:{...ye,[$]:ee}}})},Q=async()=>{var E,$,ee;try{console.log("Loading cost analysis data..."),b(!0);const te=localStorage.getItem("token");console.log("Token available for data loading:",!!te);const ye={"Content-Type":"application/json"};te&&(ye.Authorization=`Bearer ${te}`);const de=await Z.get(`/api/tcc/analytics/cost-analysis?startDate=${N.start}&endDate=${N.end}`);console.log("Summary response status:",de.status),(E=de.data)!=null&&E.success?(console.log("Summary data received:",de.data),f(de.data.data)):console.error("Summary response error:",de.data);const it=await Z.get(`/api/tcc/analytics/profitability?period=${j}`);($=it.data)!=null&&$.success&&p(it.data.data);const wt=await Z.get("/api/tcc/analytics/cost-breakdowns?limit=50");(ee=wt.data)!=null&&ee.success&&g(wt.data.data)}catch(te){console.error("Error loading cost analysis data:",te)}finally{b(!1)}},he=async()=>{var E,$;try{console.log("Starting sample cost breakdown creation...");const ee=localStorage.getItem("token");console.log("Token available:",!!ee);const te={baseRevenue:250,mileageRevenue:56.25,priorityRevenue:27.5,specialRequirementsRevenue:0,insuranceAdjustment:-50.625,totalRevenue:283.125,crewLaborCost:87.5,vehicleCost:11.25,fuelCost:3.75,maintenanceCost:2.25,overheadCost:15,totalCost:119.75,grossProfit:163.375,profitMargin:57.7,revenuePerMile:18.88,costPerMile:7.98,loadedMileRatio:.8,deadheadMileRatio:.2,utilizationRate:.85,tripDistance:15,loadedMiles:12,deadheadMiles:3,tripDurationHours:2.5,transportLevel:"ALS",priorityLevel:"MEDIUM"};console.log("Creating sample cost breakdown...");const ye={"Content-Type":"application/json"};ee&&(ye.Authorization=`Bearer ${ee}`);const de=await Z.post("/api/tcc/analytics/cost-breakdown",{tripId:`sample-trip-${Date.now()}`,breakdownData:te});(E=de.data)!=null&&E.success?(console.log("Sample cost breakdown created successfully"),await Q()):(console.error("Error creating sample cost breakdown:",de.data),alert(`Error creating sample data: ${(($=de.data)==null?void 0:$.error)||"Unknown error"}`))}catch(ee){console.error("Error creating sample cost breakdown:",ee),alert(`Error creating sample data: ${ee instanceof Error?ee.message:"Unknown error"}`)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Revenue Calculation Settings"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:_,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:[a.jsx(Q4,{className:"h-4 w-4 mr-2"}),l?"Saved!":"Save Settings"]})})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Configure pricing rates and see real-time revenue projections."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Base Rates by Transport Level"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.baseRates).map(([E,$])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[E," Base Rate ($):"]}),a.jsx("input",{type:"number",value:$,onChange:ee=>G("baseRates",E,parseFloat(ee.target.value)||0),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},E))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Per Mile Rates"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.perMileRates).map(([E,$])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[E," Per Mile ($):"]}),a.jsx("input",{type:"number",step:"0.01",value:$,onChange:ee=>G("perMileRates",E,parseFloat(ee.target.value)||0),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},E))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Priority Multipliers"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.priorityMultipliers).map(([E,$])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[E," Priority:"]}),a.jsx("input",{type:"number",step:"0.1",value:$,onChange:ee=>G("priorityMultipliers",E,parseFloat(ee.target.value)||1),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},E))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Fees"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Special Requirements Surcharge ($):"}),a.jsx("input",{type:"number",value:e.specialRequirementsSurcharge,onChange:E=>t($=>({...$,specialRequirementsSurcharge:parseFloat(E.target.value)||0})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Insurance Rate Multipliers"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.insuranceRates).map(([E,$])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[E.charAt(0).toUpperCase()+E.slice(1),":"]}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"2",value:$,onChange:ee=>G("insuranceRates",E,parseFloat(ee.target.value)||1),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},E))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Z4,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Crew Cost Management"})]}),a.jsxs("div",{className:"space-y-4",children:[Object.entries(e.crewRoles).map(([E,$])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[E," Hourly Rate ($):"]}),a.jsx("input",{type:"number",step:"0.01",value:$,onChange:ee=>G("crewRoles",E,parseFloat(ee.target.value)||0),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},E)),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Overtime Multiplier:"}),a.jsx("input",{type:"number",step:"0.1",value:e.overtimeMultiplier,onChange:E=>t($=>({...$,overtimeMultiplier:parseFloat(E.target.value)||1.5})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Shift Length (hours):"}),a.jsx("input",{type:"number",step:"0.5",value:e.shiftLengthHours,onChange:E=>t($=>({...$,shiftLengthHours:parseFloat(E.target.value)||12})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Overtime (hours):"}),a.jsx("input",{type:"number",step:"0.5",value:e.maxOvertimeHours,onChange:E=>t($=>({...$,maxOvertimeHours:parseFloat(E.target.value)||4})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx($e,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vehicle & Operational Costs"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vehicle Cost per Mile ($):"}),a.jsx("input",{type:"number",step:"0.01",value:e.vehicleCostPerMile,onChange:E=>t($=>({...$,vehicleCostPerMile:parseFloat(E.target.value)||0})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fuel Cost per Mile ($):"}),a.jsx("input",{type:"number",step:"0.01",value:e.fuelCostPerMile,onChange:E=>t($=>({...$,fuelCostPerMile:parseFloat(E.target.value)||0})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Maintenance Cost per Mile ($):"}),a.jsx("input",{type:"number",step:"0.01",value:e.maintenanceCostPerMile,onChange:E=>t($=>({...$,maintenanceCostPerMile:parseFloat(E.target.value)||0})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(gt,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Crew Composition by Transport Level"})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.crewComposition).map(([E,$])=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[E," Crew:"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((ee,te)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:ee},te))}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Total crew cost: $",$.reduce((ee,te)=>ee+(e.crewRoles[te]||0),0).toFixed(2),"/hour"]})]},E))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(gt,{className:"h-5 w-5 text-orange-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Time-based Pricing"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Peak Hour Multipliers"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(e.timeBasedPricing.peakHourMultipliers).map(([E,$])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:E}),a.jsx("input",{type:"number",step:"0.1",value:$,onChange:ee=>t(te=>({...te,timeBasedPricing:{...te.timeBasedPricing,peakHourMultipliers:{...te.timeBasedPricing.peakHourMultipliers,[E]:parseFloat(ee.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]},E))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Weekend Multipliers"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(e.timeBasedPricing.weekendMultipliers).map(([E,$])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:E}),a.jsx("input",{type:"number",step:"0.1",value:$,onChange:ee=>t(te=>({...te,timeBasedPricing:{...te.timeBasedPricing,weekendMultipliers:{...te.timeBasedPricing.weekendMultipliers,[E]:parseFloat(ee.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]},E))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Seasonal Multipliers"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(e.timeBasedPricing.seasonalMultipliers).map(([E,$])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:E}),a.jsx("input",{type:"number",step:"0.1",value:$,onChange:ee=>t(te=>({...te,timeBasedPricing:{...te.timeBasedPricing,seasonalMultipliers:{...te.timeBasedPricing.seasonalMultipliers,[E]:parseFloat(ee.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]},E))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(vt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Geographic Pricing"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Zone Multipliers"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(e.geographicPricing.zoneMultipliers).map(([E,$])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:E}),a.jsx("input",{type:"number",step:"0.1",value:$,onChange:ee=>t(te=>({...te,geographicPricing:{...te.geographicPricing,zoneMultipliers:{...te.geographicPricing.zoneMultipliers,[E]:parseFloat(ee.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]},E))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Distance Tiers"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(e.geographicPricing.distanceTiers).map(([E,$])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:E}),a.jsx("input",{type:"number",step:"0.05",value:$,onChange:ee=>t(te=>({...te,geographicPricing:{...te.geographicPricing,distanceTiers:{...te.geographicPricing.distanceTiers,[E]:parseFloat(ee.target.value)||1}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]},E))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(mn,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Service-specific Pricing"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Special Requirements Surcharges"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(e.serviceSpecificPricing.specialRequirements).map(([E,$])=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:E}),a.jsx("input",{type:"number",step:"5",value:$,onChange:ee=>t(te=>({...te,serviceSpecificPricing:{...te.serviceSpecificPricing,specialRequirements:{...te.serviceSpecificPricing.specialRequirements,[E]:parseFloat(ee.target.value)||0}}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]},E))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Individual Service Pricing"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Isolation Protocol"}),a.jsx("input",{type:"number",step:"5",value:e.serviceSpecificPricing.isolationPricing,onChange:E=>t($=>({...$,serviceSpecificPricing:{...$.serviceSpecificPricing,isolationPricing:parseFloat(E.target.value)||0}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Bariatric Transport"}),a.jsx("input",{type:"number",step:"5",value:e.serviceSpecificPricing.bariatricPricing,onChange:E=>t($=>({...$,serviceSpecificPricing:{...$.serviceSpecificPricing,bariatricPricing:parseFloat(E.target.value)||0}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Oxygen Therapy"}),a.jsx("input",{type:"number",step:"5",value:e.serviceSpecificPricing.oxygenPricing,onChange:E=>t($=>({...$,serviceSpecificPricing:{...$.serviceSpecificPricing,oxygenPricing:parseFloat(E.target.value)||0}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Continuous Monitoring"}),a.jsx("input",{type:"number",step:"5",value:e.serviceSpecificPricing.monitoringPricing,onChange:E=>t($=>({...$,serviceSpecificPricing:{...$.serviceSpecificPricing,monitoringPricing:parseFloat(E.target.value)||0}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(V4,{className:"h-5 w-5 text-indigo-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Insurance-specific Rates"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(e.insuranceSpecificRates).map(([E,$])=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[E," Rate"]}),a.jsx("input",{type:"number",step:"0.05",value:$,onChange:ee=>t(te=>({...te,insuranceSpecificRates:{...te.insuranceSpecificRates,[E]:parseFloat(ee.target.value)||1}})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),a.jsx("p",{className:"text-xs text-gray-500",children:$<1?`${((1-$)*100).toFixed(1)}% discount`:$>1?`${(($-1)*100).toFixed(1)}% surcharge`:"Standard rate"})]},E))})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Pv,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Route Optimization Weights"})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Primary Optimization Weights"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Deadhead Miles Weight (): ",e.routeOptimization.deadheadMileWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.deadheadMileWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,deadheadMileWeight:parseFloat(E.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Penalty for empty return miles"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Wait Time Weight (): ",e.routeOptimization.waitTimeWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.waitTimeWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,waitTimeWeight:parseFloat(E.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Penalty for waiting time"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Backhaul Bonus Weight (): ",e.routeOptimization.backhaulBonusWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.backhaulBonusWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,backhaulBonusWeight:parseFloat(E.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Bonus for backhaul pairs"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Overtime Risk Weight (): ",e.routeOptimization.overtimeRiskWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.overtimeRiskWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,overtimeRiskWeight:parseFloat(E.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Penalty for overtime risk"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Secondary Weights"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Revenue Weight: ",e.routeOptimization.revenueWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.revenueWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,revenueWeight:parseFloat(E.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Crew Availability Weight: ",e.routeOptimization.crewAvailabilityWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.crewAvailabilityWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,crewAvailabilityWeight:parseFloat(E.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Equipment Compatibility Weight: ",e.routeOptimization.equipmentCompatibilityWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.equipmentCompatibilityWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,equipmentCompatibilityWeight:parseFloat(E.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Patient Priority Weight: ",e.routeOptimization.patientPriorityWeight]}),a.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:e.routeOptimization.patientPriorityWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,patientPriorityWeight:parseFloat(E.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Tx,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Constraint Settings"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Deadhead Miles:"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.maxDeadheadMiles,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,maxDeadheadMiles:parseFloat(E.target.value)||50}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Wait Time (min):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.maxWaitTimeMinutes,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,maxWaitTimeMinutes:parseInt(E.target.value)||30}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Overtime (hrs):"}),a.jsx("input",{type:"number",step:"0.5",value:e.routeOptimization.maxOvertimeHours,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,maxOvertimeHours:parseFloat(E.target.value)||4}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Response Time (min):"}),a.jsx("input",{type:"number",step:"1",value:e.routeOptimization.maxResponseTimeMinutes,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,maxResponseTimeMinutes:parseInt(E.target.value)||15}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Service Distance (mi):"}),a.jsx("input",{type:"number",step:"10",value:e.routeOptimization.maxServiceDistance,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,maxServiceDistance:parseFloat(E.target.value)||100}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(e6,{className:"h-5 w-5 text-yellow-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backhaul Optimization"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enable Backhaul Optimization:"}),a.jsx("input",{type:"checkbox",checked:e.routeOptimization.enableBackhaulOptimization,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,enableBackhaulOptimization:E.target.checked}})),className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Time Window (min):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.backhaulTimeWindow,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,backhaulTimeWindow:parseInt(E.target.value)||60}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Distance Limit (mi):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.backhaulDistanceLimit,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,backhaulDistanceLimit:parseFloat(E.target.value)||25}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Revenue Bonus ($):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.backhaulRevenueBonus,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,backhaulRevenueBonus:parseFloat(E.target.value)||50}})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(xt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Targets"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Target Loaded Mile Ratio:"}),a.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:e.routeOptimization.targetLoadedMileRatio,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,targetLoadedMileRatio:parseFloat(E.target.value)||.75}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Target Revenue/Hour ($):"}),a.jsx("input",{type:"number",step:"10",value:e.routeOptimization.targetRevenuePerHour,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,targetRevenuePerHour:parseFloat(E.target.value)||200}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Target Response Time (min):"}),a.jsx("input",{type:"number",step:"1",value:e.routeOptimization.targetResponseTime,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,targetResponseTime:parseInt(E.target.value)||12}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Target Efficiency:"}),a.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:e.routeOptimization.targetEfficiency,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,targetEfficiency:parseFloat(E.target.value)||.85}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(mn,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Algorithm Settings"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Optimization Algorithm:"}),a.jsxs("select",{value:e.routeOptimization.optimizationAlgorithm,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,optimizationAlgorithm:E.target.value}})),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:"HYBRID",children:"Hybrid"}),a.jsx("option",{value:"GREEDY",children:"Greedy"}),a.jsx("option",{value:"GENETIC",children:"Genetic"}),a.jsx("option",{value:"SIMULATED_ANNEALING",children:"Simulated Annealing"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Optimization Time (sec):"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.maxOptimizationTime,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,maxOptimizationTime:parseInt(E.target.value)||30}})),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enable Real-time Optimization:"}),a.jsx("input",{type:"checkbox",checked:e.routeOptimization.enableRealTimeOptimization,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,enableRealTimeOptimization:E.target.checked}})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("span",{className:"h-2 w-2 rounded-full mr-2",style:{backgroundColor:O?"#16a34a":"#9ca3af"}}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Real-time Optimization"}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:O?"Live":"Disconnected"}),a.jsx("button",{onClick:()=>R(E=>!E),className:"ml-auto px-3 py-1 text-xs rounded border border-gray-300 hover:bg-gray-50",children:k?"Resume":"Pause"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Total Trips (5m)"}),a.jsx("div",{className:"text-lg font-semibold",children:S.totalTrips})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Completed Trips"}),a.jsx("div",{className:"text-lg font-semibold",children:S.completedTrips})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Avg Response (min)"}),a.jsx("div",{className:"text-lg font-semibold",children:W(S.averageResponseTime).toFixed(1)})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Avg Trip Time (min)"}),a.jsx("div",{className:"text-lg font-semibold",children:W(S.averageTripTime).toFixed(1)})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Revenue (est)"}),a.jsxs("div",{className:"text-lg font-semibold",children:["$",W(S.totalRevenue).toFixed(2)]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Efficiency"}),a.jsxs("div",{className:"text-lg font-semibold",children:[W(S.efficiency*100).toFixed(0),"%"]})]})]}),S.lastUpdated&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Updated ",new Date(S.lastUpdated).toLocaleTimeString()]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(q4,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Preview"})]}),a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Sample trip:"})," ALS transport, MEDIUM priority, 15 miles, medicare insurance"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Revenue Breakdown"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Standard Rate:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",r.standardRate]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mileage Rate:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",r.mileageRate]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Insurance Rate:"}),a.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:["$",r.insuranceRate]})]})]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-3",children:"Cost Breakdown"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Crew Cost:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",r.crewCost]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Vehicle Cost:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",r.vehicleCost]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost:"}),a.jsxs("span",{className:"text-lg font-semibold text-red-600",children:["$",r.totalCost]})]})]})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-3",children:"Profitability Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Net Profit:"}),a.jsxs("span",{className:`text-lg font-semibold ${r.netProfit>=0?"text-green-600":"text-red-600"}`,children:["$",r.netProfit]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Profit Margin:"}),a.jsxs("span",{className:`text-lg font-semibold ${r.profitMargin>=0?"text-green-600":"text-red-600"}`,children:[r.profitMargin,"%"]})]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"What-if Scenario"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Deadhead Mile Weight"}),a.jsx("input",{type:"number",step:"0.1",value:e.routeOptimization.deadheadMileWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,deadheadMileWeight:parseFloat(E.target.value)||0}})),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Wait Time Weight"}),a.jsx("input",{type:"number",step:"0.1",value:e.routeOptimization.waitTimeWeight,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,waitTimeWeight:parseFloat(E.target.value)||0}})),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Backhaul Bonus"}),a.jsx("input",{type:"number",step:"5",value:e.routeOptimization.backhaulRevenueBonus,onChange:E=>t($=>({...$,routeOptimization:{...$.routeOptimization,backhaulRevenueBonus:parseFloat(E.target.value)||0}})),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Unit IDs (comma-separated, optional)"}),a.jsx("input",{type:"text",value:T,onChange:E=>K(E.target.value),className:"w-full px-3 py-2 border rounded",placeholder:"leave blank to auto-select"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Request IDs (comma-separated, optional)"}),a.jsx("input",{type:"text",value:I,onChange:E=>M(E.target.value),className:"w-full px-3 py-2 border rounded",placeholder:"leave blank to auto-select"})]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[a.jsx("button",{onClick:async()=>{try{d(!0);let E=T.split(",").map(it=>it.trim()).filter(Boolean);if(E.length===0)try{const wt=(await Z.get("/api/units")).data;E=((wt==null?void 0:wt.data)||[]).slice(0,3).map(jn=>jn.id)}catch{}let $=I.split(",").map(it=>it.trim()).filter(Boolean);if($.length===0)try{const wt=(await Z.get("/api/trips?status=PENDING")).data;$=((wt==null?void 0:wt.data)||[]).slice(0,5).map(jn=>jn.id)}catch{}const ee={...e.routeOptimization},te={...e.routeOptimization},de=(await Z.post("/api/optimize/what-if",{unitIds:E,requestIds:$,scenarioSettings:ee,baseSettings:te})).data;U((de==null?void 0:de.data)||null)}finally{d(!1)}},className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",disabled:u,children:u?"Running...":"Run What-if"}),F?a.jsxs("div",{className:"text-sm text-gray-600",children:[" Revenue: $",(((Y=F==null?void 0:F.differences)==null?void 0:Y.revenueDifference)||0).toFixed(2),"   Deadhead: ",(((oe=F==null?void 0:F.differences)==null?void 0:oe.deadheadMilesDifference)||0).toFixed(1)," mi   Efficiency: ",((((le=F==null?void 0:F.differences)==null?void 0:le.efficiencyDifference)||0)*100).toFixed(0),"%"]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Ready to simulate changes using current weights and constraints."})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Pv,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Optimization Preview"})]}),a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Sample scenario:"})," 2 units, 2 requests with current optimization settings"]})}),u?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Rt,{className:"h-6 w-6 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Calculating optimization..."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Optimization Metrics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Revenue:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",s.totalRevenue.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loaded Mile Ratio:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[(s.loadedMileRatio*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Backhaul Pairs:"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:s.backhaulPairs})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Miles:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.totalMiles.toFixed(1)," mi"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Deadhead Miles:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.totalDeadheadMiles.toFixed(1)," mi"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Avg Response Time:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.averageResponseTime.toFixed(1)," min"]})]})]})]})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-3",children:"Performance vs Targets"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loaded Mile Ratio:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[(s.loadedMileRatio*100).toFixed(1),"%"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["/ ",(e.routeOptimization.targetLoadedMileRatio*100).toFixed(1),"%"]}),a.jsx("span",{className:`text-xs ${s.loadedMileRatio>=e.routeOptimization.targetLoadedMileRatio?"text-green-600":"text-red-600"}`,children:s.loadedMileRatio>=e.routeOptimization.targetLoadedMileRatio?"":""})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Revenue/Hour:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",(s.totalRevenue/2).toFixed(2)]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["/ $",e.routeOptimization.targetRevenuePerHour]}),a.jsx("span",{className:`text-xs ${s.totalRevenue/2>=e.routeOptimization.targetRevenuePerHour?"text-green-600":"text-red-600"}`,children:s.totalRevenue/2>=e.routeOptimization.targetRevenuePerHour?"":""})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Response Time:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.averageResponseTime.toFixed(1)," min"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["/ ",e.routeOptimization.targetResponseTime," min"]}),a.jsx("span",{className:`text-xs ${s.averageResponseTime<=e.routeOptimization.targetResponseTime?"text-green-600":"text-red-600"}`,children:s.averageResponseTime<=e.routeOptimization.targetResponseTime?"":""})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Efficiency:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[(s.averageEfficiency*100).toFixed(1),"%"]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["/ ",(e.routeOptimization.targetEfficiency*100).toFixed(1),"%"]}),a.jsx("span",{className:`text-xs ${s.averageEfficiency>=e.routeOptimization.targetEfficiency?"text-green-600":"text-red-600"}`,children:s.averageEfficiency>=e.routeOptimization.targetEfficiency?"":""})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Current Optimization Weights"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Deadhead ():"}),a.jsx("span",{className:"font-medium",children:e.routeOptimization.deadheadMileWeight})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Wait Time ():"}),a.jsx("span",{className:"font-medium",children:e.routeOptimization.waitTimeWeight})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Backhaul ():"}),a.jsx("span",{className:"font-medium",children:e.routeOptimization.backhaulBonusWeight})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Overtime ():"}),a.jsx("span",{className:"font-medium",children:e.routeOptimization.overtimeRiskWeight})]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>{t({baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialRequirementsSurcharge:50,insuranceRates:{medicare:.85,medicaid:.8,private:1},crewRoles:{EMT:25,Paramedic:35,RN:45,CCTSpecialist:40,CriticalCareParamedic:42},overtimeMultiplier:1.5,shiftLengthHours:12,maxOvertimeHours:4,vehicleCostPerMile:.75,fuelCostPerMile:.25,maintenanceCostPerMile:.15,crewComposition:{BLS:["EMT","EMT"],ALS:["EMT","Paramedic"],CCT:["RN","CriticalCareParamedic"]},timeBasedPricing:{peakHourMultipliers:{"6-9AM":1.3,"5-8PM":1.4,Other:1},weekendMultipliers:{Saturday:1.2,Sunday:1.3,Weekday:1},seasonalMultipliers:{Winter:1.1,Spring:1,Summer:1,Fall:1}},geographicPricing:{zoneMultipliers:{Urban:1,Suburban:1.1,Rural:1.3,Remote:1.5},distanceTiers:{"0-10mi":1,"10-25mi":.95,"25-50mi":.9,"50+mi":.85}},serviceSpecificPricing:{specialRequirements:{Oxygen:25,Monitoring:50,Isolation:75,Bariatric:100},isolationPricing:75,bariatricPricing:100,oxygenPricing:25,monitoringPricing:50},insuranceSpecificRates:{Medicare:.85,Medicaid:.8,Private:1,SelfPay:1.2},routeOptimization:{deadheadMileWeight:1,waitTimeWeight:1,backhaulBonusWeight:1,overtimeRiskWeight:1,revenueWeight:1,crewAvailabilityWeight:1,equipmentCompatibilityWeight:1,patientPriorityWeight:1,maxDeadheadMiles:50,maxWaitTimeMinutes:30,maxOvertimeHours:4,maxResponseTimeMinutes:15,maxServiceDistance:100,backhaulTimeWindow:60,backhaulDistanceLimit:25,backhaulRevenueBonus:50,enableBackhaulOptimization:!0,targetLoadedMileRatio:.75,targetRevenuePerHour:200,targetResponseTime:12,targetEfficiency:.85,optimizationAlgorithm:"HYBRID",maxOptimizationTime:30,enableRealTimeOptimization:!0}})},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Reset to Defaults"}),a.jsxs("button",{onClick:V,className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:[a.jsx(Rt,{className:"h-4 w-4 inline mr-2"}),"Reload Saved Settings"]})]})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cost Analysis & Profitability Dashboard"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period:"}),a.jsxs("select",{value:j,onChange:E=>w(E.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"week",children:"Week"}),a.jsx("option",{value:"month",children:"Month"}),a.jsx("option",{value:"quarter",children:"Quarter"}),a.jsx("option",{value:"year",children:"Year"})]})]}),a.jsxs("button",{onClick:he,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Sample Data"]}),a.jsxs("button",{onClick:Q,disabled:v,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx(Rt,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),"Refresh"]})]})]}),v?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(Rt,{className:"h-8 w-8 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-3 text-lg text-gray-600",children:"Loading cost analysis data..."})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Tt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Key Financial Metrics"})]}),m?a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-green-800",children:"Total Revenue"}),a.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["$",W(m.totalRevenue).toFixed(2)]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-red-800",children:"Total Cost"}),a.jsxs("div",{className:"text-2xl font-bold text-red-900",children:["$",W(m.totalCost).toFixed(2)]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Gross Profit"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",W(m.grossProfit).toFixed(2)]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-purple-800",children:"Profit Margin"}),a.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[W(m.averageProfitMargin).toFixed(1),"%"]})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No cost analysis data available. Click "Add Sample Data" to get started.'})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(cr,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Efficiency Metrics"})]}),m?a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Loaded Mile Ratio"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[W(m.averageLoadedMileRatio*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Revenue per Mile"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",W(m.averageRevenuePerMile).toFixed(2)]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Cost per Mile"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",W(m.averageCostPerMile).toFixed(2)]})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No efficiency data available."})]}),h&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Gt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Profitability Trends (",h.period,")"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Revenue Growth"}),a.jsxs("div",{className:`text-xl font-bold ${h.revenueGrowth>=0?"text-green-600":"text-red-600"}`,children:[W(h.revenueGrowth)>=0?"+":"",W(h.revenueGrowth).toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Cost Growth"}),a.jsxs("div",{className:`text-xl font-bold ${h.costGrowth>=0?"text-red-600":"text-green-600"}`,children:[W(h.costGrowth)>=0?"+":"",W(h.costGrowth).toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Profit Growth"}),a.jsxs("div",{className:`text-xl font-bold ${h.profitGrowth>=0?"text-green-600":"text-red-600"}`,children:[W(h.profitGrowth)>=0?"+":"",W(h.profitGrowth).toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Revenue/Hour"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",h.efficiencyMetrics.revenuePerHour.toFixed(2)]})]})]})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(pd,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Trip Breakdowns"})]}),y.length>0?a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:y.slice(0,10).map(E=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium text-sm text-gray-900",children:[E.transportLevel," - ",E.priorityLevel]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[E.tripDistance," miles"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-semibold ${E.grossProfit>=0?"text-green-600":"text-red-600"}`,children:["$",E.grossProfit.toFixed(2)]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[E.profitMargin.toFixed(1),"% margin"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Revenue:"}),a.jsxs("span",{className:"font-medium",children:["$",E.totalRevenue.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Cost:"}),a.jsxs("span",{className:"font-medium",children:["$",E.totalCost.toFixed(2)]})]})]})]},E.id))}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No trip breakdowns available."})]})})]})]})]})},u6=({user:e})=>{var v,b,j;const[t,r]=x.useState("overview"),[n,s]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(null),[m,f]=x.useState(null),[h,p]=x.useState(null),y=[{id:"overview",name:"Overview",icon:xt},{id:"performance",name:"Performance",icon:Gt},{id:"units",name:"Unit Management",icon:cr},{id:"revenue-settings",name:"Revenue Settings",icon:mn}],g=async()=>{var w,N,S,P;s(!0),o(null);try{const[O,A,k,R]=await Promise.all([co.getOverview(),co.getTrips(),co.getUnits(),co.getPerformance()]);c(((w=O.data)==null?void 0:w.data)||null),d(((N=A.data)==null?void 0:N.data)||null),f(((S=k.data)==null?void 0:S.data)||null),p(((P=R.data)==null?void 0:P.data)||null)}catch(O){o("Failed to load analytics data"),console.error("Analytics loading error:",O)}finally{s(!1)}};return x.useEffect(()=>{g()},[]),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["View performance metrics and analytics for ",e.agencyName||"your agency","."]})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:y.map(w=>{const N=w.icon;return a.jsxs("button",{onClick:()=>r(w.id),className:`${t===w.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[a.jsx(N,{className:"h-4 w-4"}),a.jsx("span",{children:w.name})]},w.id)})})}),t==="overview"&&a.jsxs("div",{className:"space-y-6",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading analytics data..."})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),!n&&!i&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:(l==null?void 0:l.agencyName)||e.agencyName||"Your Agency"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Agency Performance Dashboard"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Last Updated"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(xt,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(l==null?void 0:l.totalTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(cr,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(l==null?void 0:l.completedTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Gt,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Efficiency"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l!=null&&l.efficiency?`${(l.efficiency*100).toFixed(1)}%`:"0%"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Tt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Response"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l!=null&&l.averageResponseTime?`${l.averageResponseTime.toFixed(1)} min`:"0 min"})]})})]})})})]}),u&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trip Status Breakdown"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.completedTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Pending"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.pendingTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Cancelled"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.cancelledTrips||0})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transport Level Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"BLS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((v=u.tripsByLevel)==null?void 0:v.BLS)||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"ALS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((b=u.tripsByLevel)==null?void 0:b.ALS)||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"CCT"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((j=u.tripsByLevel)==null?void 0:j.CCT)||0})]})]})]})]}),l&&l.totalTrips===0&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(xt,{className:"mx-auto h-12 w-12 text-blue-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-blue-900",children:"No Trips Yet"}),a.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Your agency hasn't been assigned any trips yet. Once trips are assigned, you'll see detailed analytics and performance metrics here."})]})})]})]}),t==="performance"&&a.jsxs("div",{className:"space-y-6",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading performance data..."})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),!n&&!i&&h&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Gt,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Response Time"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:h.averageResponseTime?`${h.averageResponseTime.toFixed(1)} min`:"0 min"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(cr,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Trip Time"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:h.averageTripTime?`${h.averageTripTime.toFixed(1)} min`:"0 min"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(xt,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completion Rate"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:`${(h.completionRate*100).toFixed(1)}%`})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Tt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["$",h.totalRevenue?h.totalRevenue.toFixed(2):"0.00"]})]})})]})})})]})]}),!n&&!i&&!h&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Gt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Performance Data"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Performance metrics will be displayed here when data is available."})]})]})]}),t==="units"&&a.jsxs("div",{className:"space-y-6",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading unit data..."})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),!n&&!i&&m&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Unit Management Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(cr,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:m.totalUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Gt,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:m.activeUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(xt,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Available Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:m.availableUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Tt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Utilization"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:`${(m.averageUtilization*100).toFixed(1)}%`})]})})]})})})]}),m.topPerformingUnits&&m.topPerformingUnits.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Units"}),a.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Response Time"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.topPerformingUnits.map(w=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.unitNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.totalTripsCompleted}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.averageResponseTime?`${w.averageResponseTime.toFixed(1)} min`:"N/A"})]},w.id))})]})})]})]}),!n&&!i&&!m&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Unit Management Analytics"}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(cr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Unit Data"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unit management data will be displayed here when available."})]})]})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),t==="revenue-settings"&&a.jsx(S2,{})]})},k2=({user:e,onLogout:t})=>{const[r,n]=x.useState("available"),[s,i]=x.useState({agencyName:e.agencyName||"",email:e.email||"",serviceType:"BLS/ALS",contactName:e.name||"",phone:"",address:"",city:"",state:"",zipCode:""}),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,m]=x.useState(!1),[f,h]=x.useState([]),[p,y]=x.useState([]),[g,v]=x.useState(!1),[b,j]=x.useState(null),[w,N]=x.useState(null),[S,P]=x.useState({status:"",pickupTime:""}),[O,A]=x.useState(!1);x.useEffect(()=>{k()},[]);const k=async()=>{v(!0);try{const C=await Z.get("/api/trips?status=PENDING");if(C.data.success&&C.data.data){const G=C.data.data.map(Q=>({id:Q.id,patientId:Q.patientId,origin:Q.fromLocation,destination:Q.toLocation,pickupLocation:Q.pickupLocation,transportLevel:Q.transportLevel||"BLS",priority:Q.urgencyLevel||Q.priority,distance:"12.5 miles",estimatedTime:"25 minutes",revenue:"$150",requestTime:new Date(Q.createdAt).toLocaleString(),scheduledTime:Q.scheduledTime}));h(G)}const B=await Z.get("/api/trips?status=ACCEPTED,IN_PROGRESS,COMPLETED");if(B.data.success&&B.data.data){const G=B.data.data.map(Q=>({id:Q.id,patientId:Q.patientId,origin:Q.fromLocation,destination:Q.toLocation,pickupLocation:Q.pickupLocation,transportLevel:Q.transportLevel||"BLS",priority:Q.urgencyLevel||Q.priority,status:Q.status,pickupTime:Q.actualStartTime?new Date(Q.actualStartTime).toLocaleString():"Not started",scheduledTime:Q.scheduledTime}));y(G)}}catch(C){console.error("Error loading trips:",C),j("Failed to load trips")}finally{v(!1)}},R=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t()},L=C=>{const{name:B,value:G}=C.target;i(Q=>({...Q,[B]:G}))},T=async C=>{var B;C.preventDefault(),l(!0),u(null);try{console.log("TCC_DEBUG: Frontend sending EMS agency update:",s),console.log("TCC_DEBUG: Frontend token:",localStorage.getItem("token"));const G=await Z.put("/api/auth/ems/agency/update",s);if(console.log("TCC_DEBUG: Frontend response status:",G.status),console.log("TCC_DEBUG: Frontend response ok:",G.status===200),G.status!==200)throw console.log("TCC_DEBUG: Frontend error response:",G.data),new Error(((B=G.data)==null?void 0:B.error)||"Failed to update agency information");console.log("TCC_DEBUG: Frontend success response:",G.data),m(!0),n("available"),setTimeout(()=>m(!1),3e3)}catch(G){console.error("TCC_DEBUG: Frontend error updating agency:",G),u(G.message||"Failed to update agency information")}finally{l(!1)}},K=()=>{i({agencyName:e.agencyName||"",email:e.email||"",serviceType:"BLS/ALS",contactName:e.name||"",phone:"",address:"",city:"",state:"",zipCode:""}),u(null),m(!1),n("available")},I=async C=>{var B;try{const G=await Z.post("/api/agency-responses",{tripId:C,agencyId:e.id,response:"ACCEPTED",responseNotes:"Agency accepted this transport request",estimatedArrival:new Date(Date.now()+9e5).toISOString()});if(G.status!==200)throw new Error(((B=G.data)==null?void 0:B.error)||"Failed to accept trip");await k()}catch(G){console.error("Error accepting trip:",G),j(G.message||"Failed to accept trip")}},M=async C=>{var B;try{const G=await Z.post("/api/agency-responses",{tripId:C,agencyId:e.id,response:"DECLINED",responseNotes:"Agency declined this transport request"});if(G.status!==200)throw new Error(((B=G.data)==null?void 0:B.error)||"Failed to decline trip");await k()}catch(G){console.error("Error declining trip:",G),j(G.message||"Failed to decline trip")}},F=async(C,B)=>{var G;try{const Q=await Z.put(`/api/trips/${C}/status`,{status:B,...B==="IN_PROGRESS"&&{pickupTimestamp:new Date().toISOString()},...B==="COMPLETED"&&{completionTimestamp:new Date().toISOString()}});if(Q.status!==200)throw new Error(((G=Q.data)==null?void 0:G.error)||"Failed to update trip status");await k()}catch(Q){console.error("Error updating trip status:",Q),j(Q.message||"Failed to update trip status")}},U=C=>{N(C.id),P({status:C.status,pickupTime:C.pickupTime==="Not started"?"":C.pickupTime})},W=C=>{const{name:B,value:G}=C.target;P(Q=>({...Q,[B]:G}))},D=async C=>{var B;A(!0);try{const G={status:S.status};S.pickupTime&&(S.status==="IN_PROGRESS"||S.status==="COMPLETED")&&(G.pickupTimestamp=new Date(S.pickupTime).toISOString()),S.status==="COMPLETED"&&(G.completionTimestamp=new Date().toISOString());const Q=await Z.put(`/api/trips/${C}/status`,G);if(Q.status!==200)throw new Error(((B=Q.data)==null?void 0:B.error)||"Failed to update trip");await k(),N(null),P({status:"",pickupTime:""})}catch(G){console.error("Error updating trip:",G),j(G.message||"Failed to update trip")}finally{A(!1)}},q=()=>{N(null),P({status:"",pickupTime:""})},V=C=>{switch(C){case"Emergent":return"text-black bg-red-200";case"Urgent":return"text-black bg-orange-200";case"Routine":return"text-black bg-transparent";default:return"text-gray-600 bg-gray-100"}},_=C=>{switch(C){case"ACCEPTED":return"text-green-600 bg-green-100";case"EN_ROUTE":return"text-blue-600 bg-blue-100";case"PICKUP":return"text-purple-600 bg-purple-100";case"COMPLETED":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-orange-100 p-2 rounded-lg mr-3",children:a.jsx($e,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e.agencyName||"EMS Agency"}),a.jsx("p",{className:"text-sm text-gray-500",children:"EMS Agency Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(C2,{user:e}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:e.name})]}),a.jsxs("button",{onClick:R,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[a.jsx(hd,{className:"h-4 w-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"available",name:"Available Trips",icon:vt},{id:"accepted",name:"My Trips",icon:De},{id:"units",name:"Units",icon:mn},{id:"analytics",name:"Analytics",icon:xt},{id:"settings",name:"Settings",icon:fs}].map(C=>{const B=C.icon;return a.jsxs("button",{onClick:()=>{console.log(" EMSDashboard: Tab clicked:",C.id),n(C.id)},className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${r===C.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(B,{className:"h-4 w-4"}),a.jsx("span",{children:C.name})]},C.id)})})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="available"&&a.jsxs("div",{className:"space-y-6",children:[b&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(At,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:b})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:f.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(De,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gt,{className:"h-8 w-8 text-yellow-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed Today"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"8"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(At,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Today's Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"$1,250"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Available Transport Requests"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Accept or decline available transport requests"})]}),a.jsx("button",{onClick:k,disabled:g,className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 disabled:opacity-50",children:g?"Loading...":"Refresh"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(C=>a.jsxs(ol.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Patient ",C.patientId]}),a.jsx("div",{className:"text-sm text-gray-500",children:C.requestTime})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:C.origin}),a.jsxs("div",{className:"text-sm text-gray-500",children:[" ",C.destination]})]}),a.jsx("td",{className:"px-6 py-4",children:C.pickupLocation?a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-900",children:C.pickupLocation.name}),C.pickupLocation.floor&&a.jsxs("div",{className:"text-gray-500",children:["Floor: ",C.pickupLocation.floor]}),C.pickupLocation.room&&a.jsxs("div",{className:"text-gray-500",children:["Room: ",C.pickupLocation.room]}),(C.pickupLocation.contactPhone||C.pickupLocation.contactEmail)&&a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[a.jsx("div",{className:"font-medium",children:"Contact:"}),C.pickupLocation.contactPhone&&a.jsx("div",{children:C.pickupLocation.contactPhone}),C.pickupLocation.contactEmail&&a.jsx("div",{children:C.pickupLocation.contactEmail})]})]}):a.jsx("span",{className:"text-sm text-gray-400 italic",children:"No specific location"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V(C.priority)}`,children:C.priority})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>I(C.id),className:"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 text-xs font-medium",children:"Accept"}),a.jsx("button",{onClick:()=>M(C.id),className:"bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700 text-xs font-medium",children:"Decline"})]})})]}),a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-2 bg-gray-50",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Level:"})," ",C.transportLevel]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Distance:"})," ",C.distance]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Time:"})," ",C.estimatedTime]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Revenue:"})," ",C.revenue]})]})})})]},C.id))})]}),f.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No available transport requests at this time."})]})]})]}),r==="accepted"&&a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Accepted Trips"}),a.jsx("button",{onClick:k,disabled:g,className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 disabled:opacity-50",children:g?"Loading...":"Refresh"})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(C=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Patient ",C.patientId]}),a.jsx("div",{className:"text-sm text-gray-500",children:C.requestTime})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:C.origin}),a.jsxs("div",{className:"text-sm text-gray-500",children:[" ",C.destination]})]}),a.jsx("td",{className:"px-6 py-4",children:C.pickupLocation?a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-900",children:C.pickupLocation.name}),C.pickupLocation.floor&&a.jsxs("div",{className:"text-gray-500",children:["Floor: ",C.pickupLocation.floor]}),C.pickupLocation.room&&a.jsxs("div",{className:"text-gray-500",children:["Room: ",C.pickupLocation.room]}),(C.pickupLocation.contactPhone||C.pickupLocation.contactEmail)&&a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[a.jsx("div",{className:"font-medium",children:"Contact:"}),C.pickupLocation.contactPhone&&a.jsx("div",{children:C.pickupLocation.contactPhone}),C.pickupLocation.contactEmail&&a.jsx("div",{children:C.pickupLocation.contactEmail})]})]}):a.jsx("span",{className:"text-sm text-gray-400 italic",children:"No specific location"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w===C.id?a.jsxs("select",{name:"status",value:S.status,onChange:W,className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:O,children:[a.jsx("option",{value:"ACCEPTED",children:"ACCEPTED"}),a.jsx("option",{value:"IN_PROGRESS",children:"IN_PROGRESS"}),a.jsx("option",{value:"COMPLETED",children:"COMPLETED"}),a.jsx("option",{value:"CANCELLED",children:"CANCELLED"})]}):a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(C.status)}`,children:C.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w===C.id?a.jsx("input",{type:"datetime-local",name:"pickupTime",value:S.pickupTime,onChange:W,className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:O}):a.jsx("div",{className:"text-sm text-gray-900",children:C.pickupTime})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:w===C.id?a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>D(C.id),disabled:O,className:"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 text-xs font-medium disabled:opacity-50",children:O?"Saving...":"Save"}),a.jsx("button",{onClick:q,disabled:O,className:"bg-gray-600 text-white px-3 py-1 rounded-md hover:bg-gray-700 text-xs font-medium disabled:opacity-50",children:"Cancel"})]}):a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>U(C),className:"bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 text-xs font-medium",children:"Edit"}),C.status==="ACCEPTED"&&a.jsx("button",{onClick:()=>F(C.id,"IN_PROGRESS"),className:"bg-orange-600 text-white px-3 py-1 rounded-md hover:bg-orange-700 text-xs font-medium",children:"Start Trip"}),C.status==="IN_PROGRESS"&&a.jsx("button",{onClick:()=>F(C.id,"COMPLETED"),className:"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 text-xs font-medium",children:"Complete Trip"})]})})]},C.id))})]}),p.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No accepted trips at this time."})]})]}),r==="analytics"&&a.jsx(u6,{user:e}),r==="units"&&a.jsxs(a.Fragment,{children:[console.log(" EMSDashboard: Rendering UnitsManagement component, activeTab:",r),a.jsx(d6,{user:e})]}),r==="settings"&&a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agency Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your agency information"})]}),a.jsxs("div",{className:"p-6",children:[d&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(De,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Agency information updated successfully!"})})]})}),c&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(At,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agency Name"}),a.jsx("input",{type:"text",value:s.agencyName,onChange:L,name:"agencyName",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),a.jsx("input",{type:"text",value:s.contactName,onChange:L,name:"contactName",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",value:s.email,onChange:L,name:"email",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",value:s.phone,onChange:L,name:"phone",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),a.jsxs("select",{value:s.serviceType,onChange:L,name:"serviceType",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",children:[a.jsx("option",{value:"BLS",children:"BLS Only"}),a.jsx("option",{value:"ALS",children:"ALS Only"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("input",{type:"text",value:s.address,onChange:L,name:"address",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",value:s.city,onChange:L,name:"city",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",value:s.state,onChange:L,name:"state",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",value:s.zipCode,onChange:L,name:"zipCode",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50",children:o?"Saving...":"Save Changes"})]})]})]})]})]})]})},m6=()=>{var w,N,S,P,O,A;const[e,t]=x.useState({emailNotifications:!0,smsNotifications:!1,phone:"",notificationTypes:{trip_assignment:{email:!0,sms:!1},trip_status_update:{email:!0,sms:!1},trip_accepted:{email:!0,sms:!1}}}),[r,n]=x.useState(!0),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState("idle"),[d,m]=x.useState("idle"),[f,h]=x.useState("idle");x.useEffect(()=>{p()},[]),x.useEffect(()=>{console.log("TCC_DEBUG: NotificationSettings component mounted with settings:",e)},[e]);const p=async()=>{try{const k=await Z.get("/api/notifications/preferences");if(k.data.success){const R=k.data.data,L={emailNotifications:R.emailEnabled||!0,smsNotifications:R.smsEnabled||!1,phone:R.phone||"",notificationTypes:R.notificationTypes||{trip_assignment:{email:!0,sms:!1},trip_status_update:{email:!0,sms:!1},trip_accepted:{email:!0,sms:!1}}};console.log("TCC_DEBUG: Fetched settings for user:",L),t(L)}}catch(k){console.error("TCC_DEBUG: Error fetching notification settings:",k)}finally{n(!1)}},y=async()=>{var k,R;console.log("TCC_DEBUG: Save button clicked with settings:",e),i(!0),h("saving"),l(null);try{console.log("TCC_DEBUG: Sending settings to API:",e);const L=await Z.put("/api/notifications/preferences",{emailNotifications:e.emailNotifications,smsNotifications:e.smsNotifications,phone:e.phone,notificationTypes:e.notificationTypes});console.log("TCC_DEBUG: API response status:",L.status),console.log("TCC_DEBUG: Settings saved successfully:",L.data),h("success");const T={type:"success",text:"Notification settings saved successfully!"};console.log("TCC_DEBUG: Setting message to:",T),l(T),setTimeout(()=>{console.log("TCC_DEBUG: Clearing message after timeout"),l(null),h("idle")},3e3)}catch(L){console.error("TCC_DEBUG: Error saving notification settings:",L),h("error");const T=((R=(k=L.response)==null?void 0:k.data)==null?void 0:R.error)||"Failed to save settings";l({type:"error",text:T}),setTimeout(()=>{l(null),h("idle")},5e3)}finally{i(!1)}},g=async()=>{var k,R;u("testing"),l(null);try{const L=await Z.post("/api/notifications/test-email",{to:"test@example.com",template:"newTripRequest"});L.data.success?(u("success"),l({type:"success",text:"Email service connection successful!"})):(u("error"),l({type:"error",text:L.data.error||"Email service connection failed"}))}catch(L){console.error("TCC_DEBUG: Error testing email connection:",L),u("error");const T=((R=(k=L.response)==null?void 0:k.data)==null?void 0:R.error)||"Email service connection failed";l({type:"error",text:T})}},v=async()=>{var k,R;m("testing"),l(null);try{const L=await Z.post("/api/notifications/test-sms",{to:e.phone||"5551234567",message:"Test SMS from TCC notification system"});L.data.success?(m("success"),l({type:"success",text:"SMS service connection successful!"})):(m("error"),l({type:"error",text:L.data.error||"SMS service connection failed"}))}catch(L){console.error("TCC_DEBUG: Error testing SMS connection:",L),m("error");const T=((R=(k=L.response)==null?void 0:k.data)==null?void 0:R.error)||"SMS service connection failed";l({type:"error",text:T})}},b=(k,R)=>{console.log("TCC_DEBUG: Setting change:",{key:k,value:R,currentSettings:e}),t(L=>{const T={...L,[k]:R};return console.log("TCC_DEBUG: New settings after change:",T),T})},j=(k,R,L)=>{console.log("TCC_DEBUG: Notification type change:",{type:k,channel:R,enabled:L}),t(T=>{const K={...T,notificationTypes:{...T.notificationTypes,[k]:{...T.notificationTypes[k],[R]:L}}};return console.log("TCC_DEBUG: New notification types after change:",K.notificationTypes),K})};return r?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2",children:"Loading notification settings..."})]}):a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
          }
        `}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(di,{className:"h-6 w-6 text-blue-600 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure how you receive notifications about transport requests and updates."})]}),a.jsxs("div",{className:"p-6",children:[(console.log("TCC_DEBUG: Rendering message section, message state:",o),console.log("TCC_DEBUG: Message truthy check:",!!o),o?(console.log("TCC_DEBUG: Rendering message with type:",o.type,"text:",o.text),a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center border-2 ${o.type==="success"?"bg-green-50 text-green-800 border-green-200 shadow-lg":"bg-red-50 text-red-800 border-red-200 shadow-lg"}`,style:{zIndex:1e3,position:"relative",minHeight:"50px",fontSize:"16px",fontWeight:"600"},children:[o.type==="success"?a.jsx(De,{className:"h-5 w-5 mr-3 text-green-600"}):a.jsx(At,{className:"h-5 w-5 mr-3 text-red-600"}),a.jsx("span",{className:"text-lg font-semibold",children:o.text})]})):null),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(gl,{className:"h-5 w-5 text-gray-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications for transport request updates"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.emailNotifications,onChange:k=>b("emailNotifications",k.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:e.phone,onChange:k=>b("phone",k.target.value),placeholder:"Enter your phone number (e.g., 5551234567)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This phone number will receive SMS notifications"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(di,{className:"h-5 w-5 text-gray-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive SMS text messages for urgent transport requests"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.smsNotifications,onChange:k=>b("smsNotifications",k.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Types"}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Trip Assignment"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when new transport requests are assigned"})]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((w=e.notificationTypes.trip_assignment)==null?void 0:w.email)||!1,onChange:k=>j("trip_assignment","email",k.target.checked),disabled:!e.emailNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.emailNotifications?"text-gray-700":"text-gray-400"}`,children:"Email"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((N=e.notificationTypes.trip_assignment)==null?void 0:N.sms)||!1,onChange:k=>j("trip_assignment","sms",k.target.checked),disabled:!e.smsNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.smsNotifications?"text-gray-700":"text-gray-400"}`,children:"SMS"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Trip Status Updates"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when transport request status changes"})]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((S=e.notificationTypes.trip_status_update)==null?void 0:S.email)||!1,onChange:k=>j("trip_status_update","email",k.target.checked),disabled:!e.emailNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.emailNotifications?"text-gray-700":"text-gray-400"}`,children:"Email"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((P=e.notificationTypes.trip_status_update)==null?void 0:P.sms)||!1,onChange:k=>j("trip_status_update","sms",k.target.checked),disabled:!e.smsNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.smsNotifications?"text-gray-700":"text-gray-400"}`,children:"SMS"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Trip Accepted"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when transport requests are accepted"})]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((O=e.notificationTypes.trip_accepted)==null?void 0:O.email)||!1,onChange:k=>j("trip_accepted","email",k.target.checked),disabled:!e.emailNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.emailNotifications?"text-gray-700":"text-gray-400"}`,children:"Email"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((A=e.notificationTypes.trip_accepted)==null?void 0:A.sms)||!1,onChange:k=>j("trip_accepted","sms",k.target.checked),disabled:!e.smsNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.smsNotifications?"text-gray-700":"text-gray-400"}`,children:"SMS"})]})]})]})]})]}),a.jsxs("div",{className:"mt-8 space-y-4",children:[a.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Service Test"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Test the email service connection to ensure notifications are working properly."}),a.jsx("button",{onClick:g,disabled:c==="testing",className:`px-4 py-2 rounded-md text-sm font-medium ${c==="testing"?"bg-gray-300 text-gray-500 cursor-not-allowed":c==="success"?"bg-green-600 text-white hover:bg-green-700":c==="error"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c==="testing"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline-block mr-2"}),"Testing..."]}):c==="success"?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"h-4 w-4 inline-block mr-2"}),"Connection Successful"]}):c==="error"?a.jsxs(a.Fragment,{children:[a.jsx(At,{className:"h-4 w-4 inline-block mr-2"}),"Connection Failed"]}):"Test Email Connection"})]}),a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"SMS Service Test"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Test the SMS service connection (placeholder for future Twilio integration)."}),a.jsx("button",{onClick:v,disabled:d==="testing",className:`px-4 py-2 rounded-md text-sm font-medium ${d==="testing"?"bg-gray-300 text-gray-500 cursor-not-allowed":d==="success"?"bg-green-600 text-white hover:bg-green-700":d==="error"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:d==="testing"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline-block mr-2"}),"Testing..."]}):d==="success"?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"h-4 w-4 inline-block mr-2"}),"Connection Successful"]}):d==="error"?a.jsxs(a.Fragment,{children:[a.jsx(At,{className:"h-4 w-4 inline-block mr-2"}),"Connection Failed"]}):"Test SMS Connection"})]})]}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx("button",{onClick:y,disabled:s,className:`px-6 py-2 rounded-md flex items-center transition-colors duration-200 ${f==="success"?"bg-green-600 text-white":f==="error"?"bg-red-600 text-white":f==="saving"?"bg-blue-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"} disabled:bg-gray-400 disabled:cursor-not-allowed`,children:f==="saving"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):f==="success"?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"h-4 w-4 mr-2"}),"Saved!"]}):f==="error"?a.jsxs(a.Fragment,{children:[a.jsx(At,{className:"h-4 w-4 mr-2"}),"Error"]}):"Save Settings"})})]})]})]})},Dv=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,m]=x.useState({name:"",email:"",password:"",userType:"USER"});x.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const b=await qo.getUsers();b.data.success?t(b.data.users):i("Failed to load users")}catch{console.log("UserManagement: API endpoint not available, using mock data"),t([{id:"user-1",email:"admin@tcc.com",name:"TCC Administrator",userType:"ADMIN",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-09-22T15:43:00Z"},{id:"user-2",email:"manager@tcc.com",name:"TCC Manager",userType:"USER",isActive:!0,createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-09-20T10:30:00Z"},{id:"user-3",email:"coordinator@tcc.com",name:"TCC Coordinator",userType:"USER",isActive:!0,createdAt:"2024-02-01T00:00:00Z",updatedAt:"2024-09-18T14:20:00Z"}]),i(null)}finally{n(!1)}},h=async b=>{var j,w;b.preventDefault();try{if(i(null),c)console.log("Update user:",c.id,d),u(null);else{const N=await qo.register(d);N.data.success?(await f(),l(!1),p()):i(N.data.error||"Failed to create user")}}catch(N){i(((w=(j=N.response)==null?void 0:j.data)==null?void 0:w.error)||"Failed to save user")}},p=()=>{m({name:"",email:"",password:"",userType:"USER"})},y=b=>{u(b),m({name:b.name,email:b.email,password:"",userType:b.userType}),l(!0)},g=()=>{l(!1),u(null),p()},v=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage system users and their access levels."})]}),a.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx(mr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:s})})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:a.jsx(fs,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.name}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(gl,{className:"h-3 w-3 mr-1"}),b.email]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[b.userType==="ADMIN"?a.jsx(Ax,{className:"h-4 w-4 text-red-500 mr-2"}):a.jsx(fs,{className:"h-4 w-4 text-blue-500 mr-2"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.userType==="ADMIN"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:b.userType})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.isActive?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"h-3 w-3 mr-1"}),"Active"]}):a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ko,{className:"h-3 w-3 mr-1"}),v(b.createdAt)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>y(b),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(Pu,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this user?")&&console.log("Delete user:",b.id)},className:"text-red-600 hover:text-red-900",children:a.jsx(yl,{className:"h-4 w-4"})})]})})]},b.id))})]})})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c?"Edit User":"Add New User"}),a.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600",children:a.jsx(mr,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",required:!0,value:d.name,onChange:b=>m({...d,name:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",required:!0,value:d.email,onChange:b=>m({...d,email:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{type:"password",required:!c,value:d.password,onChange:b=>m({...d,password:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:c?"Leave blank to keep current password":""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User Type"}),a.jsxs("select",{value:d.userType,onChange:b=>m({...d,userType:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[a.jsx("option",{value:"USER",children:"User (Standard Access)"}),a.jsx("option",{value:"ADMIN",children:"Admin (Full Access)"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:c?"Update User":"Create User"})]})]})]})})})]})},Fr=(e,t=0)=>{if(e==null||e==="")return t;const r=Number(e);return isNaN(r)?t:r},sf=(e,t=2,r="0.00")=>Fr(e,0).toFixed(t),ic=(e,t=1)=>`${(Fr(e,0)*100).toFixed(t)}%`,As=(e,t=2)=>`$${Fr(e,0).toFixed(t)}`,f6=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]},h6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,l]=x.useState(null);x.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const h=await Z.get("/api/backup/history");h.data.success?t(h.data.data):l({type:"error",text:h.data.error||"Failed to load backup history"})}catch(h){console.error("Error loading backup history:",h),l({type:"error",text:"Failed to load backup history"})}finally{n(!1)}},u=async()=>{try{i(!0),l(null);const h=await Z.post("/api/backup/create");h.data.success?(l({type:"success",text:"Backup created successfully!"}),c()):l({type:"error",text:h.data.error||"Failed to create backup"})}catch(h){console.error("Error creating backup:",h),l({type:"error",text:"Failed to create backup"})}finally{i(!1)}},d=async h=>{try{const p=await Z.get(`/api/backup/download/${h}`,{responseType:"blob"});if(p.status===200){const y=new Blob([p.data]),g=window.URL.createObjectURL(y),v=document.createElement("a");v.href=g,v.download=h,document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(g),document.body.removeChild(v)}else l({type:"error",text:"Failed to download backup"})}catch(p){console.error("Error downloading backup:",p),l({type:"error",text:"Failed to download backup"})}},m=async h=>{if(window.confirm(`Are you sure you want to delete ${h}?`))try{const p=await Z.delete(`/api/backup/${h}`);p.data.success?(l({type:"success",text:"Backup deleted successfully!"}),c()):l({type:"error",text:p.data.error||"Failed to delete backup"})}catch(p){console.error("Error deleting backup:",p),l({type:"error",text:"Failed to delete backup"})}},f=h=>new Date(h).toLocaleString();return a.jsx("div",{className:"min-h-full bg-gray-100 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Backup Management"}),a.jsx("p",{className:"text-gray-600",children:"Create, download, and manage database backups for data protection and compliance."})]}),o&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[o.type==="success"?a.jsx(De,{className:"h-5 w-5 mr-2"}):a.jsx(At,{className:"h-5 w-5 mr-2"}),o.text]}),a.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("button",{onClick:u,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?a.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(pn,{className:"h-4 w-4 mr-2"}),s?"Creating Backup...":"Create New Backup"]}),a.jsxs("button",{onClick:c,disabled:r,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Cv,{className:"h-4 w-4 mr-2"}),"Refresh List"]})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Backup History"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," backup",e.length!==1?"s":""," found"]})]}),r?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(gt,{className:"h-8 w-8 mx-auto text-gray-400 animate-spin mb-2"}),a.jsx("p",{className:"text-gray-500",children:"Loading backup history..."})]}):e.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Pn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No backups found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first backup to get started."}),a.jsxs("button",{onClick:u,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx(pn,{className:"h-4 w-4 mr-2"}),"Create First Backup"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filename"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modified"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(h=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pn,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:h.filename})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f6(h.size)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ko,{className:"h-4 w-4 mr-2"}),f(h.created)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f(h.modified)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>d(h.filename),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Download backup",children:a.jsx(hn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>m(h.filename),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Delete backup",children:a.jsx(yl,{className:"h-4 w-4"})})]})})]},h.filename))})]})})]}),a.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Cv,{className:"h-5 w-5 text-blue-400 mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"External Drive Backup"}),a.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Database backups are stored in ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"database-backups/"})," and automatically copied to ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"/Volumes/Acasis/tcc-database-backups/"}),"when the external drive is available."]})]})]})})]})})},p6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,u]=x.useState("all"),[d,m]=x.useState("all");x.useEffect(()=>{f()},[]);const f=async()=>{var v,b,j,w,N;try{if(i(!0),!localStorage.getItem("token")){l("No authentication token found");return}const P=await Z.get("/api/tcc/agencies");if(!((v=P.data)!=null&&v.success))throw new Error(`Failed to fetch agencies: ${((b=P.data)==null?void 0:b.message)||"Unknown error"}`);const O=P.data;console.log(" TCCUnitsManagement: Agencies response:",O),O.success&&n(O.data||[]);const A=await Z.get("/api/tcc/units");if(!((j=A.data)!=null&&j.success))throw new Error(`Failed to fetch units: ${((w=A.data)==null?void 0:w.message)||"Unknown error"}`);const k=A.data;console.log(" TCCUnitsManagement: Units response:",k),k.success&&(t(k.data||[]),console.log(" TCCUnitsManagement: Units count:",((N=k.data)==null?void 0:N.length)||0))}catch(S){console.error("Error fetching data:",S),l(S instanceof Error?S.message:"An error occurred")}finally{i(!1)}},h=v=>{const b=r.find(j=>j.id===v);return b?b.name:`Agency ${v}`},p=v=>{switch(v){case"AVAILABLE":return"bg-green-100 text-green-800";case"COMMITTED":return"bg-blue-100 text-blue-800";case"OUT_OF_SERVICE":return"bg-red-100 text-red-800";case"MAINTENANCE":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},y=v=>{switch(v){case"AMBULANCE":return"bg-red-100 text-red-800";case"WHEELCHAIR_VAN":return"bg-blue-100 text-blue-800";case"CRITICAL_CARE":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},g=e.filter(v=>{const b=c==="all"||v.agencyId===c,j=d==="all"||v.currentStatus===d;return b&&j});return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:o})}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:f,className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",children:"Retry"})})]})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Units Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage and monitor all EMS units across agencies"})]}),a.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Refresh"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Units"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="AVAILABLE").length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Committed"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="COMMITTED").length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Service"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="OUT_OF_SERVICE").length})]})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Agency"}),a.jsxs("select",{value:c,onChange:v=>u(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Agencies"}),r.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),a.jsxs("select",{value:d,onChange:v=>m(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"AVAILABLE",children:"Available"}),a.jsx("option",{value:"COMMITTED",children:"Committed"}),a.jsx("option",{value:"OUT_OF_SERVICE",children:"Out of Service"}),a.jsx("option",{value:"MAINTENANCE",children:"Maintenance"})]})]})]})}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Units (",g.length,")"]}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"All EMS units across all agencies"})]}),a.jsx("div",{className:"border-t border-gray-200",children:g.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No units found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c==="all"&&d==="all"?"No units have been created yet.":"No units match the current filters."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:v.unitNumber})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.unitNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:v.isActive?"Active":"Inactive"})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:h(v.agencyId)}),a.jsx("div",{className:"text-sm text-gray-500",children:v.agencyId})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(v.type)}`,children:v.type.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(v.currentStatus)}`,children:v.currentStatus.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:v.capabilities.map((b,j)=>a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:b},j))})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.totalTripsCompleted}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.lastStatusUpdate).toLocaleString()})]},v.id))})]})})})]})]})};class x6{constructor(){Fl(this,"baseUrl","/api/optimize")}async optimizeRoutes(t){try{const r=await fetch(`${this.baseUrl}/routes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||"Failed to optimize routes");return n}catch(r){return console.error("Error optimizing routes:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async analyzeBackhaul(t){try{const r=await fetch(`${this.baseUrl}/backhaul`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({requestIds:t})}),n=await r.json();if(!r.ok)throw new Error(n.error||"Failed to analyze backhaul opportunities");return n}catch(r){return console.error("Error analyzing backhaul:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async getRevenueAnalytics(t="24h",r){try{const n=new URLSearchParams({timeframe:t});r&&n.append("agencyId",r);const s=await fetch(`${this.baseUrl}/revenue?${n}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to get revenue analytics");return i}catch(n){return console.error("Error getting revenue analytics:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getPerformanceMetrics(t="24h",r){try{const n=new URLSearchParams({timeframe:t});r&&n.append("unitId",r);const s=await fetch(`${this.baseUrl}/performance?${n}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to get performance metrics");return i}catch(n){return console.error("Error getting performance metrics:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getAvailableUnits(){try{const t=await fetch("/api/units/available",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get available units");return r.data||[]}catch(t){return console.error("Error getting available units:",t),[]}}async getPendingRequests(){try{const t=await fetch("/api/trips?status=PENDING",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get pending requests");return(r.data||[]).map(n=>{var s,i,o,l;return{id:n.id,patientId:n.patientId,originFacilityId:n.fromFacilityId||"unknown",destinationFacilityId:n.toFacilityId||"unknown",transportLevel:n.transportLevel||"BLS",priority:n.priority||"MEDIUM",status:n.status||"PENDING",specialRequirements:n.specialRequirements||"",requestTimestamp:new Date(n.createdAt),readyStart:new Date(n.scheduledTime||n.createdAt),readyEnd:new Date(new Date(n.scheduledTime||n.createdAt).getTime()+60*60*1e3),originLocation:{lat:((s=n.fromLocation)==null?void 0:s.lat)||40.7128,lng:((i=n.fromLocation)==null?void 0:i.lng)||-74.006},destinationLocation:{lat:((o=n.toLocation)==null?void 0:o.lat)||40.7589,lng:((l=n.toLocation)==null?void 0:l.lng)||-73.9851}}})}catch(t){return console.error("Error getting pending requests:",t),[]}}async updateOptimizationWeights(t){try{const r=await fetch(`${this.baseUrl}/weights`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({weights:t})});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to update optimization weights")}return!0}catch(r){return console.error("Error updating optimization weights:",r),!1}}async getOptimizationSettings(){try{const t=await fetch(`${this.baseUrl}/settings`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get optimization settings");return r.data||{}}catch(t){return console.error("Error getting optimization settings:",t),{}}}async saveOptimizationSettings(t){try{const r=await fetch(`${this.baseUrl}/settings`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to save optimization settings")}return!0}catch(r){return console.error("Error saving optimization settings:",r),!1}}}const oc=new x6,g6=()=>{const[e,t]=x.useState(""),[r,n]=x.useState([]),[s,i]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState(null),[d,m]=x.useState(null),[f,h]=x.useState(null),[p,y]=x.useState(null),[g,v]=x.useState(!1),[b,j]=x.useState(!1),[w,N]=x.useState(!1),[S,P]=x.useState(!1),[O,A]=x.useState(null),[k,R]=x.useState(!1),[L,T]=x.useState({weights:{deadheadMiles:.5,waitTime:.1,backhaulBonus:25,overtimeRisk:2,baseRevenue:1},constraints:{maxDeadheadMiles:50,maxWaitTime:120,maxOvertimeHours:2,maxBackhaulDistance:15,maxBackhaulTimeWindow:90},autoOptimize:!1,refreshInterval:30});x.useEffect(()=>{I(),K()},[]);const K=()=>{try{const _=localStorage.getItem("tcc_optimization_settings");if(_){const C=JSON.parse(_);T(B=>({...B,...C})),console.log("TCC_DEBUG: Loaded saved optimization settings")}}catch(_){console.error("TCC_DEBUG: Error loading saved settings:",_)}};x.useEffect(()=>{if(L.autoOptimize){const _=setInterval(()=>{e&&o.length>0&&W()},L.refreshInterval*1e3);return()=>clearInterval(_)}},[L.autoOptimize,L.refreshInterval,e,o]);const I=async()=>{try{await Promise.all([M(),F(),U()])}catch(_){console.error("TCC_DEBUG: Error loading initial data:",_),A("Failed to load initial data")}},M=async()=>{var _,C,B;j(!0);try{if(console.log("TCC_DEBUG: Loading system-wide units for TCC optimization"),!localStorage.getItem("token"))throw new Error("No authentication token found");const Q=await Z.get("/api/tcc/units");if(!((_=Q.data)!=null&&_.success))throw new Error(`Failed to fetch units: ${((C=Q.data)==null?void 0:C.message)||"Unknown error"}`);const he=Q.data;if(console.log("TCC_DEBUG: Units API response:",he),he.success)console.log("TCC_DEBUG: Units loaded:",((B=he.data)==null?void 0:B.length)||0),n(he.data||[]);else throw new Error(he.error||"Failed to load units")}catch(G){A("Failed to load units"),console.error("TCC_DEBUG: Units loading error:",G)}finally{j(!1)}},F=async()=>{var _,C;N(!0);try{if(console.log("TCC_DEBUG: Loading system-wide pending requests for TCC optimization"),!localStorage.getItem("token"))throw new Error("No authentication token found");const G=await Z.get("/api/trips?status=PENDING");if(!((_=G.data)!=null&&_.success))throw new Error(`Failed to fetch pending requests: ${((C=G.data)==null?void 0:C.message)||"Unknown error"}`);const Q=G.data;if(console.log("TCC_DEBUG: Pending requests API response:",Q),Q.success){const he=(Q.data||[]).map(Y=>({id:Y.id,patientId:Y.patientId,originFacilityId:Y.fromFacilityId||Y.fromLocation||"Unknown",destinationFacilityId:Y.toFacilityId||Y.toLocation||"Unknown",transportLevel:Y.transportLevel||"BLS",priority:Y.priority||"MEDIUM",status:Y.status||"PENDING",specialRequirements:Y.specialNeeds||Y.specialRequirements||"",requestTimestamp:new Date(Y.requestTimestamp||Y.createdAt),readyStart:new Date(Y.scheduledTime||Y.createdAt),readyEnd:new Date(new Date(Y.scheduledTime||Y.createdAt).getTime()+36e5),originLocation:{lat:Y.originLatitude||40.7128,lng:Y.originLongitude||-74.006},destinationLocation:{lat:Y.destinationLatitude||40.7589,lng:Y.destinationLongitude||-73.9851}}));console.log("TCC_DEBUG: Pending requests loaded:",he.length),i(he)}else throw new Error(Q.error||"Failed to load pending requests")}catch(B){A("Failed to load pending requests"),console.error("TCC_DEBUG: Requests loading error:",B)}finally{N(!1)}},U=async()=>{P(!0);try{console.log("TCC_DEBUG: Loading analytics data...");const[_,C]=await Promise.all([oc.getRevenueAnalytics("24h"),oc.getPerformanceMetrics("24h")]);console.log("TCC_DEBUG: Revenue analytics response:",_),console.log("TCC_DEBUG: Performance metrics response:",C),h(_),y(C)}catch(_){console.error("TCC_DEBUG: Analytics loading error:",_),A("Failed to load analytics data")}finally{P(!1)}},W=async()=>{if(!e||o.length===0){A("Please select a unit and at least one request");return}v(!0),A(null);try{const _=await oc.optimizeRoutes({unitId:e,requestIds:o,constraints:L.constraints});u(_)}catch(_){A("Failed to optimize routes"),console.error("Optimization error:",_)}finally{v(!1)}},D=async()=>{if(o.length<2){A("Please select at least 2 requests for backhaul analysis");return}v(!0),A(null);try{console.log("TCC_DEBUG: Starting backhaul analysis with selected requests:",o);const _=await oc.analyzeBackhaul(o);console.log("TCC_DEBUG: Backhaul analysis response:",_),m(_)}catch(_){A("Failed to analyze backhaul opportunities"),console.error("TCC_DEBUG: Backhaul analysis error:",_)}finally{v(!1)}},q=async()=>{var _,C;v(!0),A(null);try{if(console.log("TCC_DEBUG: Starting return trip analysis..."),!localStorage.getItem("token"))throw new Error("No authentication token found");const G=await Z.get("/api/optimize/return-trips");if(!((_=G.data)!=null&&_.success))throw new Error(`Failed to fetch return trips: ${((C=G.data)==null?void 0:C.message)||"Unknown error"}`);const Q=G.data;if(console.log("TCC_DEBUG: Return trips response:",Q),Q.success){const he={success:!0,data:{pairs:Q.data.returnTrips||[],statistics:Q.data.statistics||{},recommendations:Q.data.recommendations||[]}};m(he)}else throw new Error(Q.error||"Failed to load return trips")}catch(B){A("Failed to analyze return trip opportunities"),console.error("TCC_DEBUG: Return trip analysis error:",B)}finally{v(!1)}},V=_=>{l(C=>C.includes(_)?C.filter(B=>B!==_):[...C,_])};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Route Optimization"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optimize routes across all agencies and units in the system."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>R(!k),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(mn,{className:"h-4 w-4 mr-2"}),"Settings"]}),a.jsxs("button",{onClick:I,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),k&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Settings"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Auto-Optimization"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Auto-optimize every ",L.refreshInterval," seconds"]}),a.jsx("input",{type:"checkbox",checked:L.autoOptimize,onChange:_=>T(C=>({...C,autoOptimize:_.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Interval (seconds)"}),a.jsx("input",{type:"number",value:L.refreshInterval,onChange:_=>T(C=>({...C,refreshInterval:parseInt(_.target.value)||30})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"10",max:"300"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Optimization Weights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadhead Miles Weight"}),a.jsx("input",{type:"number",step:"0.1",value:L.weights.deadheadMiles,onChange:_=>T(C=>({...C,weights:{...C.weights,deadheadMiles:parseFloat(_.target.value)||.5}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wait Time Weight"}),a.jsx("input",{type:"number",step:"0.1",value:L.weights.waitTime,onChange:_=>T(C=>({...C,weights:{...C.weights,waitTime:parseFloat(_.target.value)||.1}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backhaul Bonus ($)"}),a.jsx("input",{type:"number",step:"5",value:L.weights.backhaulBonus,onChange:_=>T(C=>({...C,weights:{...C.weights,backhaulBonus:parseFloat(_.target.value)||25}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overtime Risk Weight"}),a.jsx("input",{type:"number",step:"0.5",value:L.weights.overtimeRisk,onChange:_=>T(C=>({...C,weights:{...C.weights,overtimeRisk:parseFloat(_.target.value)||2}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"5"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Constraints"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Deadhead Miles"}),a.jsx("input",{type:"number",value:L.constraints.maxDeadheadMiles,onChange:_=>T(C=>({...C,constraints:{...C.constraints,maxDeadheadMiles:parseInt(_.target.value)||50}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"10",max:"200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Wait Time (minutes)"}),a.jsx("input",{type:"number",value:L.constraints.maxWaitTime,onChange:_=>T(C=>({...C,constraints:{...C.constraints,maxWaitTime:parseInt(_.target.value)||120}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"30",max:"300"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Overtime Hours"}),a.jsx("input",{type:"number",value:L.constraints.maxOvertimeHours,onChange:_=>T(C=>({...C,constraints:{...C.constraints,maxOvertimeHours:parseInt(_.target.value)||2}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"8"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Backhaul Distance (miles)"}),a.jsx("input",{type:"number",value:L.constraints.maxBackhaulDistance,onChange:_=>T(C=>({...C,constraints:{...C.constraints,maxBackhaulDistance:parseInt(_.target.value)||15}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"5",max:"50"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{localStorage.setItem("tcc_optimization_settings",JSON.stringify(L)),R(!1)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(mn,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Unit"}),b?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Rt,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading units..."})]}):a.jsxs("select",{value:e,onChange:_=>t(_.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"Select a unit..."}),r&&r.length>0?r.map(_=>a.jsxs("option",{value:_.id,children:[_.unitNumber||"Unknown"," (",_.type||"Unknown",") - ",_.currentStatus||"Unknown"]},_.id)):a.jsx("option",{disabled:!0,children:"No units available"})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Requests"}),w?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Rt,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading requests..."})]}):a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s&&s.length>0?s.map(_=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.includes(_.id),onChange:()=>V(_.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[_.patientId||"Unknown"," - ",_.originFacilityId||"Unknown","  ",_.destinationFacilityId||"Unknown"]})]},_.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No pending requests available"})})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:W,disabled:g||!e||o.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[g?a.jsx(Rt,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Ev,{className:"h-4 w-4 mr-2"}),"Optimize Routes"]}),a.jsxs("button",{onClick:D,disabled:g||o.length<2,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Tx,{className:"h-4 w-4 mr-2"}),"Analyze Backhaul"]}),a.jsxs("button",{onClick:q,disabled:g,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ev,{className:"h-4 w-4 mr-2"}),"Find Return Trips"]})]}),O&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(At,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:O})})]})]})}),c&&c.success&&c.data&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Results"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tt,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Revenue"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:["$",typeof c.data.totalRevenue=="number"?c.data.totalRevenue.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Distance"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:[typeof c.data.totalDeadheadMiles=="number"?c.data.totalDeadheadMiles.toFixed(1):"0.0"," mi"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(gt,{className:"h-5 w-5 text-orange-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Wait Time"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:[typeof c.data.totalWaitTime=="number"?c.data.totalWaitTime.toFixed(0):"0"," min"]})]})]}),c.data.optimizedRequests&&c.data.optimizedRequests.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Optimized Requests"}),a.jsx("div",{className:"space-y-2",children:c.data.optimizedRequests.map((_,C)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Request ",C+1]}),a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Score: ",typeof _.score=="number"?_.score.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Revenue: $",typeof _.revenue=="number"?_.revenue.toFixed(2):"0.00"," | Deadhead: ",typeof _.deadheadMiles=="number"?_.deadheadMiles.toFixed(1):"0.0"," mi"]})]},C))})]})]}),d&&d.success&&d.data&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Backhaul Analysis"}),a.jsxs("div",{className:"space-y-4",children:[d.data.pairs&&d.data.pairs.map((_,C)=>{var B,G;return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[((B=_.request1)==null?void 0:B.patientId)||"Unknown","  ",((G=_.request2)==null?void 0:G.patientId)||"Unknown"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Potential savings: $",typeof _.revenueBonus=="number"?_.revenueBonus.toFixed(2):"0.00"]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Distance: ",typeof _.distance=="number"?_.distance.toFixed(1):"0.0"," mi | Time Window: ",_.timeWindow||"0"," min | Efficiency: ",typeof _.efficiency=="number"?(_.efficiency*100).toFixed(1):"0.0","%"]})]}),a.jsx(De,{className:"h-5 w-5 text-green-500"})]})},C)}),(!d.data.pairs||d.data.pairs.length===0)&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No backhaul opportunities found"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Performance Analytics"}),S?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Rt,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading analytics..."})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f&&f.success&&f.data&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"System Revenue (24h)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue:"}),a.jsxs("span",{className:"text-sm font-medium",children:["$",typeof f.data.totalRevenue=="number"?f.data.totalRevenue.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Revenue per Hour:"}),a.jsxs("span",{className:"text-sm font-medium",children:["$",typeof f.data.revenuePerHour=="number"?f.data.revenuePerHour.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof f.data.loadedMileRatio=="number"?(f.data.loadedMileRatio*100).toFixed(1):"0.0","%"]})]})]})]}),p&&p.success&&p.data&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"System Performance (24h)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Trips:"}),a.jsx("span",{className:"text-sm font-medium",children:p.data.totalTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Average Response Time:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof p.data.averageResponseTime=="number"?p.data.averageResponseTime.toFixed(1):"0.0"," min"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof p.data.efficiency=="number"?(p.data.efficiency*100).toFixed(1):"0.0","%"]})]})]})]})]})]})]})},_v=({showBackhaulPairs:e=!0,showUnitManagement:t=!0,title:r="Revenue Optimization",className:n=""})=>{const[s,i]=x.useState(null),[o,l]=x.useState([]),[,c]=x.useState([]),[u,d]=x.useState(null),[m,f]=x.useState(!0);x.useEffect(()=>{h()},[]);const h=async()=>{try{f(!0);const p=await Z.get("/api/optimize/revenue?timeframe=24h");p.data.success&&i({totalRevenue:Fr(p.data.data.totalRevenue,0),revenuePerHour:Fr(p.data.data.revenuePerHour,0),loadedMileRatio:Fr(p.data.data.loadedMileRatio,0),backhaulPairs:0,averageEfficiency:.75,potentialRevenueIncrease:0,totalTrips:Fr(p.data.data.totalTrips,0),averageRevenuePerTrip:Fr(p.data.data.averageRevenuePerTrip,0),totalMiles:Fr(p.data.data.totalMiles,0),loadedMiles:Fr(p.data.data.loadedMiles,0)});const y=await Z.get("/api/optimize/backhaul");y.data.success&&(l(y.data.data.pairs||[]),i(b=>{var j,w;return b?{...b,backhaulPairs:((j=y.data.data.pairs)==null?void 0:j.length)||0,potentialRevenueIncrease:((w=y.data.data.pairs)==null?void 0:w.reduce((N,S)=>N+Fr(S.revenueBonus,0),0))||0}:null}));const g=await Z.get("/api/units");g.data.success&&c(g.data.data||[]);const v=await Z.get("/api/units/analytics");v.data.success&&d(v.data.data)}catch(p){console.error("Error loading optimization data:",p)}finally{f(!1)}};return m?a.jsx("div",{className:`bg-white rounded-lg p-6 shadow-sm ${n}`,children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})}):a.jsxs("div",{className:`space-y-6 ${n}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(cr,{className:"h-4 w-4"}),a.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Analytics"}),a.jsx(Tt,{className:"h-6 w-6 text-green-600"})]}),s&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue:"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:As(s.totalRevenue)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Revenue/Hour:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:As(s.revenuePerHour)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:ic(s.loadedMileRatio)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Trips:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.totalTrips})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Revenue/Trip:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:As(s.averageRevenuePerTrip)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backhaul Opportunities"}),a.jsx(Sv,{className:"h-6 w-6 text-blue-600"})]}),s&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Available Pairs:"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:s.backhaulPairs})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Efficiency:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:ic(s.averageEfficiency)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Potential Increase:"}),a.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",As(s.potentialRevenueIncrease)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Miles:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[sf(s.totalMiles,1)," mi"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Miles:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[sf(s.loadedMiles,1)," mi"]})]})]})]}),t&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Unit Management"}),a.jsx(cr,{className:"h-6 w-6 text-purple-600"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Available Units:"}),a.jsx("span",{className:"text-lg font-semibold text-green-600",children:(u==null?void 0:u.availableUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Committed Units:"}),a.jsx("span",{className:"text-sm font-medium text-yellow-600",children:(u==null?void 0:u.committedUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Units:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:(u==null?void 0:u.totalUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Out of Service:"}),a.jsx("span",{className:"text-sm font-medium text-red-600",children:(u==null?void 0:u.outOfServiceUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u!=null&&u.efficiency?`${(u.efficiency*100).toFixed(1)}%`:"0%"})]})]})]})]}),e&&o.length>0&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recommended Backhaul Pairs"}),a.jsx(Tx,{className:"h-5 w-5 text-blue-600"})]}),a.jsx("div",{className:"space-y-4",children:o.slice(0,5).map((p,y)=>{var g,v,b,j,w,N;return a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Sv,{className:"h-5 w-5 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Pair #",y+1]}),a.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Efficiency: ",ic(p.efficiency)]})]}),a.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["+",As(p.revenueBonus)," bonus"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"bg-white rounded p-3",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Request 1"}),a.jsxs("div",{children:["Patient: ",((g=p.request1)==null?void 0:g.patientId)||"N/A"]}),a.jsxs("div",{children:["Level: ",((v=p.request1)==null?void 0:v.transportLevel)||"N/A"]}),a.jsxs("div",{children:["Priority: ",((b=p.request1)==null?void 0:b.priority)||"N/A"]})]}),a.jsxs("div",{className:"bg-white rounded p-3",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Request 2"}),a.jsxs("div",{children:["Patient: ",((j=p.request2)==null?void 0:j.patientId)||"N/A"]}),a.jsxs("div",{children:["Level: ",((w=p.request2)==null?void 0:w.transportLevel)||"N/A"]}),a.jsxs("div",{children:["Priority: ",((N=p.request2)==null?void 0:N.priority)||"N/A"]})]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["Distance: ",sf(p.distance,1)," mi"]}),a.jsxs("span",{children:["Time Window: ",p.timeWindow," min"]})]})]},y)})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Metrics"}),a.jsx(xt,{className:"h-5 w-5 text-indigo-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?ic(s.loadedMileRatio):"0.0%"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s?As(s.revenuePerHour,0):"$0","/hr"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Revenue per Hour"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?s.totalTrips:0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Trips"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Backhaul Pairs"})]})]})]})]})},y6=()=>{var f,h,p,y,g,v,b;const[e,t]=x.useState("overview"),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!0),[c,u]=x.useState(null),d=[{id:"overview",name:"System Overview",icon:xt},{id:"revenue",name:"Revenue Optimization",icon:Tt},{id:"revenue-settings",name:"Revenue Settings",icon:mn},{id:"performance",name:"Performance",icon:Gt},{id:"units",name:"Unit Management",icon:cr}];x.useEffect(()=>{m()},[]);const m=async()=>{var j,w,N,S;try{l(!0),u(null);const[P,O]=await Promise.all([ci.getOverview(),ci.getTrips()]);(j=P.data)!=null&&j.success&&n(P.data.data),(w=O.data)!=null&&w.success&&i(O.data.data)}catch(P){console.error("Error loading analytics data:",P),u(((S=(N=P.response)==null?void 0:N.data)==null?void 0:S.error)||"Failed to load analytics data")}finally{l(!1)}};return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View system-wide analytics, performance metrics, and revenue optimization across all agencies."})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:d.map(j=>{const w=j.icon;return a.jsxs("button",{onClick:()=>t(j.id),className:`${e===j.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[a.jsx(w,{className:"h-4 w-4"}),a.jsx("span",{children:j.name})]},j.id)})})}),e==="overview"&&a.jsx("div",{className:"space-y-6",children:o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):c?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"text-red-800",children:c})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(xt,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Healthcare Facilities"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(r==null?void 0:r.totalHospitals)||0,a.jsxs("span",{className:"text-sm text-green-600 ml-2",children:["(",(r==null?void 0:r.activeHospitals)||0," active)"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(cr,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"EMS Agencies"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(r==null?void 0:r.totalAgencies)||0,a.jsxs("span",{className:"text-sm text-green-600 ml-2",children:["(",(r==null?void 0:r.activeAgencies)||0," active)"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Gt,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"EMS Units"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(r==null?void 0:r.totalUnits)||0,a.jsxs("span",{className:"text-sm text-green-600 ml-2",children:["(",(r==null?void 0:r.activeUnits)||0," active)"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Tt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(s==null?void 0:s.totalTrips)||0,a.jsxs("span",{className:"text-sm text-blue-600 ml-2",children:["(",(s==null?void 0:s.pendingTrips)||0," pending)"]})]})]})})]})})})]}),s&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trips by Transport Level"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"BLS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((f=s.tripsByLevel)==null?void 0:f.BLS)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"ALS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((h=s.tripsByLevel)==null?void 0:h.ALS)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"CCT"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((p=s.tripsByLevel)==null?void 0:p.CCT)||0})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trips by Priority"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Low"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((y=s.tripsByPriority)==null?void 0:y.LOW)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Medium"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((g=s.tripsByPriority)==null?void 0:g.MEDIUM)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"High"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((v=s.tripsByPriority)==null?void 0:v.HIGH)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Urgent"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((b=s.tripsByPriority)==null?void 0:b.URGENT)||0})]})]})]})]})]})}),e==="revenue"&&a.jsx(_v,{showBackhaulPairs:!0,showUnitManagement:!0,title:"Revenue Optimization Analytics"}),e==="revenue-settings"&&a.jsx(S2,{}),e==="performance"&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Gt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:"Performance Dashboard"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Performance metrics and historical data will be displayed here."})]})]}),e==="units"&&a.jsx(_v,{showBackhaulPairs:!1,showUnitManagement:!0,title:"Unit Management Analytics"})]})};function E2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=E2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pe(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=E2(e))&&(n&&(n+=" "),n+=t);return n}var Ou={},P2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(P2);var Ox={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ox);var Mx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Mx);var Mu={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const u=r[i];l?u==="\\"&&i+1<s?(i++,o+=r[i]):u===l?l="":o+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(o),o=""):o+=u:u==="["?(c=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,i++}return o&&n.push(o),n}e.toPath=t})(Mu);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P2,r=Ox,n=Mx,s=Mu;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let m=0;m<c.length;m++){if(d==null||t.isUnsafeProperty(c[m]))return u;d=d[c[m]]}return d===void 0?u:d}e.get=i})(Ou);var v6=Ou.get;const hs=Gn(v6);var A2={exports:{}},Ce={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=Symbol.for("react.transitional.element"),Dx=Symbol.for("react.portal"),Lu=Symbol.for("react.fragment"),Du=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),Ru=Symbol.for("react.consumer"),Iu=Symbol.for("react.context"),$u=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),Uu=Symbol.for("react.memo"),zu=Symbol.for("react.lazy"),b6=Symbol.for("react.view_transition"),j6=Symbol.for("react.client.reference");function _r(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Lx:switch(e=e.type,e){case Lu:case _u:case Du:case Bu:case Fu:case b6:return e;default:switch(e=e&&e.$$typeof,e){case Iu:case $u:case zu:case Uu:return e;case Ru:return e;default:return t}}case Dx:return t}}}Ce.ContextConsumer=Ru;Ce.ContextProvider=Iu;Ce.Element=Lx;Ce.ForwardRef=$u;Ce.Fragment=Lu;Ce.Lazy=zu;Ce.Memo=Uu;Ce.Portal=Dx;Ce.Profiler=_u;Ce.StrictMode=Du;Ce.Suspense=Bu;Ce.SuspenseList=Fu;Ce.isContextConsumer=function(e){return _r(e)===Ru};Ce.isContextProvider=function(e){return _r(e)===Iu};Ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lx};Ce.isForwardRef=function(e){return _r(e)===$u};Ce.isFragment=function(e){return _r(e)===Lu};Ce.isLazy=function(e){return _r(e)===zu};Ce.isMemo=function(e){return _r(e)===Uu};Ce.isPortal=function(e){return _r(e)===Dx};Ce.isProfiler=function(e){return _r(e)===_u};Ce.isStrictMode=function(e){return _r(e)===Du};Ce.isSuspense=function(e){return _r(e)===Bu};Ce.isSuspenseList=function(e){return _r(e)===Fu};Ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lu||e===_u||e===Du||e===Bu||e===Fu||typeof e=="object"&&e!==null&&(e.$$typeof===zu||e.$$typeof===Uu||e.$$typeof===Iu||e.$$typeof===Ru||e.$$typeof===$u||e.$$typeof===j6||e.getModuleId!==void 0)};Ce.typeOf=_r;A2.exports=Ce;var w6=A2.exports,ct=e=>e===0?0:e>0?1:-1,rr=e=>typeof e=="number"&&e!=+e,Ya=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,se=e=>(typeof e=="number"||e instanceof Number)&&!rr(e),xn=e=>se(e)||typeof e=="string",N6=0,Vo=e=>{var t=++N6;return"".concat(e||"").concat(t)},Ot=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&typeof t!="string")return n;var i;if(Ya(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return rr(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},T2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function je(e,t,r){return se(e)&&se(t)?e+r*(t-e):t}function O2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):hs(n,t))===r)}var Te=e=>e===null||typeof e>"u",vl=e=>Te(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),C6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _x(e){if(typeof e!="string")return!1;var t=C6;return t.includes(e)}var S6=["viewBox","children"],Rv=["points","pathLength"],of={svg:S6,polygon:Rv,polyline:Rv},Rx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{_x(s)&&(n[s]=i=>r[s](r,i))}),n},k6=(e,t,r)=>n=>(e(t,r,n),null),bl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];_x(s)&&typeof i=="function"&&(n||(n={}),n[s]=k6(i,t,r))}),n},E6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function M2(e){if(typeof e!="string")return!1;var t=E6;return t.includes(e)}function Rr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return M2(n)});return Object.fromEntries(t)}var Iv=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",$v=null,lf=null,L2=e=>{if(e===$v&&Array.isArray(lf))return lf;var t=[];return x.Children.forEach(e,r=>{Te(r)||(w6.isFragment(r)?t=t.concat(L2(r.props.children)):t.push(r))}),lf=t,$v=e,t};function Ix(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>Iv(s)):n=[Iv(t)],L2(e).forEach(s=>{var i=hs(s,"type.displayName")||hs(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var Wu=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,P6=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&(of==null?void 0:of[n]))!==null&&s!==void 0?s:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||M2(t)),c=!!r&&_x(t);return o||l||c},Oe=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;P6((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},A6=["children","width","height","viewBox","className","style","title","desc"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(null,arguments)}function T6(e,t){if(e==null)return{};var r,n,s=O6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function O6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $x=x.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=T6(e,A6),m=i||{width:n,height:s,x:0,y:0},f=pe("recharts-surface",o);return x.createElement("svg",Dh({},Oe(d,!0,"svg"),{className:f,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,u),r)}),M6=["children","className"];function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_h.apply(null,arguments)}function L6(e,t){if(e==null)return{};var r,n,s=D6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function D6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var We=x.forwardRef((e,t)=>{var{children:r,className:n}=e,s=L6(e,M6),i=pe("recharts-layer",n);return x.createElement("g",_h({className:i},Oe(s,!0),{ref:t}),r)}),D2=x.createContext(null),_6=()=>x.useContext(D2);function Se(e){return function(){return e}}const _2=Math.cos,xd=Math.sin,Jr=Math.sqrt,gd=Math.PI,Hu=2*gd,Rh=Math.PI,Ih=2*Rh,za=1e-6,R6=Ih-za;function R2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function I6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return R2;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class $6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?R2:I6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,m=l-r,f=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>za)if(!(Math.abs(m*c-u*d)>za)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,p=s-l,y=c*c+u*u,g=h*h+p*p,v=Math.sqrt(y),b=Math.sqrt(f),j=i*Math.tan((Rh-Math.acos((y+f-g)/(2*v*b)))/2),w=j/b,N=j/v;Math.abs(w-1)>za&&this._append`L${t+w*d},${r+w*m}`,this._append`A${i},${i},0,0,${+(m*h>d*p)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,m=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>za||Math.abs(this._y1-d)>za)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%Ih+Ih),f>R6?this._append`A${n},${n},0,1,${m},${t-l},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=d}`:f>za&&this._append`A${n},${n},0,${+(f>=Rh)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Bx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $6(t)}function Fx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function I2(e){this._context=e}I2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gu(e){return new I2(e)}function $2(e){return e[0]}function B2(e){return e[1]}function F2(e,t){var r=Se(!0),n=null,s=Gu,i=null,o=Bx(l);e=typeof e=="function"?e:e===void 0?$2:Se(e),t=typeof t=="function"?t:t===void 0?B2:Se(t);function l(c){var u,d=(c=Fx(c)).length,m,f=!1,h;for(n==null&&(i=s(h=o())),u=0;u<=d;++u)!(u<d&&r(m=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,u,c),+t(m,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Se(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Se(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Se(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function lc(e,t,r){var n=null,s=Se(!0),i=null,o=Gu,l=null,c=Bx(u);e=typeof e=="function"?e:e===void 0?$2:Se(+e),t=typeof t=="function"?t:Se(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?B2:Se(+r);function u(m){var f,h,p,y=(m=Fx(m)).length,g,v=!1,b,j=new Array(y),w=new Array(y);for(i==null&&(l=o(b=c())),f=0;f<=y;++f){if(!(f<y&&s(g=m[f],f,m))===v)if(v=!v)h=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=f-1;p>=h;--p)l.point(j[p],w[p]);l.lineEnd(),l.areaEnd()}v&&(j[f]=+e(g,f,m),w[f]=+t(g,f,m),l.point(n?+n(g,f,m):j[f],r?+r(g,f,m):w[f]))}if(b)return l=null,b+""||null}function d(){return F2().defined(s).curve(o).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Se(+m),n=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Se(+m),u):e},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Se(+m),u):n},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Se(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Se(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Se(+m),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Se(!!m),u):s},u.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),u):o},u.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),u):i},u}class U2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function B6(e){return new U2(e,!0)}function F6(e){return new U2(e,!1)}const Ux={draw(e,t){const r=Jr(t/gd);e.moveTo(r,0),e.arc(0,0,r,0,Hu)}},U6={draw(e,t){const r=Jr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},z2=Jr(1/3),z6=z2*2,W6={draw(e,t){const r=Jr(t/z6),n=r*z2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},H6={draw(e,t){const r=Jr(t),n=-r/2;e.rect(n,n,r,r)}},G6=.8908130915292852,W2=xd(gd/10)/xd(7*gd/10),q6=xd(Hu/10)*W2,K6=-_2(Hu/10)*W2,V6={draw(e,t){const r=Jr(t*G6),n=q6*r,s=K6*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Hu*i/5,l=_2(o),c=xd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},cf=Jr(3),Y6={draw(e,t){const r=-Jr(t/(cf*3));e.moveTo(0,r*2),e.lineTo(-cf*r,-r),e.lineTo(cf*r,-r),e.closePath()}},jr=-.5,wr=Jr(3)/2,$h=1/Jr(12),X6=($h/2+1)*3,Q6={draw(e,t){const r=Jr(t/X6),n=r/2,s=r*$h,i=n,o=r*$h+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(jr*n-wr*s,wr*n+jr*s),e.lineTo(jr*i-wr*o,wr*i+jr*o),e.lineTo(jr*l-wr*c,wr*l+jr*c),e.lineTo(jr*n+wr*s,jr*s-wr*n),e.lineTo(jr*i+wr*o,jr*o-wr*i),e.lineTo(jr*l+wr*c,jr*c-wr*l),e.closePath()}};function Z6(e,t){let r=null,n=Bx(s);e=typeof e=="function"?e:Se(e||Ux),t=typeof t=="function"?t:Se(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Se(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Se(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function yd(){}function vd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function H2(e){this._context=e}H2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J6(e){return new H2(e)}function G2(e){this._context=e}G2.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e3(e){return new G2(e)}function q2(e){this._context=e}q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t3(e){return new q2(e)}function K2(e){this._context=e}K2.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function r3(e){return new K2(e)}function Bv(e){return e<0?-1:1}function Fv(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Bv(i)+Bv(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Uv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function df(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function bd(e){this._context=e}bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:df(this,this._t0,Uv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,df(this,Uv(this,r=Fv(this,e,t)),r);break;default:df(this,this._t0,r=Fv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function V2(e){this._context=new Y2(e)}(V2.prototype=Object.create(bd.prototype)).point=function(e,t){bd.prototype.point.call(this,t,e)};function Y2(e){this._context=e}Y2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function n3(e){return new bd(e)}function a3(e){return new V2(e)}function X2(e){this._context=e}X2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=zv(e),s=zv(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zv(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function s3(e){return new X2(e)}function qu(e,t){this._context=e,this._t=t}qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function i3(e){return new qu(e,.5)}function o3(e){return new qu(e,0)}function l3(e){return new qu(e,1)}function ui(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Bh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function c3(e,t){return e[t]}function d3(e){const t=[];return t.key=e,t}function u3(){var e=Se([]),t=Bh,r=ui,n=c3;function s(i){var o=Array.from(e.apply(this,arguments),d3),l,c=o.length,u=-1,d;for(const m of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(m,o[l].key,u,i)]).data=m;for(l=0,d=Fx(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Se(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Se(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Bh:typeof i=="function"?i:Se(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??ui,s):r},s}function m3(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}ui(e,t)}}function f3(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ui(e,t)}}function h3(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],m=d[n][1]||0,f=d[n-1][1]||0,h=(m-f)/2,p=0;p<l;++p){var y=e[t[p]],g=y[n][1]||0,v=y[n-1][1]||0;h+=g-v}c+=m,u+=h*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,ui(e,t)}}var p3=["type","size","sizeType"];function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(null,arguments)}function Wv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wv(Object(r),!0).forEach(function(n){x3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x3(e,t,r){return(t=g3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3(e){var t=y3(e,"string");return typeof t=="symbol"?t:t+""}function y3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v3(e,t){if(e==null)return{};var r,n,s=b3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function b3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q2={symbolCircle:Ux,symbolCross:U6,symbolDiamond:W6,symbolSquare:H6,symbolStar:V6,symbolTriangle:Y6,symbolWye:Q6},j3=Math.PI/180,w3=e=>{var t="symbol".concat(vl(e));return Q2[t]||Ux},N3=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*j3;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},C3=(e,t)=>{Q2["symbol".concat(vl(e))]=t},zx=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=v3(e,p3),i=Hv(Hv({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var f=w3(o),h=Z6().type(f).size(N3(r,n,o));return h()},{className:c,cx:u,cy:d}=i,m=Oe(i,!0);return u===+u&&d===+d&&r===+r?x.createElement("path",Fh({},m,{className:pe("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};zx.registerSymbol=C3;function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uh.apply(null,arguments)}function Gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function S3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(r),!0).forEach(function(n){Wx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wx(e,t,r){return(t=k3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k3(e){var t=E3(e,"string");return typeof t=="symbol"?t:t+""}function E3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nr=32;class Hx extends x.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=Nr/2,i=Nr/6,o=Nr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Nr,y2:s,className:"recharts-legend-icon"});if(c==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Nr,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return x.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Nr/8,"h").concat(Nr,"v").concat(Nr*3/4,"h").concat(-Nr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var u=S3({},t);return delete u.legendIcon,x.cloneElement(t.legendIcon,u)}return x.createElement(zx,{fill:l,cx:s,cy:s,size:Nr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:Nr,height:Nr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,m)=>{var f=d.formatter||s,h=pe({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?i:d.color,y=f?f(d.value,d,m):d.value;return x.createElement("li",Uh({className:h,style:c,key:"legend-item-".concat(m)},bl(this.props,d,m)),x.createElement($x,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(y," legend icon")},this.renderIcon(d,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},y))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}Wx(Hx,"displayName","Legend");Wx(Hx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Z2={},J2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(J2);var Gx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Gx);var eC={},Ku={},tC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(tC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ku);var rC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(rC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ku,r=rC;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(eC);var nC={},aC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ou;function r(n){return function(s){return t.get(s,n)}}e.property=r})(aC);var sC={},uf={},mf={},qx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(qx);var Kx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Kx);var Vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Vx);var qv;function P3(){return qv||(qv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yx(),r=qx,n=Kx,s=Vx;function i(m,f,h){return typeof h!="function"?t.isMatch(m,f):o(m,f,function p(y,g,v,b,j,w){const N=h(y,g,v,b,j,w);return N!==void 0?!!N:o(y,g,p,w)},new Map)}function o(m,f,h,p){if(f===m)return!0;switch(typeof f){case"object":return l(m,f,h,p);case"function":return Object.keys(f).length>0?o(m,{...f},h,p):s.eq(m,f);default:return r.isObject(m)?typeof f=="string"?f==="":!0:s.eq(m,f)}}function l(m,f,h,p){if(f==null)return!0;if(Array.isArray(f))return u(m,f,h,p);if(f instanceof Map)return c(m,f,h,p);if(f instanceof Set)return d(m,f,h,p);const y=Object.keys(f);if(m==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(f))return p.get(f)===m;p&&p.set(f,m);try{for(let g=0;g<y.length;g++){const v=y[g];if(!n.isPrimitive(m)&&!(v in m)||f[v]===void 0&&m[v]!==void 0||f[v]===null&&m[v]!==null||!h(m[v],f[v],v,m,f,p))return!1}return!0}finally{p&&p.delete(f)}}function c(m,f,h,p){if(f.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,g]of f.entries()){const v=m.get(y);if(h(v,g,y,m,f,p)===!1)return!1}return!0}function u(m,f,h,p){if(f.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let g=0;g<f.length;g++){const v=f[g];let b=!1;for(let j=0;j<m.length;j++){if(y.has(j))continue;const w=m[j];let N=!1;if(h(w,v,g,m,f,p)&&(N=!0),N){y.add(j),b=!0;break}}if(!b)return!1}return!0}function d(m,f,h,p){return f.size===0?!0:m instanceof Set?u([...m],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=d}(mf)),mf}var Kv;function Yx(){return Kv||(Kv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P3();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(uf)),uf}var iC={},Xx={},oC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(oC);var Qx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Qx);var Zx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",m="[object Function]",f="[object ArrayBuffer]",h="[object Object]",p="[object Error]",y="[object DataView]",g="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",w="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",A="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=w,e.booleanTag=s,e.dataViewTag=y,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=k,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=v})(Zx);var lC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(lC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oC,r=Qx,n=Zx,s=Kx,i=lC;function o(d,m){return l(d,void 0,d,new Map,m)}function l(d,m,f,h=new Map,p=void 0){const y=p==null?void 0:p(d,m,f,h);if(y!==void 0)return y;if(s.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const g=new Array(d.length);h.set(d,g);for(let v=0;v<d.length;v++)g[v]=l(d[v],v,f,h,p);return Object.hasOwn(d,"index")&&(g.index=d.index),Object.hasOwn(d,"input")&&(g.input=d.input),g}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const g=new RegExp(d.source,d.flags);return g.lastIndex=d.lastIndex,g}if(d instanceof Map){const g=new Map;h.set(d,g);for(const[v,b]of d)g.set(v,l(b,v,f,h,p));return g}if(d instanceof Set){const g=new Set;h.set(d,g);for(const v of d)g.add(l(v,void 0,f,h,p));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const g=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,g);for(let v=0;v<d.length;v++)g[v]=l(d[v],v,f,h,p);return g}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const g=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,g),c(g,d,f,h,p),g}if(typeof File<"u"&&d instanceof File){const g=new File([d],d.name,{type:d.type});return h.set(d,g),c(g,d,f,h,p),g}if(d instanceof Blob){const g=new Blob([d],{type:d.type});return h.set(d,g),c(g,d,f,h,p),g}if(d instanceof Error){const g=new d.constructor;return h.set(d,g),g.message=d.message,g.name=d.name,g.stack=d.stack,g.cause=d.cause,c(g,d,f,h,p),g}if(typeof d=="object"&&u(d)){const g=Object.create(Object.getPrototypeOf(d));return h.set(d,g),c(g,d,f,h,p),g}return d}function c(d,m,f=d,h,p){const y=[...Object.keys(m),...t.getSymbols(m)];for(let g=0;g<y.length;g++){const v=y[g],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=l(m[v],v,f,h,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Xx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(iC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yx(),r=iC;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(sC);var cC={},dC={},uC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xx,r=Zx;function n(s,i){return t.cloneDeepWith(s,(o,l,c,u)=>{const d=i==null?void 0:i(o,l,c,u);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(uC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uC;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(dC);var mC={},Jx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Jx);var fC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(fC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ox,r=Jx,n=fC,s=Mu;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const m=c[d];if((u==null||!Object.hasOwn(u,m))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(m)&&m<u.length))return!1;u=u[m]}return!0}e.has=i})(mC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yx(),r=Mx,n=dC,s=Ou,i=mC;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=s.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(cC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gx,r=aC,n=sC,s=cC;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(nC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2,r=Gx,n=eC,s=nC;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(Z2);var A3=Z2.uniqBy;const Vv=Gn(A3);function hC(e,t,r){return t===!0?Vv(e,r):typeof t=="function"?Vv(e,t):e}var pC={exports:{}},xC={},gC={exports:{}},yC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mi=x;function T3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O3=typeof Object.is=="function"?Object.is:T3,M3=mi.useState,L3=mi.useEffect,D3=mi.useLayoutEffect,_3=mi.useDebugValue;function R3(e,t){var r=t(),n=M3({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return D3(function(){s.value=r,s.getSnapshot=t,ff(s)&&i({inst:s})},[e,r,t]),L3(function(){return ff(s)&&i({inst:s}),e(function(){ff(s)&&i({inst:s})})},[e]),_3(r),r}function ff(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!O3(e,r)}catch{return!0}}function I3(e,t){return t()}var $3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?I3:R3;yC.useSyncExternalStore=mi.useSyncExternalStore!==void 0?mi.useSyncExternalStore:$3;gC.exports=yC;var B3=gC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=x,F3=B3;function U3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var z3=typeof Object.is=="function"?Object.is:U3,W3=F3.useSyncExternalStore,H3=Vu.useRef,G3=Vu.useEffect,q3=Vu.useMemo,K3=Vu.useDebugValue;xC.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=H3(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=q3(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return m=p}return m=h}if(p=m,z3(d,h))return p;var y=n(h);return s!==void 0&&s(p,y)?(d=h,p):(d=h,m=y)}var u=!1,d,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var l=W3(e,i[0],i[1]);return G3(function(){o.hasValue=!0,o.value=l},[l]),K3(l),l};pC.exports=xC;var V3=pC.exports,eg=x.createContext(null),Y3=e=>e,Ue=()=>{var e=x.useContext(eg);return e?e.store.dispatch:Y3},Fc=()=>{},X3=()=>Fc,Q3=(e,t)=>e===t;function ae(e){var t=x.useContext(eg);return V3.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:X3,t?t.store.getState:Fc,t?t.store.getState:Fc,t?e:Fc,Q3)}function Z3(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function J3(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function eM(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Yv=e=>Array.isArray(e)?e:[e];function tM(e){const t=Array.isArray(e[0])?e[0]:e;return eM(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function rM(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var nM=class{constructor(e){this.value=e}deref(){return this.value}},aM=typeof WeakRef<"u"?WeakRef:nM,sM=0,Xv=1;function cc(){return{s:sM,v:void 0,o:null,p:null}}function vC(e,t={}){let r=cc();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var m;let l=r;const{length:c}=arguments;for(let f=0,h=c;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const g=y.get(p);g===void 0?(l=cc(),y.set(p,l)):l=g}else{let y=l.p;y===null&&(l.p=y=new Map);const g=y.get(p);g===void 0?(l=cc(),y.set(p,l)):l=g}}const u=l;let d;if(l.s===Xv)d=l.v;else if(d=e.apply(null,arguments),i++,n){const f=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;f!=null&&n(f,d)&&(d=f,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new aM(d):d}return u.s=Xv,u.v=d,d}return o.clearCache=()=>{r=cc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function iM(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),Z3(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:m,memoizeOptions:f=[],argsMemoize:h=vC,argsMemoizeOptions:p=[]}=d,y=Yv(f),g=Yv(p),v=tM(s),b=m(function(){return i++,u.apply(null,arguments)},...y),j=h(function(){o++;const N=rM(v,arguments);return l=b.apply(null,N),l},...g);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var z=iM(vC),oM=Object.assign((e,t=z)=>{J3(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>oM}),bC={},jC={},wC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(wC);var NC={},tg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(tg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(NC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wC,r=NC,n=Mu;function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,p)=>{let y=h;for(let g=0;g<p.length&&y!=null;++g)y=y[p[g]];return y},d=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:u(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?u(p,h):typeof p=="object"?p[h]:p,m=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(p=>d(p,h))})).slice().sort((h,p)=>{for(let y=0;y<m.length;y++){const g=t.compareValues(h.criteria[y],p.criteria[y],l[y]);if(g!==0)return g}return 0}).map(h=>h.original)}e.orderBy=s})(jC);var CC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):s.push(d)}};return o(r,0),s}e.flatten=t})(CC);var rg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jx,r=Ku,n=qx,s=Vx;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(rg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jC,r=CC,n=rg;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(bC);var lM=bC.sortBy;const Yu=Gn(lM);var SC=e=>e.legend.settings,cM=e=>e.legend.size,dM=e=>e.legend.payload,uM=z([dM,SC],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Yu(n,r):n});function mM(){return ae(uM)}var dc=1;function kC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>dc||Math.abs(o.left-t.left)>dc||Math.abs(o.top-t.top)>dc||Math.abs(o.width-t.width)>dc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ft(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fM=typeof Symbol=="function"&&Symbol.observable||"@@observable",Qv=fM,hf=()=>Math.random().toString(36).substring(7).split("").join("."),hM={INIT:`@@redux/INIT${hf()}`,REPLACE:`@@redux/REPLACE${hf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hf()}`},jd=hM;function ng(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EC(e,t,r){if(typeof e!="function")throw new Error(ft(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ft(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ft(1));return r(EC)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((g,v)=>{o.set(v,g)}))}function d(){if(c)throw new Error(ft(3));return s}function m(g){if(typeof g!="function")throw new Error(ft(4));if(c)throw new Error(ft(5));let v=!0;u();const b=l++;return o.set(b,g),function(){if(v){if(c)throw new Error(ft(6));v=!1,u(),o.delete(b),i=null}}}function f(g){if(!ng(g))throw new Error(ft(7));if(typeof g.type>"u")throw new Error(ft(8));if(typeof g.type!="string")throw new Error(ft(17));if(c)throw new Error(ft(9));try{c=!0,s=n(s,g)}finally{c=!1}return(i=o).forEach(b=>{b()}),g}function h(g){if(typeof g!="function")throw new Error(ft(10));n=g,f({type:jd.REPLACE})}function p(){const g=m;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ft(11));function b(){const w=v;w.next&&w.next(d())}return b(),{unsubscribe:g(b)}},[Qv](){return this}}}return f({type:jd.INIT}),{dispatch:f,subscribe:m,getState:d,replaceReducer:h,[Qv]:p}}function pM(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:jd.INIT})>"u")throw new Error(ft(12));if(typeof r(void 0,{type:jd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ft(13))})}function PC(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{pM(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<n.length;d++){const m=n[d],f=r[m],h=o[m],p=f(h,l);if(typeof p>"u")throw l&&l.type,new Error(ft(14));u[m]=p,c=c||p!==h}return c=c||n.length!==Object.keys(o).length,c?u:o}}function wd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function xM(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(ft(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=wd(...l)(s.dispatch),{...s,dispatch:i}}}function AC(e){return ng(e)&&"type"in e&&typeof e.type=="string"}var TC=Symbol.for("immer-nothing"),Zv=Symbol.for("immer-draftable"),gr=Symbol.for("immer-state");function Gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fi=Object.getPrototypeOf;function ps(e){return!!e&&!!e[gr]}function Fn(e){var t;return e?OC(e)||Array.isArray(e)||!!e[Zv]||!!((t=e.constructor)!=null&&t[Zv])||jl(e)||Qu(e):!1}var gM=Object.prototype.constructor.toString();function OC(e){if(!e||typeof e!="object")return!1;const t=fi(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===gM}function Nd(e,t){Xu(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Xu(e){const t=e[gr];return t?t.type_:Array.isArray(e)?1:jl(e)?2:Qu(e)?3:0}function zh(e,t){return Xu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function MC(e,t,r){const n=Xu(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function yM(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jl(e){return e instanceof Map}function Qu(e){return e instanceof Set}function Wa(e){return e.copy_||e.base_}function Wh(e,t){if(jl(e))return new Map(e);if(Qu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=OC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[gr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(fi(e),n)}else{const n=fi(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function ag(e,t=!1){return Zu(e)||ps(e)||!Fn(e)||(Xu(e)>1&&Object.defineProperties(e,{set:{value:uc},add:{value:uc},clear:{value:uc},delete:{value:uc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>ag(r,!0))),e}function uc(){Gr(2)}function Zu(e){return Object.isFrozen(e)}var vM={};function xs(e){const t=vM[e];return t||Gr(0,e),t}var Yo;function LC(){return Yo}function bM(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jv(e,t){t&&(xs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hh(e){Gh(e),e.drafts_.forEach(jM),e.drafts_=null}function Gh(e){e===Yo&&(Yo=e.parent_)}function eb(e){return Yo=bM(Yo,e)}function jM(e){const t=e[gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tb(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[gr].modified_&&(Hh(t),Gr(4)),Fn(e)&&(e=Cd(t,e),t.parent_||Sd(t,e)),t.patches_&&xs("Patches").generateReplacementPatches_(r[gr].base_,e,t.patches_,t.inversePatches_)):e=Cd(t,r,[]),Hh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==TC?e:void 0}function Cd(e,t,r){if(Zu(t))return t;const n=t[gr];if(!n)return Nd(t,(s,i)=>rb(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Sd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Nd(i,(l,c)=>rb(e,n,s,l,c,r,o)),Sd(e,s,!1),r&&e.patches_&&xs("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function rb(e,t,r,n,s,i,o){if(ps(s)){const l=i&&t&&t.type_!==3&&!zh(t.assigned_,n)?i.concat(n):void 0,c=Cd(e,s,l);if(MC(r,n,c),ps(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Fn(s)&&!Zu(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Cd(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(jl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Sd(e,s)}}function Sd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ag(t,r)}function wM(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:LC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=sg;r&&(s=[n],i=Xo);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var sg={get(e,t){if(t===gr)return e;const r=Wa(e);if(!zh(r,t))return NM(e,r,t);const n=r[t];return e.finalized_||!Fn(n)?n:n===pf(e.base_,t)?(xf(e),e.copy_[t]=Kh(n,e)):n},has(e,t){return t in Wa(e)},ownKeys(e){return Reflect.ownKeys(Wa(e))},set(e,t,r){const n=DC(Wa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=pf(Wa(e),t),i=s==null?void 0:s[gr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(yM(r,s)&&(r!==void 0||zh(e.base_,t)))return!0;xf(e),qh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,xf(e),qh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Wa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Gr(11)},getPrototypeOf(e){return fi(e.base_)},setPrototypeOf(){Gr(12)}},Xo={};Nd(sg,(e,t)=>{Xo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xo.deleteProperty=function(e,t){return Xo.set.call(this,e,t,void 0)};Xo.set=function(e,t,r){return sg.set.call(this,e[0],t,r,e[0])};function pf(e,t){const r=e[gr];return(r?Wa(r):e)[t]}function NM(e,t,r){var s;const n=DC(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function DC(e,t){if(!(t in e))return;let r=fi(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fi(r)}}function qh(e){e.modified_||(e.modified_=!0,e.parent_&&qh(e.parent_))}function xf(e){e.copy_||(e.copy_=Wh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var CM=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Gr(6),n!==void 0&&typeof n!="function"&&Gr(7);let s;if(Fn(t)){const i=eb(this),o=Kh(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Hh(i):Gh(i)}return Jv(i,n),tb(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===TC&&(s=void 0),this.autoFreeze_&&ag(s,!0),n){const i=[],o=[];xs("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else Gr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Fn(e)||Gr(8),ps(e)&&(e=Ln(e));const t=eb(this),r=Kh(e,void 0);return r[gr].isManual_=!0,Gh(t),r}finishDraft(e,t){const r=e&&e[gr];(!r||!r.isManual_)&&Gr(9);const{scope_:n}=r;return Jv(n,t),tb(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=xs("Patches").applyPatches_;return ps(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Kh(e,t){const r=jl(e)?xs("MapSet").proxyMap_(e,t):Qu(e)?xs("MapSet").proxySet_(e,t):wM(e,t);return(t?t.scope_:LC()).drafts_.push(r),r}function Ln(e){return ps(e)||Gr(10,e),_C(e)}function _C(e){if(!Fn(e)||Zu(e))return e;const t=e[gr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Wh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Wh(e,!0);return Nd(r,(n,s)=>{MC(r,n,_C(s))}),t&&(t.finalized_=!1),r}var SM=new CM,RC=SM.produce;function IC(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var kM=IC(),EM=IC,PM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wd:wd.apply(null,arguments)};function Lr(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(hr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>AC(n)&&n.type===e,r}var $C=class mo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,mo.prototype)}static get[Symbol.species](){return mo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new mo(...t[0].concat(this)):new mo(...t.concat(this))}};function nb(e){return Fn(e)?RC(e,()=>{}):e}function mc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function AM(e){return typeof e=="boolean"}var TM=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new $C;return r&&(AM(r)?o.push(kM):o.push(EM(r.extraArgument))),o},OM="RTK_autoBatch",ab=e=>t=>{setTimeout(t,e)},MM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ab(10):e.type==="callback"?e.queueNotification:ab(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const m=()=>s&&d(),f=n.subscribe(m);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var m;try{return s=!((m=d==null?void 0:d.meta)!=null&&m[OM]),i=!s,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{s=!0}}})},LM=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new $C(e);return n&&s.push(MM(typeof n=="object"?n:void 0)),s};function DM(e){const t=TM(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(ng(r))l=PC(r);else throw new Error(hr(1));let c;typeof n=="function"?c=n(t):c=t();let u=wd;s&&(u=PM({trace:!1,...typeof s=="object"&&s}));const d=xM(...c),m=LM(d);let f=typeof o=="function"?o(m):m();const h=u(...f);return EC(l,i,h)}function BC(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(hr(28));if(l in t)throw new Error(hr(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function _M(e){return typeof e=="function"}function RM(e,t){let[r,n,s]=BC(t),i;if(_M(e))i=()=>nb(e());else{const l=nb(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,m)=>{if(m)if(ps(d)){const h=m(d,c);return h===void 0?d:h}else{if(Fn(d))return RC(d,f=>m(f,c));{const f=m(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return o.getInitialState=i,o}var IM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$M=(e=21)=>{let t="",r=e;for(;r--;)t+=IM[Math.random()*64|0];return t},BM=Symbol.for("rtk-slice-createasyncthunk");function FM(e,t){return`${e}/${t}`}function UM({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[BM];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(hr(11));const l=(typeof s.reducers=="function"?s.reducers(WM()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,N){const S=typeof w=="string"?w:w.type;if(!S)throw new Error(hr(12));if(S in u.sliceCaseReducersByType)throw new Error(hr(13));return u.sliceCaseReducersByType[S]=N,d},addMatcher(w,N){return u.sliceMatchers.push({matcher:w,reducer:N}),d},exposeAction(w,N){return u.actionCreators[w]=N,d},exposeCaseReducer(w,N){return u.sliceCaseReducersByName[w]=N,d}};c.forEach(w=>{const N=l[w],S={reducerName:w,type:FM(i,w),createNotation:typeof s.reducers=="function"};GM(N)?KM(S,N,d,t):HM(S,N,d)});function m(){const[w={},N=[],S=void 0]=typeof s.extraReducers=="function"?BC(s.extraReducers):[s.extraReducers],P={...w,...u.sliceCaseReducersByType};return RM(s.initialState,O=>{for(let A in P)O.addCase(A,P[A]);for(let A of u.sliceMatchers)O.addMatcher(A.matcher,A.reducer);for(let A of N)O.addMatcher(A.matcher,A.reducer);S&&O.addDefaultCase(S)})}const f=w=>w,h=new Map,p=new WeakMap;let y;function g(w,N){return y||(y=m()),y(w,N)}function v(){return y||(y=m()),y.getInitialState()}function b(w,N=!1){function S(O){let A=O[w];return typeof A>"u"&&N&&(A=mc(p,S,v)),A}function P(O=f){const A=mc(h,N,()=>new WeakMap);return mc(A,O,()=>{const k={};for(const[R,L]of Object.entries(s.selectors??{}))k[R]=zM(L,O,()=>mc(p,O,v),N);return k})}return{reducerPath:w,getSelectors:P,get selectors(){return P(S)},selectSlice:S}}const j={name:i,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(w,{reducerPath:N,...S}={}){const P=N??o;return w.inject({reducerPath:P,reducer:g},S),{...j,...b(P,!0)}}};return j}}function zM(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var br=UM();function WM(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function HM({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!qM(n))throw new Error(hr(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Lr(e,o):Lr(e))}function GM(e){return e._reducerDefinitionType==="asyncThunk"}function qM(e){return e._reducerDefinitionType==="reducerWithPrepare"}function KM({type:e,reducerName:t},r,n,s){if(!s)throw new Error(hr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,m=s(e,i,d);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),c&&n.addCase(m.rejected,c),u&&n.addMatcher(m.settled,u),n.exposeCaseReducer(t,{fulfilled:o||fc,pending:l||fc,rejected:c||fc,settled:u||fc})}function fc(){}var VM="task",FC="listener",UC="completed",ig="cancelled",YM=`task-${ig}`,XM=`task-${UC}`,Vh=`${FC}-${ig}`,QM=`${FC}-${UC}`,Ju=class{constructor(e){Fl(this,"name","TaskAbortError");Fl(this,"message");this.code=e,this.message=`${VM} ${ig} (reason: ${e})`}},og=(e,t)=>{if(typeof e!="function")throw new TypeError(hr(32))},kd=()=>{},zC=(e,t=kd)=>(e.catch(t),e),WC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ns=e=>{if(e.aborted){const{reason:t}=e;throw new Ju(t)}};function HC(e,t){let r=kd;return new Promise((n,s)=>{const i=()=>s(new Ju(e.reason));if(e.aborted){i();return}r=WC(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=kd})}var ZM=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ju?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ed=e=>t=>zC(HC(e,t).then(r=>(ns(e),r))),GC=e=>{const t=Ed(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Qs}=Object,sb={},em="listenerMiddleware",JM=(e,t)=>{const r=n=>WC(e,()=>rs(n,e.reason));return(n,s)=>{og(n);const i=new AbortController;r(i);const o=ZM(async()=>{ns(e),ns(i.signal);const l=await n({pause:Ed(i.signal),delay:GC(i.signal),signal:i.signal});return ns(i.signal),l},()=>rs(i,XM));return s!=null&&s.autoJoin&&t.push(o.catch(kd)),{result:Ed(e)(o),cancel(){rs(i,YM)}}}},eL=(e,t)=>{const r=async(n,s)=>{ns(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(m,f)=>{f.unsubscribe(),c([m,f.getState(),f.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await HC(t,Promise.race(l));return ns(t),c}finally{i()}};return(n,s)=>zC(r(n,s))},qC=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Lr(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(hr(21));return og(i),{predicate:s,type:t,effect:i}},KC=Qs(e=>{const{type:t,predicate:r,effect:n}=qC(e);return{id:$M(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(hr(22))}}},{withTypes:()=>KC}),ib=(e,t)=>{const{type:r,effect:n,predicate:s}=qC(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Yh=e=>{e.pending.forEach(t=>{rs(t,Vh)})},tL=e=>()=>{e.forEach(Yh),e.clear()},ob=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},VC=Qs(Lr(`${em}/add`),{withTypes:()=>VC}),rL=Lr(`${em}/removeAll`),YC=Qs(Lr(`${em}/remove`),{withTypes:()=>YC}),nL=(...e)=>{console.error(`${em}/error`,...e)},wl=(e={})=>{const t=new Map,{extra:r,onError:n=nL}=e;og(n);const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),m=>{d.unsubscribe(),m!=null&&m.cancelActive&&Yh(d)}),i=d=>{const m=ib(t,d)??KC(d);return s(m)};Qs(i,{withTypes:()=>i});const o=d=>{const m=ib(t,d);return m&&(m.unsubscribe(),d.cancelActive&&Yh(m)),!!m};Qs(o,{withTypes:()=>o});const l=async(d,m,f,h)=>{const p=new AbortController,y=eL(i,p.signal),g=[];try{d.pending.add(p),await Promise.resolve(d.effect(m,Qs({},f,{getOriginalState:h,condition:(v,b)=>y(v,b).then(Boolean),take:y,delay:GC(p.signal),pause:Ed(p.signal),extra:r,signal:p.signal,fork:JM(p.signal,g),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,b,j)=>{v!==p&&(rs(v,Vh),j.delete(v))})},cancel:()=>{rs(p,Vh),d.pending.delete(p)},throwIfCancelled:()=>{ns(p.signal)}})))}catch(v){v instanceof Ju||ob(n,v,{raisedBy:"effect"})}finally{await Promise.all(g),rs(p,QM),d.pending.delete(p)}},c=tL(t);return{middleware:d=>m=>f=>{if(!AC(f))return m(f);if(VC.match(f))return i(f.payload);if(rL.match(f)){c();return}if(YC.match(f))return o(f.payload);let h=d.getState();const p=()=>{if(h===sb)throw new Error(hr(23));return h};let y;try{if(y=m(f),t.size>0){const g=d.getState(),v=Array.from(t.values());for(const b of v){let j=!1;try{j=b.predicate(f,g,h)}catch(w){j=!1,ob(n,w,{raisedBy:"predicate"})}j&&l(b,f,d,p)}}}finally{h=sb}return y},startListening:i,stopListening:o,clearListeners:c}};function hr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},XC=br({name:"chartLayout",initialState:aL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:sL,setLayout:iL,setChartSize:oL,setScale:lL}=XC.actions,cL=XC.reducer;function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(r),!0).forEach(function(n){dL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dL(e,t,r){return(t=uL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uL(e){var t=mL(e,"string");return typeof t=="symbol"?t:t+""}function mL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pd=Math.PI/180,fL=e=>e*180/Math.PI,Qe=(e,t,r,n)=>({x:e+Math.cos(-Pd*n)*r,y:t+Math.sin(-Pd*n)*r}),QC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},hL=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},pL=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=hL({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:fL(c),angleInRadian:c}},xL=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},gL=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},yL=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=pL({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:u}=xL(t),d=i,m;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=c}return m?cb(cb({},t),{},{radius:s,angle:gL(d,t)}):null};function ZC(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?db(Object(r),!0).forEach(function(n){vL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vL(e,t,r){return(t=bL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bL(e){var t=jL(e,"string");return typeof t=="symbol"?t:t+""}function jL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function we(e,t,r){return Te(e)||Te(t)?r:xn(t)?hs(e,t,r):typeof t=="function"?t(e):r}var wL=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,m=c>=l-1?r[0].coordinate:r[c+1].coordinate,f=void 0;if(ct(d-u)!==ct(m-d)){var h=[];if(ct(m-d)===ct(s[1]-s[0])){f=m;var p=d+s[1]-s[0];h[0]=Math.min(p,(p+u)/2),h[1]=Math.max(p,(p+u)/2)}else{f=u;var y=m+s[1]-s[0];h[0]=Math.min(d,(y+d)/2),h[1]=Math.max(d,(y+d)/2)}var g=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){({index:o}=r[c]);break}}else{var v=Math.min(u,m),b=Math.max(u,m);if(e>(v+d)/2&&e<=(b+d)/2){({index:o}=r[c]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},NL=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&se(e[i]))return Er(Er({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&se(e[o]))return Er(Er({},e),{},{[o]:e[o]+(s||0)})}return e},bn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",JC=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},eS=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:m,niceTicks:f,axisType:h}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=s==="category"&&o.bandwidth?o.bandwidth()/p:0;if(y=h==="angleAxis"&&i&&i.length>=2?ct(i[0]-i[1])*2*y:y,m||f){var g=(m||f||[]).map((v,b)=>{var j=n?n.indexOf(v):v;return{coordinate:o(j)+y,value:v,offset:y,index:b}});return g.filter(v=>!rr(v.coordinate))}return c&&u?u.map((v,b)=>({coordinate:o(v)+y,value:v,index:b,offset:y})):o.ticks&&d!=null?o.ticks(d).map((v,b)=>({coordinate:o(v)+y,value:v,offset:y,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+y,value:n?n[v]:v,index:b,offset:y}))},ub=1e-4,CL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-ub,i=Math.max(n[0],n[1])+ub,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},SL=(e,t)=>{if(!t||t.length!==2||!se(t[0])||!se(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!se(e[0])||e[0]<r)&&(s[0]=r),(!se(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},kL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=rr(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},EL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=rr(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},PL={sign:kL,expand:m3,none:ui,silhouette:f3,wiggle:h3,positive:EL},AL=(e,t,r)=>{var n=PL[r],s=u3().keys(t).value((i,o)=>+we(i,o,0)).order(Bh).offset(n);return s(e)};function tS(e){return e==null?void 0:String(e)}function Ad(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Te(s[t.dataKey])){var l=O2(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=we(s,Te(o)?t.dataKey:o);return Te(c)?null:t.scale(c)}var mb=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=we(i,t.dataKey,t.scale.domain()[o]);return Te(l)?null:t.scale(l)-s/2+n},TL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},OL=e=>{var t=e.flat(2).filter(se);return[Math.min(...t),Math.max(...t)]},ML=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],LL=(e,t,r)=>{if(e!=null)return ML(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=ZC(u,t,r),m=OL(d);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},fb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gs=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Yu(t,d=>d.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function pb(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return Er(Er({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Da(e,t){if(e)return String(e);if(typeof t=="string")return t}function DL(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?yL({x:e,y:t},n):null}var _L=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return Er(Er(Er({},n),Qe(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return Er(Er(Er({},n),Qe(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},RL=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Kn=e=>e.layout.width,Vn=e=>e.layout.height,IL=e=>e.layout.scale,rS=e=>e.layout.margin,tm=z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),rm=z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),nS="data-recharts-item-index",aS="data-recharts-item-data-key",Nl=60;function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){$L(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $L(e,t,r){return(t=BL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BL(e){var t=FL(e,"string");return typeof t=="symbol"?t:t+""}function FL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UL=e=>e.brush.height;function zL(e){var t=rm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Nl;return r+s}return r},0)}function WL(e){var t=rm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Nl;return r+s}return r},0)}function HL(e){var t=tm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function GL(e){var t=tm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var rt=z([Kn,Vn,rS,UL,zL,WL,HL,GL,SC,cM],(e,t,r,n,s,i,o,l,c,u)=>{var d={left:(r.left||0)+s,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},f=hc(hc({},m),d),h=f.bottom;f.bottom+=n,f=NL(f,c,u);var p=e-f.left-f.right,y=t-f.top-f.bottom;return hc(hc({brushBottom:h},f),{},{width:Math.max(p,0),height:Math.max(y,0)})}),qL=z(rt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lg=z(Kn,Vn,(e,t)=>({x:0,y:0,width:e,height:t})),KL=x.createContext(null),Lt=()=>x.useContext(KL)!=null,nm=e=>e.brush,am=z([nm,rt,rS],(e,t,r)=>({height:e.height,x:se(e.x)?e.x:t.left,y:se(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:se(e.width)?e.width:t.width})),cg=()=>{var e,t=Lt(),r=ae(qL),n=ae(am),s=(e=ae(nm))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},VL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},sS=()=>{var e;return(e=ae(rt))!==null&&e!==void 0?e:VL},dg=()=>ae(Kn),ug=()=>ae(Vn),YL=()=>ae(e=>e.layout.margin),me=e=>e.layout.layoutType,Cl=()=>ae(me),XL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iS=br({name:"legend",initialState:XL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Ln(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:gb,setLegendSettings:QL,addLegendPayload:oS,removeLegendPayload:lS}=iS.actions,ZL=iS.reducer,JL=["contextPayload"];function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(null,arguments)}function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(r),!0).forEach(function(n){mg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mg(e,t,r){return(t=eD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eD(e){var t=tD(e,"string");return typeof t=="symbol"?t:t+""}function tD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rD(e,t){if(e==null)return{};var r,n,s=nD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aD(e){return e.value}function sD(e){var{contextPayload:t}=e,r=rD(e,JL),n=hC(t,e.payloadUniqBy,aD),s=hi(hi({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,s):typeof e.content=="function"?x.createElement(e.content,s):x.createElement(Hx,s)}function iD(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((s||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),hi(hi({},u),d)}function oD(e){var t=Ue();return x.useEffect(()=>{t(QL(e))},[t,e]),null}function lD(e){var t=Ue();return x.useEffect(()=>(t(gb(e)),()=>{t(gb({width:0,height:0}))}),[t,e]),null}function cD(e){var t=mM(),r=_6(),n=YL(),{width:s,height:i,wrapperStyle:o,portal:l}=e,[c,u]=kC([t]),d=dg(),m=ug();if(d==null||m==null)return null;var f=d-(n.left||0)-(n.right||0),h=pr.getWidthOrHeight(e.layout,i,s,f),p=l?o:hi(hi({position:"absolute",width:(h==null?void 0:h.width)||s||"auto",height:(h==null?void 0:h.height)||i||"auto"},iD(o,e,n,d,m,c)),o),y=l??r;if(y==null)return null;var g=x.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},x.createElement(oD,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(lD,{width:c.width,height:c.height}),x.createElement(sD,Xh({},e,h,{margin:n,chartWidth:d,chartHeight:m,contextPayload:t})));return jx.createPortal(g,y)}class pr extends x.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&se(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return x.createElement(cD,this.props)}}mg(pr,"displayName","Legend");mg(pr,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(null,arguments)}function vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vb(Object(r),!0).forEach(function(n){dD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dD(e,t,r){return(t=uD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uD(e){var t=mD(e,"string");return typeof t=="symbol"?t:t+""}function mD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fD(e){return Array.isArray(e)&&xn(e[0])&&xn(e[1])?e.join(" ~ "):e}var hD=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:m,accessibilityLayer:f=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},S=(l?Yu(i,l):i).map((P,O)=>{if(P.type==="none")return null;var A=P.formatter||o||fD,{value:k,name:R}=P,L=k,T=R;if(A){var K=A(k,R,P,O,i);if(Array.isArray(K))[L,T]=K;else if(K!=null)L=K;else return null}var I=gf({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:I},xn(T)?x.createElement("span",{className:"recharts-tooltip-item-name"},T):null,xn(T)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},L),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},p=gf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=gf({margin:0},s),g=!Te(d),v=g?d:"",b=pe("recharts-default-tooltip",c),j=pe("recharts-tooltip-label",u);g&&m&&i!==void 0&&i!==null&&(v=m(d,i));var w=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Qh({className:b,style:p},w),x.createElement("p",{className:j,style:y},x.isValidElement(v)?v:"".concat(v)),h())},Qi="recharts-tooltip-wrapper",pD={visibility:"hidden"};function xD(e){var{coordinate:t,translateX:r,translateY:n}=e;return pe(Qi,{["".concat(Qi,"-right")]:se(r)&&t&&se(t.x)&&r>=t.x,["".concat(Qi,"-left")]:se(r)&&t&&se(t.x)&&r<t.x,["".concat(Qi,"-bottom")]:se(n)&&t&&se(t.y)&&n>=t.y,["".concat(Qi,"-top")]:se(n)&&t&&se(t.y)&&n<t.y})}function bb(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&se(i[n]))return i[n];var d=r[n]-l-(s>0?s:0),m=r[n]+s;if(t[n])return o[n]?d:m;var f=c[n];if(f==null)return 0;if(o[n]){var h=d,p=f;return h<p?Math.max(m,f):Math.max(d,f)}if(u==null)return 0;var y=m+l,g=f+u;return y>g?Math.max(d,f):Math.max(m,f)}function gD(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function yD(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,m;return o.height>0&&o.width>0&&r?(d=bb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=bb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=gD({translateX:d,translateY:m,useTranslate3d:l})):u=pD,{cssProperties:u,cssClasses:xD({translateX:d,translateY:m,coordinate:r})}}function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(r),!0).forEach(function(n){Zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zh(e,t,r){return(t=vD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vD(e){var t=bD(e,"string");return typeof t=="symbol"?t:t+""}function bD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jD extends x.PureComponent{constructor(){super(...arguments),Zh(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zh(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:m,useTranslate3d:f,viewBox:h,wrapperStyle:p,lastBoundingBox:y,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:j}=yD({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:m,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:h}),w=v?{}:pc(pc({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=pc(pc({},w),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:g},i)}}var wD=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Yn={devToolsEnabled:!1,isSsr:wD()},cS=()=>ae(e=>e.rootProps.accessibilityLayer);function jt(e){return Number.isFinite(e)}function pi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jh.apply(null,arguments)}function wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wb(Object(r),!0).forEach(function(n){ND(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ND(e,t,r){return(t=CD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CD(e){var t=SD(e,"string");return typeof t=="symbol"?t:t+""}function SD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cb={curveBasisClosed:e3,curveBasisOpen:t3,curveBasis:J6,curveBumpX:B6,curveBumpY:F6,curveLinearClosed:r3,curveLinear:Gu,curveMonotoneX:n3,curveMonotoneY:a3,curveNatural:s3,curveStep:i3,curveStepAfter:l3,curveStepBefore:o3},xc=e=>jt(e.x)&&jt(e.y),Zi=e=>e.x,Ji=e=>e.y,kD=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(vl(e));return(r==="curveMonotone"||r==="curveBump")&&t?Cb["".concat(r).concat(t==="vertical"?"Y":"X")]:Cb[r]||Gu},ED=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=kD(t,s),l=i?r.filter(xc):r,c;if(Array.isArray(n)){var u=i?n.filter(m=>xc(m)):n,d=l.map((m,f)=>Nb(Nb({},m),{},{base:u[f]}));return s==="vertical"?c=lc().y(Ji).x1(Zi).x0(m=>m.base.x):c=lc().x(Zi).y1(Ji).y0(m=>m.base.y),c.defined(xc).curve(o),c(d)}return s==="vertical"&&se(n)?c=lc().y(Ji).x1(Zi).x0(n):se(n)?c=lc().x(Zi).y1(Ji).y0(n):c=F2().x(Zi).y(Ji),c.defined(xc).curve(o),c(l)},Zs=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?ED(e):n;return x.createElement("path",Jh({},Rr(e),Rx(e),{className:pe("recharts-curve",t),d:i===null?void 0:i,ref:s}))},PD=["x","y","top","left","width","height","className"];function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(null,arguments)}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){TD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TD(e,t,r){return(t=OD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OD(e){var t=MD(e,"string");return typeof t=="symbol"?t:t+""}function MD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LD(e,t){if(e==null)return{};var r,n,s=DD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _D=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),RD=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=LD(e,PD),u=AD({x:t,y:r,top:n,left:s,width:i,height:o},c);return!se(t)||!se(r)||!se(i)||!se(o)||!se(n)||!se(s)?null:x.createElement("path",ep({},Oe(u,!0),{className:pe("recharts-cross",l),d:_D(t,r,i,o,n,s)}))};function ID(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){BD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BD(e,t,r){return(t=FD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FD(e){var t=UD(e,"string");return typeof t=="symbol"?t:t+""}function UD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nt(e,t){var r=$D({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function zD(){}function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){WD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WD(e,t,r){return(t=HD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HD(e){var t=GD(e,"string");return typeof t=="symbol"?t:t+""}function GD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qD=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),dS=(e,t,r)=>e.map(n=>"".concat(qD(n)," ").concat(t,"ms ").concat(r)).join(","),KD=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),Qo=(e,t)=>Object.keys(t).reduce((r,n)=>Pb(Pb({},r),{},{[n]:e(n,t[n])}),{});function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){VD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VD(e,t,r){return(t=YD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YD(e){var t=XD(e,"string");return typeof t=="symbol"?t:t+""}function XD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Td=(e,t,r)=>e+(t-e)*r,tp=e=>{var{from:t,to:r}=e;return t!==r},uS=(e,t,r)=>{var n=Qo((s,i)=>{if(tp(i)){var[o,l]=e(i.from,i.to,i.velocity);return pt(pt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Qo((s,i)=>tp(i)?pt(pt({},i),{},{velocity:Td(i.velocity,n[s].velocity,r),from:Td(i.from,n[s].from,r)}):i,t):uS(e,n,r-1)};function QD(e,t,r,n,s,i){var o,l=n.reduce((f,h)=>pt(pt({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>Qo((f,h)=>h.from,l),u=()=>!Object.values(l).filter(tp).length,d=null,m=f=>{o||(o=f);var h=f-o,p=h/r.dt;l=uS(r,l,p),s(pt(pt(pt({},e),t),c())),o=f,u()||(d=i.setTimeout(m))};return()=>(d=i.setTimeout(m),()=>{d()})}function ZD(e,t,r,n,s,i,o){var l=null,c=s.reduce((m,f)=>pt(pt({},m),{},{[f]:[e[f],t[f]]}),{}),u,d=m=>{u||(u=m);var f=(m-u)/n,h=Qo((y,g)=>Td(...g,r(f)),c);if(i(pt(pt(pt({},e),t),h)),f<1)l=o.setTimeout(d);else{var p=Qo((y,g)=>Td(...g,r(1)),c);i(pt(pt(pt({},e),t),p))}};return()=>(l=o.setTimeout(d),()=>{l()})}const JD=(e,t,r,n,s,i)=>{var o=KD(e,t);return r.isStepper===!0?QD(e,t,r,o,s,i):ZD(e,t,r,n,o,s,i)};var Od=1e-4,mS=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],fS=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Tb=(e,t)=>r=>{var n=mS(e,t);return fS(n,r)},e_=(e,t)=>r=>{var n=mS(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return fS(s,r)},Ob=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([t,n,r,s]=o);var u=Tb(t,r),d=Tb(n,s),m=e_(t,r),f=p=>p>1?1:p<0?0:p,h=p=>{for(var y=p>1?1:p,g=y,v=0;v<8;++v){var b=u(g)-y,j=m(g);if(Math.abs(b-y)<Od||j<Od)return d(g);g=f(g-b/j)}return d(g)};return h.isStepper=!1,h},t_=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,m=c+(u-d)*s/1e3,f=c*s/1e3+o;return Math.abs(f-l)<Od&&Math.abs(m)<Od?[l,0]:[f,m]};return i.isStepper=!0,i.dt=s,i},r_=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ob(e);case"spring":return t_();default:if(e.split("(")[0]==="cubic-bezier")return Ob(e)}return typeof e=="function"?e:null};function n_(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class a_{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function s_(){return n_(new a_)}var i_=x.createContext(s_);function o_(e,t){var r=x.useContext(i_);return x.useMemo(()=>t??r(e),[e,t,r])}var l_={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Mb={t:0},yf={t:1};function Ti(e){var t=nt(e,l_),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=o_(t.animationId,t.animationManager),[m,f]=x.useState(r?Mb:yf),h=x.useRef(null);return x.useEffect(()=>{r||f(yf)},[r]),x.useEffect(()=>{if(!r||!n)return zD;var p=JD(Mb,yf,r_(i),s,f,d.getTimeoutController()),y=()=>{h.current=p()};return d.start([c,o,y,s,l]),()=>{d.stop(),h.current&&h.current(),l()}},[r,n,s,i,o,c,l,d]),u(m.t)}function Oi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Vo(t)),n=x.useRef(e);return n.current!==e&&(r.current=Vo(t),n.current=e),r.current}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Db(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){c_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c_(e,t,r){return(t=d_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_(e){var t=u_(e,"string");return typeof t=="symbol"?t:t+""}function u_(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Md.apply(null,arguments)}var _b=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],m=0,f=4;m<f;m++)d[m]=s[m]>i?i:s[m];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var h=Math.min(i,s);u="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},m_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hS=e=>{var t=nt(e,m_),r=x.useRef(null),[n,s]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&s(K)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:m,animationDuration:f,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:y}=t,g=x.useRef(l),v=x.useRef(c),b=x.useRef(i),j=x.useRef(o),w=x.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),N=Oi(w,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var S=pe("recharts-rectangle",d);if(!y)return x.createElement("path",Md({},Oe(t,!0),{className:S,d:_b(i,o,l,c,u)}));var P=g.current,O=v.current,A=b.current,k=j.current,R="0px ".concat(n===-1?1:n,"px"),L="".concat(n,"px 0px"),T=dS(["strokeDasharray"],f,typeof m=="string"?m:void 0);return x.createElement(Ti,{animationId:N,key:N,canBegin:n>0,duration:f,easing:m,isActive:y,begin:h},K=>{var I=je(P,l,K),M=je(O,c,K),F=je(A,i,K),U=je(k,o,K);r.current&&(g.current=I,v.current=M,b.current=F,j.current=U);var W;return p?K>0?W={transition:T,strokeDasharray:L}:W={strokeDasharray:R}:W={strokeDasharray:L},x.createElement("path",Md({},Oe(t,!0),{className:S,d:_b(F,U,I,M,u),ref:r,style:Db(Db({},W),t.style)}))})};function pS(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=Qe(t,r,n,s),l=Qe(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(null,arguments)}var f_=(e,t)=>{var r=ct(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},gc=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Pd,m=c?s:s+i*d,f=Qe(t,r,u,m),h=Qe(t,r,n,m),p=c?s-i*d:s,y=Qe(t,r,u*Math.cos(d*Pd),p);return{center:f,circleTangency:h,lineTangency:y,theta:d}},xS=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=f_(i,o),c=i+l,u=Qe(t,r,s,i),d=Qe(t,r,s,c),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var f=Qe(t,r,n,i),h=Qe(t,r,n,c);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},h_=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=ct(u-c),{circleTangency:m,lineTangency:f,theta:h}=gc({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:y,theta:g}=gc({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-h-g;if(v<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):xS({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var b="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:w,theta:N}=gc({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:P,theta:O}=gc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-N-O;if(A<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},p_={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gS=e=>{var t=nt(e,p_),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:m}=t;if(i<s||u===d)return null;var f=pe("recharts-sector",m),h=i-s,p=Ot(o,h,0,!0),y;return p>0&&Math.abs(u-d)<360?y=h_({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=xS({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),x.createElement("path",rp({},Oe(t,!0),{className:f,d:y}))};function x_(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:m}=t,f=Qe(l,c,u,m),h=Qe(l,c,d,m);n=f.x,s=f.y,i=h.x,o=h.y}else return pS(t);return[{x:n,y:s},{x:i,y:o}]}var yS={},vS={},bS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(bS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bS;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(vS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rg,r=vS;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=s,s+=o;return c}e.range=n})(yS);var g_=yS.range;const jS=Gn(g_);function Na(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function y_(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fg(e){let t,r,n;e.length!==2?(t=Na,r=(l,c)=>Na(e(l),c),n=(l,c)=>e(l)-c):(t=e===Na||e===y_?e:v_,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<0?u=m+1:d=m}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<=0?u=m+1:d=m}while(u<d)}return u}function o(l,c,u=0,d=l.length){const m=s(l,c,u,d-1);return m>u&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function v_(){return 0}function wS(e){return e===null?NaN:+e}function*b_(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const j_=fg(Na),Sl=j_.right;fg(wS).center;class Rb extends Map{constructor(t,r=C_){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Ib(this,t))}has(t){return super.has(Ib(this,t))}set(t,r){return super.set(w_(this,t),r)}delete(t){return super.delete(N_(this,t))}}function Ib({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function w_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function N_({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function C_(e){return e!==null&&typeof e=="object"?e.valueOf():e}function S_(e=Na){if(e===Na)return NS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function NS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const k_=Math.sqrt(50),E_=Math.sqrt(10),P_=Math.sqrt(2);function Ld(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=k_?10:i>=E_?5:i>=P_?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ld(e,t,r*2):[l,c,u]}function np(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Ld(t,e,r):Ld(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function ap(e,t,r){return t=+t,e=+e,r=+r,Ld(e,t,r)[2]}function sp(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?ap(t,e,r):ap(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function $b(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Bb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function CS(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?NS:S_(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),m=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*m*(c-m)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*m/c+f)),p=Math.min(n,Math.floor(t+(c-u)*m/c+f));CS(e,t,h,p,s)}const i=e[t];let o=r,l=n;for(eo(e,r,t),s(e[n],i)>0&&eo(e,r,n);o<l;){for(eo(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?eo(e,r,l):(++l,eo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function eo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function A_(e,t,r){if(e=Float64Array.from(b_(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Bb(e);if(t>=1)return $b(e);var n,s=(n-1)*t,i=Math.floor(s),o=$b(CS(e,i).subarray(0,i+1)),l=Bb(e.subarray(i+1));return o+(l-o)*(s-i)}}function T_(e,t,r=wS){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function O_(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ip=Symbol("implicit");function hg(){var e=new Rb,t=[],r=[],n=ip;function s(i){let o=e.get(i);if(o===void 0){if(n!==ip)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Rb;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return hg(t,r).unknown(n)},Ir.apply(s,arguments),s}function pg(){var e=hg().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function m(){var f=t().length,h=s<n,p=h?s:n,y=h?n:s;i=(y-p)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),p+=(y-p-i*(f-c))*d,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var g=O_(f).map(function(v){return p+i*v});return r(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),m()):t()},e.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,m()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),m()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,m()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),m()):d},e.copy=function(){return pg(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ir.apply(m(),arguments)}function SS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SS(t())},e}function M_(){return SS(pg.apply(null,arguments).paddingInner(1))}function xg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function kS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function kl(){}var Zo=.7,Dd=1/Zo,Js="\\s*([+-]?\\d+)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L_=/^#([0-9a-f]{3,8})$/,D_=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),__=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),R_=new RegExp(`^rgba\\(${Js},${Js},${Js},${Jo}\\)$`),I_=new RegExp(`^rgba\\(${fn},${fn},${fn},${Jo}\\)$`),$_=new RegExp(`^hsl\\(${Jo},${fn},${fn}\\)$`),B_=new RegExp(`^hsla\\(${Jo},${fn},${fn},${Jo}\\)$`),Fb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xg(kl,el,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ub,formatHex:Ub,formatHex8:F_,formatHsl:U_,formatRgb:zb,toString:zb});function Ub(){return this.rgb().formatHex()}function F_(){return this.rgb().formatHex8()}function U_(){return ES(this).formatHsl()}function zb(){return this.rgb().formatRgb()}function el(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=L_.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Wb(t):r===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=D_.exec(e))?new Vt(t[1],t[2],t[3],1):(t=__.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=R_.exec(e))?yc(t[1],t[2],t[3],t[4]):(t=I_.exec(e))?yc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$_.exec(e))?qb(t[1],t[2]/100,t[3]/100,1):(t=B_.exec(e))?qb(t[1],t[2]/100,t[3]/100,t[4]):Fb.hasOwnProperty(e)?Wb(Fb[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function Wb(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function yc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vt(e,t,r,n)}function z_(e){return e instanceof kl||(e=el(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function op(e,t,r,n){return arguments.length===1?z_(e):new Vt(e,t,r,n??1)}function Vt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xg(Vt,op,kS(kl,{brighter(e){return e=e==null?Dd:Math.pow(Dd,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt(as(this.r),as(this.g),as(this.b),_d(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hb,formatHex:Hb,formatHex8:W_,formatRgb:Gb,toString:Gb}));function Hb(){return`#${Xa(this.r)}${Xa(this.g)}${Xa(this.b)}`}function W_(){return`#${Xa(this.r)}${Xa(this.g)}${Xa(this.b)}${Xa((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gb(){const e=_d(this.opacity);return`${e===1?"rgb(":"rgba("}${as(this.r)}, ${as(this.g)}, ${as(this.b)}${e===1?")":`, ${e})`}`}function _d(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function as(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xa(e){return e=as(e),(e<16?"0":"")+e.toString(16)}function qb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qr(e,t,r,n)}function ES(e){if(e instanceof qr)return new qr(e.h,e.s,e.l,e.opacity);if(e instanceof kl||(e=el(e)),!e)return new qr;if(e instanceof qr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new qr(o,l,c,e.opacity)}function H_(e,t,r,n){return arguments.length===1?ES(e):new qr(e,t,r,n??1)}function qr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xg(qr,H_,kS(kl,{brighter(e){return e=e==null?Dd:Math.pow(Dd,e),new qr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new qr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Vt(vf(e>=240?e-240:e+120,s,n),vf(e,s,n),vf(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new qr(Kb(this.h),vc(this.s),vc(this.l),_d(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_d(this.opacity);return`${e===1?"hsl(":"hsla("}${Kb(this.h)}, ${vc(this.s)*100}%, ${vc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kb(e){return e=(e||0)%360,e<0?e+360:e}function vc(e){return Math.max(0,Math.min(1,e||0))}function vf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const gg=e=>()=>e;function G_(e,t){return function(r){return e+r*t}}function q_(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function K_(e){return(e=+e)==1?PS:function(t,r){return r-t?q_(t,r,e):gg(isNaN(t)?r:t)}}function PS(e,t){var r=t-e;return r?G_(e,r):gg(isNaN(e)?t:e)}const Vb=function e(t){var r=K_(t);function n(s,i){var o=r((s=op(s)).r,(i=op(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=PS(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function V_(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Y_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function X_(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Mi(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Q_(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Rd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Z_(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Mi(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var lp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bf=new RegExp(lp.source,"g");function J_(e){return function(){return e}}function eR(e){return function(t){return e(t)+""}}function tR(e,t){var r=lp.lastIndex=bf.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=lp.exec(e))&&(s=bf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Rd(n,s)})),r=bf.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?eR(c[0].x):J_(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)l[(m=c[d]).i]=m.x(u);return l.join("")})}function Mi(e,t){var r=typeof t,n;return t==null||r==="boolean"?gg(t):(r==="number"?Rd:r==="string"?(n=el(t))?(t=n,Vb):tR:t instanceof el?Vb:t instanceof Date?Q_:Y_(t)?V_:Array.isArray(t)?X_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Z_:Rd)(e,t)}function yg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rR(e,t){t===void 0&&(t=e,e=Mi);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function nR(e){return function(){return e}}function Id(e){return+e}var Yb=[0,1];function It(e){return e}function cp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nR(isNaN(t)?NaN:.5)}function aR(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sR(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=cp(s,n),i=r(o,i)):(n=cp(n,s),i=r(i,o)),function(l){return i(n(l))}}function iR(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=cp(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Sl(e,l,1,n)-1;return i[c](s[c](l))}}function El(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sm(){var e=Yb,t=Yb,r=Mi,n,s,i,o=It,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==It&&(o=aR(e[0],e[f-1])),l=f>2?iR:sR,c=u=null,m}function m(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return m.invert=function(f){return o(s((u||(u=l(t,e.map(n),Rd)))(f)))},m.domain=function(f){return arguments.length?(e=Array.from(f,Id),d()):e.slice()},m.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},m.rangeRound=function(f){return t=Array.from(f),r=yg,d()},m.clamp=function(f){return arguments.length?(o=f?!0:It,d()):o!==It},m.interpolate=function(f){return arguments.length?(r=f,d()):r},m.unknown=function(f){return arguments.length?(i=f,m):i},function(f,h){return n=f,s=h,d()}}function vg(){return sm()(It,It)}function oR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $d(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function xi(e){return e=$d(Math.abs(e)),e?e[1]:NaN}function lR(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function cR(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tl(e){if(!(t=dR.exec(e)))throw new Error("invalid format: "+e);var t;return new bg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tl.prototype=bg.prototype;function bg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uR(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var AS;function mR(e,t){var r=$d(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(AS=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+$d(e,Math.max(0,t+i-1))[0]}function Xb(e,t){var r=$d(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Qb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xb(e*100,t),r:Xb,s:mR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Zb(e){return e}var Jb=Array.prototype.map,ej=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fR(e){var t=e.grouping===void 0||e.thousands===void 0?Zb:lR(Jb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Zb:cR(Jb.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=tl(m);var f=m.fill,h=m.align,p=m.sign,y=m.symbol,g=m.zero,v=m.width,b=m.comma,j=m.precision,w=m.trim,N=m.type;N==="n"?(b=!0,N="g"):Qb[N]||(j===void 0&&(j=12),w=!0,N="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=y==="$"?n:/[%p]/.test(N)?o:"",O=Qb[N],A=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function k(R){var L=S,T=P,K,I,M;if(N==="c")T=O(R)+T,R="";else{R=+R;var F=R<0||1/R<0;if(R=isNaN(R)?c:O(Math.abs(R),j),w&&(R=uR(R)),F&&+R==0&&p!=="+"&&(F=!1),L=(F?p==="("?p:l:p==="-"||p==="("?"":p)+L,T=(N==="s"?ej[8+AS/3]:"")+T+(F&&p==="("?")":""),A){for(K=-1,I=R.length;++K<I;)if(M=R.charCodeAt(K),48>M||M>57){T=(M===46?s+R.slice(K+1):R.slice(K))+T,R=R.slice(0,K);break}}}b&&!g&&(R=t(R,1/0));var U=L.length+R.length+T.length,W=U<v?new Array(v-U+1).join(f):"";switch(b&&g&&(R=t(W+R,W.length?v-T.length:1/0),W=""),h){case"<":R=L+R+T+W;break;case"=":R=L+W+R+T;break;case"^":R=W.slice(0,U=W.length>>1)+L+R+T+W.slice(U);break;default:R=W+L+R+T;break}return i(R)}return k.toString=function(){return m+""},k}function d(m,f){var h=u((m=tl(m),m.type="f",m)),p=Math.max(-8,Math.min(8,Math.floor(xi(f)/3)))*3,y=Math.pow(10,-p),g=ej[8+p/3];return function(v){return h(y*v)+g}}return{format:u,formatPrefix:d}}var bc,jg,TS;hR({thousands:",",grouping:[3],currency:["$",""]});function hR(e){return bc=fR(e),jg=bc.format,TS=bc.formatPrefix,bc}function pR(e){return Math.max(0,-xi(Math.abs(e)))}function xR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xi(t)/3)))*3-xi(Math.abs(e)))}function gR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xi(t)-xi(e))+1}function OS(e,t,r,n){var s=sp(e,t,r),i;switch(n=tl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=xR(s,o))&&(n.precision=i),TS(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=gR(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pR(s))&&(n.precision=i-(n.type==="%")*2);break}}return jg(n)}function _a(e){var t=e.domain;return e.ticks=function(r){var n=t();return np(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return OS(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=ap(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function MS(){var e=vg();return e.copy=function(){return El(e,MS())},Ir.apply(e,arguments),_a(e)}function LS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Id),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return LS(e).unknown(t)},e=arguments.length?Array.from(e,Id):[0,1],_a(r)}function DS(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function tj(e){return Math.log(e)}function rj(e){return Math.exp(e)}function yR(e){return-Math.log(-e)}function vR(e){return-Math.exp(-e)}function bR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jR(e){return e===10?bR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nj(e){return(t,r)=>-e(-t,r)}function wg(e){const t=e(tj,rj),r=t.domain;let n=10,s,i;function o(){return s=wR(n),i=jR(n),r()[0]<0?(s=nj(s),i=nj(i),e(yR,vR)):e(tj,rj),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const m=d<u;m&&([u,d]=[d,u]);let f=s(u),h=s(d),p,y;const g=l==null?10:+l;let v=[];if(!(n%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<n;++p)if(y=f<0?p/i(-f):p*i(f),!(y<u)){if(y>d)break;v.push(y)}}else for(;f<=h;++f)for(p=n-1;p>=1;--p)if(y=f>0?p/i(-f):p*i(f),!(y<u)){if(y>d)break;v.push(y)}v.length*2<g&&(v=np(u,d,g))}else v=np(f,h,Math.min(h-f,g)).map(i);return m?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=tl(c)).precision==null&&(c.trim=!0),c=jg(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let m=d/i(Math.round(s(d)));return m*n<n-.5&&(m*=n),m<=u?c(d):""}},t.nice=()=>r(DS(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function _S(){const e=wg(sm()).domain([1,10]);return e.copy=()=>El(e,_S()).base(e.base()),Ir.apply(e,arguments),e}function aj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ng(e){var t=1,r=e(aj(t),sj(t));return r.constant=function(n){return arguments.length?e(aj(t=+n),sj(t)):t},_a(r)}function RS(){var e=Ng(sm());return e.copy=function(){return El(e,RS()).constant(e.constant())},Ir.apply(e,arguments)}function ij(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CR(e){return e<0?-e*e:e*e}function Cg(e){var t=e(It,It),r=1;function n(){return r===1?e(It,It):r===.5?e(NR,CR):e(ij(r),ij(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},_a(t)}function Sg(){var e=Cg(sm());return e.copy=function(){return El(e,Sg()).exponent(e.exponent())},Ir.apply(e,arguments),e}function SR(){return Sg.apply(null,arguments).exponent(.5)}function oj(e){return Math.sign(e)*e*e}function kR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function IS(){var e=vg(),t=[0,1],r=!1,n;function s(i){var o=kR(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(oj(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Id)).map(oj)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return IS(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ir.apply(s,arguments),_a(s)}function $S(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=T_(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Sl(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Na),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return $S().domain(e).range(t).unknown(n)},Ir.apply(i,arguments)}function BS(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Sl(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return BS().domain([e,t]).range(s).unknown(i)},Ir.apply(_a(o),arguments)}function FS(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Sl(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return FS().domain(e).range(t).unknown(r)},Ir.apply(s,arguments)}const jf=new Date,wf=new Date;function at(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>at(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(jf.setTime(+i),wf.setTime(+o),e(jf),e(wf),Math.floor(r(jf,wf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Bd=at(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?at(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Bd);Bd.range;const An=1e3,Ar=An*60,Tn=Ar*60,Un=Tn*24,kg=Un*7,lj=Un*30,Nf=Un*365,Qa=at(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCSeconds());Qa.range;const Eg=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getMinutes());Eg.range;const Pg=at(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getUTCMinutes());Pg.range;const Ag=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An-e.getMinutes()*Ar)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getHours());Ag.range;const Tg=at(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCHours());Tg.range;const Pl=at(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ar)/Un,e=>e.getDate()-1);Pl.range;const im=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Un,e=>e.getUTCDate()-1);im.range;const US=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Un,e=>Math.floor(e/Un));US.range;function Cs(e){return at(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ar)/kg)}const om=Cs(0),Fd=Cs(1),ER=Cs(2),PR=Cs(3),gi=Cs(4),AR=Cs(5),TR=Cs(6);om.range;Fd.range;ER.range;PR.range;gi.range;AR.range;TR.range;function Ss(e){return at(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kg)}const lm=Ss(0),Ud=Ss(1),OR=Ss(2),MR=Ss(3),yi=Ss(4),LR=Ss(5),DR=Ss(6);lm.range;Ud.range;OR.range;MR.range;yi.range;LR.range;DR.range;const Og=at(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Og.range;const Mg=at(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mg.range;const zn=at(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});zn.range;const Wn=at(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wn.range;function zS(e,t,r,n,s,i){const o=[[Qa,1,An],[Qa,5,5*An],[Qa,15,15*An],[Qa,30,30*An],[i,1,Ar],[i,5,5*Ar],[i,15,15*Ar],[i,30,30*Ar],[s,1,Tn],[s,3,3*Tn],[s,6,6*Tn],[s,12,12*Tn],[n,1,Un],[n,2,2*Un],[r,1,kg],[t,1,lj],[t,3,3*lj],[e,1,Nf]];function l(u,d,m){const f=d<u;f&&([u,d]=[d,u]);const h=m&&typeof m.range=="function"?m:c(u,d,m),p=h?h.range(u,+d+1):[];return f?p.reverse():p}function c(u,d,m){const f=Math.abs(d-u)/m,h=fg(([,,g])=>g).right(o,f);if(h===o.length)return e.every(sp(u/Nf,d/Nf,m));if(h===0)return Bd.every(Math.max(sp(u,d,m),1));const[p,y]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(y)}return[l,c]}const[_R,RR]=zS(Wn,Mg,lm,US,Tg,Pg),[IR,$R]=zS(zn,Og,om,Pl,Ag,Eg);function Cf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function to(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function BR(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ro(s),d=no(s),m=ro(i),f=no(i),h=ro(o),p=no(o),y=ro(l),g=no(l),v=ro(c),b=no(c),j={a:F,A:U,b:W,B:D,c:null,d:hj,e:hj,f:lI,g:yI,G:bI,H:sI,I:iI,j:oI,L:WS,m:cI,M:dI,p:q,q:V,Q:gj,s:yj,S:uI,u:mI,U:fI,V:hI,w:pI,W:xI,x:null,X:null,y:gI,Y:vI,Z:jI,"%":xj},w={a:_,A:C,b:B,B:G,c:null,d:pj,e:pj,f:SI,g:_I,G:II,H:wI,I:NI,j:CI,L:GS,m:kI,M:EI,p:Q,q:he,Q:gj,s:yj,S:PI,u:AI,U:TI,V:OI,w:MI,W:LI,x:null,X:null,y:DI,Y:RI,Z:$I,"%":xj},N={a:k,A:R,b:L,B:T,c:K,d:mj,e:mj,f:tI,g:uj,G:dj,H:fj,I:fj,j:QR,L:eI,m:XR,M:ZR,p:A,q:YR,Q:nI,s:aI,S:JR,u:HR,U:GR,V:qR,w:WR,W:KR,x:I,X:M,y:uj,Y:dj,Z:VR,"%":rI};j.x=S(r,j),j.X=S(n,j),j.c=S(t,j),w.x=S(r,w),w.X=S(n,w),w.c=S(t,w);function S(Y,oe){return function(le){var E=[],$=-1,ee=0,te=Y.length,ye,de,it;for(le instanceof Date||(le=new Date(+le));++$<te;)Y.charCodeAt($)===37&&(E.push(Y.slice(ee,$)),(de=cj[ye=Y.charAt(++$)])!=null?ye=Y.charAt(++$):de=ye==="e"?" ":"0",(it=oe[ye])&&(ye=it(le,de)),E.push(ye),ee=$+1);return E.push(Y.slice(ee,$)),E.join("")}}function P(Y,oe){return function(le){var E=to(1900,void 0,1),$=O(E,Y,le+="",0),ee,te;if($!=le.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(oe&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(ee=Sf(to(E.y,0,1)),te=ee.getUTCDay(),ee=te>4||te===0?Ud.ceil(ee):Ud(ee),ee=im.offset(ee,(E.V-1)*7),E.y=ee.getUTCFullYear(),E.m=ee.getUTCMonth(),E.d=ee.getUTCDate()+(E.w+6)%7):(ee=Cf(to(E.y,0,1)),te=ee.getDay(),ee=te>4||te===0?Fd.ceil(ee):Fd(ee),ee=Pl.offset(ee,(E.V-1)*7),E.y=ee.getFullYear(),E.m=ee.getMonth(),E.d=ee.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),te="Z"in E?Sf(to(E.y,0,1)).getUTCDay():Cf(to(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(te+5)%7:E.w+E.U*7-(te+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,Sf(E)):Cf(E)}}function O(Y,oe,le,E){for(var $=0,ee=oe.length,te=le.length,ye,de;$<ee;){if(E>=te)return-1;if(ye=oe.charCodeAt($++),ye===37){if(ye=oe.charAt($++),de=N[ye in cj?oe.charAt($++):ye],!de||(E=de(Y,le,E))<0)return-1}else if(ye!=le.charCodeAt(E++))return-1}return E}function A(Y,oe,le){var E=u.exec(oe.slice(le));return E?(Y.p=d.get(E[0].toLowerCase()),le+E[0].length):-1}function k(Y,oe,le){var E=h.exec(oe.slice(le));return E?(Y.w=p.get(E[0].toLowerCase()),le+E[0].length):-1}function R(Y,oe,le){var E=m.exec(oe.slice(le));return E?(Y.w=f.get(E[0].toLowerCase()),le+E[0].length):-1}function L(Y,oe,le){var E=v.exec(oe.slice(le));return E?(Y.m=b.get(E[0].toLowerCase()),le+E[0].length):-1}function T(Y,oe,le){var E=y.exec(oe.slice(le));return E?(Y.m=g.get(E[0].toLowerCase()),le+E[0].length):-1}function K(Y,oe,le){return O(Y,t,oe,le)}function I(Y,oe,le){return O(Y,r,oe,le)}function M(Y,oe,le){return O(Y,n,oe,le)}function F(Y){return o[Y.getDay()]}function U(Y){return i[Y.getDay()]}function W(Y){return c[Y.getMonth()]}function D(Y){return l[Y.getMonth()]}function q(Y){return s[+(Y.getHours()>=12)]}function V(Y){return 1+~~(Y.getMonth()/3)}function _(Y){return o[Y.getUTCDay()]}function C(Y){return i[Y.getUTCDay()]}function B(Y){return c[Y.getUTCMonth()]}function G(Y){return l[Y.getUTCMonth()]}function Q(Y){return s[+(Y.getUTCHours()>=12)]}function he(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var oe=S(Y+="",j);return oe.toString=function(){return Y},oe},parse:function(Y){var oe=P(Y+="",!1);return oe.toString=function(){return Y},oe},utcFormat:function(Y){var oe=S(Y+="",w);return oe.toString=function(){return Y},oe},utcParse:function(Y){var oe=P(Y+="",!0);return oe.toString=function(){return Y},oe}}}var cj={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,FR=/^%/,UR=/[\\^$*+?|[\]().{}]/g;function ge(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function zR(e){return e.replace(UR,"\\$&")}function ro(e){return new RegExp("^(?:"+e.map(zR).join("|")+")","i")}function no(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WR(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function HR(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function GR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function KR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function dj(e,t,r){var n=ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uj(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function VR(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YR(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mj(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function QR(e,t,r){var n=ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fj(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eI(e,t,r){var n=ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tI(e,t,r){var n=ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rI(e,t,r){var n=FR.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nI(e,t,r){var n=ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aI(e,t,r){var n=ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hj(e,t){return ge(e.getDate(),t,2)}function sI(e,t){return ge(e.getHours(),t,2)}function iI(e,t){return ge(e.getHours()%12||12,t,2)}function oI(e,t){return ge(1+Pl.count(zn(e),e),t,3)}function WS(e,t){return ge(e.getMilliseconds(),t,3)}function lI(e,t){return WS(e,t)+"000"}function cI(e,t){return ge(e.getMonth()+1,t,2)}function dI(e,t){return ge(e.getMinutes(),t,2)}function uI(e,t){return ge(e.getSeconds(),t,2)}function mI(e){var t=e.getDay();return t===0?7:t}function fI(e,t){return ge(om.count(zn(e)-1,e),t,2)}function HS(e){var t=e.getDay();return t>=4||t===0?gi(e):gi.ceil(e)}function hI(e,t){return e=HS(e),ge(gi.count(zn(e),e)+(zn(e).getDay()===4),t,2)}function pI(e){return e.getDay()}function xI(e,t){return ge(Fd.count(zn(e)-1,e),t,2)}function gI(e,t){return ge(e.getFullYear()%100,t,2)}function yI(e,t){return e=HS(e),ge(e.getFullYear()%100,t,2)}function vI(e,t){return ge(e.getFullYear()%1e4,t,4)}function bI(e,t){var r=e.getDay();return e=r>=4||r===0?gi(e):gi.ceil(e),ge(e.getFullYear()%1e4,t,4)}function jI(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ge(t/60|0,"0",2)+ge(t%60,"0",2)}function pj(e,t){return ge(e.getUTCDate(),t,2)}function wI(e,t){return ge(e.getUTCHours(),t,2)}function NI(e,t){return ge(e.getUTCHours()%12||12,t,2)}function CI(e,t){return ge(1+im.count(Wn(e),e),t,3)}function GS(e,t){return ge(e.getUTCMilliseconds(),t,3)}function SI(e,t){return GS(e,t)+"000"}function kI(e,t){return ge(e.getUTCMonth()+1,t,2)}function EI(e,t){return ge(e.getUTCMinutes(),t,2)}function PI(e,t){return ge(e.getUTCSeconds(),t,2)}function AI(e){var t=e.getUTCDay();return t===0?7:t}function TI(e,t){return ge(lm.count(Wn(e)-1,e),t,2)}function qS(e){var t=e.getUTCDay();return t>=4||t===0?yi(e):yi.ceil(e)}function OI(e,t){return e=qS(e),ge(yi.count(Wn(e),e)+(Wn(e).getUTCDay()===4),t,2)}function MI(e){return e.getUTCDay()}function LI(e,t){return ge(Ud.count(Wn(e)-1,e),t,2)}function DI(e,t){return ge(e.getUTCFullYear()%100,t,2)}function _I(e,t){return e=qS(e),ge(e.getUTCFullYear()%100,t,2)}function RI(e,t){return ge(e.getUTCFullYear()%1e4,t,4)}function II(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yi(e):yi.ceil(e),ge(e.getUTCFullYear()%1e4,t,4)}function $I(){return"+0000"}function xj(){return"%"}function gj(e){return+e}function yj(e){return Math.floor(+e/1e3)}var Ts,KS,VS;BI({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BI(e){return Ts=BR(e),KS=Ts.format,Ts.parse,VS=Ts.utcFormat,Ts.utcParse,Ts}function FI(e){return new Date(e)}function UI(e){return e instanceof Date?+e:+new Date(+e)}function Lg(e,t,r,n,s,i,o,l,c,u){var d=vg(),m=d.invert,f=d.domain,h=u(".%L"),p=u(":%S"),y=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),b=u("%b %d"),j=u("%B"),w=u("%Y");function N(S){return(c(S)<S?h:l(S)<S?p:o(S)<S?y:i(S)<S?g:n(S)<S?s(S)<S?v:b:r(S)<S?j:w)(S)}return d.invert=function(S){return new Date(m(S))},d.domain=function(S){return arguments.length?f(Array.from(S,UI)):f().map(FI)},d.ticks=function(S){var P=f();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?N:u(P)},d.nice=function(S){var P=f();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?f(DS(P,S)):d},d.copy=function(){return El(d,Lg(e,t,r,n,s,i,o,l,c,u))},d}function zI(){return Ir.apply(Lg(IR,$R,zn,Og,om,Pl,Ag,Eg,Qa,KS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WI(){return Ir.apply(Lg(_R,RR,Wn,Mg,lm,im,Tg,Pg,Qa,VS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cm(){var e=0,t=1,r,n,s,i,o=It,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function d(m){return function(f){var h,p;return arguments.length?([h,p]=f,o=m(h,p),u):[o(0),o(1)]}}return u.range=d(Mi),u.rangeRound=d(yg),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),u}}function Ra(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YS(){var e=_a(cm()(It));return e.copy=function(){return Ra(e,YS())},Xn.apply(e,arguments)}function XS(){var e=wg(cm()).domain([1,10]);return e.copy=function(){return Ra(e,XS()).base(e.base())},Xn.apply(e,arguments)}function QS(){var e=Ng(cm());return e.copy=function(){return Ra(e,QS()).constant(e.constant())},Xn.apply(e,arguments)}function Dg(){var e=Cg(cm());return e.copy=function(){return Ra(e,Dg()).exponent(e.exponent())},Xn.apply(e,arguments)}function HI(){return Dg.apply(null,arguments).exponent(.5)}function ZS(){var e=[],t=It;function r(n){if(n!=null&&!isNaN(n=+n))return t((Sl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Na),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>A_(e,i/n))},r.copy=function(){return ZS(t).domain(e)},Xn.apply(r,arguments)}function dm(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=It,d,m=!1,f;function h(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:c),u(m?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,r]=y,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h):[e,t,r]},h.clamp=function(y){return arguments.length?(m=!!y,h):m},h.interpolator=function(y){return arguments.length?(u=y,h):u};function p(y){return function(g){var v,b,j;return arguments.length?([v,b,j]=g,u=rR(y,[v,b,j]),h):[u(0),u(.5),u(1)]}}return h.range=p(Mi),h.rangeRound=p(yg),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return d=y,s=y(e),i=y(t),o=y(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h}}function JS(){var e=_a(dm()(It));return e.copy=function(){return Ra(e,JS())},Xn.apply(e,arguments)}function ek(){var e=wg(dm()).domain([.1,1,10]);return e.copy=function(){return Ra(e,ek()).base(e.base())},Xn.apply(e,arguments)}function tk(){var e=Ng(dm());return e.copy=function(){return Ra(e,tk()).constant(e.constant())},Xn.apply(e,arguments)}function _g(){var e=Cg(dm());return e.copy=function(){return Ra(e,_g()).exponent(e.exponent())},Xn.apply(e,arguments)}function GI(){return _g.apply(null,arguments).exponent(.5)}const fo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pg,scaleDiverging:JS,scaleDivergingLog:ek,scaleDivergingPow:_g,scaleDivergingSqrt:GI,scaleDivergingSymlog:tk,scaleIdentity:LS,scaleImplicit:ip,scaleLinear:MS,scaleLog:_S,scaleOrdinal:hg,scalePoint:M_,scalePow:Sg,scaleQuantile:$S,scaleQuantize:BS,scaleRadial:IS,scaleSequential:YS,scaleSequentialLog:XS,scaleSequentialPow:Dg,scaleSequentialQuantile:ZS,scaleSequentialSqrt:HI,scaleSequentialSymlog:QS,scaleSqrt:SR,scaleSymlog:RS,scaleThreshold:FS,scaleTime:zI,scaleUtc:WI,tickFormat:OS},Symbol.toStringTag,{value:"Module"}));var Ia=e=>e.chartData,Rg=z([Ia],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Al=(e,t,r,n)=>n?Rg(e):Ia(e);function vi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(jt(t)&&jt(r))return!0}return!1}function vj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function qI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(jt(r))s=r;else if(typeof r=="function")return;if(jt(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(vi(o))return o}}function KI(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(vi(n))return vj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(se(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&fb.test(s)){var c=fb.exec(s);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(se(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&hb.test(i)){var d=hb.exec(i);if(d==null||t==null)l=void 0;else{var m=+d[1];l=t[1]+m}}else l=t==null?void 0:t[1];var f=[o,l];if(vi(f))return t==null?f:vj(f,t,r)}}}var Li=1e9,VI={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$g,_e=!0,Dr="[DecimalError] ",ss=Dr+"Invalid argument: ",Ig=Dr+"Exponent out of range: ",Di=Math.floor,Ha=Math.pow,YI=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,ot=1e7,Pe=7,rk=9007199254740991,zd=Di(rk/Pe),ne={};ne.absoluteValue=ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ne.comparedTo=ne.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(e){return Dn(this,new this.constructor(e))};ne.dividedToIntegerBy=ne.idiv=function(e){var t=this,r=t.constructor;return Ne(Dn(t,new r(e),0,1),r.precision)};ne.equals=ne.eq=function(e){return!this.cmp(e)};ne.exponent=function(){return Ze(this)};ne.greaterThan=ne.gt=function(e){return this.cmp(e)>0};ne.greaterThanOrEqualTo=ne.gte=function(e){return this.cmp(e)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(e){return this.cmp(e)<0};ne.lessThanOrEqualTo=ne.lte=function(e){return this.cmp(e)<1};ne.logarithm=ne.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(dr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(dr)?new n(0):(_e=!1,t=Dn(rl(r,i),rl(e,i),i),_e=!0,Ne(t,s))};ne.minus=ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sk(t,e):nk(t,(e.s=-e.s,e))};ne.modulo=ne.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Dr+"NaN");return r.s?(_e=!1,t=Dn(r,e,0,1).times(e),_e=!0,r.minus(t)):Ne(new n(r),s)};ne.naturalExponential=ne.exp=function(){return ak(this)};ne.naturalLogarithm=ne.ln=function(){return rl(this)};ne.negated=ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ne.plus=ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nk(t,e):sk(t,(e.s=-e.s,e))};ne.precision=ne.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ss+e);if(t=Ze(s)+1,n=s.d.length-1,r=n*Pe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ne.squareRoot=ne.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Dr+"NaN")}for(e=Ze(l),_e=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=cn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Di((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Dn(l,i,o+2)).times(.5),cn(i.d).slice(0,o)===(t=cn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ne(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return _e=!0,Ne(n,r)};ne.times=ne.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,m=d.constructor,f=d.d,h=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,r=d.e+e.e,c=f.length,u=h.length,c<u&&(i=f,f=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+h[n]*f[s-n-1]+t,i[s--]=l%ot|0,t=l/ot|0;i[s]=(i[s]+t)%ot|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,_e?Ne(e,m.precision):e};ne.toDecimalPlaces=ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(gn(e,0,Li),t===void 0?t=n.rounding:gn(t,0,8),Ne(r,e+Ze(r)+1,t))};ne.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=ys(n,!0):(gn(e,0,Li),t===void 0?t=s.rounding:gn(t,0,8),n=Ne(new s(n),e+1,t),r=ys(n,!0,e+1)),r};ne.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?ys(s):(gn(e,0,Li),t===void 0?t=i.rounding:gn(t,0,8),n=Ne(new i(s),e+Ze(s)+1,t),r=ys(n.abs(),!1,e+Ze(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var e=this,t=e.constructor;return Ne(new t(e),Ze(e)+1,t.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(dr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Dr+"Infinity");return l}if(l.eq(dr))return l;if(n=c.precision,e.eq(dr))return Ne(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=rk){for(s=new c(dr),t=Math.ceil(n/Pe+4),_e=!1;r%2&&(s=s.times(l),jj(s.d,t)),r=Di(r/2),r!==0;)l=l.times(l),jj(l.d,t);return _e=!0,e.s<0?new c(dr).div(s):Ne(s,n)}}else if(i<0)throw Error(Dr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,_e=!1,s=e.times(rl(l,n+u)),_e=!0,s=ak(s),s.s=i,s};ne.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ze(s),n=ys(s,r<=i.toExpNeg||r>=i.toExpPos)):(gn(e,1,Li),t===void 0?t=i.rounding:gn(t,0,8),s=Ne(new i(s),e,t),r=Ze(s),n=ys(s,e<=r||r<=i.toExpNeg,e)),n};ne.toSignificantDigits=ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(gn(e,1,Li),t===void 0?t=n.rounding:gn(t,0,8)),Ne(new n(r),e,t)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ze(e),r=e.constructor;return ys(e,t<=r.toExpNeg||t>=r.toExpPos)};function nk(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),_e?Ne(t,m):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(m/Pe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ot|0,c[i]%=ot;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,_e?Ne(t,m):t}function gn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ss+e)}function cn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Pe-n.length,r&&(i+=ia(r)),i+=n;o=e[t],n=o+"",r=Pe-n.length,r&&(i+=ia(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Dn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%ot|0,o=i/ot|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*ot+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,m,f,h,p,y,g,v,b,j,w,N,S,P,O,A=n.constructor,k=n.s==s.s?1:-1,R=n.d,L=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(Dr+"Division by zero");for(c=n.e-s.e,P=L.length,N=R.length,h=new A(k),p=h.d=[],u=0;L[u]==(R[u]||0);)++u;if(L[u]>(R[u]||0)&&--c,i==null?b=i=A.precision:o?b=i+(Ze(n)-Ze(s))+1:b=i,b<0)return new A(0);if(b=b/Pe+2|0,u=0,P==1)for(d=0,L=L[0],b++;(u<N||d)&&b--;u++)j=d*ot+(R[u]||0),p[u]=j/L|0,d=j%L|0;else{for(d=ot/(L[0]+1)|0,d>1&&(L=e(L,d),R=e(R,d),P=L.length,N=R.length),w=P,y=R.slice(0,P),g=y.length;g<P;)y[g++]=0;O=L.slice(),O.unshift(0),S=L[0],L[1]>=ot/2&&++S;do d=0,l=t(L,y,P,g),l<0?(v=y[0],P!=g&&(v=v*ot+(y[1]||0)),d=v/S|0,d>1?(d>=ot&&(d=ot-1),m=e(L,d),f=m.length,g=y.length,l=t(m,y,f,g),l==1&&(d--,r(m,P<f?O:L,f))):(d==0&&(l=d=1),m=L.slice()),f=m.length,f<g&&m.unshift(0),r(y,m,g),l==-1&&(g=y.length,l=t(L,y,P,g),l<1&&(d++,r(y,P<g?O:L,g))),g=y.length):l===0&&(d++,y=[0]),p[u++]=d,l&&y[0]?y[g++]=R[w]||0:(y=[R[w]],g=1);while((w++<N||y[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=c,Ne(h,o?i+Ze(h)+1:i)}}();function ak(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,m=d.precision;if(Ze(e)>16)throw Error(Ig+Ze(e));if(!e.s)return new d(dr);for(_e=!1,l=m,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ha(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(dr),d.precision=l;;){if(s=Ne(s.times(e),l),r=r.times(++c),o=i.plus(Dn(s,r,l)),cn(o.d).slice(0,l)===cn(i.d).slice(0,l)){for(;u--;)i=Ne(i.times(i),l);return d.precision=m,t==null?(_e=!0,Ne(i,m)):i}i=o}}function Ze(e){for(var t=e.e*Pe,r=e.d[0];r>=10;r/=10)t++;return t}function kf(e,t,r){if(t>e.LN10.sd())throw _e=!0,r&&(e.precision=r),Error(Dr+"LN10 precision limit exceeded");return Ne(new e(e.LN10),t)}function ia(e){for(var t="";e--;)t+="0";return t}function rl(e,t){var r,n,s,i,o,l,c,u,d,m=1,f=10,h=e,p=h.d,y=h.constructor,g=y.precision;if(h.s<1)throw Error(Dr+(h.s?"NaN":"-Infinity"));if(h.eq(dr))return new y(0);if(t==null?(_e=!1,u=g):u=t,h.eq(10))return t==null&&(_e=!0),kf(y,u);if(u+=f,y.precision=u,r=cn(p),n=r.charAt(0),i=Ze(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=cn(h.d),n=r.charAt(0),m++;i=Ze(h),n>1?(h=new y("0."+r),i++):h=new y(n+"."+r.slice(1))}else return c=kf(y,u+2,g).times(i+""),h=rl(new y(n+"."+r.slice(1)),u-f).plus(c),y.precision=g,t==null?(_e=!0,Ne(h,g)):h;for(l=o=h=Dn(h.minus(dr),h.plus(dr),u),d=Ne(h.times(h),u),s=3;;){if(o=Ne(o.times(d),u),c=l.plus(Dn(o,new y(s),u)),cn(c.d).slice(0,u)===cn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(kf(y,u+2,g).times(i+""))),l=Dn(l,new y(m),u),y.precision=g,t==null?(_e=!0,Ne(l,g)):l;l=c,s+=2}}function bj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Di(r/Pe),e.d=[],n=(r+1)%Pe,r<0&&(n+=Pe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Pe;n<s;)e.d.push(+t.slice(n,n+=Pe));t=t.slice(n),n=Pe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),_e&&(e.e>zd||e.e<-zd))throw Error(Ig+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ne(e,t,r){var n,s,i,o,l,c,u,d,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Pe,s=t,u=m[d=0];else{if(d=Math.ceil((n+1)/Pe),i=m.length,d>=i)return e;for(u=i=m[d],o=1;i>=10;i/=10)o++;n%=Pe,s=n-Pe+o}if(r!==void 0&&(i=Ha(10,o-s-1),l=u/i%10|0,c=t<0||m[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Ha(10,o-s):0:m[d-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=Ze(e),m.length=1,t=t-i-1,m[0]=Ha(10,(Pe-t%Pe)%Pe),e.e=Di(-t/Pe)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=d,i=1,d--):(m.length=d+1,i=Ha(10,Pe-n),m[d]=s>0?(u/Ha(10,o-s)%Ha(10,s)|0)*i:0),c)for(;;)if(d==0){(m[0]+=i)==ot&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=ot)break;m[d--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(_e&&(e.e>zd||e.e<-zd))throw Error(Ig+Ze(e));return e}function sk(e,t){var r,n,s,i,o,l,c,u,d,m,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),_e?Ne(t,h):t;if(c=e.d,m=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=m.length):(r=m,n=u,l=c.length),s=Math.max(Math.ceil(h/Pe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){d=c[s]<m[s];break}o=0}for(d&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=ot-1;--c[i],c[s]+=ot}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,_e?Ne(t,h):t):new f(0)}function ys(e,t,r){var n,s=Ze(e),i=cn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ia(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ia(-s-1)+i,r&&(n=r-o)>0&&(i+=ia(n))):s>=o?(i+=ia(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ia(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ia(n))),e.s<0?"-"+i:i}function jj(e,t){if(e.length>t)return e.length=t,!0}function ik(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ss+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return bj(o,i.toString())}else if(typeof i!="string")throw Error(ss+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,YI.test(i))bj(o,i);else throw Error(ss+i)}if(s.prototype=ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=ik,s.config=s.set=XI,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function XI(e){if(!e||typeof e!="object")throw Error(Dr+"Object expected");var t,r,n,s=["precision",1,Li,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Di(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ss+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ss+r+": "+n);return this}var $g=ik(VI);dr=new $g(1);const ve=$g;var QI=e=>e,ok={},lk=e=>e===ok,wj=e=>function t(){return arguments.length===0||arguments.length===1&&lk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ck=(e,t)=>e===1?t:wj(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==ok).length;return i>=e?t(...n):ck(e-i,wj(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>lk(d)?l.shift():d);return t(...u,...l)}))}),um=e=>ck(e.length,e),dp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ZI=um((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),JI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return QI;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},up=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),dk=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function uk(e){var t;return e===0?t=1:t=Math.floor(new ve(e).abs().log(10).toNumber())+1,t}function mk(e,t,r){for(var n=new ve(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}um((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});um((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});um((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var fk=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},hk=(e,t,r)=>{if(e.lte(0))return new ve(0);var n=uk(e.toNumber()),s=new ve(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new ve(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new ve(c.toNumber()):new ve(Math.ceil(c.toNumber()))},e$=(e,t,r)=>{var n=new ve(1),s=new ve(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new ve(10).pow(uk(e)-1),s=new ve(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new ve(Math.floor(e)))}else e===0?s=new ve(Math.floor((t-1)/2)):r||(s=new ve(Math.floor(e)));var o=Math.floor((t-1)/2),l=JI(ZI(c=>s.add(new ve(c-o).mul(n)).toNumber()),dp);return l(0,t)},pk=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ve(0),tickMin:new ve(0),tickMax:new ve(0)};var o=hk(new ve(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new ve(0):(l=new ve(t).add(r).div(2),l=l.sub(new ve(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new ve(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?pk(t,r,n,s,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new ve(c).mul(o)),tickMax:l.add(new ve(u).mul(o))})};function t$(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=fk([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...dp(0,n-1).map(()=>1/0)]:[...dp(0,n-1).map(()=>-1/0),l];return t>r?up(c):c}if(o===l)return e$(o,n,s);var{step:u,tickMin:d,tickMax:m}=pk(o,l,i,s,0),f=mk(d,m.add(new ve(.1).mul(u)),u);return t>r?up(f):f}function r$(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=fk([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=hk(new ve(o).sub(i).div(l-1),s,0),u=[...mk(new ve(i),new ve(o),c),o];return s===!1&&(u=u.map(d=>Math.round(d))),r>n?up(u):u}var n$=dk(t$),a$=dk(r$),xk=e=>e.rootProps.maxBarSize,s$=e=>e.rootProps.barGap,gk=e=>e.rootProps.barCategoryGap,i$=e=>e.rootProps.barSize,Tl=e=>e.rootProps.stackOffset,Bg=e=>e.options.chartName,Fg=e=>e.rootProps.syncId,yk=e=>e.rootProps.syncMethod,Ug=e=>e.options.eventEmitter,Cn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},or={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},mm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},o$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Cn.angleAxisId,includeHidden:!1,name:void 0,reversed:Cn.reversed,scale:Cn.scale,tick:Cn.tick,tickCount:void 0,ticks:void 0,type:Cn.type,unit:void 0},l$={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:or.type,unit:void 0},c$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cn.scale,tick:Cn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},d$={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:"category",unit:void 0},zg=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?c$:o$,Wg=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?d$:l$,fm=e=>e.polarOptions,Hg=z([Kn,Vn,rt],QC),vk=z([fm,Hg],(e,t)=>{if(e!=null)return Ot(e.innerRadius,t,0)}),bk=z([fm,Hg],(e,t)=>{if(e!=null)return Ot(e.outerRadius,t,t*.8)}),u$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},jk=z([fm],u$);z([zg,jk],mm);var wk=z([Hg,vk,bk],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});z([Wg,wk],mm);var Nk=z([me,fm,vk,bk,Kn,Vn],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Ot(o,s,s/2),cy:Ot(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Re=(e,t)=>t,Ol=(e,t,r)=>r;function hm(e){return e==null?void 0:e.id}var st=e=>{var t=me(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_i=e=>e.tooltip.settings.axisId,mt=e=>{var t=st(e),r=_i(e);return Ml(e,t,r)},Ck=z([mt],e=>e==null?void 0:e.dataKey);function Sk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=hm(l);u.forEach((m,f)=>{var h=i==null||s?f:String(we(m,i,null)),p=we(m,l.dataKey,0),y;o.has(h)?y=o.get(h):y={},Object.assign(y,{[d]:p}),o.set(h,y)})}}),Array.from(o.values())}function pm(e){return e.stackId!=null&&e.dataKey!=null}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){m$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m$(e,t,r){return(t=f$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f$(e){var t=h$(e,"string");return typeof t=="symbol"?t:t+""}function h$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mp=[0,"auto"],ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kk=(e,t)=>e.cartesianAxis.xAxis[t],Qn=(e,t)=>{var r=kk(e,t);return r??ar},sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nl},Ek=(e,t)=>e.cartesianAxis.yAxis[t],Zn=(e,t)=>{var r=Ek(e,t);return r??sr},p$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gg=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??p$},Ye=(e,t,r)=>{switch(t){case"xAxis":return Qn(e,r);case"yAxis":return Zn(e,r);case"zAxis":return Gg(e,r);case"angleAxis":return zg(e,r);case"radiusAxis":return Wg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},x$=(e,t,r)=>{switch(t){case"xAxis":return Qn(e,r);case"yAxis":return Zn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ml=(e,t,r)=>{switch(t){case"xAxis":return Qn(e,r);case"yAxis":return Zn(e,r);case"angleAxis":return zg(e,r);case"radiusAxis":return Wg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Pk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qg(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ll=e=>e.graphicalItems.cartesianItems,g$=z([Re,Ol],qg),Kg=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Dl=z([Ll,Ye,g$],Kg),Ak=z([Dl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pm)),Tk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Ok=z([Dl],Tk),Vg=e=>e.map(t=>t.data).filter(Boolean).flat(1),y$=z([Dl],Vg),Yg=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Xg=z([y$,Al],Yg),Qg=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:we(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:we(s,n)}))):e.map(n=>({value:n})),xm=z([Xg,Ye,Dl],Qg);function Mk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ks(e){return e.filter(t=>xn(t)||t instanceof Date).map(Number).filter(t=>rr(t)===!1)}function v$(e,t,r){return!r||typeof t!="number"||rr(t)?[]:r.length?ks(r.flatMap(n=>{var s=we(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!jt(i)||!jt(o)))return[t-i,t+o]})):[]}var b$=z([Ak,Al,mt],Sk),Lk=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(hm);return[o,{stackedData:AL(e,c,r),graphicalItems:l}]}))},nl=z([b$,Ak,Tl],Lk),Dk=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=LL(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},j$=z([nl,Ia,Re],Dk),_k=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,u=(l=n[o.id])===null||l===void 0?void 0:l.filter(m=>Mk(s,m)),d=we(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:v$(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:we(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),gm=e=>e.errorBars,Rk=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Mk(r,n));z([Ok,gm,Re],Rk);var w$=z([Xg,Ye,Ok,gm,Re],_k);function N$(e){var{value:t}=e;if(xn(t)||t instanceof Date)return t}var Cj=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ks(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},C$=(e,t,r)=>{var n=e.map(N$).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&T2(n))?jS(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Zg=e=>{var t;if(e==null||!("domain"in e))return mp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ks(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:mp},Hd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},Ik=e=>e.referenceElements.dots,Ri=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),S$=z([Ik,Re,Ol],Ri),$k=e=>e.referenceElements.areas,k$=z([$k,Re,Ol],Ri),Bk=e=>e.referenceElements.lines,E$=z([Bk,Re,Ol],Ri),Fk=(e,t)=>{var r=ks(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},P$=z(S$,Re,Fk),Uk=(e,t)=>{var r=ks(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},A$=z([k$,Re],Uk),zk=(e,t)=>{var r=ks(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},T$=z(E$,Re,zk),O$=z(P$,T$,A$,(e,t,r)=>Hd(e,r,t)),Wk=z([Ye],Zg),Jg=(e,t,r,n,s,i,o)=>{var l=qI(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=c?Hd(r,s,Cj(n)):Hd(s,Cj(n));return KI(t,u,e.allowDataOverflow)},M$=z([Ye,Wk,j$,w$,O$,me,Re],Jg),L$=[0,1],e0=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=bn(t,i);return u&&l==null?jS(0,r.length):c==="category"?C$(n,e,u):s==="expand"?L$:o}},t0=z([Ye,me,Xg,xm,Tl,Re,M$],e0),Hk=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(vl(i));return l in fo?l:"point"}}},Ii=z([Ye,me,Pk,Bg,Re],Hk);function D$(e){if(e!=null){if(e in fo)return fo[e]();var t="scale".concat(vl(e));if(t in fo)return fo[t]()}}function r0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=D$(t);if(s!=null){var i=s.domain(r).range(n);return CL(i),i}}}var n0=(e,t,r)=>{var n=Zg(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&vi(e))return n$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&vi(e))return a$(e,t.tickCount,t.allowDecimals)}},a0=z([t0,Ml,Ii],n0),s0=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&vi(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},_$=z([Ye,t0,a0,Re],s0),R$=z(xm,Ye,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ks(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),Gk=z(R$,me,gk,rt,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!jt(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=Ot(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),I$=(e,t)=>{var r=Qn(e,t);return r==null||typeof r.padding!="string"?0:Gk(e,"xAxis",t,r.padding)},$$=(e,t)=>{var r=Zn(e,t);return r==null||typeof r.padding!="string"?0:Gk(e,"yAxis",t,r.padding)},B$=z(Qn,I$,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),F$=z(Zn,$$,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),U$=z([rt,B$,am,nm,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),z$=z([rt,me,F$,am,nm,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),_l=(e,t,r,n)=>{var s;switch(t){case"xAxis":return U$(e,r,n);case"yAxis":return z$(e,r,n);case"zAxis":return(s=Gg(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return jk(e);case"radiusAxis":return wk(e,r);default:return}},qk=z([Ye,_l],mm),$i=z([Ye,Ii,_$,qk],r0);z([Dl,gm,Re],Rk);function Kk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ym=(e,t)=>t,vm=(e,t,r)=>r,W$=z(tm,ym,vm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Kk)),H$=z(rm,ym,vm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Kk)),Vk=(e,t)=>({width:e.width,height:t.height}),G$=(e,t)=>{var r=typeof t.width=="number"?t.width:Nl;return{width:r,height:e.height}},Yk=z(rt,Qn,Vk),q$=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},K$=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},V$=z(Vn,rt,W$,ym,vm,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=Vk(t,l);o==null&&(o=q$(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),Y$=z(Kn,rt,H$,ym,vm,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=G$(t,l);o==null&&(o=K$(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),X$=(e,t)=>{var r=Qn(e,t);if(r!=null)return V$(e,r.orientation,r.mirror)},Q$=z([rt,Qn,X$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),Z$=(e,t)=>{var r=Zn(e,t);if(r!=null)return Y$(e,r.orientation,r.mirror)},J$=z([rt,Zn,Z$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),Xk=z(rt,Zn,(e,t)=>{var r=typeof t.width=="number"?t.width:Nl;return{width:r,height:e.height}}),Sj=(e,t,r)=>{switch(t){case"xAxis":return Yk(e,r).width;case"yAxis":return Xk(e,r).height;default:return}},Qk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=bn(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&s&&T2(c))return c}},i0=z([me,xm,Ye,Re],Qk),Zk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=bn(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},o0=z([me,xm,Ml,Re],Zk),kj=z([me,x$,Ii,$i,i0,o0,_l,a0,Re],(e,t,r,n,s,i,o,l,c)=>{if(t==null)return null;var u=bn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}),eB=(e,t,r,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var u=bn(e,c),{type:d,ticks:m,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/h:0;p=c==="angleAxis"&&i!=null&&i.length>=2?ct(i[0]-i[1])*2*p:p;var y=m||s;if(y){var g=y.map((v,b)=>{var j=o?o.indexOf(v):v;return{index:b,coordinate:n(j)+p,value:v,offset:p}});return g.filter(v=>!rr(v.coordinate))}return u&&l?l.map((v,b)=>({coordinate:n(v)+p,value:v,index:b,offset:p})):n.ticks?n.ticks(f).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,b)=>({coordinate:n(v)+p,value:o?o[v]:v,index:b,offset:p}))}},Jk=z([me,Ml,Ii,$i,a0,_l,i0,o0,Re],eB),tB=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=bn(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ct(n[0]-n[1])*2*u:u,l&&i?i.map((d,m)=>({coordinate:r(d)+u,value:d,index:m,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,m)=>({coordinate:r(d)+u,value:s?s[d]:d,index:m,offset:u}))}},yn=z([me,Ml,$i,_l,i0,o0,Re],tB),vn=z(Ye,$i,(e,t)=>{if(!(e==null||t==null))return Wd(Wd({},e),{},{scale:t})}),rB=z([Ye,Ii,t0,qk],r0);z((e,t,r)=>Gg(e,r),rB,(e,t)=>{if(!(e==null||t==null))return Wd(Wd({},e),{},{scale:t})});var nB=z([me,tm,rm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),eE=e=>e.options.defaultTooltipEventType,tE=e=>e.options.validateTooltipEventTypes;function rE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function l0(e,t){var r=eE(e),n=tE(e);return rE(t,r,n)}function aB(e){return ae(t=>l0(t,e))}var nE=(e,t)=>{var r,n=Number(t);if(!(rr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},sB=e=>e.tooltip.settings,da={active:!1,index:null,dataKey:void 0,coordinate:void 0},iB={itemInteraction:{click:da,hover:da},axisInteraction:{click:da,hover:da},keyboardInteraction:da,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},aE=br({name:"tooltip",initialState:iB,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Ln(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:oB,removeTooltipEntrySettings:lB,setTooltipSettingsState:cB,setActiveMouseOverItemIndex:sE,mouseLeaveItem:dB,mouseLeaveChart:iE,setActiveClickItemIndex:uB,setMouseOverAxisIndex:oE,setMouseClickAxisIndex:mB,setSyncInteraction:fp,setKeyboardInteraction:hp}=aE.actions,fB=aE.reducer;function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){hB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hB(e,t,r){return(t=pB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pB(e){var t=xB(e,"string");return typeof t=="symbol"?t:t+""}function xB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function yB(e){return e.index!=null}var lE=(e,t,r,n)=>{if(t==null)return da;var s=gB(e,t,r);if(s==null)return da;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(yB(s)){if(i)return jc(jc({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return jc(jc({},da),{},{coordinate:s.coordinate})},c0=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!jt(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},cE=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},dE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Rl=e=>e.options.tooltipPayloadSearcher,Bi=e=>e.tooltip;function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){vB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vB(e,t,r){return(t=bB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bB(e){var t=jB(e,"string");return typeof t=="symbol"?t:t+""}function jB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wB(e,t){return e??t}var uE=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,m=[];return e.reduce((f,h)=>{var p,{dataDefinedOnItem:y,settings:g}=h,v=wB(y,l),b=Array.isArray(v)?ZC(v,u,d):v,j=(p=g==null?void 0:g.dataKey)!==null&&p!==void 0?p:n,w=g==null?void 0:g.nameKey,N;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?N=O2(b,n,s):N=i(b,t,c,w),Array.isArray(N))N.forEach(P=>{var O=Aj(Aj({},g),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});f.push(pb({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:we(P.payload,P.dataKey),name:P.name}))});else{var S;f.push(pb({tooltipEntrySettings:g,dataKey:j,payload:N,value:we(N,j),name:(S=we(N,w))!==null&&S!==void 0?S:g==null?void 0:g.name}))}return f},m)}},d0=z([mt,me,Pk,Bg,st],Hk),NB=z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),CB=z([st,_i],qg),Il=z([NB,mt,CB],Kg),SB=z([Il],e=>e.filter(pm)),kB=z([Il],Vg),Fi=z([kB,Ia],Yg),EB=z([SB,Ia,mt],Sk),u0=z([Fi,mt,Il],Qg),PB=z([mt],Zg),AB=z([Il],e=>e.filter(pm)),TB=z([EB,AB,Tl],Lk),OB=z([TB,Ia,st],Dk),MB=z([Il],Tk),LB=z([Fi,mt,MB,gm,st],_k),DB=z([Ik,st,_i],Ri),_B=z([DB,st],Fk),RB=z([$k,st,_i],Ri),IB=z([RB,st],Uk),$B=z([Bk,st,_i],Ri),BB=z([$B,st],zk),FB=z([_B,BB,IB],Hd),UB=z([mt,PB,OB,LB,FB,me,st],Jg),mE=z([mt,me,Fi,u0,Tl,st,UB],e0),zB=z([mE,mt,d0],n0),WB=z([mt,mE,zB,st],s0),fE=e=>{var t=st(e),r=_i(e),n=!1;return _l(e,t,r,n)},hE=z([mt,fE],mm),pE=z([mt,d0,WB,hE],r0),HB=z([me,u0,mt,st],Qk),GB=z([me,u0,mt,st],Zk),qB=(e,t,r,n,s,i,o,l)=>{if(t){var{type:c}=t,u=bn(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return m=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?ct(s[0]-s[1])*2*m:m,u&&o?o.map((f,h)=>({coordinate:n(f)+m,value:f,index:h,offset:m})):n.domain().map((f,h)=>({coordinate:n(f)+m,value:i?i[f]:f,index:h,offset:m}))}}},Jn=z([me,mt,d0,pE,fE,HB,GB,st],qB),m0=z([eE,tE,sB],(e,t,r)=>rE(r.shared,e,t)),xE=e=>e.tooltip.settings.trigger,f0=e=>e.tooltip.settings.defaultIndex,bm=z([Bi,m0,xE,f0],lE),ka=z([bm,Fi],c0),gE=z([Jn,ka],nE),yE=z([bm],e=>{if(e)return e.dataKey}),vE=z([Bi,m0,xE,f0],dE),KB=z([Kn,Vn,me,rt,Jn,f0,vE,Rl],cE),VB=z([bm,KB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),YB=z([bm],e=>e.active),XB=z([vE,ka,Ia,Ck,gE,Rl,m0],uE),QB=z([XB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){ZB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZB(e,t,r){return(t=JB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JB(e){var t=eF(e,"string");return typeof t=="symbol"?t:t+""}function eF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tF=()=>ae(mt),rF=()=>{var e=tF(),t=ae(Jn),r=ae(pE);return gs(Oj(Oj({},e),{},{scale:r}),t)},bE=()=>ae(Bg),h0=(e,t)=>t,jE=(e,t,r)=>r,p0=(e,t,r,n)=>n,nF=z(Jn,e=>Yu(e,t=>t.coordinate)),x0=z([Bi,h0,jE,p0],lE),wE=z([x0,Fi],c0),aF=(e,t,r)=>{if(t!=null){var n=Bi(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},NE=z([Bi,h0,jE,p0],dE),Gd=z([Kn,Vn,me,rt,Jn,p0,NE,Rl],cE),sF=z([x0,Gd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),CE=z(Jn,wE,nE),iF=z([NE,wE,Ia,Ck,CE,Rl,h0],uE),oF=z([x0],e=>({isActive:e.active,activeIndex:e.index})),lF=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=DL(e.chartX,e.chartY,t,r,l);if(c){var u=RL(c,t),d=wL(u,o,i,n,s),m=_L(t,i,d,c);return{activeIndex:String(d),activeCoordinate:m}}}};function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(null,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){cF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cF(e,t,r){return(t=dF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=uF(e,"string");return typeof t=="symbol"?t:t+""}function uF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mF(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,m=r,f=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var h,p;if(u==="ScatterChart")h=d,p=RD;else if(u==="BarChart")h=ID(o,d,s,i),p=hS;else if(o==="radial"){var{cx:y,cy:g,radius:v,startAngle:b,endAngle:j}=pS(d);h={cx:y,cy:g,startAngle:b,endAngle:j,innerRadius:v,outerRadius:v},p=gS}else h={points:x_(o,d,s)},p=Zs;var w=typeof l=="object"&&"className"in l?l.className:void 0,N=wc(wc(wc(wc({stroke:"#ccc",pointerEvents:"none"},s),h),Oe(l,!1)),{},{payload:m,payloadIndex:f,className:pe("recharts-tooltip-cursor",w)});return x.isValidElement(l)?x.cloneElement(l,N):x.createElement(p,N)}function fF(e){var t=rF(),r=sS(),n=Cl(),s=bE();return x.createElement(mF,pp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var SE=x.createContext(null),hF=()=>x.useContext(SE),kE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,m,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,m||c,f),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)t.call(d,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,h=m.length,p=new Array(h);f<h;f++)p[f]=m[f].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,m=this._events[d];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,d,m,f,h,p){var y=r?r+u:u;if(!this._events[y])return!1;var g=this._events[y],v=arguments.length,b,j;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,m),!0;case 4:return g.fn.call(g.context,d,m,f),!0;case 5:return g.fn.call(g.context,d,m,f,h),!0;case 6:return g.fn.call(g.context,d,m,f,h,p),!0}for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];g.fn.apply(g.context,b)}else{var w=g.length,N;for(j=0;j<w;j++)switch(g[j].once&&this.removeListener(u,g[j].fn,void 0,!0),v){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,d);break;case 3:g[j].fn.call(g[j].context,d,m);break;case 4:g[j].fn.call(g[j].context,d,m,f);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];g[j].fn.apply(g[j].context,b)}}return!0},l.prototype.on=function(u,d,m){return i(this,u,d,m,!1)},l.prototype.once=function(u,d,m){return i(this,u,d,m,!0)},l.prototype.removeListener=function(u,d,m,f){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!f||p.once)&&(!m||p.context===m)&&o(this,h);else{for(var y=0,g=[],v=p.length;y<v;y++)(p[y].fn!==d||f&&!p[y].once||m&&p[y].context!==m)&&g.push(p[y]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(kE);var pF=kE.exports;const xF=Gn(pF);var al=new xF,xp="recharts.syncEvent.tooltip",Lj="recharts.syncEvent.brush";function jm(e,t){if(t){var r=Number.parseInt(t,10);if(!rr(r))return e==null?void 0:e[r]}}var gF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},EE=br({name:"options",initialState:gF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yF=EE.reducer,{createEventEmitter:vF}=EE.actions;function bF(e){return e.tooltip.syncInteraction}var jF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},PE=br({name:"chartData",initialState:jF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Dj,setDataStartEndIndexes:wF,setComputedData:IG}=PE.actions,NF=PE.reducer,CF=["x","y"];function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){SF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SF(e,t,r){return(t=kF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=EF(e,"string");return typeof t=="symbol"?t:t+""}function EF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PF(e,t){if(e==null)return{};var r,n,s=AF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AE=()=>{};function TF(){var e=ae(Fg),t=ae(Ug),r=Ue(),n=ae(yk),s=ae(Jn),i=Cl(),o=cg(),l=ae(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return AE;var c=(u,d,m)=>{if(t!==m&&e===u){if(n==="index"){var f;if(o&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate){var h=d.payload.coordinate,{x:p,y}=h,g=PF(h,CF),v=Ba(Ba(Ba({},g),typeof p=="number"&&{x:Math.max(o.x,Math.min(p,o.x+o.width))}),typeof y=="number"&&{y:Math.max(o.y,Math.min(y,o.y+o.height))}),b=Ba(Ba({},d),{},{payload:Ba(Ba({},d.payload),{},{coordinate:v})});r(b)}else r(d);return}if(s!=null){var j;if(typeof n=="function"){var w={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=n(s,w);j=s[N]}else n==="value"&&(j=s.find(T=>String(T.value)===d.payload.label));var{coordinate:S}=d.payload;if(j==null||d.payload.active===!1||S==null||o==null){r(fp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:O}=S,A=Math.min(P,o.x+o.width),k=Math.min(O,o.y+o.height),R={x:i==="horizontal"?j.coordinate:A,y:i==="horizontal"?k:j.coordinate},L=fp({active:d.payload.active,coordinate:R,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label});r(L)}}};return al.on(xp,c),()=>{al.off(xp,c)}},[l,r,t,e,n,s,i,o])}function OF(){var e=ae(Fg),t=ae(Ug),r=Ue();x.useEffect(()=>{if(e==null)return AE;var n=(s,i,o)=>{t!==o&&e===s&&r(wF(i))};return al.on(Lj,n),()=>{al.off(Lj,n)}},[r,t,e])}function MF(){var e=Ue();x.useEffect(()=>{e(vF())},[e]),TF(),OF()}function LF(e,t,r,n,s,i){var o=ae(f=>aF(f,e,t)),l=ae(Ug),c=ae(Fg),u=ae(yk),d=ae(bF),m=d==null?void 0:d.active;x.useEffect(()=>{if(!m&&c!=null&&l!=null){var f=fp({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});al.emit(xp,c,f,l)}},[m,r,o,s,n,l,c,u,i])}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){DF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DF(e,t,r){return(t=_F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=RF(e,"string");return typeof t=="symbol"?t:t+""}function RF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IF(e){return e.dataKey}function $F(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(hD,t)}var $j=[],BF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Yn.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $t(e){var t=nt(e,BF),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:m,reverseDirection:f,useTranslate3d:h,wrapperStyle:p,cursor:y,shared:g,trigger:v,defaultIndex:b,portal:j,axisId:w}=t,N=Ue(),S=typeof b=="number"?String(b):b;x.useEffect(()=>{N(cB({shared:g,trigger:v,axisId:w,active:r,defaultIndex:S}))},[N,g,v,w,r,S]);var P=cg(),O=cS(),A=aB(g),{activeIndex:k,isActive:R}=ae(B=>oF(B,A,v,S)),L=ae(B=>iF(B,A,v,S)),T=ae(B=>CE(B,A,v,S)),K=ae(B=>sF(B,A,v,S)),I=L,M=hF(),F=r??R,[U,W]=kC([I,F]),D=A==="axis"?T:void 0;LF(A,v,K,D,k,F);var q=j??M;if(q==null)return null;var V=I??$j;F||(V=$j),l&&V.length&&(V=hC(I.filter(B=>B.value!=null&&(B.hide!==!0||t.includeHidden)),d,IF));var _=V.length>0,C=x.createElement(jD,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:F,coordinate:K,hasPayload:_,offset:u,position:m,reverseDirection:f,useTranslate3d:h,viewBox:P,wrapperStyle:p,lastBoundingBox:U,innerRef:W,hasPortalFromProps:!!j},$F(o,Ij(Ij({},t),{},{payload:V,label:D,active:F,coordinate:K,accessibilityLayer:O})));return x.createElement(x.Fragment,null,jx.createPortal(C,q),F&&x.createElement(fF,{cursor:y,tooltipEventType:A,coordinate:K,payload:I,index:k}))}var TE={},OE={},ME={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{u&&d(),y()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,m()},n)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),o=void 0,l=null},g=()=>{d()},v=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const j=f==null;h(),c&&j&&d()};return v.schedule=h,v.cancel=y,v.flush=g,s==null||s.addEventListener("abort",y,{once:!0}),v}e.debounce=t})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,m=null;const f=t.debounce(function(...y){d=n.apply(this,y),m=null},s,{edges:u}),h=function(...y){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(d=n.apply(this,y),m=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,y),d)},p=()=>(f.flush(),d);return h.cancel=f.cancel,h.flush=p,h}e.debounce=r})(OE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OE;function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(TE);var FF=TE.throttle;const UF=Gn(FF);var So=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){zF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zF(e,t,r){return(t=WF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=HF(e,"string");return typeof t=="symbol"?t:t+""}function HF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bt=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:m,className:f,onResize:h,style:p={}}=e,y=x.useRef(null),g=x.useRef();g.current=h,x.useImperativeHandle(t,()=>y.current);var[v,b]=x.useState({containerWidth:n.width,containerHeight:n.height}),j=x.useCallback((N,S)=>{b(P=>{var O=Math.round(N),A=Math.round(S);return P.containerWidth===O&&P.containerHeight===A?P:{containerWidth:O,containerHeight:A}})},[]);x.useEffect(()=>{var N=A=>{var k,{width:R,height:L}=A[0].contentRect;j(R,L),(k=g.current)===null||k===void 0||k.call(g,R,L)};d>0&&(N=UF(N,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(N),{width:P,height:O}=y.current.getBoundingClientRect();return j(P,O),S.observe(y.current),()=>{S.disconnect()}},[j,d]);var w=x.useMemo(()=>{var{containerWidth:N,containerHeight:S}=v;if(N<0||S<0)return null;So(Ya(s)||Ya(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),So(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Ya(s)?N:s,O=Ya(i)?S:i;return r&&r>0&&(P?O=P/r:O&&(P=O*r),c&&O>c&&(O=c)),So(P>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,O,s,i,o,l,r),x.Children.map(u,A=>x.cloneElement(A,{width:P,height:O,style:Ef({width:P,height:O},A.props.style)}))},[r,u,i,c,l,o,v,s]);return x.createElement("div",{id:m?"".concat(m):void 0,className:pe("recharts-responsive-container",f),style:Ef(Ef({},p),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:y},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),Hn=e=>null;Hn.displayName="Cell";function GF(e,t,r){return(t=qF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(e){var t=KF(e,"string");return typeof t=="symbol"?t:t+""}function KF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class VF{constructor(t){GF(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){XF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XF(e,t,r){return(t=QF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=ZF(e,"string");return typeof t=="symbol"?t:t+""}function ZF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JF={cacheSize:2e3,enableCache:!0},LE=YF({},JF),Uj=new VF(LE.cacheSize),e8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zj="recharts_measurement_span";function t8(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var Wj=(e,t)=>{try{var r=document.getElementById(zj);r||(r=document.createElement("span"),r.setAttribute("id",zj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,e8,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ko=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Yn.isSsr)return{width:0,height:0};if(!LE.enableCache)return Wj(t,r);var n=t8(t,r),s=Uj.get(n);if(s)return s;var i=Wj(t,r);return Uj.set(n,i),i},Hj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,n8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},a8=Object.keys(DE),Ws="NaN";function s8(e,t){return e*DE[t]}class Wt{static parse(t){var r,[,n,s]=(r=n8.exec(t))!==null&&r!==void 0?r:[];return new Wt(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,rr(t)&&(this.unit=""),r!==""&&!r8.test(r)&&(this.num=NaN,this.unit=""),a8.includes(r)&&(this.num=s8(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return rr(this.num)}}function _E(e){if(e.includes(Ws))return Ws;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=Hj.exec(t))!==null&&r!==void 0?r:[],o=Wt.parse(n??""),l=Wt.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Ws;t=t.replace(Hj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,m,f]=(u=Gj.exec(t))!==null&&u!==void 0?u:[],h=Wt.parse(d??""),p=Wt.parse(f??""),y=m==="+"?h.add(p):h.subtract(p);if(y.isNaN())return Ws;t=t.replace(Gj,y.toString())}return t}var qj=/\(([^()]*)\)/;function i8(e){for(var t=e,r;(r=qj.exec(t))!=null;){var[,n]=r;t=t.replace(qj,_E(n))}return t}function o8(e){var t=e.replace(/\s+/g,"");return t=i8(t),t=_E(t),t}function l8(e){try{return o8(e)}catch{return Ws}}function Pf(e){var t=l8(e.slice(5,-1));return t===Ws?"":t}var c8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],d8=["dx","dy","angle","className","breakAll"];function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(null,arguments)}function Kj(e,t){if(e==null)return{};var r,n,s=u8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function u8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RE=/[ \f\n\r\t\v\u2028\u2029]+/,IE=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Te(t)||(r?s=t.toString().split(""):s=t.toString().split(RE));var i=s.map(l=>({word:l,width:ko(l,n).width})),o=r?0:ko("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},m8=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=se(i),d=o,m=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((L,T)=>{var{word:K,width:I}=T,M=L[L.length-1];if(M&&(n==null||s||M.width+I+r<Number(n)))M.words.push(K),M.width+=I+r;else{var F={words:[K],width:I};L.push(F)}return L},[])},f=m(t),h=k=>k.reduce((R,L)=>R.width>L.width?R:L);if(!u||s)return f;var p=f.length>i||h(f).width>Number(n);if(!p)return f;for(var y="",g=k=>{var R=d.slice(0,k),L=IE({breakAll:c,style:l,children:R+y}).wordsWithComputedWidth,T=m(L),K=T.length>i||h(T).width>Number(n);return[K,T]},v=0,b=d.length-1,j=0,w;v<=b&&j<=d.length-1;){var N=Math.floor((v+b)/2),S=N-1,[P,O]=g(S),[A]=g(N);if(!P&&!A&&(v=N+1),P&&A&&(b=N-1),!P&&A){w=O;break}j++}return w||f},Vj=e=>{var t=Te(e)?[]:e.toString().split(RE);return[{words:t}]},f8=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!Yn.isSsr){var l,c,u=IE({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:m}=u;l=d,c=m}else return Vj(n);return m8({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return Vj(n)},Yj="#808080",wm=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=Yj}=e,d=Kj(e,c8),m=x.useMemo(()=>f8({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:h,angle:p,className:y,breakAll:g}=d,v=Kj(d,d8);if(!xn(r)||!xn(n)||m.length===0)return null;var b=r+(se(f)?f:0),j=n+(se(h)?h:0),w;switch(c){case"start":w=Pf("calc(".concat(i,")"));break;case"middle":w=Pf("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:w=Pf("calc(".concat(m.length-1," * -").concat(s,")"));break}var N=[];if(o){var S=m[0].width,{width:P}=d;N.push("scale(".concat(se(P)?P/S:1,")"))}return p&&N.push("rotate(".concat(p,", ").concat(b,", ").concat(j,")")),N.length&&(v.transform=N.join(" ")),x.createElement("text",gp({},Oe(v,!0),{ref:t,x:b,y:j,className:pe("recharts-text",y),textAnchor:l,fill:u.includes("url")?Yj:u}),m.map((O,A)=>{var k=O.words.join(g?"":" ");return x.createElement("tspan",{x:b,dy:A===0?w:s,key:"".concat(k,"-").concat(A)},k)}))});wm.displayName="Text";var h8=["labelRef"];function p8(e,t){if(e==null)return{};var r,n,s=x8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function x8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){g8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t,r){return(t=y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8(e){var t=v8(e,"string");return typeof t=="symbol"?t:t+""}function v8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sn.apply(null,arguments)}var $E=x.createContext(null),b8=e=>{var{x:t,y:r,width:n,height:s,children:i}=e,o=x.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return x.createElement($E.Provider,{value:o},i)},BE=()=>{var e=x.useContext($E),t=cg();return e||t},j8=x.createContext(null),w8=()=>{var e=x.useContext(j8),t=ae(Nk);return e||t},N8=e=>{var{value:t,formatter:r}=e,n=Te(e.children)?t:e.children;return typeof r=="function"?r(n):n},g0=e=>e!=null&&typeof e=="function",C8=(e,t)=>{var r=ct(t-e),n=Math.min(Math.abs(t-e),360);return r*n},S8=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:m,endAngle:f,clockWise:h}=s,p=(u+d)/2,y=C8(m,f),g=y>=0?1:-1,v,b;switch(t){case"insideStart":v=m+g*i,b=h;break;case"insideEnd":v=f-g*i,b=!h;break;case"end":v=f+g*i,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var j=Qe(l,c,p,v),w=Qe(l,c,p,v+(b?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(w.x,",").concat(w.y),S=Te(e.id)?Vo("recharts-radial-line-"):e.id;return x.createElement("text",Sn({},n,{dominantBaseline:"central",className:pe("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:S,d:N})),x.createElement("textPath",{xlinkHref:"#".concat(S)},r))},k8=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:m}=Qe(n,s,o+t,u);return{x:d,y:m,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var f=(i+o)/2,{x:h,y:p}=Qe(n,s,f,u);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},FE=e=>"cx"in e&&se(e.cx),E8=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!FE(r)&&(i=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,m=d*n,f=d>0?"end":"start",h=d>0?"start":"end",p=c>=0?1:-1,y=p*n,g=p>0?"end":"start",v=p>0?"start":"end";if(s==="top"){var b={x:o+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:f};return He(He({},b),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var j={x:o+c/2,y:l+u+m,textAnchor:"middle",verticalAnchor:h};return He(He({},j),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(s==="left"){var w={x:o-y,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return He(He({},w),i?{width:Math.max(w.x-i.x,0),height:u}:{})}if(s==="right"){var N={x:o+c+y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return He(He({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:u}:{})}var S=i?{width:c,height:u}:{};return s==="insideLeft"?He({x:o+y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},S):s==="insideRight"?He({x:o+c-y,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},S):s==="insideTop"?He({x:o+c/2,y:l+m,textAnchor:"middle",verticalAnchor:h},S):s==="insideBottom"?He({x:o+c/2,y:l+u-m,textAnchor:"middle",verticalAnchor:f},S):s==="insideTopLeft"?He({x:o+y,y:l+m,textAnchor:v,verticalAnchor:h},S):s==="insideTopRight"?He({x:o+c-y,y:l+m,textAnchor:g,verticalAnchor:h},S):s==="insideBottomLeft"?He({x:o+y,y:l+u-m,textAnchor:v,verticalAnchor:f},S):s==="insideBottomRight"?He({x:o+c-y,y:l+u-m,textAnchor:g,verticalAnchor:f},S):s&&typeof s=="object"&&(se(s.x)||Ya(s.x))&&(se(s.y)||Ya(s.y))?He({x:o+Ot(s.x,c),y:l+Ot(s.y,u),textAnchor:"end",verticalAnchor:"end"},S):He({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},P8={offset:5};function oa(e){var t=nt(e,P8),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=w8(),m=BE(),f=n==="center"?m:d??m,h=r||f;if(!h||Te(s)&&Te(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var p=He(He({},t),{},{viewBox:h});if(x.isValidElement(o)){var{labelRef:y}=p,g=p8(p,h8);return x.cloneElement(o,g)}var v;if(typeof o=="function"){if(v=x.createElement(o,p),x.isValidElement(v))return v}else v=N8(t);var b=FE(h),j=Oe(t,!0);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return S8(t,n,v,j,h);var w=b?k8(h,t.offset,t.position):E8(t,h);return x.createElement(wm,Sn({ref:u,className:pe("recharts-label",l)},j,w,{breakAll:c}),v)}oa.displayName="Label";var A8=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(oa,Sn({key:"label-implicit"},n)):xn(e)?x.createElement(oa,Sn({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===oa?x.cloneElement(e,He({key:"label-implicit"},n)):x.createElement(oa,Sn({key:"label-implicit",content:e},n)):g0(e)?x.createElement(oa,Sn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(oa,Sn({},e,{key:"label-implicit"},n)):null};function T8(e){var{label:t}=e,r=BE();return A8(t,r)||null}var UE={},zE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(zE);var WE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(WE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zE,r=WE,n=Ku;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(UE);var O8=UE.last;const M8=Gn(O8);var L8=["valueAccessor"],D8=["dataKey","clockWise","id","textBreakAll"];function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(null,arguments)}function Qj(e,t){if(e==null)return{};var r,n,s=_8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var R8=e=>Array.isArray(e.value)?M8(e.value):e.value,HE=x.createContext(void 0),y0=HE.Provider,GE=x.createContext(void 0),I8=GE.Provider;function $8(){return x.useContext(HE)}function B8(){return x.useContext(GE)}function Uc(e){var{valueAccessor:t=R8}=e,r=Qj(e,L8),{dataKey:n,clockWise:s,id:i,textBreakAll:o}=r,l=Qj(r,D8),c=$8(),u=B8(),d=c||u;return!d||!d.length?null:x.createElement(We,{className:"recharts-label-list"},d.map((m,f)=>{var h,p=Te(n)?t(m,f):we(m&&m.payload,n),y=Te(i)?{}:{id:"".concat(i,"-").concat(f)};return x.createElement(oa,qd({},Oe(m,!0),l,y,{fill:(h=r.fill)!==null&&h!==void 0?h:m.fill,parentViewBox:m.parentViewBox,value:p,textBreakAll:o,viewBox:m.viewBox,key:"label-".concat(f),index:f}))}))}Uc.displayName="LabelList";function Nm(e){var{label:t}=e;return t?t===!0?x.createElement(Uc,{key:"labelList-implicit"}):x.isValidElement(t)||g0(t)?x.createElement(Uc,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Uc,qd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(null,arguments)}var v0=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=pe("recharts-dot",s);return t===+t&&r===+r&&n===+n?x.createElement("circle",yp({},Rr(e),Rx(e),{className:i,cx:t,cy:r,r:n})):null},qE=e=>e.graphicalItems.polarItems,F8=z([Re,Ol],qg),b0=z([qE,Ye,F8],Kg),U8=z([b0],Vg),j0=z([U8,Rg],Yg),z8=z([j0,Ye,b0],Qg),W8=z([j0,Ye,b0],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=we(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:we(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),Zj=()=>{},H8=z([Ye,Wk,Zj,W8,Zj,me,Re],Jg),KE=z([Ye,me,j0,z8,Tl,Re,H8],e0),G8=z([KE,Ye,Ii],n0);z([Ye,KE,G8,Re],s0);var q8={radiusAxis:{},angleAxis:{}},VE=br({name:"polarAxis",initialState:q8,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$G,removeRadiusAxis:BG,addAngleAxis:FG,removeAngleAxis:UG}=VE.actions,K8=VE.reducer;function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){V8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V8(e,t,r){return(t=Y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8(e){var t=X8(e,"string");return typeof t=="symbol"?t:t+""}function X8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q8=(e,t)=>t,w0=z([qE,Q8],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Z8=[],N0=(e,t,r)=>(r==null?void 0:r.length)===0?Z8:r,YE=z([Rg,w0,N0],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>ew(ew({},t.presentationProps),i.props))),s!=null)return s}}),J8=z([YE,w0,N0],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=we(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Da(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),eU=z([YE,w0,N0,rt],(e,t,r,n)=>{if(!(t==null||e==null))return YU({offset:n,pieSettings:t,displayedData:e,cells:r})}),XE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(XE);var tU=XE.isPlainObject;const rU=Gn(tU);function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){nU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nU(e,t,r){return(t=aU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=sU(e,"string");return typeof t=="symbol"?t:t+""}function sU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kd.apply(null,arguments)}var nw=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},iU={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oU=e=>{var t=nt(e,iU),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:m}=t,f=x.useRef(),[h,p]=x.useState(-1),y=x.useRef(s),g=x.useRef(i),v=x.useRef(o),b=x.useRef(r),j=x.useRef(n),w=Oi(e,"trapezoid-");if(x.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var K=f.current.getTotalLength();K&&p(K)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var N=pe("recharts-trapezoid",l);if(!m)return x.createElement("g",null,x.createElement("path",Kd({},Oe(t,!0),{className:N,d:nw(r,n,s,i,o)})));var S=y.current,P=g.current,O=v.current,A=b.current,k=j.current,R="0px ".concat(h===-1?1:h,"px"),L="".concat(h,"px 0px"),T=dS(["strokeDasharray"],u,c);return x.createElement(Ti,{animationId:w,key:w,canBegin:h>0,duration:u,easing:c,isActive:m,begin:d},K=>{var I=je(S,s,K),M=je(P,i,K),F=je(O,o,K),U=je(A,r,K),W=je(k,n,K);f.current&&(y.current=I,g.current=M,v.current=F,b.current=U,j.current=W);var D=K>0?{transition:T,strokeDasharray:L}:{strokeDasharray:R};return x.createElement("path",Kd({},Oe(t,!0),{className:N,d:nw(U,W,I,M,F),ref:f,style:rw(rw({},D),t.style)}))})},lU=["option","shapeType","propTransformer","activeClassName","isActive"];function cU(e,t){if(e==null)return{};var r,n,s=dU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){uU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uU(e,t,r){return(t=mU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=fU(e,"string");return typeof t=="symbol"?t:t+""}function fU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hU(e,t){return Vd(Vd({},t),e)}function pU(e,t){return e==="symbols"}function sw(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(hS,r);case"trapezoid":return x.createElement(oU,r);case"sector":return x.createElement(gS,r);case"symbols":if(pU(t))return x.createElement(zx,r);break;default:return null}}function xU(e){return x.isValidElement(e)?e.props:e}function QE(e){var{option:t,shapeType:r,propTransformer:n=hU,activeClassName:s="recharts-active-shape",isActive:i}=e,o=cU(e,lU),l;if(x.isValidElement(t))l=x.cloneElement(t,Vd(Vd({},o),xU(t)));else if(typeof t=="function")l=t(o);else if(rU(t)&&typeof t!="boolean"){var c=n(t,o);l=x.createElement(sw,{shapeType:r,elementProps:c})}else{var u=o;l=x.createElement(sw,{shapeType:r,elementProps:u})}return i?x.createElement(We,{className:s},l):l}var C0=(e,t)=>{var r=Ue();return(n,s)=>i=>{e==null||e(n,s,i),r(sE({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},S0=e=>{var t=Ue();return(r,n)=>s=>{e==null||e(r,n,s),t(dB())}},k0=(e,t)=>{var r=Ue();return(n,s)=>i=>{e==null||e(n,s,i),r(uB({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Cm(e){var{fn:t,args:r}=e,n=Ue(),s=Lt();return x.useEffect(()=>{if(!s){var i=t(r);return n(oB(i)),()=>{n(lB(i))}}},[t,r,n,s]),null}var ZE=()=>{};function E0(e){var{legendPayload:t}=e,r=Ue(),n=Lt();return x.useEffect(()=>n?ZE:(r(oS(t)),()=>{r(lS(t))}),[r,n,t]),null}function gU(e){var{legendPayload:t}=e,r=Ue(),n=ae(me);return x.useEffect(()=>n!=="centric"&&n!=="radial"?ZE:(r(oS(t)),()=>{r(lS(t))}),[r,n,t]),null}var Af,yU=()=>{var[e]=x.useState(()=>Vo("uid-"));return e},vU=(Af=Iw.useId)!==null&&Af!==void 0?Af:yU;function bU(e,t){var r=vU();return t||(e?"".concat(e,"-").concat(r):r)}var jU=x.createContext(void 0),Sm=e=>{var{id:t,type:r,children:n}=e,s=bU("recharts-".concat(r),t);return x.createElement(jU.Provider,{value:s},n(s))},wU={cartesianItems:[],polarItems:[]},JE=br({name:"graphicalItems",initialState:wU,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=Ln(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=Ln(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Ln(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:NU,replaceCartesianGraphicalItem:CU,removeCartesianGraphicalItem:SU,addPolarGraphicalItem:kU,removePolarGraphicalItem:EU}=JE.actions,PU=JE.reducer;function P0(e){var t=Ue(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?t(NU(e)):r.current!==e&&t(CU({prev:r.current,next:e})),r.current=e},[t,e]),x.useEffect(()=>()=>{r.current&&(t(SU(r.current)),r.current=null)},[t]),null}function AU(e){var t=Ue();return x.useEffect(()=>(t(kU(e)),()=>{t(EU(e))}),[t,e]),null}var TU=["onMouseEnter","onClick","onMouseLeave"],OU=["id"],MU=["id"];function A0(e,t){if(e==null)return{};var r,n,s=LU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function LU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(n){DU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t,r){return(t=_U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(e){var t=RU(e,"string");return typeof t=="symbol"?t:t+""}function RU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ea.apply(null,arguments)}function IU(e){var t=x.useMemo(()=>Ix(e.children,Hn),[e.children]),r=ae(n=>J8(n,e.id,t));return r==null?null:x.createElement(gU,{legendPayload:r})}function $U(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Da(l,t),hide:c,type:u,color:o,unit:""}}}var BU=(e,t)=>e>t?"start":e<t?"end":"middle",FU=(e,t,r)=>Ot(typeof t=="function"?t(e):t,r,r*.8),UU=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=QC(i,o),c=s+Ot(e.cx,i,i/2),u=n+Ot(e.cy,o,o/2),d=Ot(e.innerRadius,l,0),m=FU(r,e.outerRadius,l),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:m,maxRadius:f}},zU=(e,t)=>{var r=ct(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function WU(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var HU=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=pe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(Zs,Ea({},t,{type:"linear",className:r}))},GU=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var s=pe("recharts-pie-label-text",WU(e));return x.createElement(wm,Ea({},t,{alignmentBaseline:"middle",className:s}),n)};function qU(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=Rr(r),c=Oe(s,!1),u=Oe(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,m=t.map((f,h)=>{var p=(f.startAngle+f.endAngle)/2,y=Qe(f.cx,f.cy,f.outerRadius+d,p),g=Me(Me(Me(Me({},l),f),{},{stroke:"none"},c),{},{index:h,textAnchor:BU(y.x,f.cx)},y),v=Me(Me(Me(Me({},l),f),{},{fill:"none",stroke:f.fill},u),{},{index:h,points:[Qe(f.cx,f.cy,f.outerRadius,p),y],key:"line"});return x.createElement(We,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(h)},i&&HU(i,v),GU(s,g,we(f,o)))});return x.createElement(We,{className:"recharts-pie-labels"},m)}function KU(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?x.createElement(Nm,{label:s}):x.createElement(qU,{sectors:t,props:r,showLabels:n})}function VU(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s}=e,i=ae(ka),{onMouseEnter:o,onClick:l,onMouseLeave:c}=s,u=A0(s,TU),d=C0(o,s.dataKey),m=S0(c),f=k0(l,s.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((h,p)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var y=r&&String(p)===i,g=i?n:null,v=y?r:g,b=Me(Me({},h),{},{stroke:h.stroke,tabIndex:-1,[nS]:p,[aS]:s.dataKey});return x.createElement(We,Ea({tabIndex:-1,className:"recharts-pie-sector"},bl(u,h,p),{onMouseEnter:d(h,p),onMouseLeave:m(h,p),onClick:f(h,p),key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),x.createElement(QE,Ea({option:v,isActive:y,shapeType:"sector"},b)))}))}function YU(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:m}=r,f=Math.abs(r.minAngle),h=zU(l,c),p=Math.abs(h),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=n.filter(S=>we(S,u,0)!==0).length,v=(p>=360?g:g-1)*y,b=p-g*f-v,j=n.reduce((S,P)=>{var O=we(P,u,0);return S+(se(O)?O:0)},0),w;if(j>0){var N;w=n.map((S,P)=>{var O=we(S,u,0),A=we(S,d,P),k=UU(r,i,S),R=(se(O)?O:0)/j,L,T=Me(Me({},S),s&&s[P]&&s[P].props);P?L=N.endAngle+ct(h)*y*(O!==0?1:0):L=l;var K=L+ct(h)*((O!==0?f:0)+R*b),I=(L+K)/2,M=(k.innerRadius+k.outerRadius)/2,F=[{name:A,value:O,payload:T,dataKey:u,type:m}],U=Qe(k.cx,k.cy,M,I);return N=Me(Me(Me(Me({},r.presentationProps),{},{percent:R,cornerRadius:o,name:A,tooltipPayload:F,midAngle:I,middleRadius:M,tooltipPosition:U},T),k),{},{value:O,startAngle:L,endAngle:K,payload:T,paddingAngle:ct(h)*y}),N})}return w}function XU(e){var{showLabels:t,sectors:r,children:n}=e,s=x.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return x.createElement(I8,{value:t?s:void 0},n)}function QU(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:m}=t,f=Oi(t,"recharts-pie-"),h=r.current,[p,y]=x.useState(!1),g=x.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),v=x.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return x.createElement(XU,{showLabels:!p,sectors:n},x.createElement(Ti,{animationId:f,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:v,onAnimationEnd:g,key:f},b=>{var j=[],w=n&&n[0],N=w==null?void 0:w.startAngle;return n==null||n.forEach((S,P)=>{var O=h&&h[P],A=P>0?hs(S,"paddingAngle",0):0;if(O){var k=je(O.endAngle-O.startAngle,S.endAngle-S.startAngle,b),R=Me(Me({},S),{},{startAngle:N+A,endAngle:N+k+A});j.push(R),N=R.endAngle}else{var{endAngle:L,startAngle:T}=S,K=je(0,L-T,b),I=Me(Me({},S),{},{startAngle:N+A,endAngle:N+K+A});j.push(I),N=I.endAngle}}),r.current=j,x.createElement(We,null,x.createElement(VU,{sectors:j,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),x.createElement(KU,{showLabels:!p,sectors:n,props:t}),t.children)}var ZU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Yn.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function JU(e){var{id:t}=e,r=A0(e,OU),{hide:n,className:s,rootTabIndex:i}=e,o=x.useMemo(()=>Ix(e.children,Hn),[e.children]),l=ae(d=>eU(d,t,o)),c=x.useRef(null),u=pe("recharts-pie",s);return n||l==null?(c.current=null,x.createElement(We,{tabIndex:i,className:u})):x.createElement(x.Fragment,null,x.createElement(Cm,{fn:$U,args:Me(Me({},e),{},{sectors:l})}),x.createElement(We,{tabIndex:i,className:u},x.createElement(QU,{props:Me(Me({},r),{},{sectors:l}),previousSectorsRef:c})))}function bi(e){var t=nt(e,ZU),{id:r}=t,n=A0(t,MU),s=Rr(n);return x.createElement(Sm,{id:r,type:"pie"},i=>x.createElement(x.Fragment,null,x.createElement(AU,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),x.createElement(IU,Ea({},n,{id:i})),x.createElement(JU,Ea({},n,{id:i}))))}bi.displayName="Pie";function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ez(e,t,r){return(t=tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=rz(e,"string");return typeof t=="symbol"?t:t+""}function rz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nz={xAxis:{},yAxis:{},zAxis:{}},eP=br({name:"cartesianAxis",initialState:nz,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=lw(lw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:az,removeXAxis:sz,addYAxis:iz,removeYAxis:oz,addZAxis:zG,removeZAxis:WG,updateYAxisWidth:lz}=eP.actions,cz=eP.reducer,dz=z([rt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),uz=z([dz,Kn,Vn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),km=()=>ae(uz),mz=()=>ae(QB);function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){fz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fz(e,t,r){return(t=hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hz(e){var t=pz(e,"string");return typeof t=="symbol"?t:t+""}function pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xz=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=dw(dw({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Oe(s,!1)),Rx(s)),l;return x.isValidElement(s)?l=x.cloneElement(s,o):typeof s=="function"?l=s(o):l=x.createElement(v0,o),x.createElement(We,{className:"recharts-active-dot"},l)};function vp(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=ae(ka),o=mz();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return Te(l)?null:xz({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var gz="Invariant failed";function yz(e,t){throw new Error(gz)}var vz=["x","y"];function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(null,arguments)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){bz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bz(e,t,r){return(t=jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e){var t=wz(e,"string");return typeof t=="symbol"?t:t+""}function wz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nz(e,t){if(e==null)return{};var r,n,s=Cz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Cz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sz(e,t){var{x:r,y:n}=e,s=Nz(e,vz),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),m="".concat(t.width||s.width),f=parseInt(m,10);return ao(ao(ao(ao(ao({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function T0(e){return x.createElement(QE,bp({shapeType:"rectangle",propTransformer:Sz,activeClassName:"recharts-active-bar"},e))}var kz=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(se(t))return t;var i=se(n)||Te(n);return i?t(n,s):(i||yz(),r)}},Ez={},tP=br({name:"errorBars",initialState:Ez,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:HG,replaceErrorBar:GG,removeErrorBar:qG}=tP.actions,Pz=tP.reducer,Az=["children"];function Tz(e,t){if(e==null)return{};var r,n,s=Oz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Oz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mz={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Lz=x.createContext(Mz);function rP(e){var{children:t}=e,r=Tz(e,Az);return x.createElement(Lz.Provider,{value:r},t)}function Em(e,t){var r,n,s=ae(u=>Qn(u,e)),i=ae(u=>Zn(u,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ar.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:sr.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function O0(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=km(),{needClipX:i,needClipY:o,needClip:l}=Em(t,r);if(!l)return null;var{x:c,y:u,width:d,height:m}=s;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?c:c-d/2,y:o?u:u-m/2,width:i?d:d*2,height:o?m:m*2}))}var Dz=["onMouseEnter","onMouseLeave","onClick"],_z=["value","background","tooltipPosition"],Rz=["id"],Iz=["onMouseEnter","onClick","onMouseLeave"];function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pa.apply(null,arguments)}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){$z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $z(e,t,r){return(t=Bz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bz(e){var t=Fz(e,"string");return typeof t=="symbol"?t:t+""}function Fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yd(e,t){if(e==null)return{};var r,n,s=Uz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Uz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zz=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Da(r,t),payload:e}]};function Wz(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Da(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Hz(e){var t=ae(ka),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=Yd(i,Dz),d=C0(o,n),m=S0(l),f=k0(c,n);if(!s||r==null)return null;var h=Oe(s,!1);return x.createElement(x.Fragment,null,r.map((p,y)=>{var{value:g,background:v,tooltipPosition:b}=p,j=Yd(p,_z);if(!v)return null;var w=d(p,y),N=m(p,y),S=f(p,y),P=_t(_t(_t(_t(_t({option:s,isActive:String(y)===t},j),{},{fill:"#eee"},v),h),bl(u,p,y)),{},{onMouseEnter:w,onMouseLeave:N,onClick:S,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return x.createElement(T0,Pa({key:"background-bar-".concat(P.index)},P))}))}function Gz(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return _t(_t({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(y0,{value:t?s:void 0},r)}function qz(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=ae(ka),c=ae(yE),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return x.createElement(T0,Pa({},n,s,{isActive:u,option:d,index:i,dataKey:o}))}function Kz(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return x.createElement(T0,Pa({},r,n,{isActive:!1,option:t,index:s,dataKey:i}))}function Vz(e){var{data:t,props:r}=e,n=Rr(r),{id:s}=n,i=Yd(n,Rz),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:m}=r,f=Yd(r,Iz),h=C0(u,l),p=S0(m),y=k0(d,l);return t?x.createElement(x.Fragment,null,t.map((g,v)=>x.createElement(We,Pa({className:"recharts-bar-rectangle"},bl(f,g,v),{onMouseEnter:h(g,v),onMouseLeave:p(g,v),onClick:y(g,v),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(v)}),c?x.createElement(qz,{shape:o,activeBar:c,baseProps:i,entry:g,index:v,dataKey:l}):x.createElement(Kz,{shape:o,baseProps:i,entry:g,index:v,dataKey:l})))):null}function Yz(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,m=r.current,f=Oi(t,"recharts-bar-"),[h,p]=x.useState(!1),y=!h,g=x.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),v=x.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return x.createElement(Gz,{showLabels:y,rects:n},x.createElement(Ti,{animationId:f,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:g,onAnimationStart:v,key:f},b=>{var j=b===1?n:n==null?void 0:n.map((w,N)=>{var S=m&&m[N];if(S)return _t(_t({},w),{},{x:je(S.x,w.x,b),y:je(S.y,w.y,b),width:je(S.width,w.width,b),height:je(S.height,w.height,b)});if(s==="horizontal"){var P=je(0,w.height,b);return _t(_t({},w),{},{y:w.y+w.height-P,height:P})}var O=je(0,w.width,b);return _t(_t({},w),{},{width:O})});return b>0&&(r.current=j??null),j==null?null:x.createElement(We,null,x.createElement(Vz,{props:t,data:j}))}),x.createElement(Nm,{label:t.label}),t.children)}function Xz(e){var t=x.useRef(null);return x.createElement(Yz,{previousRectanglesRef:t,props:e})}var nP=0,Qz=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:we(e,t)}};class Zz extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=pe("recharts-bar",s),m=u;return x.createElement(We,{className:d,id:u},l&&x.createElement("defs",null,x.createElement(O0,{clipPathId:m,xAxisId:i,yAxisId:o})),x.createElement(We,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},x.createElement(Hz,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),x.createElement(Xz,this.props)))}}var Jz={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Yn.isSsr,legendType:"rect",minPointSize:nP,xAxisId:0,yAxisId:0};function e9(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:m}=Em(t,r),f=Cl(),h=Lt(),p=Ix(e.children,Hn),y=ae(b=>P9(b,t,r,h,e.id,p));if(f!=="vertical"&&f!=="horizontal")return null;var g,v=y==null?void 0:y[0];return v==null||v.height==null||v.width==null?g=0:g=f==="vertical"?v.height/2:v.width/2,x.createElement(rP,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:Qz,errorBarOffset:g},x.createElement(Zz,Pa({},e,{layout:f,needClip:m,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function t9(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:m,offset:f,cells:h,parentViewBox:p}=e,y=t==="horizontal"?l:o,g=d?y.scale.domain():null,v=TL({numericAxis:y});return m.map((b,j)=>{var w,N,S,P,O,A;d?w=SL(d[j],g):(w=we(b,r),Array.isArray(w)||(w=[v,w]));var k=kz(n,nP)(w[1],j);if(t==="horizontal"){var R,[L,T]=[l.scale(w[0]),l.scale(w[1])];N=mb({axis:o,ticks:c,bandSize:i,offset:s.offset,entry:b,index:j}),S=(R=T??L)!==null&&R!==void 0?R:void 0,P=s.size;var K=L-T;if(O=rr(K)?0:K,A={x:N,y:f.top,width:P,height:f.height},Math.abs(k)>0&&Math.abs(O)<Math.abs(k)){var I=ct(O||k)*(Math.abs(k)-Math.abs(O));S-=I,O+=I}}else{var[M,F]=[o.scale(w[0]),o.scale(w[1])];if(N=M,S=mb({axis:l,ticks:u,bandSize:i,offset:s.offset,entry:b,index:j}),P=F-M,O=s.size,A={x:f.left,y:S,width:f.width,height:O},Math.abs(k)>0&&Math.abs(P)<Math.abs(k)){var U=ct(P||k)*(Math.abs(k)-Math.abs(P));P+=U}}if(N==null||S==null||P==null||O==null)return null;var W=_t(_t({},b),{},{x:N,y:S,width:P,height:O,value:d?w:w[1],payload:b,background:A,tooltipPosition:{x:N+P/2,y:S+O/2},parentViewBox:p},h&&h[j]&&h[j].props);return W}).filter(Boolean)}function r9(e){var t=nt(e,Jz),r=Lt();return x.createElement(Sm,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(E0,{legendPayload:zz(t)}),x.createElement(Cm,{fn:Wz,args:t}),x.createElement(P0,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:tS(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(e9,Pa({},t,{id:n}))))}var Wr=x.memo(r9);Wr.displayName="Bar";function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){n9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9(e,t,r){return(t=a9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=s9(e,"string");return typeof t=="symbol"?t:t+""}function s9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i9=(e,t)=>t,o9=(e,t,r)=>r,l9=(e,t,r,n)=>n,c9=(e,t,r,n,s)=>s,$l=z([Ll,c9],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),d9=z([$l],e=>e==null?void 0:e.maxBarSize),u9=(e,t,r,n,s,i)=>i,hw=(e,t,r)=>{var n=r??e;if(!Te(n))return Ot(n,t,0)},m9=z([me,Ll,i9,o9,l9],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),f9=(e,t,r,n)=>{var s=me(e);return s==="horizontal"?nl(e,"yAxis",r,n):nl(e,"xAxis",t,n)},h9=(e,t,r)=>{var n=me(e);return n==="horizontal"?Sj(e,"xAxis",t):Sj(e,"yAxis",r)},p9=(e,t,r)=>{var n={},s=e.filter(pm),i=e.filter(u=>u.stackId==null),o=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,m]=u,f=m.map(p=>p.dataKey),h=hw(t,r,m[0].barSize);return{stackId:d,dataKeys:f,barSize:h}}),c=i.map(u=>{var d=[u.dataKey].filter(f=>f!=null),m=hw(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:m}});return[...l,...c]},x9=z([m9,i$,h9],p9),g9=(e,t,r,n,s)=>{var i,o,l=$l(e,t,r,n,s);if(l!=null){var c=me(e),u=xk(e),{maxBarSize:d}=l,m=Te(d)?u:d,f,h;return c==="horizontal"?(f=vn(e,"xAxis",t,n),h=yn(e,"xAxis",t,n)):(f=vn(e,"yAxis",r,n),h=yn(e,"yAxis",r,n)),(i=(o=gs(f,h,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},aP=(e,t,r,n)=>{var s=me(e),i,o;return s==="horizontal"?(i=vn(e,"xAxis",t,n),o=yn(e,"xAxis",t,n)):(i=vn(e,"yAxis",r,n),o=yn(e,"yAxis",r,n)),gs(i,o)};function y9(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=Ot(e,r,0,!0),l,c=[];if(jt(n[0].barSize)){var u=!1,d=r/i,m=n.reduce((v,b)=>v+(b.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&d>0&&(u=!0,d*=.9,m=i*d);var f=(r-m)/2>>0,h={offset:f-o,size:0};l=n.reduce((v,b)=>{var j,w={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+o,size:u?d:(j=b.barSize)!==null&&j!==void 0?j:0}},N=[...v,w];return h=N[N.length-1].position,N},c)}else{var p=Ot(t,r,0,!0);r-2*p-(i-1)*o<=0&&(o=0);var y=(r-2*p-(i-1)*o)/i;y>1&&(y>>=0);var g=jt(s)?Math.min(y,s):y;l=n.reduce((v,b,j)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(y+o)*j+(y-g)/2,size:g}}],c)}return l}}var v9=(e,t,r,n,s,i,o)=>{var l=Te(o)?t:o,c=y9(r,n,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(u=>Nc(Nc({},u),{},{position:Nc(Nc({},u.position),{},{offset:u.position.offset-s/2})}))),c},b9=z([x9,xk,s$,gk,g9,aP,d9],v9),j9=(e,t,r,n)=>vn(e,"xAxis",t,n),w9=(e,t,r,n)=>vn(e,"yAxis",r,n),N9=(e,t,r,n)=>yn(e,"xAxis",t,n),C9=(e,t,r,n)=>yn(e,"yAxis",r,n),S9=z([b9,$l],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),k9=(e,t)=>{var r=hm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},E9=z([f9,$l],k9),P9=z([rt,lg,j9,w9,N9,C9,S9,me,Al,aP,E9,$l,u9],(e,t,r,n,s,i,o,l,c,u,d,m,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:y}=c;if(!(m==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||u==null)){var{data:g}=m,v;if(g!=null&&g.length>0?v=g:v=h==null?void 0:h.slice(p,y+1),v!=null)return t9({layout:l,barSettings:m,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:d,displayedData:v,offset:e,cells:f})}}),sP=e=>{var{chartData:t}=e,r=Ue(),n=Lt();return x.useEffect(()=>n?()=>{}:(r(Dj(t)),()=>{r(Dj(void 0))}),[t,r,n]),null},pw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},iP=br({name:"brush",initialState:pw,reducers:{setBrushSettings(e,t){return t.payload==null?pw:t.payload}}}),{setBrushSettings:KG}=iP.actions,A9=iP.reducer;function T9(e,t,r){return(t=O9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9(e){var t=M9(e,"string");return typeof t=="symbol"?t:t+""}function M9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class M0{static create(t){return new M0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}T9(M0,"EPS",1e-4);function L9(e){return(e%180+180)%180}var D9=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=L9(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},_9={dots:[],areas:[],lines:[]},oP=br({name:"referenceElements",initialState:_9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ln(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ln(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ln(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:VG,removeDot:YG,addArea:XG,removeArea:QG,addLine:ZG,removeLine:JG}=oP.actions,R9=oP.reducer,I9=x.createContext(void 0),$9=e=>{var{children:t}=e,[r]=x.useState("".concat(Vo("recharts"),"-clip")),n=km();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return x.createElement(I9.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function ji(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function lP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function B9(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return D9(n,r)}function F9(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Xd(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function U9(e,t){return lP(e,t+1)}function z9(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,m=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:lP(n,u)};var y=c,g,v=()=>(g===void 0&&(g=r(p,y)),g),b=p.coordinate,j=c===0||Xd(e,b,v,d,l);j||(c=0,d=o,u+=1),j&&(d=b+e*(v()/2+s),c+=u)},f;u<=i.length;)if(f=m(),f)return f.v;return[]}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){W9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W9(e,t,r){return(t=H9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q9(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(f){var h=i[f],p,y=()=>(p===void 0&&(p=r(h,f)),p);if(f===o-1){var g=e*(h.coordinate+e*y()/2-c);i[f]=h=St(St({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else i[f]=h=St(St({},h),{},{tickCoord:h.coordinate});var v=Xd(e,h.tickCoord,y,l,c);v&&(c=h.tickCoord-e*(y()/2+s),i[f]=St(St({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function K9(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],m=r(d,l-1),f=e*(d.coordinate+e*m/2-u);o[l-1]=d=St(St({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var h=Xd(e,d.tickCoord,()=>m,c,u);h&&(u=d.tickCoord-e*(m/2+s),o[l-1]=St(St({},d),{},{isShow:!0}))}for(var p=i?l-1:l,y=function(b){var j=o[b],w,N=()=>(w===void 0&&(w=r(j,b)),w);if(b===0){var S=e*(j.coordinate-e*N()/2-c);o[b]=j=St(St({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[b]=j=St(St({},j),{},{tickCoord:j.coordinate});var P=Xd(e,j.tickCoord,N,c,u);P&&(c=j.tickCoord+e*(N()/2+s),o[b]=St(St({},j),{},{isShow:!0}))},g=0;g<p;g++)y(g);return o}function L0(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:m}=e;if(!s||!s.length||!n)return[];if(se(c)||Yn.isSsr){var f;return(f=U9(s,se(c)?c:0))!==null&&f!==void 0?f:[]}var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?ko(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(j,w)=>{var N=typeof u=="function"?u(j.value,w):j.value;return p==="width"?B9(ko(N,{fontSize:t,letterSpacing:r}),y,m):ko(N,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?ct(s[1].coordinate-s[0].coordinate):1,b=F9(i,v,p);return c==="equidistantPreserveStart"?z9(v,b,g,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=K9(v,b,g,s,o,c==="preserveStartEnd"):h=q9(v,b,g,s,o),h.filter(j=>j.isShow))}var V9=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},Y9=["axisLine","width","height","className","hide","ticks"],X9=["viewBox"],Q9=["viewBox"];function jp(e,t){if(e==null)return{};var r,n,s=Z9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Z9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(null,arguments)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){J9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J9(e,t,r){return(t=e7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=t7(e,"string");return typeof t=="symbol"?t:t+""}function t7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function r7(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=et(et(et({},c),Oe(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=et(et({},u),{},{x1:t,y1:r+d*s,x2:t+n,y2:r+d*s})}else{var m=+(i==="left"&&!o||i==="right"&&o);u=et(et({},u),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return x.createElement("line",vs({},u,{className:pe("recharts-cartesian-axis-line",hs(l,"className"))}))}function n7(e,t,r,n,s,i,o,l,c){var u,d,m,f,h,p,y=l?-1:1,g=e.tickSize||o,v=se(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,f=r+ +!l*s,m=f-y*g,p=m-y*c,h=v;break;case"left":m=f=e.coordinate,d=t+ +!l*n,u=d-y*g,h=u-y*c,p=v;break;case"right":m=f=e.coordinate,d=t+ +l*n,u=d+y*g,h=u+y*c,p=v;break;default:u=d=e.coordinate,f=r+ +l*s,m=f+y*g,p=m+y*c,h=v;break}return{line:{x1:u,y1:m,x2:d,y2:f},tick:{x:h,y:p}}}function a7(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function s7(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function i7(e){var{option:t,tickProps:r,value:n}=e,s,i=pe(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))s=x.cloneElement(t,et(et({},r),{},{className:i}));else if(typeof t=="function")s=t(et(et({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=pe(o,t==null?void 0:t.className)),s=x.createElement(wm,vs({},r,{className:o}),n)}return s}function o7(e){var{ticks:t=[],tick:r,tickLine:n,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:m,y:f,width:h,height:p,tickSize:y,tickMargin:g,fontSize:v,letterSpacing:b,getTicksConfig:j,events:w}=e,N=L0(et(et({},j),{},{ticks:t}),v,b),S=a7(u,d),P=s7(u,d),O=Rr(j),A=Oe(r,!1),k=et(et({},O),{},{fill:"none"},Oe(n,!1)),R=N.map((L,T)=>{var{line:K,tick:I}=n7(L,m,f,h,p,u,y,d,g),M=et(et(et(et({textAnchor:S,verticalAnchor:P},O),{},{stroke:"none",fill:s},A),I),{},{index:T,payload:L,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return x.createElement(We,vs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},bl(w,L,T)),n&&x.createElement("line",vs({},k,K,{className:pe("recharts-cartesian-axis-tick-line",hs(n,"className"))})),r&&x.createElement(i7,{option:r,tickProps:M,value:"".concat(typeof i=="function"?i(L.value,T):L.value).concat(o||"")}))});return R.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},R):null}var l7=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:o,ticks:l}=e,c=jp(e,Y9),[u,d]=x.useState(""),[m,f]=x.useState(""),h=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return V9({ticks:h.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=x.useCallback(y=>{if(y){var g=y.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(g);var v=g[0];if(v){var b=window.getComputedStyle(v),j=b.fontSize,w=b.letterSpacing;(j!==u||w!==m)&&(d(j),f(w))}}},[u,m]);return o||n!=null&&n<=0||s!=null&&s<=0?null:x.createElement(We,{className:pe("recharts-cartesian-axis",i),ref:p},x.createElement(r7,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Rr(e)}),x.createElement(o7,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:m,getTicksConfig:e,events:c}),x.createElement(b8,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(T8,{label:e.label}),e.children))}),c7=x.memo(l7,(e,t)=>{var{viewBox:r}=e,n=jp(e,X9),{viewBox:s}=t,i=jp(t,Q9);return ji(r,s)&&ji(n,i)}),_0=x.forwardRef((e,t)=>{var r=nt(e,D0);return x.createElement(c7,vs({},r,{ref:t}))});_0.displayName="CartesianAxis";var d7=["x1","y1","x2","y2","key"],u7=["offset"],m7=["xAxisId","yAxisId"],f7=["xAxisId","yAxisId"];function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){h7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h7(e,t,r){return(t=p7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(null,arguments)}function Qd(e,t){if(e==null)return{};var r,n,s=g7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function g7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var y7=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return x.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function cP(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=Qd(t,d7),u=Rr(c),{offset:d}=u,m=Qd(u,u7);r=x.createElement("line",Za({},m,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function v7(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Qd(e,m7),c=s.map((u,d)=>{var m=Et(Et({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return cP(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function b7(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Qd(e,f7),c=s.map((u,d)=>{var m=Et(Et({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return cP(n,m)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function j7(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(m=>Math.round(m+s-s)).sort((m,f)=>m-f);s!==u[0]&&u.unshift(0);var d=u.map((m,f)=>{var h=!u[f+1],p=h?s+o-m:u[f+1]-m;if(p<=0)return null;var y=f%t.length;return x.createElement("rect",{key:"react-".concat(f),y:m,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function w7(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(m=>Math.round(m+s-s)).sort((m,f)=>m-f);s!==u[0]&&u.unshift(0);var d=u.map((m,f)=>{var h=!u[f+1],p=h?s+o-m:u[f+1]-m;if(p<=0)return null;var y=f%r.length;return x.createElement("rect",{key:"react-".concat(f),x:m,y:i,width:p,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var N7=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return JC(L0(Et(Et(Et({},D0),r),{},{ticks:eS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},C7=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return JC(L0(Et(Et(Et({},D0),r),{},{ticks:eS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},S7={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Yr(e){var t=dg(),r=ug(),n=sS(),s=Et(Et({},nt(e,S7)),{},{x:se(e.x)?e.x:n.left,y:se(e.y)?e.y:n.top,width:se(e.width)?e.width:n.width,height:se(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:m,horizontalValues:f,verticalValues:h}=s,p=Lt(),y=ae(A=>kj(A,"xAxis",i,p)),g=ae(A=>kj(A,"yAxis",o,p));if(!se(u)||u<=0||!se(d)||d<=0||!se(l)||l!==+l||!se(c)||c!==+c)return null;var v=s.verticalCoordinatesGenerator||N7,b=s.horizontalCoordinatesGenerator||C7,{horizontalPoints:j,verticalPoints:w}=s;if((!j||!j.length)&&typeof b=="function"){var N=f&&f.length,S=b({yAxis:g?Et(Et({},g),{},{ticks:N?f:g.ticks}):void 0,width:t,height:r,offset:n},N?!0:m);So(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}if((!w||!w.length)&&typeof v=="function"){var P=h&&h.length,O=v({xAxis:y?Et(Et({},y),{},{ticks:P?h:y.ticks}):void 0,width:t,height:r,offset:n},P?!0:m);So(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(w=O)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(y7,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(j7,Za({},s,{horizontalPoints:j})),x.createElement(w7,Za({},s,{verticalPoints:w})),x.createElement(v7,Za({},s,{offset:n,horizontalPoints:j,xAxis:y,yAxis:g})),x.createElement(b7,Za({},s,{offset:n,verticalPoints:w,xAxis:y,yAxis:g})))}Yr.displayName="CartesianGrid";var dP=(e,t,r,n)=>vn(e,"xAxis",t,n),uP=(e,t,r,n)=>yn(e,"xAxis",t,n),mP=(e,t,r,n)=>vn(e,"yAxis",r,n),fP=(e,t,r,n)=>yn(e,"yAxis",r,n),k7=z([me,dP,mP,uP,fP],(e,t,r,n,s)=>bn(e,"xAxis")?gs(t,n,!1):gs(r,s,!1)),E7=(e,t,r,n,s)=>s;function P7(e){return e.type==="line"}var A7=z([Ll,E7],(e,t)=>e.filter(P7).find(r=>r.id===t)),T7=z([me,dP,mP,uP,fP,A7,k7,Al],(e,t,r,n,s,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:m,data:f}=i,h;if(f!=null&&f.length>0?h=f:h=c==null?void 0:c.slice(u,d+1),h!=null)return Z7({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:o,displayedData:h})}}),O7=["id"],M7=["type","layout","connectNulls","needClip"],L7=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){D7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D7(e,t,r){return(t=_7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=R7(e,"string");return typeof t=="symbol"?t:t+""}function R7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R0(e,t){if(e==null)return{};var r,n,s=I7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function I7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bs.apply(null,arguments)}var $7=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Da(r,t),payload:e}]};function B7(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Da(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var hP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function F7(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var U7=(e,t,r)=>{var n=r.reduce((m,f)=>m+f);if(!n)return hP(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...F7(r,s),...l,...d].map(m=>"".concat(m,"px")).join(", ")};function z7(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=pe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=x.createElement(v0,bs({},t,{className:n}))}return r}function W7(e,t){return e==null?!1:t?!0:e.length===1}function H7(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!W7(r,s))return null;var{id:l}=n,c=R0(n,O7),u=Wu(s),d=Rr(c),m=Oe(s,!0),f=r.map((p,y)=>{var g=lr(lr(lr({key:"dot-".concat(y),r:3},d),m),{},{index:y,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return z7(s,g)}),h={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return x.createElement(We,bs({className:"recharts-line-dots",key:"dots"},h),f)}function G7(e){var{showLabels:t,children:r,points:n}=e,s=x.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return lr(lr({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(y0,{value:t?s:null},r)}function bw(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:u}=i,d=R0(i,M7),m=lr(lr({},Oe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(Zs,bs({},m,{pathRef:r})),x.createElement(H7,{points:n,clipPathId:t,props:i}))}function q7(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function K7(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:m,animateNewValues:f,width:h,height:p,onAnimationEnd:y,onAnimationStart:g}=r,v=s.current,b=Oi(r,"recharts-line-"),[j,w]=x.useState(!1),N=!j,S=x.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),P=x.useCallback(()=>{typeof g=="function"&&g(),w(!0)},[g]),O=q7(n.current),A=i.current;return x.createElement(G7,{points:o,showLabels:N},r.children,x.createElement(Ti,{animationId:b,begin:u,duration:d,isActive:c,easing:m,onAnimationEnd:S,onAnimationStart:P,key:b},k=>{var R=je(A,O+A,k),L=Math.min(R,O),T;if(c)if(l){var K="".concat(l).split(/[,\s]+/gim).map(F=>parseFloat(F));T=U7(L,O,K)}else T=hP(O,L);else T=l==null?void 0:String(l);if(v){var I=v.length/o.length,M=k===1?o:o.map((F,U)=>{var W=Math.floor(U*I);if(v[W]){var D=v[W];return lr(lr({},F),{},{x:je(D.x,F.x,k),y:je(D.y,F.y,k)})}return f?lr(lr({},F),{},{x:je(h*2,F.x,k),y:je(p/2,F.y,k)}):lr(lr({},F),{},{x:F.x,y:F.y})});return s.current=M,x.createElement(bw,{props:r,points:M,clipPathId:t,pathRef:n,strokeDasharray:T})}return k>0&&O>0&&(s.current=o,i.current=L),x.createElement(bw,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:T})}),x.createElement(Nm,{label:r.label}))}function V7(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),s=x.useRef(0),i=x.useRef(null);return x.createElement(K7,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var Y7=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:we(e.payload,t)});class X7 extends x.Component{render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:l,top:c,left:u,width:d,height:m,id:f,needClip:h}=this.props;if(r)return null;var p=pe("recharts-line",i),y=f,{r:g=3,strokeWidth:v=2}=(t=Oe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=Wu(n),j=g*2+v;return x.createElement(x.Fragment,null,x.createElement(We,{className:p},h&&x.createElement("defs",null,x.createElement(O0,{clipPathId:y,xAxisId:o,yAxisId:l}),!b&&x.createElement("clipPath",{id:"clipPath-dots-".concat(y)},x.createElement("rect",{x:u-j/2,y:c-j/2,width:d+j,height:m+j}))),x.createElement(rP,{xAxisId:o,yAxisId:l,data:s,dataPointFormatter:Y7,errorBarOffset:0},x.createElement(V7,{props:this.props,clipPathId:y}))),x.createElement(vp,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var pP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Yn.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Q7(e){var t=nt(e,pP),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:m,legendType:f,xAxisId:h,yAxisId:p,id:y}=t,g=R0(t,L7),{needClip:v}=Em(h,p),b=km(),j=Cl(),w=Lt(),N=ae(k=>T7(k,h,p,w,y));if(j!=="horizontal"&&j!=="vertical"||N==null||b==null)return null;var{height:S,width:P,x:O,y:A}=b;return x.createElement(X7,bs({},g,{id:y,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:m,legendType:f,xAxisId:h,yAxisId:p,points:N,layout:j,height:S,width:P,left:O,top:A,needClip:v}))}function Z7(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var m=we(u,o);if(t==="horizontal"){var f=Ad({axis:r,ticks:s,bandSize:l,entry:u,index:d}),h=Te(m)?null:n.scale(m);return{x:f,y:h,value:m,payload:u}}var p=Te(m)?null:r.scale(m),y=Ad({axis:n,ticks:i,bandSize:l,entry:u,index:d});return p==null||y==null?null:{x:p,y,value:m,payload:u}}).filter(Boolean)}function J7(e){var t=nt(e,pP),r=Lt();return x.createElement(Sm,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(E0,{legendPayload:$7(t)}),x.createElement(Cm,{fn:B7,args:t}),x.createElement(P0,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(Q7,bs({},t,{id:n}))))}var Hr=x.memo(J7);Hr.displayName="Line";var xP=(e,t,r,n)=>vn(e,"xAxis",t,n),gP=(e,t,r,n)=>yn(e,"xAxis",t,n),yP=(e,t,r,n)=>vn(e,"yAxis",r,n),vP=(e,t,r,n)=>yn(e,"yAxis",r,n),eW=z([me,xP,yP,gP,vP],(e,t,r,n,s)=>bn(e,"xAxis")?gs(t,n,!1):gs(r,s,!1)),tW=(e,t,r,n,s)=>s,bP=z([Ll,tW],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),rW=(e,t,r,n,s)=>{var i,o=bP(e,t,r,n,s);if(o!=null){var l=me(e),c=bn(l,"xAxis"),u;if(c?u=nl(e,"yAxis",r,n):u=nl(e,"xAxis",t,n),u!=null){var{stackId:d}=o,m=hm(o);if(!(d==null||m==null)){var f=(i=u[d])===null||i===void 0?void 0:i.stackedData;return f==null?void 0:f.find(h=>h.key===m)}}}},nW=z([me,xP,yP,gP,vP,rW,Al,eW,bP],(e,t,r,n,s,i,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:m}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:f}=c,h;if(f&&f.length>0?h=f:h=u==null?void 0:u.slice(d,m+1),h!=null){var p=void 0;return CW({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:h,chartBaseValue:p,bandSize:l})}}}),aW=["id"],sW=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function jP(e,t){if(e==null)return{};var r,n,s=iW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function iW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){oW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_n.apply(null,arguments)}function Zd(e,t){return e&&e!=="none"?e:t}var dW=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Zd(n,s),value:Da(r,t),payload:e}]};function uW(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Da(o,t),hide:l,type:e.tooltipType,color:Zd(n,i),unit:c}}}var mW=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=pe("recharts-area-dot",typeof e!="boolean"?e.className:"");r=x.createElement(v0,_n({},t,{className:n}))}return r};function fW(e,t){return e==null?!1:t?!0:e.length===1}function hW(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:i,dataKey:o}=n;if(!fW(r,i))return null;var l=Wu(i),c=Rr(n),u=Oe(i,!0),d=r.map((f,h)=>{var p=On(On(On({key:"dot-".concat(h),r:3},c),u),{},{index:h,cx:f.x,cy:f.y,dataKey:o,value:f.value,payload:f.payload,points:r});return mW(i,p)}),m={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return x.createElement(We,_n({className:"recharts-area-dots"},m),d)}function pW(e){var{showLabels:t,children:r,points:n}=e,s=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return On(On({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return x.createElement(y0,{value:t?s:null},r)}function ww(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:m}=i,f=jP(i,aW),h=Rr(f);return x.createElement(x.Fragment,null,(t==null?void 0:t.length)>1&&x.createElement(We,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},x.createElement(Zs,_n({},h,{id:m,points:t,connectNulls:u,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&x.createElement(Zs,_n({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&x.createElement(Zs,_n({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:r}))),x.createElement(hW,{points:t,props:f,clipPathId:s}))}function xW(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].y,o=n[n.length-1].y;if(!jt(i)||!jt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.x||0));return se(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),se(c)?x.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function gW(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].x,o=n[n.length-1].x;if(!jt(i)||!jt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.y||0));return se(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),se(c)?x.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function yW(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:i}=e;return r==="vertical"?x.createElement(xW,{alpha:t,points:n,baseLine:s,strokeWidth:i}):x.createElement(gW,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function vW(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:m,onAnimationStart:f,onAnimationEnd:h}=n,p=Oi(n,"recharts-area-"),[y,g]=x.useState(!1),v=!y,b=x.useCallback(()=>{typeof h=="function"&&h(),g(!1)},[h]),j=x.useCallback(()=>{typeof f=="function"&&f(),g(!0)},[f]),w=s.current,N=i.current;return x.createElement(pW,{showLabels:v,points:o},n.children,x.createElement(Ti,{animationId:p,begin:u,duration:d,isActive:c,easing:m,onAnimationEnd:b,onAnimationStart:j,key:p},S=>{if(w){var P=w.length/o.length,O=S===1?o:o.map((k,R)=>{var L=Math.floor(R*P);if(w[L]){var T=w[L];return On(On({},k),{},{x:je(T.x,k.x,S),y:je(T.y,k.y,S)})}return k}),A;return se(l)?A=je(N,l,S):Te(l)||rr(l)?A=je(N,0,S):A=l.map((k,R)=>{var L=Math.floor(R*P);if(Array.isArray(N)&&N[L]){var T=N[L];return On(On({},k),{},{x:je(T.x,k.x,S),y:je(T.y,k.y,S)})}return k}),S>0&&(s.current=O,i.current=A),x.createElement(ww,{points:O,baseLine:A,needClip:t,clipPathId:r,props:n})}return S>0&&(s.current=o,i.current=l),x.createElement(We,null,c&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(yW,{alpha:S,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),x.createElement(We,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(ww,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),x.createElement(Nm,{label:n.label}))}function bW(e){var{needClip:t,clipPathId:r,props:n}=e,s=x.useRef(null),i=x.useRef();return x.createElement(vW,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i})}class jW extends x.PureComponent{render(){var t,{hide:r,dot:n,points:s,className:i,top:o,left:l,needClip:c,xAxisId:u,yAxisId:d,width:m,height:f,id:h,baseLine:p}=this.props;if(r)return null;var y=pe("recharts-area",i),g=h,{r:v=3,strokeWidth:b=2}=(t=Oe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Wu(n),w=v*2+b;return x.createElement(x.Fragment,null,x.createElement(We,{className:y},c&&x.createElement("defs",null,x.createElement(O0,{clipPathId:g,xAxisId:u,yAxisId:d}),!j&&x.createElement("clipPath",{id:"clipPath-dots-".concat(g)},x.createElement("rect",{x:l-w/2,y:o-w/2,width:m+w,height:f+w}))),x.createElement(bW,{needClip:c,clipPathId:g,props:this.props})),x.createElement(vp,{points:s,mainColor:Zd(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&x.createElement(vp,{points:p,mainColor:Zd(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var wP={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Yn.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function wW(e){var t,r=nt(e,wP),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:m,isAnimationActive:f,legendType:h,stroke:p,xAxisId:y,yAxisId:g}=r,v=jP(r,sW),b=Cl(),j=bE(),{needClip:w}=Em(y,g),N=Lt(),{points:S,isRange:P,baseLine:O}=(t=ae(K=>nW(K,y,g,N,e.id)))!==null&&t!==void 0?t:{},A=km();if(b!=="horizontal"&&b!=="vertical"||A==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:k,width:R,x:L,y:T}=A;return!S||!S.length?null:x.createElement(jW,_n({},v,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:O,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:k,hide:m,layout:b,isAnimationActive:f,isRange:P,legendType:h,needClip:w,points:S,stroke:p,width:R,left:L,top:T,xAxisId:y,yAxisId:g}))}var NW=(e,t,r,n,s)=>{var i=r??t;if(se(i))return i;var o=e==="horizontal"?s:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function CW(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:m,yAxisTicks:f,bandSize:h}=e,p=s&&s.length,y=NW(i,o,r,l,c),g=i==="horizontal",v=!1,b=u.map((w,N)=>{var S;p?S=s[d+N]:(S=we(w,n),Array.isArray(S)?v=!0:S=[y,S]);var P=S[1]==null||p&&!t&&we(w,n)==null;return g?{x:Ad({axis:l,ticks:m,bandSize:h,entry:w,index:N}),y:P?null:c.scale(S[1]),value:S,payload:w}:{x:P?null:l.scale(S[1]),y:Ad({axis:c,ticks:f,bandSize:h,entry:w,index:N}),value:S,payload:w}}),j;return p||v?j=b.map(w=>{var N=Array.isArray(w.value)?w.value[0]:null;return g?{x:w.x,y:N!=null&&w.y!=null?c.scale(N):null,payload:w.payload}:{x:N!=null?l.scale(N):null,y:w.y,payload:w.payload}}):j=g?c.scale(y):l.scale(y),{points:b,baseLine:j,isRange:v}}function SW(e){var t=nt(e,wP),r=Lt();return x.createElement(Sm,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(E0,{legendPayload:dW(t)}),x.createElement(Cm,{fn:uW,args:t}),x.createElement(P0,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:tS(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(wW,_n({},t,{id:n}))))}var js=x.memo(SW);js.displayName="Area";var kW=["dangerouslySetInnerHTML","ticks"],EW=["id"],PW=["domain"],AW=["domain"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(null,arguments)}function Jd(e,t){if(e==null)return{};var r,n,s=TW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function TW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OW(e){var t=Ue();return x.useEffect(()=>(t(az(e)),()=>{t(sz(e))}),[e,t]),null}var MW=e=>{var{xAxisId:t,className:r}=e,n=ae(lg),s=Lt(),i="xAxis",o=ae(g=>$i(g,i,t,s)),l=ae(g=>Jk(g,i,t,s)),c=ae(g=>Yk(g,t)),u=ae(g=>Q$(g,t)),d=ae(g=>kk(g,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:m,ticks:f}=e,h=Jd(e,kW),{id:p}=d,y=Jd(d,EW);return x.createElement(_0,wp({},h,y,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:pe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},LW={allowDataOverflow:ar.allowDataOverflow,allowDecimals:ar.allowDecimals,allowDuplicatedCategory:ar.allowDuplicatedCategory,height:ar.height,hide:!1,mirror:ar.mirror,orientation:ar.orientation,padding:ar.padding,reversed:ar.reversed,scale:ar.scale,tickCount:ar.tickCount,type:ar.type,xAxisId:0},DW=e=>{var t,r,n,s,i,o=nt(e,LW);return x.createElement(x.Fragment,null,x.createElement(OW,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(MW,o))},_W=(e,t)=>{var{domain:r}=e,n=Jd(e,PW),{domain:s}=t,i=Jd(t,AW);return ji(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:ji({domain:r},{domain:s}):!1},Xr=x.memo(DW,_W);Xr.displayName="XAxis";var RW=["dangerouslySetInnerHTML","ticks"],IW=["id"],$W=["domain"],BW=["domain"];function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(null,arguments)}function eu(e,t){if(e==null)return{};var r,n,s=FW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function FW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UW(e){var t=Ue();return x.useEffect(()=>(t(iz(e)),()=>{t(oz(e))}),[e,t]),null}var zW=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=x.useRef(null),o=x.useRef(null),l=ae(lg),c=Lt(),u=Ue(),d="yAxis",m=ae(N=>$i(N,d,t,c)),f=ae(N=>Xk(N,t)),h=ae(N=>J$(N,t)),p=ae(N=>Jk(N,d,t,c)),y=ae(N=>Ek(N,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!f||g0(s)||x.isValidElement(s)||y==null)){var N=i.current;if(N){var S=N.getCalculatedWidth();Math.round(f.width)!==Math.round(S)&&u(lz({id:t,width:S}))}}},[p,f,u,s,t,n,y]),f==null||h==null||y==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,b=eu(e,RW),{id:j}=y,w=eu(y,IW);return x.createElement(_0,Np({},b,w,{ref:i,labelRef:o,scale:m,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:pe("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p}))},WW={allowDataOverflow:sr.allowDataOverflow,allowDecimals:sr.allowDecimals,allowDuplicatedCategory:sr.allowDuplicatedCategory,hide:!1,mirror:sr.mirror,orientation:sr.orientation,padding:sr.padding,reversed:sr.reversed,scale:sr.scale,tickCount:sr.tickCount,type:sr.type,width:sr.width,yAxisId:0},HW=e=>{var t,r,n,s,i,o=nt(e,WW);return x.createElement(x.Fragment,null,x.createElement(UW,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(zW,o))},GW=(e,t)=>{var{domain:r}=e,n=eu(e,$W),{domain:s}=t,i=eu(t,BW);return ji(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:ji({domain:r},{domain:s}):!1},qt=x.memo(HW,GW);qt.displayName="YAxis";var qW={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=x;function KW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VW=typeof Object.is=="function"?Object.is:KW,YW=Bl.useSyncExternalStore,XW=Bl.useRef,QW=Bl.useEffect,ZW=Bl.useMemo,JW=Bl.useDebugValue;qW.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=XW(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ZW(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return m=p}return m=h}if(p=m,VW(d,h))return p;var y=n(h);return s!==void 0&&s(p,y)?(d=h,p):(d=h,m=y)}var u=!1,d,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var l=YW(e,i[0],i[1]);return QW(function(){o.hasValue=!0,o.value=l},[l]),JW(l),l};function eH(e){e()}function tH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Nw={notify(){},get:()=>[]};function rH(e,t){let r,n=Nw,s=0,i=!1;function o(y){d();const g=n.subscribe(y);let v=!1;return()=>{v||(v=!0,g(),m())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),n=tH())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=Nw)}function f(){i||(i=!0,d())}function h(){i&&(i=!1,m())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return p}var nH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aH=nH(),sH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iH=sH(),oH=()=>aH||iH?x.useLayoutEffect:x.useEffect,lH=oH(),Tf=Symbol.for("react-redux-context"),Of=typeof globalThis<"u"?globalThis:{};function cH(){if(!x.createContext)return{};const e=Of[Tf]??(Of[Tf]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var dH=cH();function uH(e){const{children:t,context:r,serverState:n,store:s}=e,i=x.useMemo(()=>{const c=rH(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=x.useMemo(()=>s.getState(),[s]);lH(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||dH;return x.createElement(l.Provider,{value:i},t)}var mH=uH,fH=(e,t)=>t,I0=z([fH,me,Nk,st,hE,Jn,nF,rt],lF),$0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},NP=Lr("mouseClick"),CP=wl();CP.startListening({actionCreator:NP,effect:(e,t)=>{var r=e.payload,n=I0(t.getState(),$0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(mB({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Cp=Lr("mouseMove"),SP=wl();SP.startListening({actionCreator:Cp,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=l0(n,n.tooltip.settings.shared),i=I0(n,$0(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(oE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(iE()))}});var Cw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},kP=br({name:"rootProps",initialState:Cw,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Cw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),hH=kP.reducer,{updateOptions:pH}=kP.actions,EP=br({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xH}=EP.actions,gH=EP.reducer,PP=Lr("keyDown"),AP=Lr("focus"),B0=wl();B0.startListening({actionCreator:PP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(c0(s,Fi(r))),l=Jn(r);if(i==="Enter"){var c=Gd(r,"axis","hover",String(s.index));t.dispatch(hp({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=nB(r),d=u==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,f=o+m*d;if(!(l==null||f>=l.length||f<0)){var h=Gd(r,"axis","hover",String(f));t.dispatch(hp({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});B0.startListening({actionCreator:AP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=Gd(r,"axis","hover",String(i));t.dispatch(hp({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Cr=Lr("externalEvent"),TP=wl();TP.startListening({actionCreator:Cr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:VB(r),activeDataKey:yE(r),activeIndex:ka(r),activeLabel:gE(r),activeTooltipIndex:ka(r),isTooltipActive:YB(r)};e.payload.handler(n,e.payload.reactEvent)}}});var yH=z([Bi],e=>e.tooltipItemPayloads),vH=z([yH,Rl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),OP=Lr("touchMove"),MP=wl();MP.startListening({actionCreator:OP,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=l0(n,n.tooltip.settings.shared);if(s==="axis"){var i=I0(n,$0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(oE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(nS),d=(o=c.getAttribute(aS))!==null&&o!==void 0?o:void 0,m=vH(t.getState(),u,d);t.dispatch(sE({activeDataKey:d,activeIndex:u,activeCoordinate:m}))}}});var bH=PC({brush:A9,cartesianAxis:cz,chartData:NF,errorBars:Pz,graphicalItems:PU,layout:cL,legend:ZL,options:yF,polarAxis:K8,polarOptions:gH,referenceElements:R9,rootProps:hH,tooltip:fB}),jH=function(t){return DM({reducer:bH,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([CP.middleware,SP.middleware,B0.middleware,TP.middleware,MP.middleware]),devTools:Yn.devToolsEnabled})};function LP(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Lt(),i=x.useRef(null);if(s)return r;i.current==null&&(i.current=jH(t));var o=eg;return x.createElement(mH,{context:o,store:i.current},r)}function DP(e){var{layout:t,width:r,height:n,margin:s}=e,i=Ue(),o=Lt();return x.useEffect(()=>{o||(i(iL(t)),i(oL({width:r,height:n})),i(sL(s)))},[i,o,t,r,n,s]),null}function _P(e){var t=Ue();return x.useEffect(()=>{t(pH(e))},[t,e]),null}var wH=["children"];function NH(e,t){if(e==null)return{};var r,n,s=CH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function CH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(null,arguments)}var SH={width:"100%",height:"100%"},kH=x.forwardRef((e,t)=>{var r=dg(),n=ug(),s=cS();if(!pi(r)||!pi(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=s?0:void 0,typeof o.role=="string"?d=o.role:d=s?"application":void 0,x.createElement($x,tu({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:SH,ref:t}),i)}),EH=e=>{var{children:t}=e,r=ae(am);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return x.createElement($x,{width:n,height:s,x:o,y:i},t)},Sw=x.forwardRef((e,t)=>{var{children:r}=e,n=NH(e,wH),s=Lt();return s?x.createElement(EH,null,r):x.createElement(kH,tu({ref:t},n),r)});function PH(){var e=Ue(),[t,r]=x.useState(null),n=ae(IL);return x.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;jt(i)&&i!==n&&e(lL(i))}},[t,e,n]),r}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){TH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TH(e,t,r){return(t=OH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LH=x.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:m,onMouseUp:f,onTouchEnd:h,onTouchMove:p,onTouchStart:y,style:g,width:v}=e,b=Ue(),[j,w]=x.useState(null),[N,S]=x.useState(null);MF();var P=PH(),O=x.useCallback(V=>{P(V),typeof t=="function"&&t(V),w(V),S(V)},[P,t,w,S]),A=x.useCallback(V=>{b(NP(V)),b(Cr({handler:i,reactEvent:V}))},[b,i]),k=x.useCallback(V=>{b(Cp(V)),b(Cr({handler:u,reactEvent:V}))},[b,u]),R=x.useCallback(V=>{b(iE()),b(Cr({handler:d,reactEvent:V}))},[b,d]),L=x.useCallback(V=>{b(Cp(V)),b(Cr({handler:m,reactEvent:V}))},[b,m]),T=x.useCallback(()=>{b(AP())},[b]),K=x.useCallback(V=>{b(PP(V.key))},[b]),I=x.useCallback(V=>{b(Cr({handler:o,reactEvent:V}))},[b,o]),M=x.useCallback(V=>{b(Cr({handler:l,reactEvent:V}))},[b,l]),F=x.useCallback(V=>{b(Cr({handler:c,reactEvent:V}))},[b,c]),U=x.useCallback(V=>{b(Cr({handler:f,reactEvent:V}))},[b,f]),W=x.useCallback(V=>{b(Cr({handler:y,reactEvent:V}))},[b,y]),D=x.useCallback(V=>{b(OP(V)),b(Cr({handler:p,reactEvent:V}))},[b,p]),q=x.useCallback(V=>{b(Cr({handler:h,reactEvent:V}))},[b,h]);return x.createElement(SE.Provider,{value:j},x.createElement(D2.Provider,{value:N},x.createElement("div",{className:pe("recharts-wrapper",n),style:AH({position:"relative",cursor:"default",width:v,height:s},g),onClick:A,onContextMenu:I,onDoubleClick:M,onFocus:T,onKeyDown:K,onMouseDown:F,onMouseEnter:k,onMouseLeave:R,onMouseMove:L,onMouseUp:U,onTouchEnd:q,onTouchMove:D,onTouchStart:W,ref:O},r)))}),DH=["children","className","width","height","style","compact","title","desc"];function _H(e,t){if(e==null)return{};var r,n,s=RH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RP=x.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:l,title:c,desc:u}=e,d=_H(e,DH),m=Rr(d);return l?x.createElement(Sw,{otherAttributes:m,title:c,desc:u},r):x.createElement(LH,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(Sw,{otherAttributes:m,title:c,desc:u,ref:t},x.createElement($9,null,r)))}),IH=["width","height"];function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sp.apply(null,arguments)}function $H(e,t){if(e==null)return{};var r,n,s=BH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FH={top:5,right:5,bottom:5,left:5},UH={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:FH,reverseStackOrder:!1,syncMethod:"index"},F0=x.forwardRef(function(t,r){var n,s=nt(t.categoricalChartProps,UH),{width:i,height:o}=s,l=$H(s,IH);if(!pi(i)||!pi(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,categoricalChartProps:f}=t,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(LP,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:c},x.createElement(sP,{chartData:f.data}),x.createElement(DP,{width:i,height:o,layout:s.layout,margin:s.margin}),x.createElement(_P,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(RP,Sp({},l,{width:i,height:o,ref:r})))}),zH=["axis"],U0=x.forwardRef((e,t)=>x.createElement(F0,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zH,tooltipPayloadSearcher:jm,categoricalChartProps:e,ref:t})),WH=["axis","item"],ru=x.forwardRef((e,t)=>x.createElement(F0,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:WH,tooltipPayloadSearcher:jm,categoricalChartProps:e,ref:t}));function HH(e){var t=Ue();return x.useEffect(()=>{t(xH(e))},[t,e]),null}var GH=["width","height","layout"];function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(null,arguments)}function qH(e,t){if(e==null)return{};var r,n,s=KH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VH={top:5,right:5,bottom:5,left:5},YH={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:VH,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},XH=x.forwardRef(function(t,r){var n,s=nt(t.categoricalChartProps,YH),{width:i,height:o,layout:l}=s,c=qH(s,GH);if(!pi(i)||!pi(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:f}=t,h={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(LP,{preloadedState:{options:h},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:u},x.createElement(sP,{chartData:s.data}),x.createElement(DP,{width:i,height:o,layout:l,margin:s.margin}),x.createElement(_P,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(HH,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(RP,kp({width:i,height:o},c,{ref:r})))}),QH=["item"],ZH={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},sl=x.forwardRef((e,t)=>{var r=nt(e,ZH);return x.createElement(XH,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:QH,tooltipPayloadSearcher:jm,categoricalChartProps:r,ref:t})}),JH=["axis"],z0=x.forwardRef((e,t)=>x.createElement(F0,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JH,tooltipPayloadSearcher:jm,categoricalChartProps:e,ref:t}));const eG=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(d),i=d=>`${d.toFixed(1)}%`,o=d=>d>=20?"text-green-600":d>=10?"text-yellow-600":"text-red-600",c=(()=>{const d=[],m=["Jan","Feb","Mar","Apr","May","Jun"];for(let f=0;f<m.length;f++){const h=e.totalRevenue*.8+f*e.totalRevenue*.1+Math.random()*e.totalRevenue*.1,p=e.totalCost*.8+f*e.totalCost*.1+Math.random()*e.totalCost*.1;d.push({month:m[f],revenue:Math.round(h),cost:Math.round(p),profit:Math.round(h-p)})}return d})(),u=[{name:"Crew Labor",value:e.totalCost*.35,color:"#8884d8"},{name:"Vehicle",value:e.totalCost*.25,color:"#82ca9d"},{name:"Fuel",value:e.totalCost*.15,color:"#ffc658"},{name:"Maintenance",value:e.totalCost*.12,color:"#ff7300"},{name:"Overhead",value:e.totalCost*.13,color:"#8dd1e1"}];return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Financial Summary Report"}),a.jsxs("p",{className:"text-blue-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-blue-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-blue-500 hover:bg-blue-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ms,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-blue-500 hover:bg-blue-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(hn,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(tr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(e.totalRevenue)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Co,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Costs"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:s(e.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:s(e.grossProfit)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xt,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${o(e.averageProfitMargin)}`,children:i(e.averageProfitMargin)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($e,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalTrips.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue per Mile"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.averageRevenuePerMile)})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Utilization Rate"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:i(e.averageUtilizationRate*100)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(z0,{data:c,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"month"}),a.jsx(qt,{tickFormatter:d=>`$${(d/1e3).toFixed(0)}k`}),a.jsx($t,{formatter:d=>[s(d),""],labelFormatter:d=>`Month: ${d}`}),a.jsx(pr,{}),a.jsx(js,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(js,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(sl,{children:[a.jsx(bi,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,percent:m})=>`${d} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:u.map((d,m)=>a.jsx(Hn,{fill:d.color},`cell-${m}`))}),a.jsx($t,{formatter:d=>[s(d),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Summary Statistics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Financial Performance"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Average Revenue per Trip: ",s(e.totalRevenue/e.totalTrips)]}),a.jsxs("li",{children:[" Average Cost per Trip: ",s(e.totalCost/e.totalTrips)]}),a.jsxs("li",{children:[" Average Profit per Trip: ",s(e.grossProfit/e.totalTrips)]}),a.jsxs("li",{children:[" Cost per Mile: ",s(e.averageCostPerMile)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Operational Metrics"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Total Trips Completed: ",e.totalTrips.toLocaleString()]}),a.jsxs("li",{children:[" Average Revenue per Mile: ",s(e.averageRevenuePerMile)]}),a.jsxs("li",{children:[" Utilization Rate: ",i(e.averageUtilizationRate*100)]}),a.jsxs("li",{children:[" Profit Margin: ",i(e.averageProfitMargin)]})]})]})]})]})]})]})},tG=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(g),i=g=>`${g.toFixed(1)}%`,o=g=>g>=20?"text-green-600":g>=10?"text-yellow-600":"text-red-600",l=g=>g>=20?"bg-green-100":g>=10?"bg-yellow-100":"bg-red-100",c=g=>{switch(g){case"URGENT":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},u=g=>{switch(g){case"BLS":return"text-blue-600 bg-blue-100";case"ALS":return"text-purple-600 bg-purple-100";case"CCT":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},d=Object.entries(e.tripsByTransportLevel).map(([g,v])=>({level:g,revenue:v.revenue,cost:v.cost,profit:v.profit,margin:v.margin,count:v.count})),m=Object.entries(e.tripsByPriority).map(([g,v])=>({priority:g,revenue:v.revenue,cost:v.cost,profit:v.profit,margin:v.margin,count:v.count})),f=Object.entries(e.tripsByTransportLevel).map(([g,v])=>({name:g,value:v.revenue,color:g==="BLS"?"#3b82f6":g==="ALS"?"#8b5cf6":"#10b981"})),h=Object.entries(e.tripsByPriority).map(([g,v])=>({name:g,value:v.revenue,color:g==="URGENT"?"#ef4444":g==="HIGH"?"#f97316":g==="MEDIUM"?"#eab308":"#22c55e"})),p=Object.values(e.tripsByTransportLevel).reduce((g,v)=>g+v.revenue,0),y=Object.values(e.tripsByTransportLevel).reduce((g,v)=>g+v.count,0);return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Revenue Analysis Report"}),a.jsxs("p",{className:"text-green-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-green-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-green-500 hover:bg-green-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ms,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-green-500 hover:bg-green-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(hn,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(tr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(p)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($e,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Total Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:y.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xt,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Avg Revenue/Mile"}),a.jsx("p",{className:"text-2xl font-semibold text-purple-900",children:s(e.averageRevenuePerMile)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(ru,{data:d,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"level"}),a.jsx(qt,{tickFormatter:g=>`$${(g/1e3).toFixed(0)}k`}),a.jsx($t,{formatter:g=>[s(g),"Revenue"]}),a.jsx(pr,{}),a.jsx(Wr,{dataKey:"revenue",fill:"#10b981",name:"Revenue"}),a.jsx(Wr,{dataKey:"cost",fill:"#ef4444",name:"Cost"}),a.jsx(Wr,{dataKey:"profit",fill:"#3b82f6",name:"Profit"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Priority Level"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(ru,{data:m,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"priority"}),a.jsx(qt,{tickFormatter:g=>`$${(g/1e3).toFixed(0)}k`}),a.jsx($t,{formatter:g=>[s(g),"Revenue"]}),a.jsx(pr,{}),a.jsx(Wr,{dataKey:"revenue",fill:"#10b981",name:"Revenue"}),a.jsx(Wr,{dataKey:"cost",fill:"#ef4444",name:"Cost"}),a.jsx(Wr,{dataKey:"profit",fill:"#3b82f6",name:"Profit"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Distribution by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(sl,{children:[a.jsx(bi,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:v})=>`${g} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.map((g,v)=>a.jsx(Hn,{fill:g.color},`cell-${v}`))}),a.jsx($t,{formatter:g=>[s(g),"Revenue"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Distribution by Priority"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(sl,{children:[a.jsx(bi,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:v})=>`${g} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((g,v)=>a.jsx(Hn,{fill:g.color},`cell-${v}`))}),a.jsx($t,{formatter:g=>[s(g),"Revenue"]})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transport Level Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(g=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(g.level)}`,children:g.level})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:g.count}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:s(g.revenue)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(g.margin)} ${o(g.margin)}`,children:i(g.margin)})})]},g.level))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Priority Level Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(g=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(g.priority)}`,children:g.priority})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:g.count}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:s(g.revenue)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(g.margin)} ${o(g.margin)}`,children:i(g.margin)})})]},g.priority))})]})})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Top Performing Transport Level"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Object.entries(e.tripsByTransportLevel).sort(([,g],[,v])=>v.revenue-g.revenue)[0][0]," generates the highest revenue at"," ",s(Object.entries(e.tripsByTransportLevel).sort(([,g],[,v])=>v.revenue-g.revenue)[0][1].revenue)]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Top Performing Priority Level"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Object.entries(e.tripsByPriority).sort(([,g],[,v])=>v.revenue-g.revenue)[0][0]," priority generates the highest revenue at"," ",s(Object.entries(e.tripsByPriority).sort(([,g],[,v])=>v.revenue-g.revenue)[0][1].revenue)]})]})]})]})]})]})},rG=({data:e,onClose:t,onDownload:r,onShare:n})=>{var I;const[s,i]=x.useState("all"),[o,l]=x.useState("all"),c=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(M),u=M=>`${M.toFixed(1)}%`,d=M=>M>=20?"text-green-600":M>=10?"text-yellow-600":"text-red-600",m=M=>M>=20?"bg-green-100":M>=10?"bg-yellow-100":"bg-red-100",f=M=>{switch(M){case"BLS":return"text-blue-600 bg-blue-100";case"ALS":return"text-purple-600 bg-purple-100";case"CCT":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},h=M=>{switch(M){case"URGENT":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};if(console.log("TCC_DEBUG: CostReport - Component render, data:",e),console.log("TCC_DEBUG: CostReport - data.tripCostBreakdowns:",e==null?void 0:e.tripCostBreakdowns),console.log("TCC_DEBUG: CostReport - typeof data.tripCostBreakdowns:",typeof(e==null?void 0:e.tripCostBreakdowns)),console.log("TCC_DEBUG: CostReport - Array.isArray(data.tripCostBreakdowns):",Array.isArray(e==null?void 0:e.tripCostBreakdowns)),!e||!e.tripCostBreakdowns&&!((I=e.tripCostBreakdowns)!=null&&I.breakdowns))return console.log("TCC_DEBUG: CostReport - Early return due to missing data"),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-500",children:"Loading cost analysis data..."})]})});let p=[];Array.isArray(e.tripCostBreakdowns)?p=e.tripCostBreakdowns:e.tripCostBreakdowns&&Array.isArray(e.tripCostBreakdowns.breakdowns)?p=e.tripCostBreakdowns.breakdowns:p=[],console.log("TCC_DEBUG: CostReport - tripBreakdowns after Array.isArray check:",p),console.log("TCC_DEBUG: CostReport - tripBreakdowns.length:",p.length);const y=p.filter(M=>!(s!=="all"&&M.transportLevel!==s||o!=="all"&&M.priorityLevel!==o));console.log("TCC_DEBUG: CostReport - filteredTrips after filter:",y),console.log("TCC_DEBUG: CostReport - filteredTrips.length:",y.length),console.log("TCC_DEBUG: CostReport - typeof filteredTrips:",typeof y),console.log("TCC_DEBUG: CostReport - Array.isArray(filteredTrips):",Array.isArray(y));const g=y.reduce((M,F)=>M+(F.crewLaborCost||0),0),v=y.reduce((M,F)=>M+(F.vehicleCost||0),0),b=y.reduce((M,F)=>M+(F.fuelCost||0),0),j=y.reduce((M,F)=>M+(F.maintenanceCost||0),0),w=y.reduce((M,F)=>M+(F.overheadCost||0),0),N=[{name:"Crew Labor",value:g,color:"#8884d8"},{name:"Vehicle",value:v,color:"#82ca9d"},{name:"Fuel",value:b,color:"#ffc658"},{name:"Maintenance",value:j,color:"#ff7300"},{name:"Overhead",value:w,color:"#8dd1e1"}],S=y.reduce((M,F)=>{const U=F.transportLevel||"Unknown";return M[U]||(M[U]={totalCost:0,tripCount:0,averageCost:0}),M[U].totalCost+=F.totalCost||0,M[U].tripCount+=1,M},{});Object.keys(S).forEach(M=>{S[M].averageCost=S[M].totalCost/S[M].tripCount});const P=Object.entries(S).map(([M,F])=>({level:M,totalCost:F.totalCost,tripCount:F.tripCount,averageCost:F.averageCost}));console.log("TCC_DEBUG: CostReport - About to filter recentTrips, filteredTrips:",y);const O=y.filter(M=>M.calculatedAt);console.log("TCC_DEBUG: CostReport - tripsWithDates after filter:",O);const A=O.sort((M,F)=>new Date(F.calculatedAt).getTime()-new Date(M.calculatedAt).getTime());console.log("TCC_DEBUG: CostReport - sortedTrips after sort:",A),console.log("TCC_DEBUG: CostReport - About to call slice on sortedTrips, typeof:",typeof A,"Array.isArray:",Array.isArray(A));const k=A.slice(0,10);console.log("TCC_DEBUG: CostReport - slicedTrips after slice:",k);const R=k.reverse();console.log("TCC_DEBUG: CostReport - recentTrips after reverse:",R);const L=R.map((M,F)=>({trip:`Trip ${F+1}`,totalCost:M.totalCost||0,crewLabor:M.crewLaborCost||0,vehicle:M.vehicleCost||0,fuel:M.fuelCost||0,maintenance:M.maintenanceCost||0,overhead:M.overheadCost||0})),T=[...new Set(p.map(M=>M.transportLevel).filter(Boolean))],K=[...new Set(p.map(M=>M.priorityLevel).filter(Boolean))];return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Cost Analysis Report"}),a.jsxs("p",{className:"text-red-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-red-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ms,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(hn,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(tr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Co,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Cost"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:c(e.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Avg Cost/Mile"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:c(e.averageCostPerMile)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($e,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Total Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-purple-900",children:y.length.toLocaleString()})]})]})})]}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Eu,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:s,onChange:M=>i(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"all",children:"All Transport Levels"}),T.map(M=>a.jsx("option",{value:M,children:M},M))]}),a.jsxs("select",{value:o,onChange:M=>l(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"all",children:"All Priorities"}),K.map(M=>a.jsx("option",{value:M,children:M},M))]})]})]})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(sl,{children:[a.jsx(bi,{data:N,cx:"50%",cy:"50%",labelLine:!1,label:({name:M,percent:F})=>`${M} ${(F*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:N.map((M,F)=>a.jsx(Hn,{fill:M.color},`cell-${F}`))}),a.jsx($t,{formatter:M=>[c(M),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(ru,{data:P,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"level"}),a.jsx(qt,{tickFormatter:M=>`$${(M/1e3).toFixed(0)}k`}),a.jsx($t,{formatter:M=>[c(M),"Cost"]}),a.jsx(pr,{}),a.jsx(Wr,{dataKey:"totalCost",fill:"#ef4444",name:"Total Cost"}),a.jsx(Wr,{dataKey:"averageCost",fill:"#f97316",name:"Average Cost per Trip"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Cost Trends (Last 10 Trips)"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(U0,{data:L,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"trip"}),a.jsx(qt,{tickFormatter:M=>`$${(M/1e3).toFixed(0)}k`}),a.jsx($t,{formatter:M=>[c(M),""]}),a.jsx(pr,{}),a.jsx(Hr,{type:"monotone",dataKey:"totalCost",stroke:"#ef4444",strokeWidth:2,name:"Total Cost"}),a.jsx(Hr,{type:"monotone",dataKey:"crewLabor",stroke:"#8884d8",strokeWidth:2,name:"Crew Labor"}),a.jsx(Hr,{type:"monotone",dataKey:"vehicle",stroke:"#82ca9d",strokeWidth:2,name:"Vehicle"}),a.jsx(Hr,{type:"monotone",dataKey:"fuel",stroke:"#ffc658",strokeWidth:2,name:"Fuel"}),a.jsx(Hr,{type:"monotone",dataKey:"maintenance",stroke:"#ff7300",strokeWidth:2,name:"Maintenance"}),a.jsx(Hr,{type:"monotone",dataKey:"overhead",stroke:"#8dd1e1",strokeWidth:2,name:"Overhead"})]})})})]}),e.costCenterBreakdown.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Center Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Center"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.costCenterBreakdown.map(M=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.costCenterName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(M.totalRevenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(M.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(M.grossProfit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(M.profitMargin)} ${d(M.profitMargin)}`,children:u(M.profitMargin)})})]},M.costCenterId))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Trip Cost Breakdowns"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trip ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crew Labor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fuel"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{console.log("TCC_DEBUG: CostReport - About to slice filteredTrips for table, filteredTrips:",y),console.log("TCC_DEBUG: CostReport - typeof filteredTrips for table:",typeof y,"Array.isArray:",Array.isArray(y));const M=y.slice(0,10);return console.log("TCC_DEBUG: CostReport - tableTrips after slice:",M),M.map(F=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[F.tripId.substring(0,8),"..."]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(F.transportLevel)}`,children:F.transportLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(F.priorityLevel)}`,children:F.priorityLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(F.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(F.crewLaborCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(F.vehicleCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(F.fuelCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.calculatedAt).toLocaleDateString()})]},F.id))})()})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Analysis Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Cost Breakdown"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Crew Labor: ",c(g)," (",(g/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Vehicle Costs: ",c(v)," (",(v/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Fuel Costs: ",c(b)," (",(b/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Maintenance: ",c(j)," (",(j/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Overhead: ",c(w)," (",(w/e.totalCost*100).toFixed(1),"%)"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Key Metrics"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Average Cost per Trip: ",c(e.totalCost/y.length)]}),a.jsxs("li",{children:[" Average Cost per Mile: ",c(e.averageCostPerMile)]}),a.jsxs("li",{children:[" Total Trips Analyzed: ",y.length.toLocaleString()]}),a.jsxs("li",{children:[" Highest Cost Category: ",N.sort((M,F)=>F.value-M.value)[0].name]})]})]})]})]})]})]})},nG=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(p),i=p=>`${p.toFixed(1)}%`,o=p=>p>=20?"text-green-600":p>=10?"text-yellow-600":"text-red-600",l=p=>p>=20?"bg-green-100":p>=10?"bg-yellow-100":"bg-red-100",c=e.profitabilityAnalysis.monthlyBreakdown.map(p=>({...p,profitMargin:p.margin})),d=["Jan","Feb","Mar","Apr","May","Jun"].map((y,g)=>({month:y,revenue:e.profitabilityAnalysis.trends.revenue[g]||0,cost:e.profitabilityAnalysis.trends.cost[g]||0,profit:e.profitabilityAnalysis.trends.profit[g]||0,margin:e.profitabilityAnalysis.trends.margin[g]||0})),m=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,y)=>p+y.margin,0)/e.profitabilityAnalysis.monthlyBreakdown.length,f=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,y)=>y.margin>p.margin?y:p),h=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,y)=>y.margin<p.margin?y:p);return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Profitability Analysis Report"}),a.jsxs("p",{className:"text-purple-100 mt-1",children:["Period: ",e.period," - ",e.profitabilityAnalysis.period]}),a.jsxs("p",{className:"text-purple-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-purple-500 hover:bg-purple-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ms,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-purple-500 hover:bg-purple-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(hn,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(tr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(e.profitabilityAnalysis.totalRevenue)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gt,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Cost"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:s(e.profitabilityAnalysis.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:s(e.profitabilityAnalysis.grossProfit)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pd,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${o(e.profitabilityAnalysis.profitMargin)}`,children:i(e.profitabilityAnalysis.profitMargin)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ko,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.profitabilityAnalysis.tripCount.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Revenue/Trip"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.profitabilityAnalysis.averageRevenuePerTrip)})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Cost/Trip"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.profitabilityAnalysis.averageCostPerTrip)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profitability Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(U0,{data:d,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"month"}),a.jsx(qt,{yAxisId:"left"}),a.jsx(qt,{yAxisId:"right",orientation:"right"}),a.jsx($t,{formatter:(p,y)=>[y==="margin"?`${p}%`:s(p),y==="margin"?"Margin":y==="profit"?"Profit":y==="revenue"?"Revenue":"Cost"],labelFormatter:p=>`Month: ${p}`}),a.jsx(pr,{}),a.jsx(Hr,{yAxisId:"left",type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"}),a.jsx(Hr,{yAxisId:"right",type:"monotone",dataKey:"margin",stroke:"#10b981",strokeWidth:2,name:"Margin %"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Analysis"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(z0,{data:d,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"month"}),a.jsx(qt,{tickFormatter:p=>`$${(p/1e3).toFixed(0)}k`}),a.jsx($t,{formatter:p=>[s(p),""],labelFormatter:p=>`Month: ${p}`}),a.jsx(pr,{}),a.jsx(js,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(js,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Profitability Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(ru,{data:c,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"month"}),a.jsx(qt,{yAxisId:"left"}),a.jsx(qt,{yAxisId:"right",orientation:"right"}),a.jsx($t,{formatter:(p,y)=>[y==="profitMargin"?`${p}%`:s(p),y==="profitMargin"?"Margin":y==="profit"?"Profit":y==="revenue"?"Revenue":"Cost"],labelFormatter:p=>`Month: ${p}`}),a.jsx(pr,{}),a.jsx(Wr,{yAxisId:"left",dataKey:"profit",fill:"#3b82f6",name:"Profit"}),a.jsx(Wr,{yAxisId:"right",dataKey:"profitMargin",fill:"#10b981",name:"Margin %"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Breakdown Details"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.profitabilityAnalysis.monthlyBreakdown.map((p,y)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.month}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(p.margin)} ${o(p.margin)}`,children:i(p.margin)})})]},y))})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Best Performing Month"}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:f.month})," achieved the highest profit margin of"," ",a.jsx("span",{className:"font-semibold",children:i(f.margin)})," with"," ",a.jsx("span",{className:"font-semibold",children:s(f.profit)})," in profit from"," ",a.jsx("span",{className:"font-semibold",children:f.tripCount})," trips."]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Areas for Improvement"}),a.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:h.month})," had the lowest profit margin of"," ",a.jsx("span",{className:"font-semibold",children:i(h.margin)}),". Consider analyzing cost drivers and revenue optimization strategies."]})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Overall Performance Summary"}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:a.jsxs("p",{className:"text-sm text-blue-800",children:["Average profit margin across all months: ",a.jsx("span",{className:"font-semibold",children:i(m)}),". Total profit generated: ",a.jsx("span",{className:"font-semibold",children:s(e.profitabilityAnalysis.grossProfit)})," from"," ",a.jsx("span",{className:"font-semibold",children:e.profitabilityAnalysis.tripCount})," trips over the period."]})})]})]})]})]})},aG=({data:e,onClose:t,onDownload:r,onShare:n})=>{const[s,i]=x.useState(""),[o,l]=x.useState("all"),[c,u]=x.useState(new Set(["costAnalysis"])),[d,m]=x.useState("csv"),f=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(N),h=N=>new Date(N).toLocaleString(),p=N=>{const S=new Set(c);S.has(N)?S.delete(N):S.add(N),u(S)},y=[{id:"all",name:"All Data",count:3,description:"Complete dataset including all analysis"},{id:"costAnalysis",name:"Cost Analysis",count:1,description:"Financial cost breakdown and metrics"},{id:"profitabilityAnalysis",name:"Profitability Analysis",count:1,description:"Profit margins and trends"},{id:"tripCostBreakdowns",name:"Trip Details",count:e.tripCostBreakdowns.length,description:"Individual trip cost breakdowns"}],g=y.filter(N=>N.name.toLowerCase().includes(s.toLowerCase())||N.description.toLowerCase().includes(s.toLowerCase())),v=N=>{switch(N){case"costAnalysis":return a.jsx(Nv,{className:"h-5 w-5 text-blue-600"});case"profitabilityAnalysis":return a.jsx(Pn,{className:"h-5 w-5 text-green-600"});case"tripCostBreakdowns":return a.jsx(Ko,{className:"h-5 w-5 text-purple-600"});default:return a.jsx(Pn,{className:"h-5 w-5 text-gray-600"})}},b=()=>e.costAnalysis?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Financial Summary"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Total Revenue: ",f(e.costAnalysis.totalRevenue||0)]}),a.jsxs("li",{children:["Total Cost: ",f(e.costAnalysis.totalCost||0)]}),a.jsxs("li",{children:["Gross Profit: ",f(e.costAnalysis.grossProfit||0)]}),a.jsxs("li",{children:["Profit Margin: ",(e.costAnalysis.averageProfitMargin||0).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Operational Metrics"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Total Trips: ",(e.costAnalysis.totalTrips||0).toLocaleString()]}),a.jsxs("li",{children:["Avg Revenue/Mile: ",f(e.costAnalysis.averageRevenuePerMile||0)]}),a.jsxs("li",{children:["Avg Cost/Mile: ",f(e.costAnalysis.averageCostPerMile||0)]}),a.jsxs("li",{children:["Utilization Rate: ",((e.costAnalysis.averageUtilizationRate||0)*100).toFixed(1),"%"]})]})]})]})}):a.jsx("p",{className:"text-gray-500",children:"No cost analysis data available"}),j=()=>{var N;return e.profitabilityAnalysis?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Period Summary"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Period: ",e.profitabilityAnalysis.period||"N/A"]}),a.jsxs("li",{children:["Total Revenue: ",f(e.profitabilityAnalysis.totalRevenue||0)]}),a.jsxs("li",{children:["Total Cost: ",f(e.profitabilityAnalysis.totalCost||0)]}),a.jsxs("li",{children:["Gross Profit: ",f(e.profitabilityAnalysis.grossProfit||0)]}),a.jsxs("li",{children:["Profit Margin: ",(e.profitabilityAnalysis.profitMargin||0).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Trip Metrics"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Trip Count: ",(e.profitabilityAnalysis.tripCount||0).toLocaleString()]}),a.jsxs("li",{children:["Avg Revenue/Trip: ",f(e.profitabilityAnalysis.averageRevenuePerTrip||0)]}),a.jsxs("li",{children:["Avg Cost/Trip: ",f(e.profitabilityAnalysis.averageCostPerTrip||0)]}),a.jsxs("li",{children:["Monthly Breakdown: ",((N=e.profitabilityAnalysis.monthlyBreakdown)==null?void 0:N.length)||0," months"]})]})]})]})}):a.jsx("p",{className:"text-gray-500",children:"No profitability analysis data available"})},w=()=>!e.tripCostBreakdowns||e.tripCostBreakdowns.length===0?a.jsx("p",{className:"text-gray-500",children:"No trip cost breakdown data available"}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Trip Summary"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[e.tripCostBreakdowns.length," trip records available with detailed cost breakdowns"]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Trip ID"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Level"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Profit"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.tripCostBreakdowns.slice(0,10).map((N,S)=>{var P;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[((P=N.tripId)==null?void 0:P.substring(0,8))||"N/A","..."]}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.transportLevel||"N/A"}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.priorityLevel||"N/A"}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(N.totalRevenue||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(N.totalCost||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(N.grossProfit||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.calculatedAt?new Date(N.calculatedAt).toLocaleDateString():"N/A"})]},N.id||S)})})]}),e.tripCostBreakdowns.length>10&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-center",children:["Showing first 10 of ",e.tripCostBreakdowns.length," records"]})]})]});return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Data Export Report"}),a.jsx("p",{className:"text-gray-100 mt-1",children:"Comprehensive financial data export"}),a.jsxs("p",{className:"text-gray-100 text-sm",children:["Generated: ",h(e.exportDate)]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ms,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(hn,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(tr,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Options"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Tu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search data types...",value:s,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-gray-500 focus:border-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Eu,{className:"h-4 w-4 text-gray-500"}),a.jsx("select",{value:o,onChange:N=>l(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:y.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{value:d,onChange:N=>m(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(N=>a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[v(N.id),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:N.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[N.count," records"]})]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:N.id})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:N.description})]},N.id))}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("costAnalysis"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Nv,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Cost Analysis Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Financial cost breakdown and metrics"})]})]}),c.has("costAnalysis")?a.jsx(No,{className:"h-5 w-5 text-gray-400"}):a.jsx(Xs,{className:"h-5 w-5 text-gray-400"})]}),c.has("costAnalysis")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:b()})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("profitabilityAnalysis"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Pn,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Profitability Analysis Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Profit margins and trends"})]})]}),c.has("profitabilityAnalysis")?a.jsx(No,{className:"h-5 w-5 text-gray-400"}):a.jsx(Xs,{className:"h-5 w-5 text-gray-400"})]}),c.has("profitabilityAnalysis")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:j()})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("tripCostBreakdowns"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ko,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Trip Cost Breakdowns"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.tripCostBreakdowns.length," individual trip records"]})]})]}),c.has("tripCostBreakdowns")?a.jsx(No,{className:"h-5 w-5 text-gray-400"}):a.jsx(Xs,{className:"h-5 w-5 text-gray-400"})]}),c.has("tripCostBreakdowns")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:w()})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Data Overview"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Total Records: ",e.tripCostBreakdowns.length+2]}),a.jsx("li",{children:" Data Types: 3 (Cost Analysis, Profitability, Trip Details)"}),a.jsxs("li",{children:[" Export Format: ",d.toUpperCase()]}),a.jsxs("li",{children:[" Generated: ",h(e.exportDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Export Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[a.jsx(hn,{className:"h-4 w-4 mr-2"}),"Download ",d.toUpperCase()," Export"]}),a.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:[a.jsx(ms,{className:"h-4 w-4 mr-2"}),"Share Export Link"]})]})]})]})]})]})]})},sG=()=>{console.log("TCC_DEBUG: FinancialDashboard - Component rendering");const[e,t]=x.useState("overview"),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,m]=x.useState([]),[f,h]=x.useState([]),[p,y]=x.useState("month"),[g]=x.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),v=[{id:"overview",name:"Financial Overview",icon:xt},{id:"revenue",name:"Revenue Analysis",icon:Gt},{id:"costs",name:"Cost Analysis",icon:Co},{id:"profitability",name:"Profitability",icon:pd},{id:"billing",name:"Reports",icon:Pn}];x.useEffect(()=>{b()},[p,g]);const b=async()=>{var C,B,G,Q,he;try{n(!0),i(null),console.log("TCC_DEBUG: FinancialDashboard.loadFinancialData() fetching analytics",{period:p,startDate:g.start,endDate:g.end});const[Y,oe,le]=await Promise.all([ci.getCostAnalysis({startDate:g.start,endDate:g.end}),ci.getProfitability({period:p}),j2.getCostBreakdowns({limit:50})]);(C=Y.data)!=null&&C.success&&l(Y.data.data),(B=oe.data)!=null&&B.success&&u(oe.data.data),(G=le.data)!=null&&G.success&&m(le.data.data)}catch(Y){console.error("Error loading financial data:",Y),i(((he=(Q=Y.response)==null?void 0:Q.data)==null?void 0:he.error)||"Failed to load financial data")}finally{n(!1)}},j=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(C),w=C=>`${C.toFixed(1)}%`,N=C=>C>=20?"text-green-600":C>=10?"text-yellow-600":"text-red-600",S=C=>C>=20?"bg-green-100":C>=10?"bg-yellow-100":"bg-red-100",P=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const C={period:p,dateRange:g,totalRevenue:o.totalRevenue,totalCost:o.totalCost,grossProfit:o.grossProfit,averageProfitMargin:o.averageProfitMargin,totalTrips:o.totalTrips,averageRevenuePerMile:o.averageRevenuePerMile,averageCostPerMile:o.averageCostPerMile,averageUtilizationRate:o.averageUtilizationRate,generatedAt:new Date().toISOString()};L("financial-summary","Financial Summary Report",C)},O=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const C={period:p,dateRange:g,tripsByTransportLevel:o.tripsByTransportLevel,tripsByPriority:o.tripsByPriority,averageRevenuePerMile:o.averageRevenuePerMile,generatedAt:new Date().toISOString()};L("revenue","Revenue Analysis Report",C)},A=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const C={period:p,dateRange:g,totalCost:o.totalCost,averageCostPerMile:o.averageCostPerMile,costCenterBreakdown:o.costCenterBreakdown,tripCostBreakdowns:((d==null?void 0:d.breakdowns)||d||[]).slice(0,50),generatedAt:new Date().toISOString()};L("cost","Cost Analysis Report",C)},k=()=>{if(!c){alert("No profitability data available. Please refresh the data first.");return}const C={period:p,profitabilityAnalysis:c,generatedAt:new Date().toISOString()};L("profitability","Profitability Analysis Report",C)},R=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const C={costAnalysis:o,profitabilityAnalysis:c,tripCostBreakdowns:((d==null?void 0:d.breakdowns)||d||[]).slice(0,100),exportDate:new Date().toISOString()};L("export-data","Financial Data Export",C)},L=(C,B,G)=>{const Q={id:`${C}-${Date.now()}`,type:C,name:B,data:G,generatedAt:new Date().toISOString(),isOpen:!0};h(he=>[Q,...he])},T=C=>{h(B=>B.map(G=>G.id===C?{...G,isOpen:!1}:G))},K=C=>{h(B=>B.filter(G=>G.id!==C))},I=C=>{const B=f.find(G=>G.id===C);if(B)try{let G,Q,he;B.type==="export-data"?(G=M(B.data),Q="text/csv",he="csv"):(G=JSON.stringify(B.data,null,2),Q="application/json",he="json");const Y=new Blob([G],{type:Q}),oe=window.URL.createObjectURL(Y),le=document.createElement("a");le.href=oe,le.download=`${B.name}_${new Date().toISOString().split("T")[0]}.${he}`,document.body.appendChild(le),le.click(),document.body.removeChild(le),window.URL.revokeObjectURL(oe)}catch(G){console.error("Error downloading report:",G),alert("Error downloading report. Please try again.")}},M=C=>{const B=[];return C.costAnalysis&&(B.push("=== COST ANALYSIS ==="),B.push("Metric,Value"),B.push(`Total Revenue,${C.costAnalysis.totalRevenue||0}`),B.push(`Total Cost,${C.costAnalysis.totalCost||0}`),B.push(`Gross Profit,${C.costAnalysis.grossProfit||0}`),B.push(`Average Profit Margin,${C.costAnalysis.averageProfitMargin||0}%`),B.push(`Total Trips,${C.costAnalysis.totalTrips||0}`),B.push(`Average Revenue per Mile,${C.costAnalysis.averageRevenuePerMile||0}`),B.push(`Average Cost per Mile,${C.costAnalysis.averageCostPerMile||0}`),B.push(`Average Utilization Rate,${C.costAnalysis.averageUtilizationRate||0}%`),B.push("")),C.profitabilityAnalysis&&(B.push("=== PROFITABILITY ANALYSIS ==="),B.push("Metric,Value"),B.push(`Period,${C.profitabilityAnalysis.period||"N/A"}`),B.push(`Total Revenue,${C.profitabilityAnalysis.totalRevenue||0}`),B.push(`Total Cost,${C.profitabilityAnalysis.totalCost||0}`),B.push(`Gross Profit,${C.profitabilityAnalysis.grossProfit||0}`),B.push(`Profit Margin,${C.profitabilityAnalysis.profitMargin||0}%`),B.push(`Trip Count,${C.profitabilityAnalysis.tripCount||0}`),B.push(`Average Revenue per Trip,${C.profitabilityAnalysis.averageRevenuePerTrip||0}`),B.push(`Average Cost per Trip,${C.profitabilityAnalysis.averageCostPerTrip||0}`),B.push("")),C.tripCostBreakdowns&&C.tripCostBreakdowns.length>0&&(B.push("=== TRIP COST BREAKDOWNS ==="),B.push("Trip ID,Transport Level,Priority,Total Revenue,Total Cost,Gross Profit,Profit Margin,Revenue per Mile,Cost per Mile,Calculated At"),C.tripCostBreakdowns.forEach(G=>{B.push([G.tripId||"N/A",G.transportLevel||"N/A",G.priorityLevel||"N/A",G.totalRevenue||0,G.totalCost||0,G.grossProfit||0,G.profitMargin||0,G.revenuePerMile||0,G.costPerMile||0,G.calculatedAt?new Date(G.calculatedAt).toISOString():"N/A"].join(","))})),B.join(`
`)},F=C=>{const B=f.find(G=>G.id===C);B&&alert(`Share link for ${B.name} would be generated here.`)},U=()=>{const C=[],B=["Jan","Feb","Mar","Apr","May","Jun"];for(let G=0;G<B.length;G++){const Q=5e4+G*5e3+Math.random()*1e4,he=35e3+G*3e3+Math.random()*8e3;C.push({month:B[G],revenue:Math.round(Q),cost:Math.round(he),profit:Math.round(Q-he)})}return C},W=()=>[{name:"Crew Labor",value:45e3,color:"#8884d8"},{name:"Vehicle",value:25e3,color:"#82ca9d"},{name:"Fuel",value:15e3,color:"#ffc658"},{name:"Maintenance",value:12e3,color:"#ff7300"},{name:"Overhead",value:18e3,color:"#8dd1e1"}],D=()=>{const C=[],B=["Jan","Feb","Mar","Apr","May","Jun"];for(let G=0;G<B.length;G++){const Q=15+G*2+Math.random()*5;C.push({month:B[G],margin:Math.round(Q*10)/10,profit:Math.round(2e4+G*3e3+Math.random()*5e3)})}return C},q=U(),V=W(),_=D();return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Rt,{className:"h-5 w-5 animate-spin text-blue-600"}),a.jsx("span",{className:"text-gray-600",children:"Loading financial data..."})]})}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(At,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:s}),a.jsx("button",{onClick:b,className:"mt-2 text-sm text-red-600 hover:text-red-500 underline",children:"Try again"})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Comprehensive financial analysis and reporting"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:p,onChange:C=>y(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"week",children:"Last Week"}),a.jsx("option",{value:"month",children:"Last Month"}),a.jsx("option",{value:"quarter",children:"Last Quarter"}),a.jsx("option",{value:"year",children:"Last Year"})]}),a.jsxs("button",{onClick:b,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[a.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:v.map(C=>a.jsx("button",{onClick:()=>{console.log("TCC_DEBUG: FinancialDashboard - Tab clicked:",C.id),t(C.id)},className:`py-2 px-1 border-b-2 font-medium text-sm ${e===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(C.icon,{className:"h-4 w-4 mr-2"}),C.name]})},C.id))})}),e==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.totalRevenue):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Co,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Costs"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.totalCost):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.grossProfit):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xt,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${N((o==null?void 0:o.averageProfitMargin)||0)}`,children:o?w(o.averageProfitMargin):"0.0%"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($e,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:(o==null?void 0:o.totalTrips)||0})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue per Mile"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o?j(o.averageRevenuePerMile):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Utilization Rate"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o?w(o.averageUtilizationRate*100):"0.0%"})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(z0,{data:q,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"month"}),a.jsx(qt,{tickFormatter:C=>`$${(C/1e3).toFixed(0)}k`}),a.jsx($t,{formatter:C=>[j(C),""],labelFormatter:C=>`Month: ${C}`}),a.jsx(pr,{}),a.jsx(js,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(js,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]})]}),e==="revenue"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Revenue Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Transport Level"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(o==null?void 0:o.tripsByTransportLevel)&&Object.entries(o.tripsByTransportLevel).map(([C,B])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.count}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(B.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(B.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(B.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(B.margin)} ${N(B.margin)}`,children:w(B.margin)})})]},C))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Priority Level"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(o==null?void 0:o.tripsByPriority)&&Object.entries(o.tripsByPriority).map(([C,B])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.count}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(B.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(B.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(B.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(B.margin)} ${N(B.margin)}`,children:w(B.margin)})})]},C))})]})})]})]}),e==="costs"&&a.jsxs("div",{className:"space-y-6",children:[console.log("TCC_DEBUG: FinancialDashboard - Rendering Cost Analysis tab"),console.log("TCC_DEBUG: FinancialDashboard - costAnalysis data:",o),console.log("TCC_DEBUG: FinancialDashboard - tripCostBreakdowns:",d),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cost Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(sl,{children:[a.jsx(bi,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:({name:C,percent:B})=>`${C} ${(B*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:V.map((C,B)=>a.jsx(Hn,{fill:C.color},`cell-${B}`))}),a.jsx($t,{formatter:C=>[j(C),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Trip Cost Breakdowns"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trip ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:((d==null?void 0:d.breakdowns)||d||[]).slice(0,10).map(C=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[C.tripId.substring(0,8),"..."]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.transportLevel}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.totalRevenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.grossProfit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(C.profitMargin)} ${N(C.profitMargin)}`,children:w(C.profitMargin)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.calculatedAt).toLocaleDateString()})]},C.id))})]})})]})]}),e==="profitability"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profitability Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profitability Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Bt,{width:"100%",height:"100%",children:a.jsxs(U0,{data:_,children:[a.jsx(Yr,{strokeDasharray:"3 3"}),a.jsx(Xr,{dataKey:"month"}),a.jsx(qt,{yAxisId:"left"}),a.jsx(qt,{yAxisId:"right",orientation:"right"}),a.jsx($t,{formatter:(C,B)=>[B==="margin"?`${C}%`:j(C),B==="margin"?"Margin":"Profit"],labelFormatter:C=>`Month: ${C}`}),a.jsx(pr,{}),a.jsx(Hr,{yAxisId:"left",type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"}),a.jsx(Hr,{yAxisId:"right",type:"monotone",dataKey:"margin",stroke:"#10b981",strokeWidth:2,name:"Margin %"})]})})})]}),(c==null?void 0:c.monthlyBreakdown)&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.monthlyBreakdown.map((C,B)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.month}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(C.margin)} ${N(C.margin)}`,children:w(C.margin)})})]},B))})]})})]})]}),e==="billing"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reports"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Generate Reports"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:P,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Pn,{className:"h-6 w-6 text-blue-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Financial Summary"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Complete financial overview"})]})]}),a.jsxs("button",{onClick:O,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Tt,{className:"h-6 w-6 text-green-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Revenue Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Detailed revenue analysis"})]})]}),a.jsxs("button",{onClick:A,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Co,{className:"h-6 w-6 text-red-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Cost Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Detailed cost breakdown"})]})]}),a.jsxs("button",{onClick:k,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(pd,{className:"h-6 w-6 text-purple-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Profitability Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Profit margin analysis"})]})]}),a.jsxs("button",{onClick:R,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(hn,{className:"h-6 w-6 text-gray-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Export Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Export to CSV format"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Reports"}),f.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Pn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("p",{children:"No reports generated yet"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Generate your first report using the options above"})]}):a.jsx("div",{className:"space-y-4",children:f.map(C=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Pn,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:C.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Generated: ",new Date(C.generatedAt).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>I(C.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Download Report",children:a.jsx(hn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>F(C.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Share Report",children:a.jsx(ms,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>K(C.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Remove Report",children:a.jsx(tr,{className:"h-4 w-4"})})]})]})},C.id))})]})]}),f.filter(C=>C.isOpen).map(C=>a.jsxs("div",{className:"mt-6",children:[C.type==="financial-summary"&&a.jsx(eG,{data:C.data,onClose:()=>T(C.id),onDownload:()=>I(C.id),onShare:()=>F(C.id)}),C.type==="revenue"&&a.jsx(tG,{data:C.data,onClose:()=>T(C.id),onDownload:()=>I(C.id),onShare:()=>F(C.id)}),C.type==="cost"&&a.jsx(rG,{data:C.data,onClose:()=>T(C.id),onDownload:()=>I(C.id),onShare:()=>F(C.id)}),C.type==="profitability"&&a.jsx(nG,{data:C.data,onClose:()=>T(C.id),onDownload:()=>I(C.id),onShare:()=>F(C.id)}),C.type==="export-data"&&a.jsx(aG,{data:C.data,onClose:()=>T(C.id),onDownload:()=>I(C.id),onShare:()=>F(C.id)})]},C.id))]})},IP=({user:e,onTripCreated:t,onCancel:r})=>{const[n,s]=x.useState(1),[i,o]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState(!1),[m,f]=x.useState({diagnosis:[],mobility:[],transportLevel:[],urgency:[],insurance:[],facilities:[],agencies:[],pickupLocations:[]}),[h,p]=x.useState({patientId:"",patientWeight:"",specialNeeds:"",insuranceCompany:"",generateQRCode:!1,fromLocation:e.facilityName||"",pickupLocationId:"",toLocation:"",scheduledTime:new Date().toISOString().slice(0,16),transportLevel:"BLS",urgencyLevel:"Routine",diagnosis:"",mobilityLevel:"Ambulatory",oxygenRequired:!1,monitoringRequired:!1,selectedAgencies:[],notificationRadius:100,notes:""}),[y,g]=x.useState("select"),[v,b]=x.useState(!1),j=[{id:1,name:"Patient Info",icon:fs},{id:2,name:"Trip Details",icon:vt},{id:3,name:"Clinical Info",icon:Av}];x.useEffect(()=>{w()},[]),x.useEffect(()=>{if(h.fromLocation&&m.facilities.length>0){const I=m.facilities.find(M=>M.name===h.fromLocation);I&&S(I.id)}},[h.fromLocation,m.facilities]),x.useEffect(()=>{if(console.log("TCC_DEBUG: Agency loading useEffect triggered",{currentStep:n,fromLocation:h.fromLocation,facilitiesCount:m.facilities.length}),n===4&&h.fromLocation&&m.facilities.length>0){const I=m.facilities.find(M=>M.name===h.fromLocation);console.log("TCC_DEBUG: Selected facility:",I),I&&N(I.id)}},[n,h.fromLocation,m.facilities]);const w=async()=>{try{console.log("TCC_DEBUG: Loading simplified form options for step 1 only...");const I={diagnosis:["Cardiac","Respiratory","Neurological","Trauma"],mobility:["Ambulatory","Wheelchair","Stretcher","Bed-bound"],transportLevel:["BLS","ALS","CCT","Other"],urgency:["Routine","Urgent","Emergent","Critical"],insurance:["Medicare","Medicaid","Private","Self-pay"],facilities:[{id:"1",name:"Test Hospital",type:"HOSPITAL"},{id:"2",name:"General Medical Center",type:"HOSPITAL"},{id:"3",name:"Emergency Care Facility",type:"CLINIC"}],agencies:[],pickupLocations:[]};console.log("TCC_DEBUG: Setting simplified form options:",I),f(I)}catch(I){console.error("Error loading form options:",I)}},N=async I=>{var M;try{if(console.log("TCC_DEBUG: Loading agencies for hospital:",I,"with radius:",h.notificationRadius),!I){console.warn("TCC_DEBUG: No hospital ID provided for agencies"),f(U=>({...U,agencies:[]}));return}const F=await ku.getAgenciesForHospital(I,h.notificationRadius);console.log("TCC_DEBUG: Agencies response:",F.data),(M=F.data)!=null&&M.success&&Array.isArray(F.data.data)?(console.log("TCC_DEBUG: Setting agencies:",F.data.data.length,"agencies"),f(U=>({...U,agencies:F.data.data}))):(console.warn("TCC_DEBUG: Invalid agencies response structure:",F.data),f(U=>({...U,agencies:[]})))}catch(F){console.error("Error loading agencies:",F),f(U=>({...U,agencies:[]}))}},S=async I=>{var M;try{if(b(!0),console.log("TCC_DEBUG: Loading pickup locations for hospital:",I),!I){console.warn("TCC_DEBUG: No hospital ID provided for pickup locations"),f(U=>({...U,pickupLocations:[]}));return}const F=await Z.get(`/api/tcc/pickup-locations/hospital/${I}`);if(console.log("TCC_DEBUG: Pickup locations response:",F.data),(M=F.data)!=null&&M.success&&Array.isArray(F.data.data)){console.log("TCC_DEBUG: Setting pickup locations:",F.data.data.length,"locations");const U=F.data.data.map(W=>({id:W.id||`pickup-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,hospitalId:W.hospitalId||"",name:W.name||"Unnamed Location",description:W.description||"",contactPhone:W.contactPhone||"",contactEmail:W.contactEmail||"",floor:W.floor||"",room:W.room||"",isActive:W.isActive!==void 0?W.isActive:!0,createdAt:W.createdAt||new Date().toISOString(),updatedAt:W.updatedAt||new Date().toISOString(),hospital:W.hospital||W.hospitals||null,hospitals:W.hospitals||W.hospital||null}));console.log("TCC_DEBUG: Transformed pickup locations:",U),f(W=>({...W,pickupLocations:U}))}else console.warn("TCC_DEBUG: Invalid pickup locations response structure:",F.data),f(U=>({...U,pickupLocations:[]}))}catch(F){console.error("Error loading pickup locations:",F),f(U=>({...U,pickupLocations:[]}))}finally{b(!1)}},P=I=>{const{name:M,value:F,type:U}=I.target;if(p(W=>({...W,[M]:U==="checkbox"?I.target.checked:F})),M==="fromLocation"&&F){const W=m.facilities.find(D=>D.name===F);W?S(W.id):(f(D=>({...D,pickupLocations:[]})),p(D=>({...D,pickupLocationId:""})))}if(M==="toLocation"&&F&&y==="select"){const W=m.facilities.find(D=>D.name===F);W&&N(W.id)}},O=I=>{g(I),p(M=>({...M,toLocation:""})),I==="manual"&&f(M=>({...M,agencies:[]}))},A=()=>{const I="P"+Math.random().toString(36).substr(2,8).toUpperCase();p(M=>({...M,patientId:I}))},k=()=>{r&&r()},R=I=>{I==null||I.preventDefault(),console.log("TCC_DEBUG: handleNext called, current step:",n,"total steps:",j.length),n<j.length&&(s(n+1),console.log("TCC_DEBUG: Advanced to step:",n+1))},L=()=>{n>1&&s(n-1)},T=async I=>{var M,F;if(I.preventDefault(),console.log("TCC_DEBUG: handleSubmit called, current step:",n),n<j.length){console.log("TCC_DEBUG: Submission blocked - not on final step");return}o(!0),c(null);try{if(!h.patientId||!h.patientWeight)throw new Error("Please fill in Patient ID and Patient Weight");const U=parseFloat(h.patientWeight);if(isNaN(U)||U<=0)throw new Error("Please enter a valid patient weight");if(!h.fromLocation||!h.pickupLocationId||!h.toLocation||!h.scheduledTime||!h.transportLevel||!h.urgencyLevel)throw new Error("Please fill in all trip details: From Location, Pickup Location, To Location, Scheduled Time, Transport Level, and Urgency Level");if(new Date(h.scheduledTime)<new Date)throw new Error("Scheduled time cannot be in the past");if(!["BLS","ALS","CCT","Other"].includes(h.transportLevel))throw new Error("Invalid transport level");if(!["Routine","Urgent","Emergent","Critical"].includes(h.urgencyLevel))throw new Error("Invalid urgency level");console.log("TCC_DEBUG: Steps 1-3 validation passed:",h),d(!0),setTimeout(()=>{t()},3e3);return}catch(U){console.error("TCC_DEBUG: Trip creation error:",U),c(((F=(M=U.response)==null?void 0:M.data)==null?void 0:F.error)||U.message||"Failed to create transport request")}finally{o(!1)}},K=()=>{switch(n){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(fs,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Patient Information"})]}),a.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Enter patient details. No names or ages for HIPAA compliance."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",name:"patientId",value:h.patientId,onChange:P,required:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter patient ID"}),a.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Generate ID"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Weight (kgs)"}),a.jsx("input",{type:"number",name:"patientWeight",value:h.patientWeight,onChange:P,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter weight in kilograms"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Company"}),a.jsxs("select",{name:"insuranceCompany",value:h.insuranceCompany,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select insurance company"}),m.insurance.map(I=>a.jsx("option",{value:I,children:I},I))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Needs"}),a.jsx("input",{type:"text",name:"specialNeeds",value:h.specialNeeds,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter special needs"})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Trip Details"})]}),a.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Specify origin, destination, and transport requirements."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Location *"}),a.jsxs("select",{name:"fromLocation",value:h.fromLocation,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select origin facility"}),m.facilities.map(I=>a.jsxs("option",{value:I.name,children:[I.name," - ",I.type]},I.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Location *"}),(()=>{try{return a.jsxs("select",{name:"pickupLocationId",value:h.pickupLocationId,onChange:P,required:!0,disabled:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"",children:v?"Loading pickup locations...":"Select pickup location"}),m.pickupLocations&&m.pickupLocations.length>0?m.pickupLocations.map(I=>{try{return console.log("TCC_DEBUG: Rendering pickup location option:",I),!I||!I.id||!I.name?(console.warn("TCC_DEBUG: Invalid pickup location data:",I),null):a.jsxs("option",{value:I.id,children:[I.name," ",I.floor&&`(${I.floor})`]},I.id)}catch(M){return console.error("TCC_DEBUG: Error rendering pickup location option:",M,I),null}}).filter(Boolean):!v&&h.fromLocation&&a.jsx("option",{value:"",disabled:!0,children:"No pickup locations available for this facility"})]})}catch(I){return console.error("TCC_DEBUG: Error rendering pickup location select:",I),a.jsx("div",{className:"w-full px-3 py-2 border border-red-300 rounded-md bg-red-50 text-red-700",children:"Error loading pickup locations. Please refresh the page."})}})(),h.pickupLocationId&&m.pickupLocations&&a.jsx("div",{className:"mt-2 text-sm text-gray-600",children:(()=>{const I=m.pickupLocations.find(M=>M.id===h.pickupLocationId);return I?a.jsxs("div",{children:[I.contactPhone&&a.jsxs("p",{children:[a.jsx("strong",{children:"Contact:"})," ",I.contactPhone]}),I.contactEmail&&a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",I.contactEmail]}),I.room&&a.jsxs("p",{children:[a.jsx("strong",{children:"Room:"})," ",I.room]})]}):null})()})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Location *"}),a.jsxs("div",{className:"flex space-x-4 mb-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"destinationMode",value:"select",checked:y==="select",onChange:I=>O(I.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Select from list"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"destinationMode",value:"manual",checked:y==="manual",onChange:I=>O(I.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Enter manually"})]})]}),y==="select"?a.jsxs("select",{name:"toLocation",value:h.toLocation,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select destination"}),m.facilities.map(I=>a.jsxs("option",{value:I.name,children:[I.name," - ",I.type]},I.id))]}):a.jsx("input",{type:"text",name:"toLocation",value:h.toLocation,onChange:P,required:!0,placeholder:"Enter destination facility name and location",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"}),y==="select"&&m.facilities.length===0&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Loading facilities..."}),y==="manual"&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Enter the full facility name and location (e.g., "Johns Hopkins Hospital, Baltimore, MD")'})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Time *"}),a.jsx("input",{type:"datetime-local",name:"scheduledTime",value:h.scheduledTime,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Level *"}),a.jsx("select",{name:"transportLevel",value:h.transportLevel,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:m.transportLevel.map(I=>a.jsx("option",{value:I,children:I},I))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level *"}),a.jsx("select",{name:"urgencyLevel",value:h.urgencyLevel,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:m.urgency.map(I=>a.jsx("option",{value:I,children:I},I))})]})]})]});case 3:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Av,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Clinical Details"})]}),a.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"Provide clinical information for appropriate transport planning."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Diagnosis"}),a.jsxs("select",{name:"diagnosis",value:h.diagnosis,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:[a.jsx("option",{value:"",children:"Select diagnosis"}),m.diagnosis.map(I=>a.jsx("option",{value:I,children:I},I))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobility Level"}),a.jsx("select",{name:"mobilityLevel",value:h.mobilityLevel,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:m.mobility.map(I=>a.jsx("option",{value:I,children:I},I))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"oxygenRequired",checked:h.oxygenRequired,onChange:P,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Oxygen Required"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"monitoringRequired",checked:h.monitoringRequired,onChange:P,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Continuous Monitoring Required"})]})]})]});default:return null}};return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between",children:j.map((I,M)=>{const F=I.icon,U=n===I.id,W=n>I.id;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${U?"border-blue-500 bg-blue-500 text-white":W?"border-green-500 bg-green-500 text-white":"border-gray-300 bg-white text-gray-400"}`,children:a.jsx(F,{className:"h-5 w-5"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:`text-sm font-medium ${U?"text-blue-600":W?"text-green-600":"text-gray-500"}`,children:I.name})}),M<j.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-4 ${W?"bg-green-500":"bg-gray-300"}`})]},I.id)})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Enhanced Transport Request"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Step ",n," of ",j.length]})]}),a.jsxs("div",{className:"p-6",children:[u&&a.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(De,{className:"h-5 w-5 text-green-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Transport request completed successfully!"}),a.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Patient: ",h.patientId," | From: ",h.fromLocation," | To: ",h.toLocation]}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Redirecting to dashboard in 3 seconds..."})]})]})}),l&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(At,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:l})})]})}),a.jsxs("form",{onSubmit:T,children:[K(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{type:"button",onClick:k,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[a.jsx(tr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"button",onClick:L,disabled:n===1,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(K4,{className:"h-4 w-4 mr-2"}),"Previous"]})]}),n<j.length?a.jsxs("button",{type:"button",onClick:R,className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:["Next",a.jsx(N2,{className:"h-4 w-4 ml-2"})]}):a.jsx("button",{type:"submit",disabled:i,className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:i?"Creating...":"Create Request"})]})]})]})]})]})},iG=({user:e})=>{const t=bu(),r=()=>{t("/dashboard/trips")},n=()=>{t("/dashboard/trips")};return a.jsx("div",{className:"min-h-full bg-gray-100 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Transport Request"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create a new transport request on behalf of a healthcare facility."})]}),a.jsx(IP,{user:e,onTripCreated:r,onCancel:n})]})})},oG=({user:e,onLogout:t})=>{const[r,n]=x.useState(!1),[s,i]=x.useState(null),o=Ei(),l=x.useRef({}),u=(()=>{const f=[{name:"Home",href:"/dashboard",icon:Y4,category:"core"},{name:"Trips",href:"/dashboard/trips",icon:$e,category:"core"},{name:"Hospitals",href:"/dashboard/hospitals",icon:er,category:"core"},{name:"Agencies",href:"/dashboard/agencies",icon:$e,category:"core"}],h=[{name:"Analytics",href:"/dashboard/analytics",icon:xt,category:"analysis"},{name:"Financial",href:"/dashboard/financial",icon:Tt,category:"analysis"}],p=[{name:"Settings",href:"/dashboard/settings",icon:kv,category:"admin"}],y=[];return e.userType==="ADMIN"?{coreOperations:f,analysisReporting:h,administration:p,additionalFeatures:y}:{coreOperations:f,analysisReporting:h,administration:[],additionalFeatures:y}})(),d={settings:{title:"Settings",icon:mn,items:[{name:"User Management",href:"/dashboard/settings",icon:mn},{name:"Notifications",href:"/dashboard/settings/notifications",icon:di},{name:"Backup",href:"/dashboard/settings/backup",icon:mn}]}};x.useEffect(()=>{const f=h=>{if(s&&l.current[s]){const p=l.current[s];p&&!p.contains(h.target)&&i(null)}};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[s]);const m=({menuKey:f,menu:h})=>{const p=s===f,y=h.items.some(g=>o.pathname===g.href||g.href!=="/dashboard"&&o.pathname.startsWith(g.href));return a.jsxs("div",{className:"relative",ref:g=>l.current[f]=g,children:[a.jsxs("button",{onClick:()=>i(p?null:f),className:`${y?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"} flex items-center px-1 py-2 text-sm font-medium border-b-2 border-transparent transition-colors`,children:[a.jsx(h.icon,{className:"mr-2 h-4 w-4"}),h.title,a.jsx(Xs,{className:`ml-1 h-4 w-4 transition-transform ${p?"rotate-180":""}`})]}),p&&a.jsx("div",{className:"absolute top-full left-0 mt-1 w-56 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:a.jsx("div",{className:"py-1",children:h.items.map((g,v)=>{const b=o.pathname===g.href||g.href!=="/dashboard"&&o.pathname.startsWith(g.href);return a.jsxs(na,{to:g.href,className:`${b?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-4 py-2 text-sm`,onClick:()=>i(null),children:[a.jsx(g.icon,{className:`mr-3 h-4 w-4 ${g.color||"text-gray-400 group-hover:text-gray-500"}`}),g.name]},v)})})})]})};return a.jsxs("div",{className:"h-screen flex flex-col overflow-hidden bg-gray-100",children:[a.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200",children:[a.jsxs("div",{className:"md:hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(er,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"TCC"})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",title:"Sign out",children:a.jsx(hd,{className:"h-5 w-5"})})]}),a.jsx("button",{type:"button",className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>n(!r),children:r?a.jsx(tr,{className:"h-6 w-6"}):a.jsx(kv,{className:"h-6 w-6"})})]}),r&&a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-gray-50 border-t border-gray-200",children:[a.jsx("div",{className:"px-3 py-2",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Core Operations"})}),u.coreOperations.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(na,{to:f.href,className:`${h?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-base font-medium rounded-md`,onClick:()=>n(!1),children:[a.jsx(f.icon,{className:`${h?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-5 w-5`}),f.name]},f.name)}),a.jsx("div",{className:"px-3 py-2",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Analysis"})}),u.analysisReporting.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(na,{to:f.href,className:`${h?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-base font-medium rounded-md`,onClick:()=>n(!1),children:[a.jsx(f.icon,{className:`${h?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-5 w-5`}),f.name]},f.name)}),a.jsx("div",{className:"px-3 py-2",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Additional"})}),u.additionalFeatures.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(na,{to:f.href,className:`${h?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-base font-medium rounded-md`,onClick:()=>n(!1),children:[a.jsx(f.icon,{className:`${h?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-5 w-5`}),f.name]},f.name)}),u.administration.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"px-3 py-2",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Administration"})}),a.jsx("div",{className:"px-3 py-2",children:a.jsxs("div",{className:"flex items-center text-gray-600 font-medium",children:[a.jsx(d.settings.icon,{className:"mr-3 h-5 w-5 text-gray-400"}),d.settings.title]})}),d.settings.items.map((f,h)=>{const p=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(na,{to:f.href,className:`${p?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-6 py-2 text-sm font-medium rounded-md ml-4`,onClick:()=>n(!1),children:[a.jsx(f.icon,{className:`${p?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-4 w-4`}),f.name]},h)})]})]})]}),a.jsx("div",{className:"hidden md:block",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(er,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"TCC"})]}),a.jsxs("nav",{className:"flex items-center space-x-8",children:[u.coreOperations.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(na,{to:f.href,className:`${h?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"} flex items-center px-1 py-2 text-sm font-medium border-b-2 border-transparent transition-colors`,children:[a.jsx(f.icon,{className:"mr-2 h-4 w-4"}),f.name]},f.name)}),u.analysisReporting.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(na,{to:f.href,className:`${h?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"} flex items-center px-1 py-2 text-sm font-medium border-b-2 border-transparent transition-colors`,children:[a.jsx(f.icon,{className:"mr-2 h-4 w-4"}),f.name]},f.name)}),u.additionalFeatures.map(f=>{const h=o.pathname===f.href||f.href!=="/dashboard"&&o.pathname.startsWith(f.href);return a.jsxs(na,{to:f.href,className:`${h?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"} flex items-center px-1 py-2 text-sm font-medium border-b-2 border-transparent transition-colors`,children:[a.jsx(f.icon,{className:"mr-2 h-4 w-4"}),f.name]},f.name)}),u.administration.length>0&&a.jsx(m,{menuKey:"settings",menu:d.settings})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e.email})]})}),a.jsxs("button",{onClick:t,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors",title:"Sign out",children:[a.jsx(hd,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})})})]}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:a.jsxs(kh,{children:[a.jsx(Ge,{path:"/",element:a.jsx(t6,{})}),a.jsx(Ge,{path:"/trips",element:a.jsx(n6,{user:e})}),a.jsx(Ge,{path:"/trips/create",element:a.jsx(iG,{user:e})}),a.jsx(Ge,{path:"/analytics",element:a.jsx(y6,{})}),a.jsx(Ge,{path:"/units",element:a.jsx(p6,{})}),a.jsx(Ge,{path:"/hospitals/*",element:a.jsx(a6,{})}),a.jsx(Ge,{path:"/agencies/*",element:a.jsx(s6,{})}),a.jsx(Ge,{path:"/route-optimization",element:a.jsx(g6,{})}),a.jsx(Ge,{path:"/healthcare-portal",element:a.jsx(i6,{})}),a.jsx(Ge,{path:"/ems-dashboard",element:a.jsx(k2,{user:e,onLogout:t})}),a.jsx(Ge,{path:"/settings",element:a.jsx(Dv,{})}),a.jsx(Ge,{path:"/settings/users",element:a.jsx(Dv,{})}),a.jsx(Ge,{path:"/settings/notifications",element:a.jsx(m6,{})}),a.jsx(Ge,{path:"/settings/backup",element:a.jsx(h6,{})}),a.jsx(Ge,{path:"/financial",element:a.jsx(sG,{})}),a.jsx(Ge,{path:"/my-trips",element:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Trips"}),a.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})}),a.jsx(Ge,{path:"/my-assignments",element:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Assignments"}),a.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})})]})})})})})]})},lG=()=>{var Es;const[e,t]=x.useState("dropdowns"),[r,n]=x.useState([]),[s,i]=x.useState(""),[o,l]=x.useState([]),[c,u]=x.useState(!1),[d,m]=x.useState(null),[f,h]=x.useState(null),[p,y]=x.useState(""),[g,v]=x.useState(null),[b,j]=x.useState(""),[w,N]=x.useState([]),[S,P]=x.useState(""),[O,A]=x.useState([]),[k,R]=x.useState(!1),[L,T]=x.useState(null),[K,I]=x.useState(null),[M,F]=x.useState(!1),[U,W]=x.useState(null),[D,q]=x.useState({name:"",description:"",contactPhone:"",contactEmail:"",floor:"",room:""}),[V,_]=x.useState({contactName:"",contactTitle:"",contactEmail:"",contactPhone:"",contactNotes:""}),[C,B]=x.useState(!1),[G,Q]=x.useState(null),[he,Y]=x.useState(null);x.useEffect(()=>{oe()},[]),x.useEffect(()=>{s&&le(s)},[s]),x.useEffect(()=>{ye()},[]),x.useEffect(()=>{S&&de(S)},[S]);const oe=async()=>{try{u(!0);const X=await Z.get("/api/public/categories");X.data.success&&(n(X.data.data),X.data.data.length>0&&i(X.data.data[0]))}catch(X){console.error("Error loading categories:",X),m("Failed to load categories")}finally{u(!1)}},le=async X=>{try{u(!0);const fe=await uo.getByCategory(X);fe.data.success&&l(fe.data.data)}catch(fe){console.error("Error loading options:",fe),m("Failed to load options")}finally{u(!1)}},E=async X=>{if(X.preventDefault(),!(!p.trim()||!s))try{u(!0),(await uo.create({category:s,value:p.trim()})).data.success&&(y(""),h("Option added successfully"),le(s),setTimeout(()=>h(null),3e3))}catch(fe){console.error("Error adding option:",fe),m("Failed to add option")}finally{u(!1)}},$=X=>{v(X),j(X.value)},ee=async X=>{if(X.preventDefault(),!(!g||!b.trim()))try{u(!0),(await uo.update(g.id,{value:b.trim()})).data.success&&(v(null),j(""),h("Option updated successfully"),le(s),setTimeout(()=>h(null),3e3))}catch(fe){console.error("Error updating option:",fe),m("Failed to update option")}finally{u(!1)}},te=async X=>{if(window.confirm("Are you sure you want to delete this option?"))try{u(!0),(await uo.delete(X)).data.success&&(h("Option deleted successfully"),le(s),setTimeout(()=>h(null),3e3))}catch(fe){console.error("Error deleting option:",fe),m("Failed to delete option")}finally{u(!1)}},ye=async()=>{try{R(!0);const X=await Z.get("/api/public/hospitals");X.data.success&&(N(X.data.data),X.data.data.length>0&&P(X.data.data[0].id))}catch(X){console.error("Error loading hospitals:",X),T("Failed to load hospitals")}finally{R(!1)}},de=async X=>{try{R(!0);const fe=await Z.get(`/api/tcc/pickup-locations/hospital/${X}`);fe.data.success&&A(fe.data.data)}catch(fe){console.error("Error loading pickup locations:",fe),T("Failed to load pickup locations")}finally{R(!1)}},it=()=>{W(null),q({name:"",description:"",contactPhone:"",contactEmail:"",floor:"",room:""}),F(!0)},wt=X=>{W(X),q({name:X.name,description:X.description||"",contactPhone:X.contactPhone||"",contactEmail:X.contactEmail||"",floor:X.floor||"",room:X.room||""}),F(!0)},jn=async X=>{var fe,tn;if(X.preventDefault(),!(!D.name.trim()||!S))try{R(!0);const nr={hospitalId:S,name:D.name.trim(),description:D.description.trim()||null,contactPhone:D.contactPhone.trim()||null,contactEmail:D.contactEmail.trim()||null,floor:D.floor.trim()||null,room:D.room.trim()||null};let Ui;U?Ui=await Z.put(`/api/tcc/pickup-locations/${U.id}`,nr):Ui=await Z.post("/api/tcc/pickup-locations",nr),Ui.data.success&&(F(!1),I(U?"Pickup location updated successfully":"Pickup location created successfully"),de(S),setTimeout(()=>I(null),3e3))}catch(nr){console.error("Error saving pickup location:",nr),T(((tn=(fe=nr.response)==null?void 0:fe.data)==null?void 0:tn.error)||"Failed to save pickup location")}finally{R(!1)}},$a=async X=>{var fe,tn;if(window.confirm("Are you sure you want to delete this pickup location?"))try{R(!0),(await Z.delete(`/api/tcc/pickup-locations/${X}`)).data.success&&(I("Pickup location deleted successfully"),de(S),setTimeout(()=>I(null),3e3))}catch(nr){console.error("Error deleting pickup location:",nr),T(((tn=(fe=nr.response)==null?void 0:fe.data)==null?void 0:tn.error)||"Failed to delete pickup location")}finally{R(!1)}},en=X=>{const{name:fe,value:tn}=X.target;_(nr=>({...nr,[fe]:tn}))},ea=async X=>{if(X.preventDefault(),!V.contactName||!V.contactEmail){Q("Contact name and email are required");return}try{B(!0),Q(null),await new Promise(fe=>setTimeout(fe,1e3)),Y("Contact information saved successfully"),setTimeout(()=>Y(null),3e3)}catch(fe){console.error("Error saving contact information:",fe),Q("Failed to save contact information")}finally{B(!1)}},ta=X=>({insurance:"Insurance Companies",diagnosis:"Primary Diagnosis",mobility:"Mobility Levels","transport-level":"Transport Levels",urgency:"Urgency Levels"})[X]||X;return a.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hospital Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage dropdown options and pickup locations for transport request forms"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>t("dropdowns"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="dropdowns"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dropdown Options"}),a.jsx("button",{onClick:()=>t("pickup-locations"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="pickup-locations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pickup Locations"}),a.jsx("button",{onClick:()=>t("main-contact"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="main-contact"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Main Contact"})]})})}),f&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:f})}),d&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("p",{className:"text-red-800",children:d}),a.jsx("button",{onClick:()=>m(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),K&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:K})}),L&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("p",{className:"text-red-800",children:L}),a.jsx("button",{onClick:()=>T(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),e==="dropdowns"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Category"}),a.jsxs("select",{id:"category",value:s,onChange:X=>i(X.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a category..."}),r.map(X=>a.jsx("option",{value:X,children:ta(X)},X))]})]}),s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Add New ",ta(s)]}),a.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p,onChange:X=>y(X.target.value),placeholder:`Enter new ${ta(s).toLowerCase()}...`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("button",{type:"submit",disabled:c||!p.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Adding...":"Add"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Current ",ta(s)]}),c?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):o.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No options found for this category."}),a.jsx("p",{className:"text-sm",children:"Add some options using the form above."})]}):a.jsx("div",{className:"space-y-2",children:o.map(X=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-md",children:(g==null?void 0:g.id)===X.id?a.jsxs("form",{onSubmit:ee,className:"flex items-center gap-2 flex-1",children:[a.jsx("input",{type:"text",value:b,onChange:fe=>j(fe.target.value),className:"flex-1 px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("button",{type:"submit",disabled:c,className:"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50",children:"Save"}),a.jsx("button",{type:"button",onClick:()=>{v(null),j("")},className:"px-3 py-1 bg-gray-500 text-white text-sm rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-900",children:X.value}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>$(X),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit"}),a.jsx("button",{onClick:()=>te(X.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Delete"})]})]})},X.id))})]}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Select a category to manage its dropdown options"}),a.jsx("li",{children:" Add new options using the form above"}),a.jsx("li",{children:' Edit existing options by clicking the "Edit" button'}),a.jsx("li",{children:' Delete options by clicking the "Delete" button'}),a.jsx("li",{children:" Changes will be reflected in the transport request forms immediately"})]})]})]})]}),e==="pickup-locations"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"hospital",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hospital"}),a.jsxs("select",{id:"hospital",value:S,onChange:X=>P(X.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a hospital..."}),w.map(X=>a.jsx("option",{value:X.id,children:X.name},X.id))]})]}),S&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Pickup Locations for ",(Es=w.find(X=>X.id===S))==null?void 0:Es.name]}),a.jsx("button",{onClick:it,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add Pickup Location"})]}),k?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):O.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No pickup locations found for this hospital."}),a.jsx("p",{className:"text-sm",children:"Add some pickup locations using the button above."})]}):a.jsx("div",{className:"space-y-2",children:O.map(X=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-md",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:X.name}),X.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.description}),a.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-500",children:[X.floor&&a.jsxs("span",{children:["Floor: ",X.floor]}),X.room&&a.jsxs("span",{children:["Room: ",X.room]}),X.contactPhone&&a.jsxs("span",{children:["Phone: ",X.contactPhone]}),X.contactEmail&&a.jsxs("span",{children:["Email: ",X.contactEmail]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>wt(X),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit"}),a.jsx("button",{onClick:()=>$a(X.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Delete"})]})]},X.id))})]}),M&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:U?"Edit Pickup Location":"Add New Pickup Location"}),a.jsxs("form",{onSubmit:jn,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Name *"}),a.jsx("input",{type:"text",value:D.name,onChange:X=>q({...D,name:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Emergency Department",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:D.description,onChange:X=>q({...D,description:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional description",rows:2})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor"}),a.jsx("input",{type:"text",value:D.floor,onChange:X=>q({...D,floor:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1st Floor"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room"}),a.jsx("input",{type:"text",value:D.room,onChange:X=>q({...D,room:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Room 101"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),a.jsx("input",{type:"tel",value:D.contactPhone,onChange:X=>q({...D,contactPhone:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),a.jsx("input",{type:"email",value:D.contactEmail,onChange:X=>q({...D,contactEmail:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., ed@hospital.com"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:k||!D.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Saving...":U?"Update":"Create"})]})]})]})})}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Select a hospital to manage its pickup locations"}),a.jsx("li",{children:' Add new pickup locations using the "Add Pickup Location" button'}),a.jsx("li",{children:' Edit existing locations by clicking the "Edit" button'}),a.jsx("li",{children:' Delete locations by clicking the "Delete" button'}),a.jsx("li",{children:" Pickup locations will be available in the trip creation form"})]})]})]}),e==="main-contact"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Main Contact Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Set the main contact person for this facility's administration of the TCC application."})]}),a.jsxs("div",{className:"px-6 py-6",children:[he&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:he})}),G&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsx("p",{className:"text-red-800",children:G})}),a.jsxs("form",{onSubmit:ea,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",value:V.contactName,onChange:en,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter contact name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title/Position"}),a.jsx("input",{type:"text",id:"contactTitle",name:"contactTitle",value:V.contactTitle,onChange:en,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., IT Director, Administrator"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",id:"contactEmail",name:"contactEmail",value:V.contactEmail,onChange:en,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"contact@hospital.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactPhone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",id:"contactPhone",name:"contactPhone",value:V.contactPhone,onChange:en,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(555) 123-4567"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),a.jsx("textarea",{id:"contactNotes",name:"contactNotes",value:V.contactNotes,onChange:en,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Any additional information about this contact person..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{_({contactName:"",contactTitle:"",contactEmail:"",contactPhone:"",contactNotes:""}),Q(null),Y(null)},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Clear"}),a.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":"Save Contact Information"})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" This contact person will be the main administrator for this facility's TCC application"}),a.jsx("li",{children:" They will receive notifications about system updates and important changes"}),a.jsx("li",{children:" This information may be used for support and troubleshooting purposes"}),a.jsx("li",{children:" Ensure the email address is monitored regularly for important communications"})]})]})]})]})},cG=({user:e,onLogout:t})=>{var L;const[r,n]=x.useState("create"),[s,i]=x.useState([]),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,m]=x.useState([{id:"1",patientId:"P001",destination:"General Hospital",transportLevel:"BLS",status:"PENDING",requestTime:"2025-09-07 10:30 AM",priority:"MEDIUM",urgencyLevel:"Urgent"},{id:"2",patientId:"P002",destination:"Rehabilitation Center",transportLevel:"ALS",status:"ACCEPTED",requestTime:"2025-09-07 09:15 AM",priority:"HIGH",urgencyLevel:"Emergent"},{id:"3",patientId:"P003",destination:"Emergency Room",transportLevel:"CCT",status:"IN_PROGRESS",requestTime:"2025-09-07 08:45 AM",priority:"HIGH",urgencyLevel:"Emergent"},{id:"4",patientId:"P004",destination:"Outpatient Clinic",transportLevel:"BLS",status:"COMPLETED",requestTime:"2025-09-07 07:30 AM",priority:"LOW",urgencyLevel:"Routine"}]),[f,h]=x.useState(null),[p,y]=x.useState({}),[g,v]=x.useState(!1);x.useEffect(()=>{j()},[]),x.useEffect(()=>{r==="responses"&&O()},[r]);const b=T=>{switch(T){case"Routine":return"text-black bg-transparent";case"Urgent":return"text-black bg-orange-200";case"Emergent":return"text-black bg-red-200";default:return"text-black bg-transparent"}},j=async()=>{try{const K=(await(await ln(async()=>{const{default:I}=await Promise.resolve().then(()=>on);return{default:I}},void 0)).default.get("/api/trips")).data;if(K!=null&&K.success&&K.data){const I=K.data.map(M=>({id:M.id,patientId:M.patientId||M.patientName||"Unknown",destination:M.toLocation||"Unknown",pickupLocation:M.pickup_locations||null,transportLevel:M.transportLevel||"BLS",status:M.status||"PENDING",requestTime:M.createdAt?new Date(M.createdAt).toLocaleString():"Unknown",priority:M.priority||"MEDIUM",urgencyLevel:M.urgencyLevel||M.priority||"Routine"}));m(I)}}catch(T){console.error("Error loading trips:",T)}},w=T=>{h(T),y({status:T.status,transportLevel:T.transportLevel,urgencyLevel:T.urgencyLevel||T.priority})},N=async()=>{if(f){v(!0);try{await(await ln(async()=>{const{default:K}=await Promise.resolve().then(()=>on);return{default:K}},void 0)).default.put(`/api/trips/${f.id}/status`,{status:p.status,...p.status==="COMPLETED"&&{completionTimestamp:new Date().toISOString()}}),await j(),h(null),y({})}catch(T){console.error("Error updating trip:",T),alert(T.message||"Failed to update trip")}finally{v(!1)}}},S=async T=>{if(confirm("Are you sure you want to mark this trip as completed?")){v(!0);try{await(await ln(async()=>{const{default:I}=await Promise.resolve().then(()=>on);return{default:I}},void 0)).default.put(`/api/trips/${T}/status`,{status:"COMPLETED",completionTimestamp:new Date().toISOString()}),await j()}catch(K){console.error("Error completing trip:",K),alert(K.message||"Failed to complete trip")}finally{v(!1)}}},P=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t()},O=async T=>{u(!0);try{const K=T?`/api/agency-responses?tripId=${T}`:"/api/agency-responses",F=(await(await ln(async()=>{const{default:U}=await Promise.resolve().then(()=>on);return{default:U}},void 0)).default.get(K)).data;F!=null&&F.success&&F.data&&i(F.data)}catch(K){console.error("Error loading agency responses:",K)}finally{u(!1)}},A=async(T,K,I)=>{try{await(await ln(async()=>{const{default:F}=await Promise.resolve().then(()=>on);return{default:F}},void 0)).default.post(`/api/agency-responses/select/${T}`,{agencyResponseId:K,selectionNotes:I||"Selected by healthcare provider"}),await O(T),await j()}catch(M){console.error("Error selecting agency:",M),alert(M.message||"Failed to select agency")}},k=T=>{n("responses"),l(T),O(T.id)},R=T=>{switch(T){case"PENDING":return"text-yellow-600 bg-yellow-100";case"ACCEPTED":return"text-green-600 bg-green-100";case"IN_PROGRESS":return"text-blue-600 bg-blue-100";case"COMPLETED":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};try{return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx(er,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e.facilityName||"Healthcare Facility"}),a.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[((L=e.facilityType)==null?void 0:L.toLowerCase())||"Healthcare","  Healthcare Portal"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(C2,{user:e}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:e.name})]}),a.jsxs("button",{onClick:P,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[a.jsx(hd,{className:"h-4 w-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"trips",name:"Transport Requests",icon:gt},{id:"responses",name:"Agency Responses",icon:di},{id:"create",name:"Create Request",icon:pn},{id:"hospital-settings",name:"Hospital Settings",icon:er}].map(T=>{const K=T.icon;return a.jsxs("button",{onClick:()=>n(T.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${r===T.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(K,{className:"h-4 w-4"}),a.jsx("span",{children:T.name})]},T.id)})})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="trips"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(gt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Requests"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:d.filter(T=>(T.status||"PENDING")==="PENDING").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(De,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Today"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:d.filter(T=>(T.status||"PENDING")==="COMPLETED").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-red-500",children:a.jsx(wv,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"High Priority"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:d.filter(T=>(T.urgencyLevel||T.priority||"Routine")==="Emergent"||(T.priority||"MEDIUM")==="HIGH").length})]})})]})})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transport Requests"})}),a.jsx("div",{className:"p-6",children:d.length>0?a.jsx("div",{className:"space-y-4",children:d.map(T=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Patient ID: ",T.patientId||"Unknown"," - ",T.destination||"Unknown"]}),a.jsxs("p",{className:"text-xs text-blue-600",children:["Pickup: ",T.destination||"Unknown"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[T.transportLevel||"BLS","  ",T.urgencyLevel||T.priority||"Routine","  ",T.requestTime||"Unknown"]})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(T.status||"PENDING")}`,children:T.status||"PENDING"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(T.urgencyLevel||T.priority||"Routine")}`,children:T.urgencyLevel||T.priority||"Routine"}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>k(T),className:"text-purple-600 hover:text-purple-900 text-xs px-2 py-1 rounded hover:bg-purple-50",children:"View Responses"}),a.jsx("button",{onClick:()=>w(T),className:"text-blue-600 hover:text-blue-900 text-xs px-2 py-1 rounded hover:bg-blue-50",disabled:g,children:"Edit"}),T.status!=="COMPLETED"&&a.jsx("button",{onClick:()=>S(T.id),className:"text-green-600 hover:text-green-900 text-xs px-2 py-1 rounded hover:bg-green-50",disabled:g,children:"Complete"})]})]})]},T.id))}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"No transport requests found"})})})]})]}),r==="create"&&a.jsx("div",{children:a.jsx(IP,{user:e,onTripCreated:()=>{j(),n("overview")},onCancel:()=>{n("overview")}})}),r==="responses"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Agency Responses"}),a.jsx("button",{onClick:()=>O(),disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Loading...":"Refresh Responses"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx(di,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Responses"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(De,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Accepted"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.filter(T=>T.response==="ACCEPTED").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-red-500",children:a.jsx(tr,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Declined"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.filter(T=>T.response==="DECLINED").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(gt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Selected"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.filter(T=>T.isSelected).length})]})})]})})})]}),o&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-blue-900",children:["Viewing Responses for: ",o.patientId]}),a.jsxs("p",{className:"text-sm text-blue-700",children:[o.fromLocation,"  ",o.toLocation,"  ",o.transportLevel,"  ",o.urgencyLevel||o.priority]})]}),a.jsx("button",{onClick:()=>{l(null),O()},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All Responses"})]})}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:o?"Agency Response Details":"All Agency Responses"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:o?"View and manage agency responses for this transport request":"View and manage agency responses for all transport requests"})]}),a.jsx("ul",{className:"divide-y divide-gray-200",children:c?a.jsx("li",{className:"px-4 py-5 sm:px-6",children:a.jsx("div",{className:"text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mr-2"}),"Loading agency responses..."]})})}):s.length===0?a.jsx("li",{className:"px-4 py-5 sm:px-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"No agency responses found. Create a transport request to see responses."})}):s.map(T=>a.jsx("li",{className:"px-4 py-5 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`p-2 rounded-md ${T.response==="ACCEPTED"?"bg-green-100":T.response==="DECLINED"?"bg-red-100":"bg-gray-100"}`,children:T.response==="ACCEPTED"?a.jsx(De,{className:"h-5 w-5 text-green-600"}):T.response==="DECLINED"?a.jsx(tr,{className:"h-5 w-5 text-red-600"}):a.jsx(gt,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Agency ",T.agencyId]}),T.isSelected&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Selected"})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Trip ID: ",T.tripId]}),T.responseNotes&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.responseNotes}),T.estimatedArrival&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ETA: ",new Date(T.estimatedArrival).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.response==="ACCEPTED"?"bg-green-100 text-green-800":T.response==="DECLINED"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:T.response}),T.response==="ACCEPTED"&&!T.isSelected&&a.jsx("button",{onClick:()=>A(T.tripId,T.id),className:"px-3 py-1 bg-green-600 text-white text-xs rounded-md hover:bg-green-700",children:"Select Agency"})]})]})},T.id))})]})]}),r==="hospital-settings"&&a.jsx(lG,{})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Trip Details"}),a.jsxs("form",{onSubmit:T=>{T.preventDefault(),N()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{value:p.status,onChange:T=>y({...p,status:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"ACCEPTED",children:"Accepted"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Level"}),a.jsxs("select",{value:p.transportLevel,onChange:T=>y({...p,transportLevel:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"BLS",children:"BLS - Basic Life Support"}),a.jsx("option",{value:"ALS",children:"ALS - Advanced Life Support"}),a.jsx("option",{value:"CCT",children:"CCT - Critical Care Transport"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),a.jsxs("select",{value:p.urgencyLevel,onChange:T=>y({...p,urgencyLevel:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"Routine",children:"Routine"}),a.jsx("option",{value:"Urgent",children:"Urgent"}),a.jsx("option",{value:"Emergent",children:"Emergent"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{h(null),y({})},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:g?"Updating...":"Update Trip"})]})]})]})})})]})}catch(T){return console.error("HealthcareDashboard render error:",T),a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(wv,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"There was an error loading the healthcare dashboard."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Reload Page"})]})})}},dG=({onRoleSelect:e,onShowRegistration:t,onClearSession:r})=>{const[n,s]=x.useState(!1),i=l=>{s(!0),e(l)},o=()=>{s(!1)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-primary-600 rounded-full flex items-center justify-center",children:a.jsx(er,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome to TCC"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Select your login type to continue"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>i("healthcare"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[a.jsx(er,{className:"h-5 w-5 mr-2"}),"Healthcare Facility Login"]}),a.jsxs("button",{onClick:()=>i("ems"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[a.jsx($e,{className:"h-5 w-5 mr-2"}),"EMS Agency Login"]}),a.jsxs("button",{onClick:()=>i("tcc"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(Ax,{className:"h-5 w-5 mr-2"}),"Transport Center Login"]})]}),a.jsx("div",{className:"mt-8 border-t border-gray-200 pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Don't have an account? Create one for your organization:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>t("healthcare"),className:"w-full flex items-center justify-center px-4 py-2 border border-green-300 text-sm font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[a.jsx(Tv,{className:"h-4 w-4 mr-2"}),"Create Healthcare Facility Account"]}),a.jsxs("button",{onClick:()=>t("ems"),className:"w-full flex items-center justify-center px-4 py-2 border border-orange-300 text-sm font-medium rounded-md text-orange-700 bg-orange-50 hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[a.jsx(Tv,{className:"h-4 w-4 mr-2"}),"Create EMS Agency Account"]})]}),r&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full text-xs text-gray-500 hover:text-gray-700 underline",children:"Clear Session & Start Fresh"})})]})}),n&&a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:o,className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200",children:[a.jsx(xl,{className:"h-4 w-4 mr-1"}),"Back to Selection"]})})]})})},uG=({onBack:e,onSuccess:t})=>{var v,b,j,w,N,S,P,O,A,k,R,L,T,K,I,M;const[r,n]=x.useState({facilityName:"",facilityType:"",contactName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",latitude:"",longitude:"",password:"",confirmPassword:""}),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,m]=x.useState(!1),f=["Hospital","Clinic","Urgent Care","Rehabilitation Facility","Doctor's Office","Dialysis Center","Nursing Home","Assisted Living","Other"],h=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],p=async()=>{if(!r.address||!r.city||!r.state||!r.zipCode){l("Please fill in address, city, state, and ZIP code before looking up coordinates");return}m(!0),l(null);const F=`${r.address}, ${r.city}, ${r.state} ${r.zipCode}`;console.log("TCC_DEBUG: Geocoding address:",F);const U=[F,`${r.address}, ${r.city}, ${r.state}`,`${r.city}, ${r.state}`,`${r.facilityName}, ${r.city}, ${r.state}`],W=[{name:"OpenStreetMap Nominatim",url:D=>`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(D)}&limit=1&addressdetails=1`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}},{name:"OpenStreetMap Nominatim (alt)",url:D=>`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(D)}&format=json&limit=1&addressdetails=1&countrycodes=us`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}}];for(const D of U){console.log(`TCC_DEBUG: Trying address variation: "${D}"`);for(const q of W)try{console.log(`TCC_DEBUG: Trying ${q.name} with "${D}"...`);const V=await fetch(q.url(D),{method:"GET",headers:q.headers,mode:"cors"});if(console.log(`TCC_DEBUG: ${q.name} response status:`,V.status),!V.ok){console.log(`TCC_DEBUG: ${q.name} failed with status:`,V.status);continue}const _=await V.json();if(console.log(`TCC_DEBUG: ${q.name} response data:`,_),_&&_.length>0){const C=_[0];if(console.log(`TCC_DEBUG: ${q.name} result:`,C),C.lat&&C.lon){n(B=>({...B,latitude:C.lat,longitude:C.lon})),l(null),console.log("TCC_DEBUG: Coordinates set successfully:",C.lat,C.lon),m(!1);return}}console.log(`TCC_DEBUG: ${q.name} returned no valid results for "${D}"`)}catch(V){console.log(`TCC_DEBUG: ${q.name} error for "${D}":`,V);continue}}console.log("TCC_DEBUG: All geocoding services failed"),l("Address not found. Please enter coordinates manually or try a different address format."),m(!1)},y=F=>{const{name:U,value:W}=F.target;n(D=>({...D,[U]:W}))},g=async F=>{if(F.preventDefault(),i(!0),l(null),r.password!==r.confirmPassword){l("Passwords do not match"),i(!1);return}if(r.password.length<8){l("Password must be at least 8 characters long"),i(!1);return}if(!r.latitude||!r.longitude){l("Location coordinates are required. Please lookup or enter latitude and longitude."),i(!1);return}const U=parseFloat(r.latitude),W=parseFloat(r.longitude);if(isNaN(U)||isNaN(W)){l("Please enter valid numeric coordinates."),i(!1);return}if(U<-90||U>90){l("Latitude must be between -90 and 90 degrees."),i(!1);return}if(W<-180||W>180){l("Longitude must be between -180 and 180 degrees."),i(!1);return}try{console.log("TCC_DEBUG: Simulating healthcare registration with data:",r),await new Promise(q=>setTimeout(q,1500));const D={success:!0,message:"Healthcare facility registration submitted for approval",user:{id:`healthcare-${Date.now()}`,email:r.email,name:r.contactName,facilityName:r.facilityName,facilityType:r.facilityType,userType:"HEALTHCARE",isActive:!1}};console.log("TCC_DEBUG: Mock healthcare registration successful:",D),u(!0),setTimeout(()=>{t()},2e3)}catch(D){console.error("Healthcare registration error:",D);const q=D.message||"Registration failed. Please try again.";l(q)}finally{i(!1)}};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(De,{className:"mx-auto h-16 w-16 text-green-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Registration Submitted!"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a verification email to ",r.email,". Please check your inbox and click the verification link to activate your account."]}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Your account will be reviewed by our team and approved within 24 hours."})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(er,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create Healthcare Facility Account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Register your healthcare facility to start using TCC"})]}),o&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(mr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Healthcare Facility Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter your healthcare facility details to create an account"})]}),a.jsxs("div",{className:"px-6 py-6",children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Mock Implementation"}),a.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:a.jsx("p",{children:"Healthcare facility registration is currently simulated locally. The form will validate and show success, but the registration won't persist. Backend API endpoint needs to be implemented."})})]})]})}),a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"facilityName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Name *"}),a.jsx("input",{type:"text",id:"facilityName",name:"facilityName",required:!0,value:r.facilityName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter facility name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"facilityType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Type *"}),a.jsxs("select",{id:"facilityType",name:"facilityType",required:!0,value:r.facilityType,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select facility type"}),f.map(F=>a.jsx("option",{value:F,children:F},F))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",required:!0,value:r.contactName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter contact person name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(gl,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter email address"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Au,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:r.phone,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter phone number"})]})]}),a.jsx("div",{})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"address",name:"address",required:!0,value:r.address,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter street address"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",required:!0,value:r.city,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsxs("select",{id:"state",name:"state",required:!0,value:r.state,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"State"}),h.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",required:!0,value:r.zipCode,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"ZIP Code"})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(vt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for agency distance calculations. You can either lookup coordinates automatically or enter them manually."}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Tip:"}),` If the exact address doesn't work, try using just the facility name and city (e.g., "Hurley Medical Center, Flint, MI") or a well-known address format like "123 Main St, City, State 12345"`]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:p,disabled:d||!((v=r.address)!=null&&v.trim())||!((b=r.city)!=null&&b.trim())||!((j=r.state)!=null&&j.trim())||!((w=r.zipCode)!=null&&w.trim()),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${d||!((N=r.address)!=null&&N.trim())||!((S=r.city)!=null&&S.trim())||!((P=r.state)!=null&&P.trim())||!((O=r.zipCode)!=null&&O.trim())?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vt,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),d||!((A=r.address)!=null&&A.trim())||!((k=r.city)!=null&&k.trim())||!((R=r.state)!=null&&R.trim())||!((L=r.zipCode)!=null&&L.trim())?a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d?"Looking up coordinates...":`Please fill in: ${[!((T=r.address)!=null&&T.trim())&&"Address",!((K=r.city)!=null&&K.trim())&&"City",!((I=r.state)!=null&&I.trim())&&"State",!((M=r.zipCode)!=null&&M.trim())&&"ZIP Code"].filter(Boolean).join(", ")}`}):a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from your address"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"latitude",className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",id:"latitude",name:"latitude",value:r.latitude,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"longitude",className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",id:"longitude",name:"longitude",value:r.longitude,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., -78.5678"})]})]}),r.latitude&&r.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:[" Coordinates set: ",r.latitude,", ",r.longitude]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:r.password,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter password (min 8 characters)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Confirm password"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(xl,{className:"h-4 w-4 mr-1 inline"}),"Back to Login Selection"]}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]})]})]})]})]})})},mG=({onBack:e,onSuccess:t})=>{var w,N,S,P,O,A,k,R,L,T,K,I,M,F,U,W;const[r,n]=x.useState({agencyName:"",contactName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",latitude:"",longitude:"",serviceArea:[],capabilities:[],operatingHours:{start:"",end:""},password:"",confirmPassword:""}),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,m]=x.useState(!1),f=["Emergency Medical Services","Non-Emergency Medical Transport","Wheelchair Transport","Critical Care Transport","Neonatal Transport","Pediatric Transport","Bariatric Transport","Air Ambulance","Ground Ambulance","Specialized Medical Transport"],h=["BLS","ALS","CCT","Critical Care","Neonatal","Pediatric","Bariatric","Isolation"],p=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],y=async()=>{if(!r.address||!r.city||!r.state||!r.zipCode){l("Please fill in address, city, state, and ZIP code before looking up coordinates");return}m(!0),l(null);const D=`${r.address}, ${r.city}, ${r.state} ${r.zipCode}`;console.log("TCC_DEBUG: Geocoding address:",D);const q=[D,`${r.address}, ${r.city}, ${r.state}`,`${r.city}, ${r.state}`,`${r.agencyName}, ${r.city}, ${r.state}`],V=[{name:"OpenStreetMap Nominatim",url:_=>`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(_)}&limit=1&addressdetails=1`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}},{name:"OpenStreetMap Nominatim (alt)",url:_=>`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(_)}&format=json&limit=1&addressdetails=1&countrycodes=us`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}}];for(const _ of q){console.log(`TCC_DEBUG: Trying address variation: "${_}"`);for(const C of V)try{console.log(`TCC_DEBUG: Trying ${C.name} with "${_}"...`);const B=await fetch(C.url(_),{method:"GET",headers:C.headers,mode:"cors"});if(console.log(`TCC_DEBUG: ${C.name} response status:`,B.status),!B.ok){console.log(`TCC_DEBUG: ${C.name} failed with status:`,B.status);continue}const G=await B.json();if(console.log(`TCC_DEBUG: ${C.name} response data:`,G),G&&G.length>0){const Q=G[0];if(console.log(`TCC_DEBUG: ${C.name} result:`,Q),Q.lat&&Q.lon){n(he=>({...he,latitude:Q.lat,longitude:Q.lon})),l(null),console.log("TCC_DEBUG: Coordinates set successfully:",Q.lat,Q.lon),m(!1);return}}console.log(`TCC_DEBUG: ${C.name} returned no valid results for "${_}"`)}catch(B){console.log(`TCC_DEBUG: ${C.name} error for "${_}":`,B);continue}}console.log("TCC_DEBUG: All geocoding services failed"),l("Address not found. Please enter coordinates manually or try a different address format."),m(!1)},g=D=>{const{name:q,value:V}=D.target;n(q==="operatingHours.start"||q==="operatingHours.end"?_=>({..._,operatingHours:{..._.operatingHours,[q.split(".")[1]]:V}}):_=>({..._,[q]:V}))},v=D=>{n(q=>({...q,capabilities:q.capabilities.includes(D)?q.capabilities.filter(V=>V!==D):[...q.capabilities,D]}))},b=D=>{n(q=>({...q,serviceArea:q.serviceArea.includes(D)?q.serviceArea.filter(V=>V!==D):[...q.serviceArea,D]}))},j=async D=>{if(D.preventDefault(),i(!0),l(null),r.password!==r.confirmPassword){l("Passwords do not match"),i(!1);return}if(r.password.length<8){l("Password must be at least 8 characters long"),i(!1);return}if(r.serviceArea.length===0){l("Please select at least one service area"),i(!1);return}if(r.capabilities.length===0){l("Please select at least one service capability"),i(!1);return}if(!r.latitude||!r.longitude){l("Location coordinates are required. Please lookup or enter latitude and longitude."),i(!1);return}const q=parseFloat(r.latitude),V=parseFloat(r.longitude);if(isNaN(q)||isNaN(V)){l("Please enter valid numeric coordinates."),i(!1);return}if(q<-90||q>90){l("Latitude must be between -90 and 90 degrees."),i(!1);return}if(V<-180||V>180){l("Longitude must be between -180 and 180 degrees."),i(!1);return}try{console.log("TCC_DEBUG: Simulating EMS agency registration with data:",r),await new Promise(C=>setTimeout(C,1500));const _={success:!0,message:"EMS agency registration submitted for approval",user:{id:`ems-${Date.now()}`,email:r.email,name:r.contactName,agencyName:r.agencyName,userType:"EMS",isActive:!0}};console.log("TCC_DEBUG: Mock EMS agency registration successful:",_),u(!0),setTimeout(()=>{t()},2e3)}catch(_){console.error("EMS registration error:",_);const C=_.message||"Registration failed. Please try again.";l(C)}finally{i(!1)}};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(De,{className:"mx-auto h-16 w-16 text-orange-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Registration Submitted!"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a verification email to ",r.email,". Please check your inbox and click the verification link to activate your account."]}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Your account will be reviewed by our team and approved within 24 hours."})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-orange-600 rounded-full flex items-center justify-center",children:a.jsx($e,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create EMS Agency Account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Register your EMS agency to start using TCC"})]}),o&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(mr,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"EMS Agency Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter your EMS agency details to create an account"})]}),a.jsxs("div",{className:"px-6 py-6",children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Mock Implementation"}),a.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:a.jsx("p",{children:"EMS agency registration is currently simulated locally. The form will validate and show success, but the registration won't persist. Backend API endpoint needs to be implemented."})})]})]})}),a.jsxs("form",{className:"space-y-6",onSubmit:j,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"agencyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency Name *"}),a.jsx("input",{type:"text",id:"agencyName",name:"agencyName",required:!0,value:r.agencyName,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter agency name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",required:!0,value:r.contactName,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter contact person name"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(gl,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter email address"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Au,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:r.phone,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter phone number"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"address",name:"address",required:!0,value:r.address,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter street address"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",required:!0,value:r.city,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsxs("select",{id:"state",name:"state",required:!0,value:r.state,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[a.jsx("option",{value:"",children:"State"}),p.map(D=>a.jsx("option",{value:D,children:D},D))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",required:!0,value:r.zipCode,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"ZIP Code"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Areas * (Select all that apply)"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(D=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:r.serviceArea.includes(D),onChange:()=>b(D),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:D})]},D))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(vt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for distance calculations and agency matching. You can either lookup coordinates automatically or enter them manually."}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Tip:"}),` If the exact address doesn't work, try using just the agency name and city (e.g., "City EMS, Flint, MI") or a well-known address format like "123 Main St, City, State 12345"`]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:y,disabled:d||!((w=r.address)!=null&&w.trim())||!((N=r.city)!=null&&N.trim())||!((S=r.state)!=null&&S.trim())||!((P=r.zipCode)!=null&&P.trim()),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${d||!((O=r.address)!=null&&O.trim())||!((A=r.city)!=null&&A.trim())||!((k=r.state)!=null&&k.trim())||!((R=r.zipCode)!=null&&R.trim())?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vt,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),d||!((L=r.address)!=null&&L.trim())||!((T=r.city)!=null&&T.trim())||!((K=r.state)!=null&&K.trim())||!((I=r.zipCode)!=null&&I.trim())?a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d?"Looking up coordinates...":`Please fill in: ${[!((M=r.address)!=null&&M.trim())&&"Address",!((F=r.city)!=null&&F.trim())&&"City",!((U=r.state)!=null&&U.trim())&&"State",!((W=r.zipCode)!=null&&W.trim())&&"ZIP Code"].filter(Boolean).join(", ")}`}):a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from your address"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",name:"latitude",value:r.latitude,onChange:g,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",name:"longitude",value:r.longitude,onChange:g,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"e.g., -78.5678"})]})]}),r.latitude&&r.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:[" Coordinates set: ",r.latitude,", ",r.longitude]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Capabilities * (Select all that apply)"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(D=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:r.capabilities.includes(D),onChange:()=>v(D),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:D})]},D))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Availability (Optional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHoursStart",className:"block text-xs text-gray-500 mb-1",children:"Start Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(gt,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"time",id:"operatingHoursStart",name:"operatingHours.start",value:r.operatingHours.start,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHoursEnd",className:"block text-xs text-gray-500 mb-1",children:"End Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(gt,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"time",id:"operatingHoursEnd",name:"operatingHours.end",value:r.operatingHours.end,onChange:g,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave blank for 24/7 availability. Specify hours only if you have restrictions (e.g., "Monday-Friday 6 AM - 6 PM")'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:r.password,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter password (min 8 characters)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirm password"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[a.jsx(xl,{className:"h-4 w-4 mr-1 inline"}),"Back to Login Selection"]}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]})]})]})]})]})})},fG=({onBack:e,onLogin:t})=>{const[r,n]=x.useState({email:"",password:""}),[s,i]=x.useState(!1),[o,l]=x.useState(""),c=d=>{const{name:m,value:f}=d.target;n(h=>({...h,[m]:f}))},u=async d=>{var m,f;d.preventDefault(),i(!0),l("");try{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("TCC_DEBUG: Attempting healthcare login with data:",r);const{authAPI:h}=await ln(async()=>{const{authAPI:y}=await Promise.resolve().then(()=>on);return{authAPI:y}},void 0),p=await h.login(r);if(p.data.success){const{user:y,token:g}=p.data;console.log("TCC_DEBUG: Healthcare login successful:",y),localStorage.setItem("token",g),localStorage.setItem("user",JSON.stringify(y)),t(y,g)}else throw new Error(p.data.error||"Login failed")}catch(h){console.error("Healthcare login error:",h);const p=((f=(m=h.response)==null?void 0:m.data)==null?void 0:f.error)||h.message||"Login failed. Please try again.";l(p)}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(er,{className:"h-8 w-8 text-green-600"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Healthcare Facility Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your healthcare facility account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),o&&a.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[a.jsx(At,{className:"h-4 w-4 mr-2"}),o]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:e,className:"flex items-center justify-center text-gray-600 hover:text-gray-800 text-sm",children:[a.jsx(xl,{className:"h-4 w-4 mr-2"}),"Back to Login Options"]})})]})]})})},hG=({onBack:e,onLogin:t})=>{const[r,n]=x.useState({email:"",password:""}),[s,i]=x.useState(!1),[o,l]=x.useState(""),c=d=>{const{name:m,value:f}=d.target;n(h=>({...h,[m]:f}))},u=async d=>{var m,f,h;d.preventDefault(),i(!0),l("");try{localStorage.removeItem("token"),localStorage.removeItem("user");const{authAPI:p}=await ln(async()=>{const{authAPI:g}=await Promise.resolve().then(()=>on);return{authAPI:g}},void 0);console.log("TCC_DEBUG: EMS Login attempt with:",r.email);const y=await p.emsLogin({email:r.email,password:r.password});console.log("TCC_DEBUG: EMS Login response:",y.data),y.data.success?(console.log("TCC_DEBUG: EMS Login successful, calling onLogin with user:",y.data.user),t(y.data.user,y.data.token)):(console.log("TCC_DEBUG: EMS Login failed:",y.data.error),l(y.data.error||"Login failed"))}catch(p){console.error("TCC_DEBUG: EMS login error:",p),console.error("TCC_DEBUG: Error response:",(m=p.response)==null?void 0:m.data);const y=((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||p.message||"Network error. Please try again.";l(y)}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:a.jsx($e,{className:"h-8 w-8 text-orange-600"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"EMS Agency Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your EMS agency account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),o&&a.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[a.jsx(At,{className:"h-4 w-4 mr-2"}),o]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:e,className:"flex items-center justify-center text-gray-600 hover:text-gray-800 text-sm",children:[a.jsx(xl,{className:"h-4 w-4 mr-2"}),"Back to Login Options"]})})]})]})})};class pG extends ol.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,message:(t==null?void 0:t.message)||"Render error"}}componentDidCatch(t,r){console.error("Render error boundary caught:",t,r)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:a.jsxs("div",{className:"bg-white shadow rounded p-6 max-w-xl text-center",children:[a.jsx("h2",{className:"text-lg font-semibold text-red-700",children:"Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:this.state.message})]})}):this.props.children}}function xG(){const[e,t]=x.useState(null),[r,n]=x.useState(!0),[s,i]=x.useState("public");x.useEffect(()=>{const h=async()=>{if(localStorage.getItem("token"))try{const v=await qo.verify();t(v.data.user)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}n(!1)},y=new URLSearchParams(window.location.search).get("register");y==="healthcare"?i("healthcare-register"):y==="ems"&&i("ems-register"),h()},[]);const o=(h,p)=>{console.log("TCC_DEBUG: handleLogin called with userData:",h),console.log("TCC_DEBUG: handleLogin called with token:",p?"present":"missing"),t(h),localStorage.setItem("token",p),localStorage.setItem("user",JSON.stringify(h)),console.log("TCC_DEBUG: User state set, localStorage updated"),h.userType==="ADMIN"||h.userType==="USER"?(console.log("TCC_DEBUG: Redirecting to dashboard for admin/user"),window.location.href="/dashboard"):console.log("TCC_DEBUG: No redirect needed for healthcare/EMS - component should re-render")},l=()=>{t(null),localStorage.removeItem("token"),localStorage.removeItem("user"),i("public")},c=h=>{h==="tcc"?i("login"):h==="healthcare"?i("healthcare-login"):h==="ems"&&i("ems-login")},u=h=>{i(h==="healthcare"?"healthcare-register":"ems-register")},d=()=>{i("public")},m=()=>{i("public")},f=()=>{t(null),localStorage.removeItem("token"),localStorage.removeItem("user"),i("public")};return console.log("TCC_DEBUG: App render - user:",e,"loading:",r),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e?e.userType==="HEALTHCARE"?a.jsx(cG,{user:e,onLogout:l}):e.userType==="EMS"?a.jsx(k2,{user:e,onLogout:l}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs(kh,{children:[a.jsx(Ge,{path:"/dashboard/*",element:a.jsx(oG,{user:e,onLogout:l})}),a.jsx(Ge,{path:"*",element:a.jsx(r5,{to:"/dashboard",replace:!0})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx(kh,{children:a.jsx(Ge,{path:"*",element:a.jsxs(a.Fragment,{children:[s==="public"&&a.jsx(dG,{onRoleSelect:c,onShowRegistration:u,onClearSession:f}),s==="healthcare-register"&&a.jsx(uG,{onBack:m,onSuccess:d}),s==="ems-register"&&a.jsx(mG,{onBack:m,onSuccess:d}),s==="login"&&a.jsx(W4,{onLogin:o}),s==="healthcare-login"&&a.jsx(fG,{onBack:m,onLogin:o}),s==="ems-login"&&a.jsx(hG,{onBack:m,onLogin:o})]})})})})}function gG(){return a.jsx(d5,{children:a.jsx(pG,{children:a.jsx(xG,{})})})}Mf.createRoot(document.getElementById("root")).render(a.jsx(ol.StrictMode,{children:a.jsx(gG,{})}));
