var MP=Object.defineProperty;var DP=(e,t,r)=>t in e?MP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var El=(e,t,r)=>DP(e,typeof t!="symbol"?t+"":t,r);function _P(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function _n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vw={exports:{}},Hu={},bw={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=Symbol.for("react.element"),RP=Symbol.for("react.portal"),IP=Symbol.for("react.fragment"),$P=Symbol.for("react.strict_mode"),BP=Symbol.for("react.profiler"),FP=Symbol.for("react.provider"),UP=Symbol.for("react.context"),zP=Symbol.for("react.forward_ref"),WP=Symbol.for("react.suspense"),HP=Symbol.for("react.memo"),KP=Symbol.for("react.lazy"),B0=Symbol.iterator;function GP(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ww=Object.assign,Nw={};function ci(e,t,r){this.props=e,this.context=t,this.refs=Nw,this.updater=r||jw}ci.prototype.isReactComponent={};ci.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sw(){}Sw.prototype=ci.prototype;function vp(e,t,r){this.props=e,this.context=t,this.refs=Nw,this.updater=r||jw}var bp=vp.prototype=new Sw;bp.constructor=vp;ww(bp,ci.prototype);bp.isPureReactComponent=!0;var F0=Array.isArray,Cw=Object.prototype.hasOwnProperty,jp={current:null},kw={key:!0,ref:!0,__self:!0,__source:!0};function Ew(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Cw.call(t,n)&&!kw.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:qo,type:e,key:i,ref:o,props:s,_owner:jp.current}}function qP(e,t){return{$$typeof:qo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wp(e){return typeof e=="object"&&e!==null&&e.$$typeof===qo}function VP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var U0=/\/+/g;function gm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VP(""+e.key):t.toString(36)}function dc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qo:case RP:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+gm(o,0):n,F0(s)?(r="",e!=null&&(r=e.replace(U0,"$&/")+"/"),dc(s,t,r,"",function(u){return u})):s!=null&&(wp(s)&&(s=qP(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(U0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",F0(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+gm(i,l);o+=dc(i,t,r,c,s)}else if(c=GP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+gm(i,l++),o+=dc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Pl(e,t,r){if(e==null)return e;var n=[],s=0;return dc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function YP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},mc={transition:null},XP={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:mc,ReactCurrentOwner:jp};function Pw(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Pl,forEach:function(e,t,r){Pl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Pl(e,function(){t++}),t},toArray:function(e){return Pl(e,function(t){return t})||[]},only:function(e){if(!wp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=ci;oe.Fragment=IP;oe.Profiler=BP;oe.PureComponent=vp;oe.StrictMode=$P;oe.Suspense=WP;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XP;oe.act=Pw;oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ww({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=jp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Cw.call(t,c)&&!kw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:qo,type:e.type,key:s,ref:i,props:n,_owner:o}};oe.createContext=function(e){return e={$$typeof:UP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FP,_context:e},e.Consumer=e};oe.createElement=Ew;oe.createFactory=function(e){var t=Ew.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:zP,render:e}};oe.isValidElement=wp;oe.lazy=function(e){return{$$typeof:KP,_payload:{_status:-1,_result:e},_init:YP}};oe.memo=function(e,t){return{$$typeof:HP,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=mc.transition;mc.transition={};try{e()}finally{mc.transition=t}};oe.unstable_act=Pw;oe.useCallback=function(e,t){return Rt.current.useCallback(e,t)};oe.useContext=function(e){return Rt.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Rt.current.useEffect(e,t)};oe.useId=function(){return Rt.current.useId()};oe.useImperativeHandle=function(e,t,r){return Rt.current.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Rt.current.useMemo(e,t)};oe.useReducer=function(e,t,r){return Rt.current.useReducer(e,t,r)};oe.useRef=function(e){return Rt.current.useRef(e)};oe.useState=function(e){return Rt.current.useState(e)};oe.useSyncExternalStore=function(e,t,r){return Rt.current.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return Rt.current.useTransition()};oe.version="18.3.1";bw.exports=oe;var g=bw.exports;const Np=_n(g),Aw=_P({__proto__:null,default:Np},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP=g,ZP=Symbol.for("react.element"),JP=Symbol.for("react.fragment"),eA=Object.prototype.hasOwnProperty,tA=QP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rA={key:!0,ref:!0,__self:!0,__source:!0};function Tw(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)eA.call(t,n)&&!rA.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ZP,type:e,key:i,ref:o,props:s,_owner:tA.current}}Hu.Fragment=JP;Hu.jsx=Tw;Hu.jsxs=Tw;vw.exports=Hu;var a=vw.exports,bf={},Ow={exports:{}},mr={},Lw={exports:{}},Mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,H){var k=I.length;I.push(H);e:for(;0<k;){var $=k-1>>>1,z=I[$];if(0<s(z,H))I[$]=H,I[k]=z,k=$;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var H=I[0],k=I.pop();if(k!==H){I[0]=k;e:for(var $=0,z=I.length,L=z>>>1;$<L;){var C=2*($+1)-1,F=I[C],X=C+1,re=I[X];if(0>s(F,k))X<z&&0>s(re,F)?(I[$]=re,I[X]=k,$=X):(I[$]=F,I[C]=k,$=C);else if(X<z&&0>s(re,k))I[$]=re,I[X]=k,$=X;else break e}}return H}function s(I,H){var k=I.sortIndex-H.sortIndex;return k!==0?k:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,m=null,f=3,h=!1,p=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(I){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=I)n(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=r(u)}}function w(I){if(y=!1,j(I),!p)if(r(c)!==null)p=!0,M(N);else{var H=r(u);H!==null&&B(w,H.startTime-I)}}function N(I,H){p=!1,y&&(y=!1,v(O),O=-1),h=!0;var k=f;try{for(j(H),m=r(c);m!==null&&(!(m.expirationTime>H)||I&&!D());){var $=m.callback;if(typeof $=="function"){m.callback=null,f=m.priorityLevel;var z=$(m.expirationTime<=H);H=e.unstable_now(),typeof z=="function"?m.callback=z:m===r(c)&&n(c),j(H)}else n(c);m=r(c)}if(m!==null)var L=!0;else{var C=r(u);C!==null&&B(w,C.startTime-H),L=!1}return L}finally{m=null,f=k,h=!1}}var S=!1,P=null,O=-1,A=5,E=-1;function D(){return!(e.unstable_now()-E<A)}function _(){if(P!==null){var I=e.unstable_now();E=I;var H=!0;try{H=P(!0,I)}finally{H?T():(S=!1,P=null)}}else S=!1}var T;if(typeof b=="function")T=function(){b(_)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,R=K.port2;K.port1.onmessage=_,T=function(){R.postMessage(null)}}else T=function(){x(_,0)};function M(I){P=I,S||(S=!0,T())}function B(I,H){O=x(function(){I(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,M(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var k=f;f=H;try{return I()}finally{f=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var k=f;f=I;try{return H()}finally{f=k}},e.unstable_scheduleCallback=function(I,H,k){var $=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?$+k:$):k=$,I){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=k+z,I={id:d++,callback:H,priorityLevel:I,startTime:k,expirationTime:z,sortIndex:-1},k>$?(I.sortIndex=k,t(u,I),r(c)===null&&I===r(u)&&(y?(v(O),O=-1):y=!0,B(w,k-$))):(I.sortIndex=z,t(c,I),p||h||(p=!0,M(N))),I},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(I){var H=f;return function(){var k=f;f=H;try{return I.apply(this,arguments)}finally{f=k}}}})(Mw);Lw.exports=Mw;var nA=Lw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA=g,ur=nA;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dw=new Set,po={};function ds(e,t){Us(e,t),Us(e+"Capture",t)}function Us(e,t){for(po[e]=t,e=0;e<t.length;e++)Dw.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=Object.prototype.hasOwnProperty,sA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z0={},W0={};function iA(e){return jf.call(W0,e)?!0:jf.call(z0,e)?!1:sA.test(e)?W0[e]=!0:(z0[e]=!0,!1)}function oA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lA(e,t,r,n){if(t===null||typeof t>"u"||oA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function It(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new It(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new It(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new It(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new It(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new It(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new It(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new It(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new It(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new It(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sp=/[\-:]([a-z])/g;function Cp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sp,Cp);gt[t]=new It(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sp,Cp);gt[t]=new It(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sp,Cp);gt[t]=new It(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new It(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new It(e,1,!1,e.toLowerCase(),null,!0,!0)});function kp(e,t,r,n){var s=gt.hasOwnProperty(t)?gt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lA(t,r,s,n)&&(r=null),n||s===null?iA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rn=aA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),vs=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),wf=Symbol.for("react.profiler"),_w=Symbol.for("react.provider"),Rw=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),Ap=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),Iw=Symbol.for("react.offscreen"),H0=Symbol.iterator;function Ai(e){return e===null||typeof e!="object"?null:(e=H0&&e[H0]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,xm;function Gi(e){if(xm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xm=t&&t[1]||""}return`
`+xm+e}var ym=!1;function vm(e,t){if(!e||ym)return"";ym=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ym=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Gi(e):""}function cA(e){switch(e.tag){case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return e=vm(e.type,!1),e;case 11:return e=vm(e.type.render,!1),e;case 1:return e=vm(e.type,!0),e;default:return""}}function Cf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bs:return"Fragment";case vs:return"Portal";case wf:return"Profiler";case Ep:return"StrictMode";case Nf:return"Suspense";case Sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rw:return(e.displayName||"Context")+".Consumer";case _w:return(e._context.displayName||"Context")+".Provider";case Pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ap:return t=e.displayName||null,t!==null?t:Cf(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return Cf(e(t))}catch{}}return null}function uA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(t);case 8:return t===Ep?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function da(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $w(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dA(e){var t=$w(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tl(e){e._valueTracker||(e._valueTracker=dA(e))}function Bw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$w(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ac(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kf(e,t){var r=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function K0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=da(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fw(e,t){t=t.checked,t!=null&&kp(e,"checked",t,!1)}function Ef(e,t){Fw(e,t);var r=da(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Pf(e,t.type,da(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function G0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Pf(e,t,r){(t!=="number"||Ac(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qi=Array.isArray;function Ls(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+da(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Af(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function q0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(qi(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:da(r)}}function Uw(e,t){var r=da(t.value),n=da(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function V0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ol,Ww=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ol=Ol||document.createElement("div"),Ol.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ol.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function go(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mA=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(e){mA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eo[t]=eo[e]})});function Hw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||eo.hasOwnProperty(e)&&eo[e]?(""+t).trim():t+"px"}function Kw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Hw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var fA=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Of(e,t){if(t){if(fA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Lf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=null;function Tp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Df=null,Ms=null,Ds=null;function Y0(e){if(e=Xo(e)){if(typeof Df!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Yu(t),Df(e.stateNode,e.type,t))}}function Gw(e){Ms?Ds?Ds.push(e):Ds=[e]:Ms=e}function qw(){if(Ms){var e=Ms,t=Ds;if(Ds=Ms=null,Y0(e),t)for(e=0;e<t.length;e++)Y0(t[e])}}function Vw(e,t){return e(t)}function Yw(){}var bm=!1;function Xw(e,t,r){if(bm)return e(t,r);bm=!0;try{return Vw(e,t,r)}finally{bm=!1,(Ms!==null||Ds!==null)&&(Yw(),qw())}}function xo(e,t){var r=e.stateNode;if(r===null)return null;var n=Yu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var _f=!1;if(Cn)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){_f=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{_f=!1}function hA(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var to=!1,Tc=null,Oc=!1,Rf=null,pA={onError:function(e){to=!0,Tc=e}};function gA(e,t,r,n,s,i,o,l,c){to=!1,Tc=null,hA.apply(pA,arguments)}function xA(e,t,r,n,s,i,o,l,c){if(gA.apply(this,arguments),to){if(to){var u=Tc;to=!1,Tc=null}else throw Error(Y(198));Oc||(Oc=!0,Rf=u)}}function ms(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function X0(e){if(ms(e)!==e)throw Error(Y(188))}function yA(e){var t=e.alternate;if(!t){if(t=ms(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return X0(s),e;if(i===n)return X0(s),t;i=i.sibling}throw Error(Y(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function Zw(e){return e=yA(e),e!==null?Jw(e):null}function Jw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jw(e);if(t!==null)return t;e=e.sibling}return null}var eN=ur.unstable_scheduleCallback,Q0=ur.unstable_cancelCallback,vA=ur.unstable_shouldYield,bA=ur.unstable_requestPaint,Ue=ur.unstable_now,jA=ur.unstable_getCurrentPriorityLevel,Op=ur.unstable_ImmediatePriority,tN=ur.unstable_UserBlockingPriority,Lc=ur.unstable_NormalPriority,wA=ur.unstable_LowPriority,rN=ur.unstable_IdlePriority,Ku=null,nn=null;function NA(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ku,e,void 0,(e.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:kA,SA=Math.log,CA=Math.LN2;function kA(e){return e>>>=0,e===0?32:31-(SA(e)/CA|0)|0}var Ll=64,Ml=4194304;function Vi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Vi(l):(i&=o,i!==0&&(n=Vi(i)))}else o=r&~s,o!==0?n=Vi(o):i!==0&&(n=Vi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kr(t),s=1<<r,n|=e[r],t&=~s;return n}function EA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Kr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=EA(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function If(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nN(){var e=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),e}function jm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kr(t),e[t]=r}function AA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Kr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Lp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ge=0;function aN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sN,Mp,iN,oN,lN,$f=!1,Dl=[],ta=null,ra=null,na=null,yo=new Map,vo=new Map,Yn=[],TA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z0(e,t){switch(e){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(t.pointerId)}}function Oi(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Xo(t),t!==null&&Mp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function OA(e,t,r,n,s){switch(t){case"focusin":return ta=Oi(ta,e,t,r,n,s),!0;case"dragenter":return ra=Oi(ra,e,t,r,n,s),!0;case"mouseover":return na=Oi(na,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return yo.set(i,Oi(yo.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,vo.set(i,Oi(vo.get(i)||null,e,t,r,n,s)),!0}return!1}function cN(e){var t=Ma(e.target);if(t!==null){var r=ms(t);if(r!==null){if(t=r.tag,t===13){if(t=Qw(r),t!==null){e.blockedOn=t,lN(e.priority,function(){iN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mf=n,r.target.dispatchEvent(n),Mf=null}else return t=Xo(r),t!==null&&Mp(t),e.blockedOn=r,!1;t.shift()}return!0}function J0(e,t,r){fc(e)&&r.delete(t)}function LA(){$f=!1,ta!==null&&fc(ta)&&(ta=null),ra!==null&&fc(ra)&&(ra=null),na!==null&&fc(na)&&(na=null),yo.forEach(J0),vo.forEach(J0)}function Li(e,t){e.blockedOn===t&&(e.blockedOn=null,$f||($f=!0,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,LA)))}function bo(e){function t(s){return Li(s,e)}if(0<Dl.length){Li(Dl[0],e);for(var r=1;r<Dl.length;r++){var n=Dl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ta!==null&&Li(ta,e),ra!==null&&Li(ra,e),na!==null&&Li(na,e),yo.forEach(t),vo.forEach(t),r=0;r<Yn.length;r++)n=Yn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yn.length&&(r=Yn[0],r.blockedOn===null);)cN(r),r.blockedOn===null&&Yn.shift()}var _s=Rn.ReactCurrentBatchConfig,Dc=!0;function MA(e,t,r,n){var s=ge,i=_s.transition;_s.transition=null;try{ge=1,Dp(e,t,r,n)}finally{ge=s,_s.transition=i}}function DA(e,t,r,n){var s=ge,i=_s.transition;_s.transition=null;try{ge=4,Dp(e,t,r,n)}finally{ge=s,_s.transition=i}}function Dp(e,t,r,n){if(Dc){var s=Bf(e,t,r,n);if(s===null)Om(e,t,n,_c,r),Z0(e,n);else if(OA(s,e,t,r,n))n.stopPropagation();else if(Z0(e,n),t&4&&-1<TA.indexOf(e)){for(;s!==null;){var i=Xo(s);if(i!==null&&sN(i),i=Bf(e,t,r,n),i===null&&Om(e,t,n,_c,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Om(e,t,n,null,r)}}var _c=null;function Bf(e,t,r,n){if(_c=null,e=Tp(n),e=Ma(e),e!==null)if(t=ms(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _c=e,null}function uN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jA()){case Op:return 1;case tN:return 4;case Lc:case wA:return 16;case rN:return 536870912;default:return 16}default:return 16}}var Zn=null,_p=null,hc=null;function dN(){if(hc)return hc;var e,t=_p,r=t.length,n,s="value"in Zn?Zn.value:Zn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return hc=s.slice(e,1<n?1-n:void 0)}function pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function ey(){return!1}function fr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_l:ey,this.isPropagationStopped=ey,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),t}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=fr(ui),Yo=Re({},ui,{view:0,detail:0}),_A=fr(Yo),wm,Nm,Mi,Gu=Re({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(wm=e.screenX-Mi.screenX,Nm=e.screenY-Mi.screenY):Nm=wm=0,Mi=e),wm)},movementY:function(e){return"movementY"in e?e.movementY:Nm}}),ty=fr(Gu),RA=Re({},Gu,{dataTransfer:0}),IA=fr(RA),$A=Re({},Yo,{relatedTarget:0}),Sm=fr($A),BA=Re({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),FA=fr(BA),UA=Re({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zA=fr(UA),WA=Re({},ui,{data:0}),ry=fr(WA),HA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GA[e])?!!t[e]:!1}function Ip(){return qA}var VA=Re({},Yo,{key:function(e){if(e.key){var t=HA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(e){return e.type==="keypress"?pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YA=fr(VA),XA=Re({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ny=fr(XA),QA=Re({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),ZA=fr(QA),JA=Re({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),eT=fr(JA),tT=Re({},Gu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rT=fr(tT),nT=[9,13,27,32],$p=Cn&&"CompositionEvent"in window,ro=null;Cn&&"documentMode"in document&&(ro=document.documentMode);var aT=Cn&&"TextEvent"in window&&!ro,mN=Cn&&(!$p||ro&&8<ro&&11>=ro),ay=" ",sy=!1;function fN(e,t){switch(e){case"keyup":return nT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function sT(e,t){switch(e){case"compositionend":return hN(t);case"keypress":return t.which!==32?null:(sy=!0,ay);case"textInput":return e=t.data,e===ay&&sy?null:e;default:return null}}function iT(e,t){if(js)return e==="compositionend"||!$p&&fN(e,t)?(e=dN(),hc=_p=Zn=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mN&&t.locale!=="ko"?null:t.data;default:return null}}var oT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oT[e.type]:t==="textarea"}function pN(e,t,r,n){Gw(n),t=Rc(t,"onChange"),0<t.length&&(r=new Rp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var no=null,jo=null;function lT(e){kN(e,0)}function qu(e){var t=Ss(e);if(Bw(t))return e}function cT(e,t){if(e==="change")return t}var gN=!1;if(Cn){var Cm;if(Cn){var km="oninput"in document;if(!km){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),km=typeof oy.oninput=="function"}Cm=km}else Cm=!1;gN=Cm&&(!document.documentMode||9<document.documentMode)}function ly(){no&&(no.detachEvent("onpropertychange",xN),jo=no=null)}function xN(e){if(e.propertyName==="value"&&qu(jo)){var t=[];pN(t,jo,e,Tp(e)),Xw(lT,t)}}function uT(e,t,r){e==="focusin"?(ly(),no=t,jo=r,no.attachEvent("onpropertychange",xN)):e==="focusout"&&ly()}function dT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu(jo)}function mT(e,t){if(e==="click")return qu(t)}function fT(e,t){if(e==="input"||e==="change")return qu(t)}function hT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yr=typeof Object.is=="function"?Object.is:hT;function wo(e,t){if(Yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!jf.call(t,s)||!Yr(e[s],t[s]))return!1}return!0}function cy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uy(e,t){var r=cy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cy(r)}}function yN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vN(){for(var e=window,t=Ac();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ac(e.document)}return t}function Bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pT(e){var t=vN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yN(r.ownerDocument.documentElement,r)){if(n!==null&&Bp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=uy(r,i);var o=uy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gT=Cn&&"documentMode"in document&&11>=document.documentMode,ws=null,Ff=null,ao=null,Uf=!1;function dy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uf||ws==null||ws!==Ac(n)||(n=ws,"selectionStart"in n&&Bp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ao&&wo(ao,n)||(ao=n,n=Rc(Ff,"onSelect"),0<n.length&&(t=new Rp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ws)))}function Rl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ns={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},Em={},bN={};Cn&&(bN=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Vu(e){if(Em[e])return Em[e];if(!Ns[e])return e;var t=Ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bN)return Em[e]=t[r];return e}var jN=Vu("animationend"),wN=Vu("animationiteration"),NN=Vu("animationstart"),SN=Vu("transitionend"),CN=new Map,my="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(e,t){CN.set(e,t),ds(t,[e])}for(var Pm=0;Pm<my.length;Pm++){var Am=my[Pm],xT=Am.toLowerCase(),yT=Am[0].toUpperCase()+Am.slice(1);xa(xT,"on"+yT)}xa(jN,"onAnimationEnd");xa(wN,"onAnimationIteration");xa(NN,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(SN,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function fy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,xA(n,t,void 0,e),e.currentTarget=null}function kN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;fy(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;fy(s,l,u),i=c}}}if(Oc)throw e=Rf,Oc=!1,Rf=null,e}function Ne(e,t){var r=t[Gf];r===void 0&&(r=t[Gf]=new Set);var n=e+"__bubble";r.has(n)||(EN(t,e,2,!1),r.add(n))}function Tm(e,t,r){var n=0;t&&(n|=4),EN(r,e,n,t)}var Il="_reactListening"+Math.random().toString(36).slice(2);function No(e){if(!e[Il]){e[Il]=!0,Dw.forEach(function(r){r!=="selectionchange"&&(vT.has(r)||Tm(r,!1,e),Tm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Il]||(t[Il]=!0,Tm("selectionchange",!1,t))}}function EN(e,t,r,n){switch(uN(t)){case 1:var s=MA;break;case 4:s=DA;break;default:s=Dp}r=s.bind(null,t,r,e),s=void 0,!_f||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Om(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ma(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Xw(function(){var u=i,d=Tp(r),m=[];e:{var f=CN.get(e);if(f!==void 0){var h=Rp,p=e;switch(e){case"keypress":if(pc(r)===0)break e;case"keydown":case"keyup":h=YA;break;case"focusin":p="focus",h=Sm;break;case"focusout":p="blur",h=Sm;break;case"beforeblur":case"afterblur":h=Sm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ty;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=IA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ZA;break;case jN:case wN:case NN:h=FA;break;case SN:h=eT;break;case"scroll":h=_A;break;case"wheel":h=rT;break;case"copy":case"cut":case"paste":h=zA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ny}var y=(t&4)!==0,x=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var b=u,j;b!==null;){j=b;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,v!==null&&(w=xo(b,v),w!=null&&y.push(So(b,w,j)))),x)break;b=b.return}0<y.length&&(f=new h(f,p,null,r,d),m.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==Mf&&(p=r.relatedTarget||r.fromElement)&&(Ma(p)||p[kn]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?Ma(p):null,p!==null&&(x=ms(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=ty,w="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=ny,w="onPointerLeave",v="onPointerEnter",b="pointer"),x=h==null?f:Ss(h),j=p==null?f:Ss(p),f=new y(w,b+"leave",h,r,d),f.target=x,f.relatedTarget=j,w=null,Ma(d)===u&&(y=new y(v,b+"enter",p,r,d),y.target=j,y.relatedTarget=x,w=y),x=w,h&&p)t:{for(y=h,v=p,b=0,j=y;j;j=gs(j))b++;for(j=0,w=v;w;w=gs(w))j++;for(;0<b-j;)y=gs(y),b--;for(;0<j-b;)v=gs(v),j--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=gs(y),v=gs(v)}y=null}else y=null;h!==null&&hy(m,f,h,y,!1),p!==null&&x!==null&&hy(m,x,p,y,!0)}}e:{if(f=u?Ss(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var N=cT;else if(iy(f))if(gN)N=fT;else{N=dT;var S=uT}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=mT);if(N&&(N=N(e,u))){pN(m,N,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Pf(f,"number",f.value)}switch(S=u?Ss(u):window,e){case"focusin":(iy(S)||S.contentEditable==="true")&&(ws=S,Ff=u,ao=null);break;case"focusout":ao=Ff=ws=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,dy(m,r,d);break;case"selectionchange":if(gT)break;case"keydown":case"keyup":dy(m,r,d)}var P;if($p)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else js?fN(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(mN&&r.locale!=="ko"&&(js||O!=="onCompositionStart"?O==="onCompositionEnd"&&js&&(P=dN()):(Zn=d,_p="value"in Zn?Zn.value:Zn.textContent,js=!0)),S=Rc(u,O),0<S.length&&(O=new ry(O,e,null,r,d),m.push({event:O,listeners:S}),P?O.data=P:(P=hN(r),P!==null&&(O.data=P)))),(P=aT?sT(e,r):iT(e,r))&&(u=Rc(u,"onBeforeInput"),0<u.length&&(d=new ry("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=P))}kN(m,t)})}function So(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xo(e,r),i!=null&&n.unshift(So(e,i,s)),i=xo(e,t),i!=null&&n.push(So(e,i,s))),e=e.return}return n}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=xo(r,i),c!=null&&o.unshift(So(r,c,l))):s||(c=xo(r,i),c!=null&&o.push(So(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var bT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function py(e){return(typeof e=="string"?e:""+e).replace(bT,`
`).replace(jT,"")}function $l(e,t,r){if(t=py(t),py(e)!==t&&r)throw Error(Y(425))}function Ic(){}var zf=null,Wf=null;function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(e){return gy.resolve(null).then(e).catch(ST)}:Kf;function ST(e){setTimeout(function(){throw e})}function Lm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),bo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);bo(t)}function aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),tn="__reactFiber$"+di,Co="__reactProps$"+di,kn="__reactContainer$"+di,Gf="__reactEvents$"+di,CT="__reactListeners$"+di,kT="__reactHandles$"+di;function Ma(e){var t=e[tn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kn]||r[tn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xy(e);e!==null;){if(r=e[tn])return r;e=xy(e)}return t}e=r,r=e.parentNode}return null}function Xo(e){return e=e[tn]||e[kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Yu(e){return e[Co]||null}var qf=[],Cs=-1;function ya(e){return{current:e}}function Ce(e){0>Cs||(e.current=qf[Cs],qf[Cs]=null,Cs--)}function we(e,t){Cs++,qf[Cs]=e.current,e.current=t}var ma={},kt=ya(ma),Wt=ya(!1),Ya=ma;function zs(e,t){var r=e.type.contextTypes;if(!r)return ma;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function $c(){Ce(Wt),Ce(kt)}function yy(e,t,r){if(kt.current!==ma)throw Error(Y(168));we(kt,t),we(Wt,r)}function PN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Y(108,uA(e)||"Unknown",s));return Re({},r,n)}function Bc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ma,Ya=kt.current,we(kt,e),we(Wt,Wt.current),!0}function vy(e,t,r){var n=e.stateNode;if(!n)throw Error(Y(169));r?(e=PN(e,t,Ya),n.__reactInternalMemoizedMergedChildContext=e,Ce(Wt),Ce(kt),we(kt,e)):Ce(Wt),we(Wt,r)}var fn=null,Xu=!1,Mm=!1;function AN(e){fn===null?fn=[e]:fn.push(e)}function ET(e){Xu=!0,AN(e)}function va(){if(!Mm&&fn!==null){Mm=!0;var e=0,t=ge;try{var r=fn;for(ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fn=null,Xu=!1}catch(s){throw fn!==null&&(fn=fn.slice(e+1)),eN(Op,va),s}finally{ge=t,Mm=!1}}return null}var ks=[],Es=0,Fc=null,Uc=0,vr=[],br=0,Xa=null,gn=1,xn="";function Pa(e,t){ks[Es++]=Uc,ks[Es++]=Fc,Fc=e,Uc=t}function TN(e,t,r){vr[br++]=gn,vr[br++]=xn,vr[br++]=Xa,Xa=e;var n=gn;e=xn;var s=32-Kr(n)-1;n&=~(1<<s),r+=1;var i=32-Kr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,gn=1<<32-Kr(t)+s|r<<s|n,xn=i+e}else gn=1<<i|r<<s|n,xn=e}function Fp(e){e.return!==null&&(Pa(e,1),TN(e,1,0))}function Up(e){for(;e===Fc;)Fc=ks[--Es],ks[Es]=null,Uc=ks[--Es],ks[Es]=null;for(;e===Xa;)Xa=vr[--br],vr[br]=null,xn=vr[--br],vr[br]=null,gn=vr[--br],vr[br]=null}var or=null,ar=null,Ae=!1,Fr=null;function ON(e,t){var r=Sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function by(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ar=aa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xa!==null?{id:gn,overflow:xn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,ar=null,!0):!1;default:return!1}}function Vf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yf(e){if(Ae){var t=ar;if(t){var r=t;if(!by(e,t)){if(Vf(e))throw Error(Y(418));t=aa(r.nextSibling);var n=or;t&&by(e,t)?ON(n,r):(e.flags=e.flags&-4097|2,Ae=!1,or=e)}}else{if(Vf(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Ae=!1,or=e}}}function jy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function Bl(e){if(e!==or)return!1;if(!Ae)return jy(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hf(e.type,e.memoizedProps)),t&&(t=ar)){if(Vf(e))throw LN(),Error(Y(418));for(;t;)ON(e,t),t=aa(t.nextSibling)}if(jy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ar=aa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=or?aa(e.stateNode.nextSibling):null;return!0}function LN(){for(var e=ar;e;)e=aa(e.nextSibling)}function Ws(){ar=or=null,Ae=!1}function zp(e){Fr===null?Fr=[e]:Fr.push(e)}var PT=Rn.ReactCurrentBatchConfig;function Di(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wy(e){var t=e._init;return t(e._payload)}function MN(e){function t(v,b){if(e){var j=v.deletions;j===null?(v.deletions=[b],v.flags|=16):j.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=la(v,b),v.index=0,v.sibling=null,v}function i(v,b,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<b?(v.flags|=2,b):j):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,j,w){return b===null||b.tag!==6?(b=Fm(j,v.mode,w),b.return=v,b):(b=s(b,j),b.return=v,b)}function c(v,b,j,w){var N=j.type;return N===bs?d(v,b,j.props.children,w,j.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Kn&&wy(N)===b.type)?(w=s(b,j.props),w.ref=Di(v,b,j),w.return=v,w):(w=wc(j.type,j.key,j.props,null,v.mode,w),w.ref=Di(v,b,j),w.return=v,w)}function u(v,b,j,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Um(j,v.mode,w),b.return=v,b):(b=s(b,j.children||[]),b.return=v,b)}function d(v,b,j,w,N){return b===null||b.tag!==7?(b=Wa(j,v.mode,w,N),b.return=v,b):(b=s(b,j),b.return=v,b)}function m(v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Fm(""+b,v.mode,j),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Al:return j=wc(b.type,b.key,b.props,null,v.mode,j),j.ref=Di(v,null,b),j.return=v,j;case vs:return b=Um(b,v.mode,j),b.return=v,b;case Kn:var w=b._init;return m(v,w(b._payload),j)}if(qi(b)||Ai(b))return b=Wa(b,v.mode,j,null),b.return=v,b;Fl(v,b)}return null}function f(v,b,j,w){var N=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(v,b,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Al:return j.key===N?c(v,b,j,w):null;case vs:return j.key===N?u(v,b,j,w):null;case Kn:return N=j._init,f(v,b,N(j._payload),w)}if(qi(j)||Ai(j))return N!==null?null:d(v,b,j,w,null);Fl(v,j)}return null}function h(v,b,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(j)||null,l(b,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Al:return v=v.get(w.key===null?j:w.key)||null,c(b,v,w,N);case vs:return v=v.get(w.key===null?j:w.key)||null,u(b,v,w,N);case Kn:var S=w._init;return h(v,b,j,S(w._payload),N)}if(qi(w)||Ai(w))return v=v.get(j)||null,d(b,v,w,N,null);Fl(b,w)}return null}function p(v,b,j,w){for(var N=null,S=null,P=b,O=b=0,A=null;P!==null&&O<j.length;O++){P.index>O?(A=P,P=null):A=P.sibling;var E=f(v,P,j[O],w);if(E===null){P===null&&(P=A);break}e&&P&&E.alternate===null&&t(v,P),b=i(E,b,O),S===null?N=E:S.sibling=E,S=E,P=A}if(O===j.length)return r(v,P),Ae&&Pa(v,O),N;if(P===null){for(;O<j.length;O++)P=m(v,j[O],w),P!==null&&(b=i(P,b,O),S===null?N=P:S.sibling=P,S=P);return Ae&&Pa(v,O),N}for(P=n(v,P);O<j.length;O++)A=h(P,v,O,j[O],w),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?O:A.key),b=i(A,b,O),S===null?N=A:S.sibling=A,S=A);return e&&P.forEach(function(D){return t(v,D)}),Ae&&Pa(v,O),N}function y(v,b,j,w){var N=Ai(j);if(typeof N!="function")throw Error(Y(150));if(j=N.call(j),j==null)throw Error(Y(151));for(var S=N=null,P=b,O=b=0,A=null,E=j.next();P!==null&&!E.done;O++,E=j.next()){P.index>O?(A=P,P=null):A=P.sibling;var D=f(v,P,E.value,w);if(D===null){P===null&&(P=A);break}e&&P&&D.alternate===null&&t(v,P),b=i(D,b,O),S===null?N=D:S.sibling=D,S=D,P=A}if(E.done)return r(v,P),Ae&&Pa(v,O),N;if(P===null){for(;!E.done;O++,E=j.next())E=m(v,E.value,w),E!==null&&(b=i(E,b,O),S===null?N=E:S.sibling=E,S=E);return Ae&&Pa(v,O),N}for(P=n(v,P);!E.done;O++,E=j.next())E=h(P,v,O,E.value,w),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?O:E.key),b=i(E,b,O),S===null?N=E:S.sibling=E,S=E);return e&&P.forEach(function(_){return t(v,_)}),Ae&&Pa(v,O),N}function x(v,b,j,w){if(typeof j=="object"&&j!==null&&j.type===bs&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Al:e:{for(var N=j.key,S=b;S!==null;){if(S.key===N){if(N=j.type,N===bs){if(S.tag===7){r(v,S.sibling),b=s(S,j.props.children),b.return=v,v=b;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Kn&&wy(N)===S.type){r(v,S.sibling),b=s(S,j.props),b.ref=Di(v,S,j),b.return=v,v=b;break e}r(v,S);break}else t(v,S);S=S.sibling}j.type===bs?(b=Wa(j.props.children,v.mode,w,j.key),b.return=v,v=b):(w=wc(j.type,j.key,j.props,null,v.mode,w),w.ref=Di(v,b,j),w.return=v,v=w)}return o(v);case vs:e:{for(S=j.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(v,b.sibling),b=s(b,j.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=Um(j,v.mode,w),b.return=v,v=b}return o(v);case Kn:return S=j._init,x(v,b,S(j._payload),w)}if(qi(j))return p(v,b,j,w);if(Ai(j))return y(v,b,j,w);Fl(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(v,b.sibling),b=s(b,j),b.return=v,v=b):(r(v,b),b=Fm(j,v.mode,w),b.return=v,v=b),o(v)):r(v,b)}return x}var Hs=MN(!0),DN=MN(!1),zc=ya(null),Wc=null,Ps=null,Wp=null;function Hp(){Wp=Ps=Wc=null}function Kp(e){var t=zc.current;Ce(zc),e._currentValue=t}function Xf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Rs(e,t){Wc=e,Wp=Ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(Wp!==e)if(e={context:e,memoizedValue:t,next:null},Ps===null){if(Wc===null)throw Error(Y(308));Ps=e,Wc.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var Da=null;function Gp(e){Da===null?Da=[e]:Da.push(e)}function _N(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Gp(t)):(r.next=s.next,s.next=r),t.interleaved=r,En(e,n)}function En(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gn=!1;function qp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,En(e,r)}return s=n.interleaved,s===null?(t.next=t,Gp(n)):(t.next=s.next,s.next=t),n.interleaved=t,En(e,r)}function gc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lp(e,r)}}function Ny(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hc(e,t,r,n){var s=e.updateQueue;Gn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,h=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(f=t,h=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){m=p.call(h,m,f);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,m,f):p,f==null)break e;m=Re({},m,f);break e;case 2:Gn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=m):d=d.next=h,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Za|=o,e.lanes=o,e.memoizedState=m}}function Sy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Y(191,s));s.call(n)}}}var Qo={},an=ya(Qo),ko=ya(Qo),Eo=ya(Qo);function _a(e){if(e===Qo)throw Error(Y(174));return e}function Vp(e,t){switch(we(Eo,t),we(ko,e),we(an,Qo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tf(t,e)}Ce(an),we(an,t)}function Ks(){Ce(an),Ce(ko),Ce(Eo)}function IN(e){_a(Eo.current);var t=_a(an.current),r=Tf(t,e.type);t!==r&&(we(ko,e),we(an,r))}function Yp(e){ko.current===e&&(Ce(an),Ce(ko))}var Me=ya(0);function Kc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dm=[];function Xp(){for(var e=0;e<Dm.length;e++)Dm[e]._workInProgressVersionPrimary=null;Dm.length=0}var xc=Rn.ReactCurrentDispatcher,_m=Rn.ReactCurrentBatchConfig,Qa=0,_e=null,Ye=null,st=null,Gc=!1,so=!1,Po=0,AT=0;function yt(){throw Error(Y(321))}function Qp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yr(e[r],t[r]))return!1;return!0}function Zp(e,t,r,n,s,i){if(Qa=i,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xc.current=e===null||e.memoizedState===null?MT:DT,e=r(n,s),so){i=0;do{if(so=!1,Po=0,25<=i)throw Error(Y(301));i+=1,st=Ye=null,t.updateQueue=null,xc.current=_T,e=r(n,s)}while(so)}if(xc.current=qc,t=Ye!==null&&Ye.next!==null,Qa=0,st=Ye=_e=null,Gc=!1,t)throw Error(Y(300));return e}function Jp(){var e=Po!==0;return Po=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?_e.memoizedState=st=e:st=st.next=e,st}function Pr(){if(Ye===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=st===null?_e.memoizedState:st.next;if(t!==null)st=t,Ye=e;else{if(e===null)throw Error(Y(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},st===null?_e.memoizedState=st=e:st=st.next=e}return st}function Ao(e,t){return typeof t=="function"?t(e):t}function Rm(e){var t=Pr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=Ye,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Qa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,_e.lanes|=d,Za|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Yr(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,_e.lanes|=i,Za|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Im(e){var t=Pr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Yr(i,t.memoizedState)||(Ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $N(){}function BN(e,t){var r=_e,n=Pr(),s=t(),i=!Yr(n.memoizedState,s);if(i&&(n.memoizedState=s,Ut=!0),n=n.queue,eg(zN.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,To(9,UN.bind(null,r,n,s,t),void 0,null),ot===null)throw Error(Y(349));Qa&30||FN(r,t,s)}return s}function FN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function UN(e,t,r,n){t.value=r,t.getSnapshot=n,WN(t)&&HN(e)}function zN(e,t,r){return r(function(){WN(t)&&HN(e)})}function WN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yr(e,r)}catch{return!0}}function HN(e){var t=En(e,1);t!==null&&Gr(t,e,1,-1)}function Cy(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=LT.bind(null,_e,e),[t.memoizedState,e]}function To(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function KN(){return Pr().memoizedState}function yc(e,t,r,n){var s=en();_e.flags|=e,s.memoizedState=To(1|t,r,void 0,n===void 0?null:n)}function Qu(e,t,r,n){var s=Pr();n=n===void 0?null:n;var i=void 0;if(Ye!==null){var o=Ye.memoizedState;if(i=o.destroy,n!==null&&Qp(n,o.deps)){s.memoizedState=To(t,r,i,n);return}}_e.flags|=e,s.memoizedState=To(1|t,r,i,n)}function ky(e,t){return yc(8390656,8,e,t)}function eg(e,t){return Qu(2048,8,e,t)}function GN(e,t){return Qu(4,2,e,t)}function qN(e,t){return Qu(4,4,e,t)}function VN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YN(e,t,r){return r=r!=null?r.concat([e]):null,Qu(4,4,VN.bind(null,t,e),r)}function tg(){}function XN(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function QN(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ZN(e,t,r){return Qa&21?(Yr(r,t)||(r=nN(),_e.lanes|=r,Za|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function TT(e,t){var r=ge;ge=r!==0&&4>r?r:4,e(!0);var n=_m.transition;_m.transition={};try{e(!1),t()}finally{ge=r,_m.transition=n}}function JN(){return Pr().memoizedState}function OT(e,t,r){var n=oa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},e1(e))t1(t,r);else if(r=_N(e,t,r,n),r!==null){var s=_t();Gr(r,e,n,s),r1(r,t,n)}}function LT(e,t,r){var n=oa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(e1(e))t1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Yr(l,o)){var c=t.interleaved;c===null?(s.next=s,Gp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=_N(e,t,s,n),r!==null&&(s=_t(),Gr(r,e,n,s),r1(r,t,n))}}function e1(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function t1(e,t){so=Gc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function r1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lp(e,r)}}var qc={readContext:Er,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},MT={readContext:Er,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Er,useEffect:ky,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yc(4194308,4,VN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yc(4194308,4,e,t)},useInsertionEffect:function(e,t){return yc(4,2,e,t)},useMemo:function(e,t){var r=en();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=en();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=OT.bind(null,_e,e),[n.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:Cy,useDebugValue:tg,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=Cy(!1),t=e[0];return e=TT.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_e,s=en();if(Ae){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),ot===null)throw Error(Y(349));Qa&30||FN(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ky(zN.bind(null,n,i,e),[e]),n.flags|=2048,To(9,UN.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=en(),t=ot.identifierPrefix;if(Ae){var r=xn,n=gn;r=(n&~(1<<32-Kr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Po++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=AT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DT={readContext:Er,useCallback:XN,useContext:Er,useEffect:eg,useImperativeHandle:YN,useInsertionEffect:GN,useLayoutEffect:qN,useMemo:QN,useReducer:Rm,useRef:KN,useState:function(){return Rm(Ao)},useDebugValue:tg,useDeferredValue:function(e){var t=Pr();return ZN(t,Ye.memoizedState,e)},useTransition:function(){var e=Rm(Ao)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:$N,useSyncExternalStore:BN,useId:JN,unstable_isNewReconciler:!1},_T={readContext:Er,useCallback:XN,useContext:Er,useEffect:eg,useImperativeHandle:YN,useInsertionEffect:GN,useLayoutEffect:qN,useMemo:QN,useReducer:Im,useRef:KN,useState:function(){return Im(Ao)},useDebugValue:tg,useDeferredValue:function(e){var t=Pr();return Ye===null?t.memoizedState=e:ZN(t,Ye.memoizedState,e)},useTransition:function(){var e=Im(Ao)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:$N,useSyncExternalStore:BN,useId:JN,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Zu={isMounted:function(e){return(e=e._reactInternals)?ms(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_t(),s=oa(e),i=jn(n,s);i.payload=t,r!=null&&(i.callback=r),t=sa(e,i,s),t!==null&&(Gr(t,e,s,n),gc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_t(),s=oa(e),i=jn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=sa(e,i,s),t!==null&&(Gr(t,e,s,n),gc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_t(),n=oa(e),s=jn(r,n);s.tag=2,t!=null&&(s.callback=t),t=sa(e,s,n),t!==null&&(Gr(t,e,n,r),gc(t,e,n))}};function Ey(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!wo(r,n)||!wo(s,i):!0}function n1(e,t,r){var n=!1,s=ma,i=t.contextType;return typeof i=="object"&&i!==null?i=Er(i):(s=Ht(t)?Ya:kt.current,n=t.contextTypes,i=(n=n!=null)?zs(e,s):ma),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Py(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function Zf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},qp(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Er(i):(i=Ht(t)?Ya:kt.current,s.context=zs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qf(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Zu.enqueueReplaceState(s,s.state,null),Hc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gs(e,t){try{var r="",n=t;do r+=cA(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function $m(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var RT=typeof WeakMap=="function"?WeakMap:Map;function a1(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yc||(Yc=!0,ch=n),Jf(e,t)},r}function s1(e,t,r){r=jn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Jf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Jf(e,t),typeof n!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ay(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new RT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=XT.bind(null,e,t,r),t.then(e,e))}function Ty(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Oy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,sa(r,t,1))),r.lanes|=1),e)}var IT=Rn.ReactCurrentOwner,Ut=!1;function At(e,t,r,n){t.child=e===null?DN(t,null,r,n):Hs(t,e.child,r,n)}function Ly(e,t,r,n,s){r=r.render;var i=t.ref;return Rs(t,s),n=Zp(e,t,r,n,i,s),r=Jp(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pn(e,t,s)):(Ae&&r&&Fp(t),t.flags|=1,At(e,t,n,s),t.child)}function My(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!cg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,i1(e,t,i,n,s)):(e=wc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:wo,r(o,n)&&e.ref===t.ref)return Pn(e,t,s)}return t.flags|=1,e=la(i,n),e.ref=t.ref,e.return=t,t.child=e}function i1(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(wo(i,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,Pn(e,t,s)}return eh(e,t,r,n,s)}function o1(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ts,Jt),Jt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Ts,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,we(Ts,Jt),Jt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,we(Ts,Jt),Jt|=n;return At(e,t,s,r),t.child}function l1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function eh(e,t,r,n,s){var i=Ht(r)?Ya:kt.current;return i=zs(t,i),Rs(t,s),r=Zp(e,t,r,n,i,s),n=Jp(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pn(e,t,s)):(Ae&&n&&Fp(t),t.flags|=1,At(e,t,r,s),t.child)}function Dy(e,t,r,n,s){if(Ht(r)){var i=!0;Bc(t)}else i=!1;if(Rs(t,s),t.stateNode===null)vc(e,t),n1(t,r,n),Zf(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=Ht(r)?Ya:kt.current,u=zs(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Py(t,o,n,u),Gn=!1;var f=t.memoizedState;o.state=f,Hc(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Wt.current||Gn?(typeof d=="function"&&(Qf(t,r,d,n),c=t.memoizedState),(l=Gn||Ey(t,r,l,n,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,RN(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ir(t.type,l),o.props=u,m=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=Ht(r)?Ya:kt.current,c=zs(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&Py(t,o,n,c),Gn=!1,f=t.memoizedState,o.state=f,Hc(t,n,o,s);var p=t.memoizedState;l!==m||f!==p||Wt.current||Gn?(typeof h=="function"&&(Qf(t,r,h,n),p=t.memoizedState),(u=Gn||Ey(t,r,u,n,f,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return th(e,t,r,n,i,s)}function th(e,t,r,n,s,i){l1(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&vy(t,r,!1),Pn(e,t,i);n=t.stateNode,IT.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Hs(t,e.child,null,i),t.child=Hs(t,null,l,i)):At(e,t,l,i),t.memoizedState=n.state,s&&vy(t,r,!0),t.child}function c1(e){var t=e.stateNode;t.pendingContext?yy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yy(e,t.context,!1),Vp(e,t.containerInfo)}function _y(e,t,r,n,s){return Ws(),zp(s),t.flags|=256,At(e,t,r,n),t.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function u1(e,t,r){var n=t.pendingProps,s=Me.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),we(Me,s&1),e===null)return Yf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=td(o,n,0,null),e=Wa(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=nh(r),t.memoizedState=rh,e):rg(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $T(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=la(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=la(l,i):(i=Wa(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?nh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=rh,n}return i=e.child,e=i.sibling,n=la(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function rg(e,t){return t=td({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ul(e,t,r,n){return n!==null&&zp(n),Hs(t,e.child,null,r),e=rg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $T(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=$m(Error(Y(422))),Ul(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=td({mode:"visible",children:n.children},s,0,null),i=Wa(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Hs(t,e.child,null,o),t.child.memoizedState=nh(o),t.memoizedState=rh,i);if(!(t.mode&1))return Ul(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Y(419)),n=$m(i,n,void 0),Ul(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ut||l){if(n=ot,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,En(e,s),Gr(n,e,s,-1))}return lg(),n=$m(Error(Y(421))),Ul(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=QT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ar=aa(s.nextSibling),or=t,Ae=!0,Fr=null,e!==null&&(vr[br++]=gn,vr[br++]=xn,vr[br++]=Xa,gn=e.id,xn=e.overflow,Xa=t),t=rg(t,n.children),t.flags|=4096,t)}function Ry(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Xf(e.return,t,r)}function Bm(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function d1(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(At(e,t,n.children,r),n=Me.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,r,t);else if(e.tag===19)Ry(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(we(Me,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Kc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Bm(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Kc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Bm(t,!0,r,null,i);break;case"together":Bm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Za|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=la(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=la(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function BT(e,t,r){switch(t.tag){case 3:c1(t),Ws();break;case 5:IN(t);break;case 1:Ht(t.type)&&Bc(t);break;case 4:Vp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;we(zc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(we(Me,Me.current&1),t.flags|=128,null):r&t.child.childLanes?u1(e,t,r):(we(Me,Me.current&1),e=Pn(e,t,r),e!==null?e.sibling:null);we(Me,Me.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return d1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Me,Me.current),n)break;return null;case 22:case 23:return t.lanes=0,o1(e,t,r)}return Pn(e,t,r)}var m1,ah,f1,h1;m1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ah=function(){};f1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,_a(an.current);var i=null;switch(r){case"input":s=kf(e,s),n=kf(e,n),i=[];break;case"select":s=Re({},s,{value:void 0}),n=Re({},n,{value:void 0}),i=[];break;case"textarea":s=Af(e,s),n=Af(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ic)}Of(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(po.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(po.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};h1=function(e,t,r,n){r!==n&&(t.flags|=4)};function _i(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function FT(e,t,r){var n=t.pendingProps;switch(Up(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Ht(t.type)&&$c(),vt(t),null;case 3:return n=t.stateNode,Ks(),Ce(Wt),Ce(kt),Xp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fr!==null&&(mh(Fr),Fr=null))),ah(e,t),vt(t),null;case 5:Yp(t);var s=_a(Eo.current);if(r=t.type,e!==null&&t.stateNode!=null)f1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return vt(t),null}if(e=_a(an.current),Bl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[tn]=t,n[Co]=i,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<Yi.length;s++)Ne(Yi[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":K0(n,i),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",n);break;case"textarea":q0(n,i),Ne("invalid",n)}Of(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&$l(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$l(n.textContent,l,e),s=["children",""+l]):po.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ne("scroll",n)}switch(r){case"input":Tl(n),G0(n,i,!0);break;case"textarea":Tl(n),V0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ic)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[tn]=t,e[Co]=n,m1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lf(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Yi.length;s++)Ne(Yi[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":K0(e,n),s=kf(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Re({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":q0(e,n),s=Af(e,n),Ne("invalid",e);break;default:s=n}Of(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Kw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ww(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&go(e,c):typeof c=="number"&&go(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(po.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ne("scroll",e):c!=null&&kp(e,i,c,o))}switch(r){case"input":Tl(e),G0(e,n,!1);break;case"textarea":Tl(e),V0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+da(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ls(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ls(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ic)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)h1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(r=_a(Eo.current),_a(an.current),Bl(t)){if(n=t.stateNode,r=t.memoizedProps,n[tn]=t,(i=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:$l(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$l(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[tn]=t,t.stateNode=n}return vt(t),null;case 13:if(Ce(Me),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&ar!==null&&t.mode&1&&!(t.flags&128))LN(),Ws(),t.flags|=98560,i=!1;else if(i=Bl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[tn]=t}else Ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),i=!1}else Fr!==null&&(mh(Fr),Fr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Qe===0&&(Qe=3):lg())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return Ks(),ah(e,t),e===null&&No(t.stateNode.containerInfo),vt(t),null;case 10:return Kp(t.type._context),vt(t),null;case 17:return Ht(t.type)&&$c(),vt(t),null;case 19:if(Ce(Me),i=t.memoizedState,i===null)return vt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)_i(i,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Kc(e),o!==null){for(t.flags|=128,_i(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return we(Me,Me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ue()>qs&&(t.flags|=128,n=!0,_i(i,!1),t.lanes=4194304)}else{if(!n)if(e=Kc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ae)return vt(t),null}else 2*Ue()-i.renderingStartTime>qs&&r!==1073741824&&(t.flags|=128,n=!0,_i(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ue(),t.sibling=null,r=Me.current,we(Me,n?r&1|2:r&1),t):(vt(t),null);case 22:case 23:return og(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Jt&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function UT(e,t){switch(Up(t),t.tag){case 1:return Ht(t.type)&&$c(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ks(),Ce(Wt),Ce(kt),Xp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yp(t),null;case 13:if(Ce(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Me),null;case 4:return Ks(),null;case 10:return Kp(t.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}var zl=!1,jt=!1,zT=typeof WeakSet=="function"?WeakSet:Set,Z=null;function As(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(e,t,n)}else r.current=null}function sh(e,t,r){try{r()}catch(n){$e(e,t,n)}}var Iy=!1;function WT(e,t){if(zf=Dc,e=vN(),Bp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var h;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)f=m,m=h;for(;;){if(m===e)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(h=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wf={focusedElem:e,selectionRange:r},Dc=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,x=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ir(t.type,y),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(w){$e(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return p=Iy,Iy=!1,p}function io(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&sh(t,r,i)}s=s.next}while(s!==n)}}function Ju(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ih(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function p1(e){var t=e.alternate;t!==null&&(e.alternate=null,p1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[Co],delete t[Gf],delete t[CT],delete t[kT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function g1(e){return e.tag===5||e.tag===3||e.tag===4}function $y(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ic));else if(n!==4&&(e=e.child,e!==null))for(oh(e,t,r),e=e.sibling;e!==null;)oh(e,t,r),e=e.sibling}function lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lh(e,t,r),e=e.sibling;e!==null;)lh(e,t,r),e=e.sibling}var dt=null,Br=!1;function Hn(e,t,r){for(r=r.child;r!==null;)x1(e,t,r),r=r.sibling}function x1(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ku,r)}catch{}switch(r.tag){case 5:jt||As(r,t);case 6:var n=dt,s=Br;dt=null,Hn(e,t,r),dt=n,Br=s,dt!==null&&(Br?(e=dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(Br?(e=dt,r=r.stateNode,e.nodeType===8?Lm(e.parentNode,r):e.nodeType===1&&Lm(e,r),bo(e)):Lm(dt,r.stateNode));break;case 4:n=dt,s=Br,dt=r.stateNode.containerInfo,Br=!0,Hn(e,t,r),dt=n,Br=s;break;case 0:case 11:case 14:case 15:if(!jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sh(r,t,o),s=s.next}while(s!==n)}Hn(e,t,r);break;case 1:if(!jt&&(As(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$e(r,t,l)}Hn(e,t,r);break;case 21:Hn(e,t,r);break;case 22:r.mode&1?(jt=(n=jt)||r.memoizedState!==null,Hn(e,t,r),jt=n):Hn(e,t,r);break;default:Hn(e,t,r)}}function By(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zT),t.forEach(function(n){var s=ZT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Rr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,Br=!1;break e;case 3:dt=l.stateNode.containerInfo,Br=!0;break e;case 4:dt=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(dt===null)throw Error(Y(160));x1(i,o,s),dt=null,Br=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y1(t,e),t=t.sibling}function y1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rr(t,e),Zr(e),n&4){try{io(3,e,e.return),Ju(3,e)}catch(y){$e(e,e.return,y)}try{io(5,e,e.return)}catch(y){$e(e,e.return,y)}}break;case 1:Rr(t,e),Zr(e),n&512&&r!==null&&As(r,r.return);break;case 5:if(Rr(t,e),Zr(e),n&512&&r!==null&&As(r,r.return),e.flags&32){var s=e.stateNode;try{go(s,"")}catch(y){$e(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Fw(s,i),Lf(l,o);var u=Lf(l,i);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?Kw(s,m):d==="dangerouslySetInnerHTML"?Ww(s,m):d==="children"?go(s,m):kp(s,d,m,u)}switch(l){case"input":Ef(s,i);break;case"textarea":Uw(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Ls(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ls(s,!!i.multiple,i.defaultValue,!0):Ls(s,!!i.multiple,i.multiple?[]:"",!1))}s[Co]=i}catch(y){$e(e,e.return,y)}}break;case 6:if(Rr(t,e),Zr(e),n&4){if(e.stateNode===null)throw Error(Y(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){$e(e,e.return,y)}}break;case 3:if(Rr(t,e),Zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bo(t.containerInfo)}catch(y){$e(e,e.return,y)}break;case 4:Rr(t,e),Zr(e);break;case 13:Rr(t,e),Zr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sg=Ue())),n&4&&By(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(jt=(u=jt)||d,Rr(t,e),jt=u):Rr(t,e),Zr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(m=Z=d;Z!==null;){switch(f=Z,h=f.child,f.tag){case 0:case 11:case 14:case 15:io(4,f,f.return);break;case 1:As(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){$e(n,r,y)}}break;case 5:As(f,f.return);break;case 22:if(f.memoizedState!==null){Uy(m);continue}}h!==null?(h.return=f,Z=h):Uy(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Hw("display",o))}catch(y){$e(e,e.return,y)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){$e(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Rr(t,e),Zr(e),n&4&&By(e);break;case 21:break;default:Rr(t,e),Zr(e)}}function Zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(g1(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(go(s,""),n.flags&=-33);var i=$y(e);lh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=$y(e);oh(e,l,o);break;default:throw Error(Y(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HT(e,t,r){Z=e,v1(e)}function v1(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||zl;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||jt;l=zl;var u=jt;if(zl=o,(jt=c)&&!u)for(Z=s;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?zy(s):c!==null?(c.return=o,Z=c):zy(s);for(;i!==null;)Z=i,v1(i),i=i.sibling;Z=s,zl=l,jt=u}Fy(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):Fy(e)}}function Fy(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Ju(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ir(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sy(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sy(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&bo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}jt||t.flags&512&&ih(t)}catch(f){$e(t,t.return,f)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Uy(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function zy(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ju(4,t)}catch(c){$e(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){$e(t,s,c)}}var i=t.return;try{ih(t)}catch(c){$e(t,i,c)}break;case 5:var o=t.return;try{ih(t)}catch(c){$e(t,o,c)}}}catch(c){$e(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var KT=Math.ceil,Vc=Rn.ReactCurrentDispatcher,ng=Rn.ReactCurrentOwner,kr=Rn.ReactCurrentBatchConfig,me=0,ot=null,Ke=null,ht=0,Jt=0,Ts=ya(0),Qe=0,Oo=null,Za=0,ed=0,ag=0,oo=null,Bt=null,sg=0,qs=1/0,mn=null,Yc=!1,ch=null,ia=null,Wl=!1,Jn=null,Xc=0,lo=0,uh=null,bc=-1,jc=0;function _t(){return me&6?Ue():bc!==-1?bc:bc=Ue()}function oa(e){return e.mode&1?me&2&&ht!==0?ht&-ht:PT.transition!==null?(jc===0&&(jc=nN()),jc):(e=ge,e!==0||(e=window.event,e=e===void 0?16:uN(e.type)),e):1}function Gr(e,t,r,n){if(50<lo)throw lo=0,uh=null,Error(Y(185));Vo(e,r,n),(!(me&2)||e!==ot)&&(e===ot&&(!(me&2)&&(ed|=r),Qe===4&&Xn(e,ht)),Kt(e,n),r===1&&me===0&&!(t.mode&1)&&(qs=Ue()+500,Xu&&va()))}function Kt(e,t){var r=e.callbackNode;PA(e,t);var n=Mc(e,e===ot?ht:0);if(n===0)r!==null&&Q0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Q0(r),t===1)e.tag===0?ET(Wy.bind(null,e)):AN(Wy.bind(null,e)),NT(function(){!(me&6)&&va()}),r=null;else{switch(aN(n)){case 1:r=Op;break;case 4:r=tN;break;case 16:r=Lc;break;case 536870912:r=rN;break;default:r=Lc}r=E1(r,b1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function b1(e,t){if(bc=-1,jc=0,me&6)throw Error(Y(327));var r=e.callbackNode;if(Is()&&e.callbackNode!==r)return null;var n=Mc(e,e===ot?ht:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qc(e,n);else{t=n;var s=me;me|=2;var i=w1();(ot!==e||ht!==t)&&(mn=null,qs=Ue()+500,za(e,t));do try{VT();break}catch(l){j1(e,l)}while(!0);Hp(),Vc.current=i,me=s,Ke!==null?t=0:(ot=null,ht=0,t=Qe)}if(t!==0){if(t===2&&(s=If(e),s!==0&&(n=s,t=dh(e,s))),t===1)throw r=Oo,za(e,0),Xn(e,n),Kt(e,Ue()),r;if(t===6)Xn(e,n);else{if(s=e.current.alternate,!(n&30)&&!GT(s)&&(t=Qc(e,n),t===2&&(i=If(e),i!==0&&(n=i,t=dh(e,i))),t===1))throw r=Oo,za(e,0),Xn(e,n),Kt(e,Ue()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:Aa(e,Bt,mn);break;case 3:if(Xn(e,n),(n&130023424)===n&&(t=sg+500-Ue(),10<t)){if(Mc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_t(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kf(Aa.bind(null,e,Bt,mn),t);break}Aa(e,Bt,mn);break;case 4:if(Xn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Kr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*KT(n/1960))-n,10<n){e.timeoutHandle=Kf(Aa.bind(null,e,Bt,mn),n);break}Aa(e,Bt,mn);break;case 5:Aa(e,Bt,mn);break;default:throw Error(Y(329))}}}return Kt(e,Ue()),e.callbackNode===r?b1.bind(null,e):null}function dh(e,t){var r=oo;return e.current.memoizedState.isDehydrated&&(za(e,t).flags|=256),e=Qc(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&mh(t)),e}function mh(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function GT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t){for(t&=~ag,t&=~ed,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kr(t),n=1<<r;e[r]=-1,t&=~n}}function Wy(e){if(me&6)throw Error(Y(327));Is();var t=Mc(e,0);if(!(t&1))return Kt(e,Ue()),null;var r=Qc(e,t);if(e.tag!==0&&r===2){var n=If(e);n!==0&&(t=n,r=dh(e,n))}if(r===1)throw r=Oo,za(e,0),Xn(e,t),Kt(e,Ue()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Aa(e,Bt,mn),Kt(e,Ue()),null}function ig(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(qs=Ue()+500,Xu&&va())}}function Ja(e){Jn!==null&&Jn.tag===0&&!(me&6)&&Is();var t=me;me|=1;var r=kr.transition,n=ge;try{if(kr.transition=null,ge=1,e)return e()}finally{ge=n,kr.transition=r,me=t,!(me&6)&&va()}}function og(){Jt=Ts.current,Ce(Ts)}function za(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wT(r)),Ke!==null)for(r=Ke.return;r!==null;){var n=r;switch(Up(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$c();break;case 3:Ks(),Ce(Wt),Ce(kt),Xp();break;case 5:Yp(n);break;case 4:Ks();break;case 13:Ce(Me);break;case 19:Ce(Me);break;case 10:Kp(n.type._context);break;case 22:case 23:og()}r=r.return}if(ot=e,Ke=e=la(e.current,null),ht=Jt=t,Qe=0,Oo=null,ag=ed=Za=0,Bt=oo=null,Da!==null){for(t=0;t<Da.length;t++)if(r=Da[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Da=null}return e}function j1(e,t){do{var r=Ke;try{if(Hp(),xc.current=qc,Gc){for(var n=_e.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gc=!1}if(Qa=0,st=Ye=_e=null,so=!1,Po=0,ng.current=null,r===null||r.return===null){Qe=1,Oo=t,Ke=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Ty(o);if(h!==null){h.flags&=-257,Oy(h,o,l,i,t),h.mode&1&&Ay(i,u,t),t=h,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){Ay(i,u,t),lg();break e}c=Error(Y(426))}}else if(Ae&&l.mode&1){var x=Ty(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Oy(x,o,l,i,t),zp(Gs(c,l));break e}}i=c=Gs(c,l),Qe!==4&&(Qe=2),oo===null?oo=[i]:oo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=a1(i,c,t);Ny(i,v);break e;case 1:l=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ia===null||!ia.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=s1(i,l,t);Ny(i,w);break e}}i=i.return}while(i!==null)}S1(r)}catch(N){t=N,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function w1(){var e=Vc.current;return Vc.current=qc,e===null?qc:e}function lg(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),ot===null||!(Za&268435455)&&!(ed&268435455)||Xn(ot,ht)}function Qc(e,t){var r=me;me|=2;var n=w1();(ot!==e||ht!==t)&&(mn=null,za(e,t));do try{qT();break}catch(s){j1(e,s)}while(!0);if(Hp(),me=r,Vc.current=n,Ke!==null)throw Error(Y(261));return ot=null,ht=0,Qe}function qT(){for(;Ke!==null;)N1(Ke)}function VT(){for(;Ke!==null&&!vA();)N1(Ke)}function N1(e){var t=k1(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?S1(e):Ke=t,ng.current=null}function S1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=UT(r,t),r!==null){r.flags&=32767,Ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ke=null;return}}else if(r=FT(r,t,Jt),r!==null){Ke=r;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Qe===0&&(Qe=5)}function Aa(e,t,r){var n=ge,s=kr.transition;try{kr.transition=null,ge=1,YT(e,t,r,n)}finally{kr.transition=s,ge=n}return null}function YT(e,t,r,n){do Is();while(Jn!==null);if(me&6)throw Error(Y(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(AA(e,i),e===ot&&(Ke=ot=null,ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wl||(Wl=!0,E1(Lc,function(){return Is(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=kr.transition,kr.transition=null;var o=ge;ge=1;var l=me;me|=4,ng.current=null,WT(e,r),y1(r,e),pT(Wf),Dc=!!zf,Wf=zf=null,e.current=r,HT(r),bA(),me=l,ge=o,kr.transition=i}else e.current=r;if(Wl&&(Wl=!1,Jn=e,Xc=s),i=e.pendingLanes,i===0&&(ia=null),NA(r.stateNode),Kt(e,Ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yc)throw Yc=!1,e=ch,ch=null,e;return Xc&1&&e.tag!==0&&Is(),i=e.pendingLanes,i&1?e===uh?lo++:(lo=0,uh=e):lo=0,va(),null}function Is(){if(Jn!==null){var e=aN(Xc),t=kr.transition,r=ge;try{if(kr.transition=null,ge=16>e?16:e,Jn===null)var n=!1;else{if(e=Jn,Jn=null,Xc=0,me&6)throw Error(Y(331));var s=me;for(me|=4,Z=e.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:io(8,d,i)}var m=d.child;if(m!==null)m.return=d,Z=m;else for(;Z!==null;){d=Z;var f=d.sibling,h=d.return;if(p1(d),d===u){Z=null;break}if(f!==null){f.return=h,Z=f;break}Z=h}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:io(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Z=v;break e}Z=i.return}}var b=e.current;for(Z=b;Z!==null;){o=Z;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Z=j;else e:for(o=b;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ju(9,l)}}catch(N){$e(l,l.return,N)}if(l===o){Z=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Z=w;break e}Z=l.return}}if(me=s,va(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ku,e)}catch{}n=!0}return n}finally{ge=r,kr.transition=t}}return!1}function Hy(e,t,r){t=Gs(r,t),t=a1(e,t,1),e=sa(e,t,1),t=_t(),e!==null&&(Vo(e,1,t),Kt(e,t))}function $e(e,t,r){if(e.tag===3)Hy(e,e,r);else for(;t!==null;){if(t.tag===3){Hy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ia===null||!ia.has(n))){e=Gs(r,e),e=s1(t,e,1),t=sa(t,e,1),e=_t(),t!==null&&(Vo(t,1,e),Kt(t,e));break}}t=t.return}}function XT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&r,ot===e&&(ht&r)===r&&(Qe===4||Qe===3&&(ht&130023424)===ht&&500>Ue()-sg?za(e,0):ag|=r),Kt(e,t)}function C1(e,t){t===0&&(e.mode&1?(t=Ml,Ml<<=1,!(Ml&130023424)&&(Ml=4194304)):t=1);var r=_t();e=En(e,t),e!==null&&(Vo(e,t,r),Kt(e,r))}function QT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),C1(e,r)}function ZT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),C1(e,r)}var k1;k1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,BT(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,Ae&&t.flags&1048576&&TN(t,Uc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vc(e,t),e=t.pendingProps;var s=zs(t,kt.current);Rs(t,r),s=Zp(null,t,n,e,s,r);var i=Jp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)?(i=!0,Bc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qp(t),s.updater=Zu,t.stateNode=s,s._reactInternals=t,Zf(t,n,e,r),t=th(null,t,n,!0,i,r)):(t.tag=0,Ae&&i&&Fp(t),At(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(vc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=eO(n),e=Ir(n,e),s){case 0:t=eh(null,t,n,e,r);break e;case 1:t=Dy(null,t,n,e,r);break e;case 11:t=Ly(null,t,n,e,r);break e;case 14:t=My(null,t,n,Ir(n.type,e),r);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),eh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Dy(e,t,n,s,r);case 3:e:{if(c1(t),e===null)throw Error(Y(387));n=t.pendingProps,i=t.memoizedState,s=i.element,RN(e,t),Hc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gs(Error(Y(423)),t),t=_y(e,t,n,r,s);break e}else if(n!==s){s=Gs(Error(Y(424)),t),t=_y(e,t,n,r,s);break e}else for(ar=aa(t.stateNode.containerInfo.firstChild),or=t,Ae=!0,Fr=null,r=DN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ws(),n===s){t=Pn(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 5:return IN(t),e===null&&Yf(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Hf(n,s)?o=null:i!==null&&Hf(n,i)&&(t.flags|=32),l1(e,t),At(e,t,o,r),t.child;case 6:return e===null&&Yf(t),null;case 13:return u1(e,t,r);case 4:return Vp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hs(t,null,n,r):At(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Ly(e,t,n,s,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,we(zc,n._currentValue),n._currentValue=o,i!==null)if(Yr(i.value,o)){if(i.children===s.children&&!Wt.current){t=Pn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=jn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Xf(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Xf(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}At(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Rs(t,r),s=Er(s),n=n(s),t.flags|=1,At(e,t,n,r),t.child;case 14:return n=t.type,s=Ir(n,t.pendingProps),s=Ir(n.type,s),My(e,t,n,s,r);case 15:return i1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),vc(e,t),t.tag=1,Ht(n)?(e=!0,Bc(t)):e=!1,Rs(t,r),n1(t,n,s),Zf(t,n,s,r),th(null,t,n,!0,e,r);case 19:return d1(e,t,r);case 22:return o1(e,t,r)}throw Error(Y(156,t.tag))};function E1(e,t){return eN(e,t)}function JT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,r,n){return new JT(e,t,r,n)}function cg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eO(e){if(typeof e=="function")return cg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pp)return 11;if(e===Ap)return 14}return 2}function la(e,t){var r=e.alternate;return r===null?(r=Sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")cg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case bs:return Wa(r.children,s,i,t);case Ep:o=8,s|=8;break;case wf:return e=Sr(12,r,t,s|2),e.elementType=wf,e.lanes=i,e;case Nf:return e=Sr(13,r,t,s),e.elementType=Nf,e.lanes=i,e;case Sf:return e=Sr(19,r,t,s),e.elementType=Sf,e.lanes=i,e;case Iw:return td(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _w:o=10;break e;case Rw:o=9;break e;case Pp:o=11;break e;case Ap:o=14;break e;case Kn:o=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Sr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Wa(e,t,r,n){return e=Sr(7,e,n,t),e.lanes=r,e}function td(e,t,r,n){return e=Sr(22,e,n,t),e.elementType=Iw,e.lanes=r,e.stateNode={isHidden:!1},e}function Fm(e,t,r){return e=Sr(6,e,null,t),e.lanes=r,e}function Um(e,t,r){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jm(0),this.expirationTimes=jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ug(e,t,r,n,s,i,o,l,c){return e=new tO(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Sr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(i),e}function rO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function P1(e){if(!e)return ma;e=e._reactInternals;e:{if(ms(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(Ht(r))return PN(e,r,t)}return t}function A1(e,t,r,n,s,i,o,l,c){return e=ug(r,n,!0,e,s,i,o,l,c),e.context=P1(null),r=e.current,n=_t(),s=oa(r),i=jn(n,s),i.callback=t??null,sa(r,i,s),e.current.lanes=s,Vo(e,s,n),Kt(e,n),e}function rd(e,t,r,n){var s=t.current,i=_t(),o=oa(s);return r=P1(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=sa(s,t,o),e!==null&&(Gr(e,s,o,i),gc(e,s,o)),o}function Zc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ky(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function dg(e,t){Ky(e,t),(e=e.alternate)&&Ky(e,t)}function nO(){return null}var T1=typeof reportError=="function"?reportError:function(e){console.error(e)};function mg(e){this._internalRoot=e}nd.prototype.render=mg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));rd(e,t,null,null)};nd.prototype.unmount=mg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ja(function(){rd(null,e,null,null)}),t[kn]=null}};function nd(e){this._internalRoot=e}nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=oN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yn.length&&t!==0&&t<Yn[r].priority;r++);Yn.splice(r,0,e),r===0&&cN(e)}};function fg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gy(){}function aO(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Zc(o);i.call(u)}}var o=A1(t,n,e,0,null,!1,!1,"",Gy);return e._reactRootContainer=o,e[kn]=o.current,No(e.nodeType===8?e.parentNode:e),Ja(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Zc(c);l.call(u)}}var c=ug(e,0,!1,null,null,!1,!1,"",Gy);return e._reactRootContainer=c,e[kn]=c.current,No(e.nodeType===8?e.parentNode:e),Ja(function(){rd(t,c,r,n)}),c}function sd(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Zc(o);l.call(c)}}rd(t,o,e,s)}else o=aO(r,t,e,s,n);return Zc(o)}sN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vi(t.pendingLanes);r!==0&&(Lp(t,r|1),Kt(t,Ue()),!(me&6)&&(qs=Ue()+500,va()))}break;case 13:Ja(function(){var n=En(e,1);if(n!==null){var s=_t();Gr(n,e,1,s)}}),dg(e,1)}};Mp=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var r=_t();Gr(t,e,134217728,r)}dg(e,134217728)}};iN=function(e){if(e.tag===13){var t=oa(e),r=En(e,t);if(r!==null){var n=_t();Gr(r,e,t,n)}dg(e,t)}};oN=function(){return ge};lN=function(e,t){var r=ge;try{return ge=e,t()}finally{ge=r}};Df=function(e,t,r){switch(t){case"input":if(Ef(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Yu(n);if(!s)throw Error(Y(90));Bw(n),Ef(n,s)}}}break;case"textarea":Uw(e,r);break;case"select":t=r.value,t!=null&&Ls(e,!!r.multiple,t,!1)}};Vw=ig;Yw=Ja;var sO={usingClientEntryPoint:!1,Events:[Xo,Ss,Yu,Gw,qw,ig]},Ri={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iO={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||nO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Ku=Hl.inject(iO),nn=Hl}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sO;mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(t))throw Error(Y(200));return rO(e,t,null,r)};mr.createRoot=function(e,t){if(!fg(e))throw Error(Y(299));var r=!1,n="",s=T1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ug(e,1,!1,null,null,r,!1,n,s),e[kn]=t.current,No(e.nodeType===8?e.parentNode:e),new mg(t)};mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Zw(t),e=e===null?null:e.stateNode,e};mr.flushSync=function(e){return Ja(e)};mr.hydrate=function(e,t,r){if(!ad(t))throw Error(Y(200));return sd(null,e,t,!0,r)};mr.hydrateRoot=function(e,t,r){if(!fg(e))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=T1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=A1(t,null,e,1,r??null,s,!1,i,o),e[kn]=t.current,No(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new nd(t)};mr.render=function(e,t,r){if(!ad(t))throw Error(Y(200));return sd(null,e,t,!1,r)};mr.unmountComponentAtNode=function(e){if(!ad(e))throw Error(Y(40));return e._reactRootContainer?(Ja(function(){sd(null,null,e,!1,function(){e._reactRootContainer=null,e[kn]=null})}),!0):!1};mr.unstable_batchedUpdates=ig;mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ad(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return sd(e,t,r,!1,n)};mr.version="18.3.1-next-f1338f8080-20240426";function O1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O1)}catch(e){console.error(e)}}O1(),Ow.exports=mr;var hg=Ow.exports,qy=hg;bf.createRoot=qy.createRoot,bf.hydrateRoot=qy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(this,arguments)}var ea;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ea||(ea={}));const Vy="popstate";function oO(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return fh("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Jc(s)}return cO(t,r,null,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function L1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lO(){return Math.random().toString(36).substr(2,8)}function Yy(e,t){return{usr:e.state,key:e.key,idx:t}}function fh(e,t,r,n){return r===void 0&&(r=null),Lo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mi(t):t,{state:r,key:t&&t.key||n||lO()})}function Jc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=ea.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Lo({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=ea.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:v})}function f(x,v){l=ea.Push;let b=fh(y.location,x,v);u=d()+1;let j=Yy(b,u),w=y.createHref(b);try{o.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(w)}i&&c&&c({action:l,location:y.location,delta:1})}function h(x,v){l=ea.Replace;let b=fh(y.location,x,v);u=d();let j=Yy(b,u),w=y.createHref(b);o.replaceState(j,"",w),i&&c&&c({action:l,location:y.location,delta:0})}function p(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof x=="string"?x:Jc(x);return b=b.replace(/ $/,"%20"),ze(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let y={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Vy,m),c=x,()=>{s.removeEventListener(Vy,m),c=null}},createHref(x){return t(s,x)},createURL:p,encodeLocation(x){let v=p(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(x){return o.go(x)}};return y}var Xy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xy||(Xy={}));function uO(e,t,r){return r===void 0&&(r="/"),dO(e,t,r)}function dO(e,t,r,n){let s=typeof t=="string"?mi(t):t,i=pg(s.pathname||"/",r);if(i==null)return null;let o=M1(e);mO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=SO(i);l=jO(o[c],u)}return l}function M1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ze(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ca([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),M1(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:vO(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of D1(i.path))s(i,o,c)}),t}function D1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=D1(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function mO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fO=/^:[\w-]+$/,hO=3,pO=2,gO=1,xO=10,yO=-2,Qy=e=>e==="*";function vO(e,t){let r=e.split("/"),n=r.length;return r.some(Qy)&&(n+=yO),t&&(n+=pO),r.filter(s=>!Qy(s)).reduce((s,i)=>s+(fO.test(i)?hO:i===""?gO:xO),n)}function bO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function jO(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=wO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:ca([i,m.pathname]),pathnameBase:PO(ca([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=ca([i,m.pathnameBase]))}return o}function wO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:f,isOptional:h}=d;if(f==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function NO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),L1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function SO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return L1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function CO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?mi(e):e;return{pathname:r?r.startsWith("/")?r:kO(r,t):t,search:AO(n),hash:TO(s)}}function kO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function zm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gg(e,t){let r=EO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=mi(e):(s=Lo({},e),ze(!s.pathname||!s.pathname.includes("?"),zm("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),zm("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),zm("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=CO(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ca=e=>e.join("/").replace(/\/\/+/g,"/"),PO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function OO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _1=["post","put","patch","delete"];new Set(_1);const LO=["get",..._1];new Set(LO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mo.apply(this,arguments)}const yg=g.createContext(null),MO=g.createContext(null),ba=g.createContext(null),id=g.createContext(null),ja=g.createContext({outlet:null,matches:[],isDataRoute:!1}),R1=g.createContext(null);function DO(e,t){let{relative:r}=t===void 0?{}:t;fi()||ze(!1);let{basename:n,navigator:s}=g.useContext(ba),{hash:i,pathname:o,search:l}=$1(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ca([n,o])),s.createHref({pathname:c,search:l,hash:i})}function fi(){return g.useContext(id)!=null}function hi(){return fi()||ze(!1),g.useContext(id).location}function I1(e){g.useContext(ba).static||g.useLayoutEffect(e)}function vg(){let{isDataRoute:e}=g.useContext(ja);return e?qO():_O()}function _O(){fi()||ze(!1);let e=g.useContext(yg),{basename:t,future:r,navigator:n}=g.useContext(ba),{matches:s}=g.useContext(ja),{pathname:i}=hi(),o=JSON.stringify(gg(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return I1(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=xg(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ca([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,o,i,e])}function $1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(ba),{matches:s}=g.useContext(ja),{pathname:i}=hi(),o=JSON.stringify(gg(s,n.v7_relativeSplatPath));return g.useMemo(()=>xg(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function RO(e,t){return IO(e,t)}function IO(e,t,r,n){fi()||ze(!1);let{navigator:s}=g.useContext(ba),{matches:i}=g.useContext(ja),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=hi(),d;if(t){var m;let x=typeof t=="string"?mi(t):t;c==="/"||(m=x.pathname)!=null&&m.startsWith(c)||ze(!1),d=x}else d=u;let f=d.pathname||"/",h=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=uO(e,{pathname:h}),y=zO(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ca([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ca([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&y?g.createElement(id.Provider,{value:{location:Mo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ea.Pop}},y):y}function $O(){let e=GO(),t=OO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,null)}const BO=g.createElement($O,null);class FO extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(ja.Provider,{value:this.props.routeContext},g.createElement(R1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UO(e){let{routeContext:t,match:r,children:n}=e,s=g.useContext(yg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(ja.Provider,{value:t},n)}function zO(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:h}=r,p=m.route.loader&&f[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,f)=>{let h,p=!1,y=null,x=null;r&&(h=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||BO,c&&(u<0&&f===0?(VO("route-fallback"),p=!0,x=null):u===f&&(p=!0,x=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),b=()=>{let j;return h?j=y:p?j=x:m.route.Component?j=g.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=d,g.createElement(UO,{match:m,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?g.createElement(FO,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var B1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(B1||{}),F1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(F1||{});function WO(e){let t=g.useContext(yg);return t||ze(!1),t}function HO(e){let t=g.useContext(MO);return t||ze(!1),t}function KO(e){let t=g.useContext(ja);return t||ze(!1),t}function U1(e){let t=KO(),r=t.matches[t.matches.length-1];return r.route.id||ze(!1),r.route.id}function GO(){var e;let t=g.useContext(R1),r=HO(),n=U1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qO(){let{router:e}=WO(B1.UseNavigateStable),t=U1(F1.UseNavigateStable),r=g.useRef(!1);return I1(()=>{r.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Mo({fromRouteId:t},i)))},[e,t])}const Zy={};function VO(e,t,r){Zy[e]||(Zy[e]=!0)}function YO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function XO(e){let{to:t,replace:r,state:n,relative:s}=e;fi()||ze(!1);let{future:i,static:o}=g.useContext(ba),{matches:l}=g.useContext(ja),{pathname:c}=hi(),u=vg(),d=xg(t,gg(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function nt(e){ze(!1)}function QO(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ea.Pop,navigator:i,static:o=!1,future:l}=e;fi()&&ze(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Mo({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=mi(n));let{pathname:d="/",search:m="",hash:f="",state:h=null,key:p="default"}=n,y=g.useMemo(()=>{let x=pg(d,c);return x==null?null:{location:{pathname:x,search:m,hash:f,state:h,key:p},navigationType:s}},[c,d,m,f,h,p,s]);return y==null?null:g.createElement(ba.Provider,{value:u},g.createElement(id.Provider,{children:r,value:y}))}function hh(e){let{children:t,location:r}=e;return RO(ph(t),r)}new Promise(()=>{});function ph(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,s)=>{if(!g.isValidElement(n))return;let i=[...t,s];if(n.type===g.Fragment){r.push.apply(r,ph(n.props.children,i));return}n.type!==nt&&ze(!1),!n.props.index||!n.props.children||ze(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ph(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}function ZO(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function JO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e5(e,t){return e.button===0&&(!t||t==="_self")&&!JO(e)}const t5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],r5="6";try{window.__reactRouterVersion=r5}catch{}const n5="startTransition",Jy=Aw[n5];function a5(e){let{basename:t,children:r,future:n,window:s}=e,i=g.useRef();i.current==null&&(i.current=oO({window:s,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(m=>{u&&Jy?Jy(()=>c(m)):c(m)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>YO(n),[n]),g.createElement(QO,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const s5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ev=g.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=t,f=ZO(t,t5),{basename:h}=g.useContext(ba),p,y=!1;if(typeof u=="string"&&i5.test(u)&&(p=u,s5))try{let j=new URL(window.location.href),w=u.startsWith("//")?new URL(j.protocol+u):new URL(u),N=pg(w.pathname,h);w.origin===j.origin&&N!=null?u=N+w.search+w.hash:y=!0}catch{}let x=DO(u,{relative:s}),v=o5(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||v(j)}return g.createElement("a",gh({},f,{href:p||x,onClick:y||i?n:b,ref:r,target:c}))});var tv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tv||(tv={}));var rv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rv||(rv={}));function o5(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=vg(),u=hi(),d=$1(e,{relative:o});return g.useCallback(m=>{if(e5(m,r)){m.preventDefault();let f=n!==void 0?n:Jc(u)===Jc(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function z1(e,t){return function(){return e.apply(t,arguments)}}const{toString:l5}=Object.prototype,{getPrototypeOf:bg}=Object,{iterator:od,toStringTag:W1}=Symbol,ld=(e=>t=>{const r=l5.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xr=e=>(e=e.toLowerCase(),t=>ld(t)===e),cd=e=>t=>typeof t===e,{isArray:pi}=Array,Vs=cd("undefined");function Zo(e){return e!==null&&!Vs(e)&&e.constructor!==null&&!Vs(e.constructor)&&Gt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const H1=Xr("ArrayBuffer");function c5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&H1(e.buffer),t}const u5=cd("string"),Gt=cd("function"),K1=cd("number"),Jo=e=>e!==null&&typeof e=="object",d5=e=>e===!0||e===!1,Nc=e=>{if(ld(e)!=="object")return!1;const t=bg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(W1 in e)&&!(od in e)},m5=e=>{if(!Jo(e)||Zo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},f5=Xr("Date"),h5=Xr("File"),p5=Xr("Blob"),g5=Xr("FileList"),x5=e=>Jo(e)&&Gt(e.pipe),y5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Gt(e.append)&&((t=ld(e))==="formdata"||t==="object"&&Gt(e.toString)&&e.toString()==="[object FormData]"))},v5=Xr("URLSearchParams"),[b5,j5,w5,N5]=["ReadableStream","Request","Response","Headers"].map(Xr),S5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function el(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),pi(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Zo(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function G1(e,t){if(Zo(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,q1=e=>!Vs(e)&&e!==Ra;function xh(){const{caseless:e,skipUndefined:t}=q1(this)&&this||{},r={},n=(s,i)=>{const o=e&&G1(r,i)||i;Nc(r[o])&&Nc(s)?r[o]=xh(r[o],s):Nc(s)?r[o]=xh({},s):pi(s)?r[o]=s.slice():(!t||!Vs(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&el(arguments[s],n);return r}const C5=(e,t,r,{allOwnKeys:n}={})=>(el(t,(s,i)=>{r&&Gt(s)?e[i]=z1(s,r):e[i]=s},{allOwnKeys:n}),e),k5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),E5=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},P5=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&bg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},A5=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},T5=e=>{if(!e)return null;if(pi(e))return e;let t=e.length;if(!K1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},O5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bg(Uint8Array)),L5=(e,t)=>{const n=(e&&e[od]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},M5=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},D5=Xr("HTMLFormElement"),_5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),nv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),R5=Xr("RegExp"),V1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};el(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},I5=e=>{V1(e,(t,r)=>{if(Gt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Gt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$5=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return pi(e)?n(e):n(String(e).split(t)),r},B5=()=>{},F5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function U5(e){return!!(e&&Gt(e.append)&&e[W1]==="FormData"&&e[od])}const z5=e=>{const t=new Array(10),r=(n,s)=>{if(Jo(n)){if(t.indexOf(n)>=0)return;if(Zo(n))return n;if(!("toJSON"in n)){t[s]=n;const i=pi(n)?[]:{};return el(n,(o,l)=>{const c=r(o,s+1);!Vs(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},W5=Xr("AsyncFunction"),H5=e=>e&&(Jo(e)||Gt(e))&&Gt(e.then)&&Gt(e.catch),Y1=((e,t)=>e?setImmediate:t?((r,n)=>(Ra.addEventListener("message",({source:s,data:i})=>{s===Ra&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ra.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Gt(Ra.postMessage)),K5=typeof queueMicrotask<"u"?queueMicrotask.bind(Ra):typeof process<"u"&&process.nextTick||Y1,G5=e=>e!=null&&Gt(e[od]),W={isArray:pi,isArrayBuffer:H1,isBuffer:Zo,isFormData:y5,isArrayBufferView:c5,isString:u5,isNumber:K1,isBoolean:d5,isObject:Jo,isPlainObject:Nc,isEmptyObject:m5,isReadableStream:b5,isRequest:j5,isResponse:w5,isHeaders:N5,isUndefined:Vs,isDate:f5,isFile:h5,isBlob:p5,isRegExp:R5,isFunction:Gt,isStream:x5,isURLSearchParams:v5,isTypedArray:O5,isFileList:g5,forEach:el,merge:xh,extend:C5,trim:S5,stripBOM:k5,inherits:E5,toFlatObject:P5,kindOf:ld,kindOfTest:Xr,endsWith:A5,toArray:T5,forEachEntry:L5,matchAll:M5,isHTMLForm:D5,hasOwnProperty:nv,hasOwnProp:nv,reduceDescriptors:V1,freezeMethods:I5,toObjectSet:$5,toCamelCase:_5,noop:B5,toFiniteNumber:F5,findKey:G1,global:Ra,isContextDefined:q1,isSpecCompliantForm:U5,toJSONObject:z5,isAsyncFn:W5,isThenable:H5,setImmediate:Y1,asap:K5,isIterable:G5};function ie(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}W.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const X1=ie.prototype,Q1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Q1[e]={value:e}});Object.defineProperties(ie,Q1);Object.defineProperty(X1,"isAxiosError",{value:!0});ie.from=(e,t,r,n,s,i)=>{const o=Object.create(X1);W.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ie.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const q5=null;function yh(e){return W.isPlainObject(e)||W.isArray(e)}function Z1(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function av(e,t,r){return e?e.concat(t).map(function(s,i){return s=Z1(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function V5(e){return W.isArray(e)&&!e.some(yh)}const Y5=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function ud(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!W.isUndefined(x[y])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(W.isDate(p))return p.toISOString();if(W.isBoolean(p))return p.toString();if(!c&&W.isBlob(p))throw new ie("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(p)||W.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,x){let v=p;if(p&&!x&&typeof p=="object"){if(W.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(W.isArray(p)&&V5(p)||(W.isFileList(p)||W.endsWith(y,"[]"))&&(v=W.toArray(p)))return y=Z1(y),v.forEach(function(j,w){!(W.isUndefined(j)||j===null)&&t.append(o===!0?av([y],w,i):o===null?y:y+"[]",u(j))}),!1}return yh(p)?!0:(t.append(av(x,y,i),u(p)),!1)}const m=[],f=Object.assign(Y5,{defaultVisitor:d,convertValue:u,isVisitable:yh});function h(p,y){if(!W.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(p),W.forEach(p,function(v,b){(!(W.isUndefined(v)||v===null)&&s.call(t,v,W.isString(b)?b.trim():b,y,f))===!0&&h(v,y?y.concat(b):[b])}),m.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return h(e),t}function sv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function jg(e,t){this._pairs=[],e&&ud(e,this,t)}const J1=jg.prototype;J1.append=function(t,r){this._pairs.push([t,r])};J1.toString=function(t){const r=t?function(n){return t.call(this,n,sv)}:sv;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function X5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function e2(e,t,r){if(!t)return e;const n=r&&r.encode||X5;W.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=W.isURLSearchParams(t)?t.toString():new jg(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class iv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(n){n!==null&&t(n)})}}const t2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q5=typeof URLSearchParams<"u"?URLSearchParams:jg,Z5=typeof FormData<"u"?FormData:null,J5=typeof Blob<"u"?Blob:null,e4={isBrowser:!0,classes:{URLSearchParams:Q5,FormData:Z5,Blob:J5},protocols:["http","https","file","blob","url","data"]},wg=typeof window<"u"&&typeof document<"u",vh=typeof navigator=="object"&&navigator||void 0,t4=wg&&(!vh||["ReactNative","NativeScript","NS"].indexOf(vh.product)<0),r4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",n4=wg&&window.location.href||"http://localhost",a4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wg,hasStandardBrowserEnv:t4,hasStandardBrowserWebWorkerEnv:r4,navigator:vh,origin:n4},Symbol.toStringTag,{value:"Module"})),Nt={...a4,...e4};function s4(e,t){return ud(e,new Nt.classes.URLSearchParams,{visitor:function(r,n,s,i){return Nt.isNode&&W.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function i4(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function o4(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function r2(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&W.isArray(s)?s.length:o,c?(W.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!W.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&W.isArray(s[o])&&(s[o]=o4(s[o])),!l)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(n,s)=>{t(i4(n),s,r,0)}),r}return null}function l4(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const tl={transitional:t2,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=W.isObject(t);if(i&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return s?JSON.stringify(r2(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return s4(t,this.formSerializer).toString();if((l=W.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ud(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),l4(t)):t}],transformResponse:[function(t){const r=this.transitional||tl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ie.from(l,ie.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{tl.headers[e]={}});const c4=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),u4=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&c4[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ov=Symbol("internals");function Ii(e){return e&&String(e).trim().toLowerCase()}function Sc(e){return e===!1||e==null?e:W.isArray(e)?e.map(Sc):String(e)}function d4(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const m4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wm(e,t,r,n,s){if(W.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!W.isString(t)){if(W.isString(n))return t.indexOf(n)!==-1;if(W.isRegExp(n))return n.test(t)}}function f4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function h4(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let qt=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const d=Ii(c);if(!d)throw new Error("header name must be a non-empty string");const m=W.findKey(s,d);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||c]=Sc(l))}const o=(l,c)=>W.forEach(l,(u,d)=>i(u,d,c));if(W.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(W.isString(t)&&(t=t.trim())&&!m4(t))o(u4(t),r);else if(W.isObject(t)&&W.isIterable(t)){let l={},c,u;for(const d of t){if(!W.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?W.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Ii(t),t){const n=W.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return d4(s);if(W.isFunction(r))return r.call(this,s,n);if(W.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ii(t),t){const n=W.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Wm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Ii(o),o){const l=W.findKey(n,o);l&&(!r||Wm(n,n[l],l,r))&&(delete n[l],s=!0)}}return W.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Wm(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return W.forEach(this,(s,i)=>{const o=W.findKey(n,i);if(o){r[o]=Sc(s),delete r[i];return}const l=t?f4(i):String(i).trim();l!==i&&delete r[i],r[l]=Sc(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&W.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[ov]=this[ov]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Ii(o);n[l]||(h4(s,o),n[l]=!0)}return W.isArray(t)?t.forEach(i):i(t),this}};qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(qt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});W.freezeMethods(qt);function Hm(e,t){const r=this||tl,n=t||r,s=qt.from(n.headers);let i=n.data;return W.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function n2(e){return!!(e&&e.__CANCEL__)}function gi(e,t,r){ie.call(this,e??"canceled",ie.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(gi,ie,{__CANCEL__:!0});function a2(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ie("Request failed with status code "+r.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function p4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function g4(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[s]=c,n[s]=u;let m=i,f=0;for(;m!==s;)f+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const h=d&&u-d;return h?Math.round(f*1e3/h):void 0}}function x4(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-r;m>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const eu=(e,t,r=3)=>{let n=0;const s=g4(50,250);return x4(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},lv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},cv=e=>(...t)=>W.asap(()=>e(...t)),y4=Nt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Nt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,v4=Nt.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];W.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),W.isString(n)&&o.push("path="+n),W.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function b4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function j4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function s2(e,t,r){let n=!b4(t);return e&&(n||r==!1)?j4(e,t):t}const uv=e=>e instanceof qt?{...e}:e;function es(e,t){t=t||{};const r={};function n(u,d,m,f){return W.isPlainObject(u)&&W.isPlainObject(d)?W.merge.call({caseless:f},u,d):W.isPlainObject(d)?W.merge({},d):W.isArray(d)?d.slice():d}function s(u,d,m,f){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u,m,f)}else return n(u,d,m,f)}function i(u,d){if(!W.isUndefined(d))return n(void 0,d)}function o(u,d){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,m){if(m in t)return n(u,d);if(m in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,m)=>s(uv(u),uv(d),m,!0)};return W.forEach(Object.keys({...e,...t}),function(d){const m=c[d]||s,f=m(e[d],t[d],d);W.isUndefined(f)&&m!==l||(r[d]=f)}),r}const i2=e=>{const t=es({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=qt.from(o),t.url=e2(s2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(r)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,m])=>{u.includes(d.toLowerCase())&&o.set(d,m)})}}if(Nt.hasStandardBrowserEnv&&(n&&W.isFunction(n)&&(n=n(t)),n||n!==!1&&y4(t.url))){const c=s&&i&&v4.read(i);c&&o.set(s,c)}return t},w4=typeof XMLHttpRequest<"u",N4=w4&&function(e){return new Promise(function(r,n){const s=i2(e);let i=s.data;const o=qt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,m,f,h,p;function y(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function v(){if(!x)return;const j=qt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:e,request:x};a2(function(P){r(P),y()},function(P){n(P),y()},N),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(n(new ie("Request aborted",ie.ECONNABORTED,e,x)),x=null)},x.onerror=function(w){const N=w&&w.message?w.message:"Network Error",S=new ie(N,ie.ERR_NETWORK,e,x);S.event=w||null,n(S),x=null},x.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||t2;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new ie(w,N.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&W.forEach(o.toJSON(),function(w,N){x.setRequestHeader(N,w)}),W.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),u&&([f,p]=eu(u,!0),x.addEventListener("progress",f)),c&&x.upload&&([m,h]=eu(c),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(d=j=>{x&&(n(!j||j.type?new gi(null,e,x):j),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=p4(s.url);if(b&&Nt.protocols.indexOf(b)===-1){n(new ie("Unsupported protocol "+b+":",ie.ERR_BAD_REQUEST,e));return}x.send(i||null)})},S4=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ie?d:new gi(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new ie(`timeout ${t} of ms exceeded`,ie.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>W.asap(l),c}},C4=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},k4=async function*(e,t){for await(const r of E4(e))yield*C4(r,t)},E4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},dv=(e,t,r,n)=>{const s=k4(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let m=d.byteLength;if(r){let f=i+=m;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},mv=64*1024,{isFunction:Kl}=W,P4=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:fv,TextEncoder:hv}=W.global,pv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},A4=e=>{e=W.merge.call({skipUndefined:!0},P4,e);const{fetch:t,Request:r,Response:n}=e,s=t?Kl(t):typeof fetch=="function",i=Kl(r),o=Kl(n);if(!s)return!1;const l=s&&Kl(fv),c=s&&(typeof hv=="function"?(p=>y=>p.encode(y))(new hv):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&l&&pv(()=>{let p=!1;const y=new r(Nt.origin,{body:new fv,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=o&&l&&pv(()=>W.isReadableStream(new n("").body)),m={stream:d&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!m[p]&&(m[p]=(y,x)=>{let v=y&&y[p];if(v)return v.call(y);throw new ie(`Response type '${p}' is not supported`,ie.ERR_NOT_SUPPORT,x)})});const f=async p=>{if(p==null)return 0;if(W.isBlob(p))return p.size;if(W.isSpecCompliantForm(p))return(await new r(Nt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(W.isArrayBufferView(p)||W.isArrayBuffer(p))return p.byteLength;if(W.isURLSearchParams(p)&&(p=p+""),W.isString(p))return(await c(p)).byteLength},h=async(p,y)=>{const x=W.toFiniteNumber(p.getContentLength());return x??f(y)};return async p=>{let{url:y,method:x,data:v,signal:b,cancelToken:j,timeout:w,onDownloadProgress:N,onUploadProgress:S,responseType:P,headers:O,withCredentials:A="same-origin",fetchOptions:E}=i2(p),D=t||fetch;P=P?(P+"").toLowerCase():"text";let _=S4([b,j&&j.toAbortSignal()],w),T=null;const K=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let R;try{if(S&&u&&x!=="get"&&x!=="head"&&(R=await h(O,v))!==0){let $=new r(y,{method:"POST",body:v,duplex:"half"}),z;if(W.isFormData(v)&&(z=$.headers.get("content-type"))&&O.setContentType(z),$.body){const[L,C]=lv(R,eu(cv(S)));v=dv($.body,mv,L,C)}}W.isString(A)||(A=A?"include":"omit");const M=i&&"credentials"in r.prototype,B={...E,signal:_,method:x.toUpperCase(),headers:O.normalize().toJSON(),body:v,duplex:"half",credentials:M?A:void 0};T=i&&new r(y,B);let I=await(i?D(T,E):D(y,B));const H=d&&(P==="stream"||P==="response");if(d&&(N||H&&K)){const $={};["status","statusText","headers"].forEach(F=>{$[F]=I[F]});const z=W.toFiniteNumber(I.headers.get("content-length")),[L,C]=N&&lv(z,eu(cv(N),!0))||[];I=new n(dv(I.body,mv,L,()=>{C&&C(),K&&K()}),$)}P=P||"text";let k=await m[W.findKey(m,P)||"text"](I,p);return!H&&K&&K(),await new Promise(($,z)=>{a2($,z,{data:k,headers:qt.from(I.headers),status:I.status,statusText:I.statusText,config:p,request:T})})}catch(M){throw K&&K(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,p,T),{cause:M.cause||M}):ie.from(M,M&&M.code,p,T)}}},T4=new Map,o2=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,u,d=T4;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:A4(t)),d=u;return u};o2();const bh={http:q5,xhr:N4,fetch:{get:o2}};W.forEach(bh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const gv=e=>`- ${e}`,O4=e=>W.isFunction(e)||e===null||e===!1,l2={getAdapter:(e,t)=>{e=W.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!O4(n)&&(s=bh[(l=String(n)).toLowerCase()],s===void 0))throw new ie(`Unknown adapter '${l}'`);if(s&&(W.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(gv).join(`
`):" "+gv(o[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:bh};function Km(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gi(null,e)}function xv(e){return Km(e),e.headers=qt.from(e.headers),e.data=Hm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),l2.getAdapter(e.adapter||tl.adapter,e)(e).then(function(n){return Km(e),n.data=Hm.call(e,e.transformResponse,n),n.headers=qt.from(n.headers),n},function(n){return n2(n)||(Km(e),n&&n.response&&(n.response.data=Hm.call(e,e.transformResponse,n.response),n.response.headers=qt.from(n.response.headers))),Promise.reject(n)})}const c2="1.12.2",dd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{dd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const yv={};dd.transitional=function(t,r,n){function s(i,o){return"[Axios v"+c2+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new ie(s(o," has been removed"+(r?" in "+r:"")),ie.ERR_DEPRECATED);return r&&!yv[o]&&(yv[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};dd.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function L4(e,t,r){if(typeof e!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ie("option "+i+" must be "+c,ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ie("Unknown option "+i,ie.ERR_BAD_OPTION)}}const Cc={assertOptions:L4,validators:dd},Jr=Cc.validators;let Ha=class{constructor(t){this.defaults=t||{},this.interceptors={request:new iv,response:new iv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=es(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Cc.assertOptions(n,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),s!=null&&(W.isFunction(s)?r.paramsSerializer={serialize:s}:Cc.assertOptions(s,{encode:Jr.function,serialize:Jr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Cc.assertOptions(r,{baseUrl:Jr.spelling("baseURL"),withXsrfToken:Jr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&W.merge(i.common,i[r.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=qt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,m=0,f;if(!c){const p=[xv.bind(this),void 0];for(p.unshift(...l),p.push(...u),f=p.length,d=Promise.resolve(r);m<f;)d=d.then(p[m++],p[m++]);return d}f=l.length;let h=r;for(;m<f;){const p=l[m++],y=l[m++];try{h=p(h)}catch(x){y.call(this,x);break}}try{d=xv.call(this,h)}catch(p){return Promise.reject(p)}for(m=0,f=u.length;m<f;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=es(this.defaults,t);const r=s2(t.baseURL,t.url,t.allowAbsoluteUrls);return e2(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){Ha.prototype[t]=function(r,n){return this.request(es(n||{},{method:t,url:r,data:(n||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(es(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ha.prototype[t]=r(),Ha.prototype[t+"Form"]=r(!0)});let M4=class u2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new gi(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new u2(function(s){t=s}),cancel:t}}};function D4(e){return function(r){return e.apply(null,r)}}function _4(e){return W.isObject(e)&&e.isAxiosError===!0}const jh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jh).forEach(([e,t])=>{jh[t]=e});function d2(e){const t=new Ha(e),r=z1(Ha.prototype.request,t);return W.extend(r,Ha.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return d2(es(e,s))},r}const We=d2(tl);We.Axios=Ha;We.CanceledError=gi;We.CancelToken=M4;We.isCancel=n2;We.VERSION=c2;We.toFormData=ud;We.AxiosError=ie;We.Cancel=We.CanceledError;We.all=function(t){return Promise.all(t)};We.spread=D4;We.isAxiosError=_4;We.mergeConfig=es;We.AxiosHeaders=qt;We.formToJSON=e=>r2(W.isHTMLForm(e)?new FormData(e):e);We.getAdapter=l2.getAdapter;We.HttpStatusCode=jh;We.default=We;const{Axios:hK,AxiosError:pK,CanceledError:gK,isCancel:xK,CancelToken:yK,VERSION:vK,all:bK,Cancel:jK,isAxiosError:wK,spread:NK,toFormData:SK,AxiosHeaders:CK,HttpStatusCode:kK,formToJSON:EK,getAdapter:PK,mergeConfig:AK}=We,m2="production",Gm="http://localhost:5001",R4="https://vercel-8b6rz6p9x-chuck-ferrells-projects.vercel.app";let Ys=R4;try{typeof window<"u"&&window.location.hostname==="localhost"&&Ys!==Gm&&(console.warn("TCC_WARN: Localhost detected but API_BASE_URL is not local. For safety using",Gm),Ys=Gm)}catch{}console.log("TCC_DEBUG: API_BASE_URL is set to:",Ys,"ENV:",m2);const Q=We.create({baseURL:Ys,withCredentials:!0,headers:{"Content-Type":"application/json"}});Q.interceptors.request.use(e=>{var r;const t=localStorage.getItem("token");console.log("TCC_DEBUG: API request interceptor - token present:",!!t),console.log("TCC_DEBUG: API request interceptor - token value:",t?t.substring(0,20)+"...":"none"),t&&(e.headers.Authorization=`Bearer ${t}`,console.log("TCC_DEBUG: API request interceptor - Authorization header set:",e.headers.Authorization?"YES":"NO"));try{const n=new URL(Ys).origin,s=typeof window<"u"?window.location.origin:n,i=n===s;!(e.url||"").toString().startsWith("/api/auth/")&&i?e.headers["X-TCC-Env"]=m2:e.headers["X-TCC-Env"]&&delete e.headers["X-TCC-Env"]}catch{}try{const n=(e.baseURL||"")+(e.url||"");(n.includes("/api/tcc/agencies")||n.includes("/api/tcc/analytics")||n.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API request ",(r=e.method)==null?void 0:r.toUpperCase(),n,"params:",e.params,"data:",e.data)}catch{}return e});Q.interceptors.response.use(e=>{var t,r;try{const n=((t=e.config)==null?void 0:t.baseURL)+(((r=e.config)==null?void 0:r.url)||"");(n!=null&&n.includes("/api/tcc/agencies")||n.includes("/api/tcc/analytics")||n.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API response ",e.status,n,"data:",e.data)}catch{}return e},e=>{var t,r,n,s,i,o,l;try{const c=(((r=(t=e.response)==null?void 0:t.config)==null?void 0:r.baseURL)||"")+(((s=(n=e.response)==null?void 0:n.config)==null?void 0:s.url)||"");(c.includes("/api/tcc/agencies")||c.includes("/api/tcc/analytics")||c.includes("/api/dropdown-options"))&&console.log("TCC_DEBUG: API error ",(i=e.response)==null?void 0:i.status,c,"data:",(o=e.response)==null?void 0:o.data)}catch{}return((l=e.response)==null?void 0:l.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const Xs={login:e=>(console.log("TCC_DEBUG: API login called with URL:",Ys+"/api/auth/login"),console.log("TCC_DEBUG: API login called with credentials:",e),Q.post("/api/auth/login",e)),logout:()=>Q.post("/api/auth/logout"),verify:()=>Q.get("/api/auth/verify"),register:e=>Q.post("/api/auth/register",e),healthcareRegister:e=>Q.post("/api/auth/healthcare/register",e),emsRegister:e=>Q.post("/api/auth/ems/register",e),healthcareLogin:e=>Q.post("/api/auth/healthcare/login",e),emsLogin:e=>Q.post("/api/auth/ems/login",e),getUsers:()=>Q.get("/api/auth/users")},f2={getOverview:()=>Q.get("/api/tcc/analytics/overview"),getTrips:()=>Q.get("/api/tcc/analytics/trips"),getCostAnalysis:e=>Q.get("/api/tcc/analytics/cost-analysis",{params:e}),getProfitability:e=>Q.get("/api/tcc/analytics/profitability",{params:e}),getCostBreakdowns:e=>Q.get("/api/tcc/analytics/cost-breakdowns",{params:e})},tu={getOverview:()=>Q.get("/api/tcc/analytics/overview"),getTrips:()=>Q.get("/api/tcc/analytics/trips"),getCostAnalysis:e=>Q.get("/api/tcc/analytics/cost-analysis",{params:e}),getProfitability:e=>Q.get("/api/tcc/analytics/profitability",{params:e})},md={getAll:e=>Q.get("/api/trips",{params:e}),create:e=>Q.post("/api/trips",e),createEnhanced:e=>Q.post("/api/trips/with-responses",e),update:(e,t)=>Q.put(`/api/trips/${e}`,t),delete:e=>Q.delete(`/api/trips/${e}`),getOptions:{diagnosis:()=>Q.get("/api/trips/options/diagnosis"),mobility:()=>Q.get("/api/trips/options/mobility"),transportLevel:()=>Q.get("/api/trips/options/transport-level"),urgency:()=>Q.get("/api/trips/options/urgency"),insurance:()=>Q.get("/api/trips/options/insurance")},getAgenciesForHospital:(e,t)=>Q.get(`/api/trips/agencies/${encodeURIComponent(e)}`,{params:{radius:t}})},kc={getAll:e=>Q.get("/api/tcc/agencies",{params:e}),create:e=>Q.post("/api/tcc/agencies",e),update:(e,t)=>Q.put(`/api/tcc/agencies/${e}`,t),delete:e=>Q.delete(`/api/tcc/agencies/${e}`)},h2={getAll:e=>Q.get("/api/tcc/facilities",{params:e}),create:e=>Q.post("/api/tcc/facilities",e),update:(e,t)=>Q.put(`/api/tcc/facilities/${e}`,t),delete:e=>Q.delete(`/api/tcc/facilities/${e}`)},Xi={getOverview:()=>Q.get("/api/ems/analytics/overview"),getTrips:()=>Q.get("/api/ems/analytics/trips"),getUnits:()=>Q.get("/api/ems/analytics/units"),getPerformance:()=>Q.get("/api/ems/analytics/performance")},Qi={getCategories:()=>Q.get("/api/dropdown-options"),getByCategory:e=>Q.get(`/api/dropdown-options/${encodeURIComponent(e)}`),create:e=>Q.post("/api/dropdown-options",e),update:(e,t)=>Q.put(`/api/dropdown-options/${e}`,t),delete:e=>Q.delete(`/api/dropdown-options/${e}`)},wh=Object.freeze(Object.defineProperty({__proto__:null,agenciesAPI:kc,analyticsAPI:tu,authAPI:Xs,default:Q,dropdownOptionsAPI:Qi,emsAnalyticsAPI:Xi,facilitiesAPI:h2,tccAnalyticsAPI:f2,tripsAPI:md},Symbol.toStringTag,{value:"Module"})),I4=({onLogin:e})=>{const[t,r]=g.useState({email:"",password:""}),[n,s]=g.useState(!1),[i,o]=g.useState(""),l=async u=>{var d,m,f,h;u.preventDefault(),s(!0),o("");try{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("TCC_DEBUG: Attempting login with:",t);const p=await Xs.login(t);console.log("TCC_DEBUG: Login response:",p.data),p.data.success?(console.log("TCC_DEBUG: Login successful, calling onLogin"),e(p.data.user,p.data.token)):(console.log("TCC_DEBUG: Login failed:",p.data.error),o(p.data.error||"Login failed"))}catch(p){console.log("TCC_DEBUG: Login error:",p),console.log("TCC_DEBUG: Error response:",p.response),console.log("TCC_DEBUG: Error status:",(d=p.response)==null?void 0:d.status),console.log("TCC_DEBUG: Error data:",(m=p.response)==null?void 0:m.data),o(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||"Login failed")}finally{s(!1)}},c=u=>{r(d=>({...d,[u.target.name]:u.target.value}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100",children:a.jsx("svg",{className:"h-8 w-8 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"TCC Admin Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Transport Control Center"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t.email,onChange:c})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t.password,onChange:c})]})]}),i&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsx("div",{className:"text-sm text-red-700",children:i})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing in...":"Sign in"})})]})]})})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,...$4,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${B4(e)}`,l].join(" "),...u},[...t.map(([m,f])=>g.createElement(m,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=se("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=se("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=se("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=se("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=se("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=se("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=se("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=se("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=se("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=se("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=se("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=se("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cg=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[s,i]=g.useState(!1);g.useEffect(()=>{o()},[]);const o=async()=>{i(!0);try{const f=(await Q.get("/api/notifications")).data;if(f!=null&&f.success&&Array.isArray(f.data)){const h=f.data.map(p=>({id:p.id,type:p.type||"info",title:p.title||"Notification",message:p.message||"",timestamp:new Date(p.createdAt||Date.now()),read:!!p.isRead||!!p.read}));t(h)}}catch(m){console.error("Error loading notifications:",m)}finally{i(!1)}},l=async m=>{try{(await Q.put(`/api/notifications/${m}/read`)).status===200&&t(h=>h.map(p=>p.id===m?{...p,read:!0}:p))}catch(f){console.error("Error marking notification as read:",f)}},c=async()=>{try{(await Q.put("/api/notifications/read-all")).status===200&&t(f=>f.map(h=>({...h,read:!0})))}catch(m){console.error("Error marking all notifications as read:",m)}},u=m=>{switch(m){case"success":return a.jsx(De,{className:"h-5 w-5 text-green-500"});case"error":return a.jsx(Ot,{className:"h-5 w-5 text-red-500"});case"warning":return a.jsx(Ot,{className:"h-5 w-5 text-yellow-500"});default:return a.jsx(H4,{className:"h-5 w-5 text-blue-500"})}},d=e.filter(m=>!m.read).length;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>n(!r),className:"p-2 text-gray-400 hover:text-gray-600 relative",children:[a.jsx(Qs,{className:"h-5 w-5"}),d>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:d})]}),r&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"}),a.jsxs("div",{className:"flex space-x-2",children:[d>0&&a.jsx("button",{onClick:c,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"}),a.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Yt,{className:"h-4 w-4"})})]})]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:s?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}):e.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):e.map(m=>a.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${m.read?"":"bg-blue-50"}`,onClick:()=>l(m.id),children:a.jsxs("div",{className:"flex items-start space-x-3",children:[u(m.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:m.timestamp.toLocaleString()})]}),!m.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]})},m.id))}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsx("button",{onClick:o,className:"w-full text-sm text-blue-600 hover:text-blue-800",children:"Refresh"})})]})]})},q4=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(!0),[s,i]=g.useState(""),[o,l]=g.useState([]),[c,u]=g.useState(!0);if(g.useEffect(()=>{(async()=>{var h,p;try{const y=await tu.getOverview();t(y.data.data)}catch(y){i(((p=(h=y.response)==null?void 0:h.data)==null?void 0:p.error)||"Failed to load overview")}finally{n(!1)}})(),(async()=>{const h=[{path:"/api/tcc/analytics/overview",label:"Analytics Overview"},{path:"/api/tcc/agencies",label:"Agencies"},{path:"/api/dropdown-options",label:"Dropdown Categories"},{path:"/api/tcc/hospitals",label:"Hospitals"}],p=[];await Promise.all(h.map(async y=>{var x,v;try{const b=await Q.get(y.path);(b.status!==200||((x=b.data)==null?void 0:x.success)===!1)&&p.push(`${y.label}: ${b.status}`)}catch(b){const j=((v=b==null?void 0:b.response)==null?void 0:v.status)||"ERR";p.push(`${y.label}: ${j}`)}})),l(p)})()},[]),r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(s)return a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"text-red-800",children:s})});const d=[{name:"Total Healthcare Facilities",value:(e==null?void 0:e.totalHospitals)||0,active:(e==null?void 0:e.activeHospitals)||0,icon:Vt,color:"bg-blue-500"},{name:"EMS Agencies",value:(e==null?void 0:e.totalAgencies)||0,active:(e==null?void 0:e.activeAgencies)||0,icon:Te,color:"bg-green-500"},{name:"Facilities",value:(e==null?void 0:e.totalFacilities)||0,active:(e==null?void 0:e.activeFacilities)||0,icon:St,color:"bg-purple-500"},{name:"EMS Units",value:(e==null?void 0:e.totalUnits)||0,active:(e==null?void 0:e.activeUnits)||0,icon:wr,color:"bg-orange-500"}];return a.jsxs("div",{children:[c&&o.length>0&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-800 p-4 rounded",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Feed warnings detected"}),a.jsx("ul",{className:"list-disc ml-5 mt-1 text-sm",children:o.map((m,f)=>a.jsx("li",{children:m},f))})]}),a.jsx("button",{onClick:()=>u(!1),className:"text-sm underline",children:"Dismiss"})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Overview"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor the status of hospitals, EMS agencies, and facilities in the system."})]}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:d.map(m=>a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`p-3 rounded-md ${m.color}`,children:a.jsx(m.icon,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:m.name}),a.jsxs("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:m.value}),a.jsxs("div",{className:"ml-2 text-sm text-gray-500",children:["(",m.active," active)"]})]})]})})]})})},m.name))}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("a",{href:"/dashboard/trips",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:a.jsx(Te,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Trips"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"View, manage, and monitor all transport requests."})]})]}),a.jsxs("a",{href:"/dashboard/hospitals",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:a.jsx(Vt,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Healthcare Facilities"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Add, edit, or remove healthcare facilities from the system."})]})]}),a.jsxs("a",{href:"/dashboard/agencies",className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx("div",{children:a.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:a.jsx(Te,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage EMS Agencies"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Add, edit, or remove EMS agencies and their units."})]})]})]})]})]})},V4=({trip:e,user:t})=>{const[r,n]=g.useState(!1),[s,i]=g.useState([]);g.useEffect(()=>{i((()=>{const f=[];return e.createdAt&&f.push({event:"Trip Created",timestamp:e.createdAt,description:""}),e.requestTimestamp&&f.push({event:"Request Sent",timestamp:e.requestTimestamp,description:""}),e.transferRequestTime&&f.push({event:"Transfer Requested",timestamp:e.transferRequestTime,description:""}),e.acceptedTimestamp&&f.push({event:"Accepted by EMS",timestamp:e.acceptedTimestamp,description:""}),e.emsArrivalTime&&f.push({event:"EMS Arrived",timestamp:e.emsArrivalTime,description:""}),e.pickupTimestamp&&f.push({event:"Patient Picked Up",timestamp:e.pickupTimestamp,description:""}),e.actualStartTime&&f.push({event:"Trip Started",timestamp:e.actualStartTime,description:""}),e.actualEndTime&&f.push({event:"Trip Ended",timestamp:e.actualEndTime,description:""}),e.completionTimestamp&&f.push({event:"Trip Completed",timestamp:e.completionTimestamp,description:""}),f.sort((h,p)=>new Date(h.timestamp).getTime()-new Date(p.timestamp).getTime())})())},[e]);const o=m=>new Date(m).toLocaleString(),l=m=>{console.log("Edit trip:",m.id)},c=m=>{window.confirm(`Are you sure you want to delete trip ${m.tripNumber}?`)&&console.log("Delete trip:",m.id)},u=m=>{switch(m){case"EMERGENT":return"bg-red-100 text-red-800";case"URGENT":return"bg-orange-100 text-orange-800";case"ROUTINE":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},d=m=>{switch(m){case"CRITICAL":return"EMERGENT";case"HIGH":return"URGENT";case"MEDIUM":case"LOW":return"ROUTINE";default:return m}};return a.jsxs("div",{className:"bg-white shadow rounded-lg border",children:[a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[a.jsx("div",{children:"PATIENT"}),a.jsx("div",{children:"ROUTE"}),a.jsx("div",{children:"PICKUP LOCATION"}),a.jsx("div",{children:"PRIORITY"}),a.jsx("div",{children:"ACTIONS"})]})}),a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:e.patientId}),a.jsx("div",{className:"text-sm text-gray-500",children:o(e.scheduledTime)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:e.fromLocation}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(p2,{className:"w-3 h-3 mr-1"}),e.toLocation]})]}),a.jsx("div",{children:e.pickupLocation?a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:e.pickupLocation.name}),e.pickupLocation.floor&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Floor: ",e.pickupLocation.floor]}),e.pickupLocation.room&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Room: ",e.pickupLocation.room]}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(pd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Contact:"})]}),a.jsx("div",{className:"text-blue-600",children:e.pickupLocation.contactPhone}),a.jsx("div",{className:"text-blue-600",children:e.pickupLocation.contactEmail})]})]}):a.jsx("span",{className:"text-gray-400 italic",children:"No specific location"})}),a.jsx("div",{children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(d(e.priority))}`,children:d(e.priority)})}),a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-green-700",children:"Accept"}),a.jsx("button",{className:"bg-red-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-red-700",children:"Decline"})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>l(e),className:"bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-blue-700",children:"Edit"}),a.jsx("button",{onClick:()=>c(e),className:"bg-gray-600 text-white px-2 py-1 rounded text-xs font-medium hover:bg-gray-700",children:"Delete"})]})]})]})}),a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:["Level: ",e.transportLevel]}),a.jsxs("div",{children:["Distance: ",e.distanceMiles?`${e.distanceMiles} miles`:"N/A"]}),a.jsxs("div",{children:["Time: ",e.estimatedTripTimeMinutes?`${e.estimatedTripTimeMinutes} minutes`:"N/A"]}),a.jsxs("div",{children:["Revenue: ",e.tripCost?`$${Number(e.tripCost).toFixed(2)}`:"N/A"]})]})}),s.length>0&&a.jsxs("div",{className:"border-t",children:[a.jsxs("button",{onClick:()=>n(!r),className:"w-full px-6 py-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center justify-between",children:[a.jsxs("span",{children:["Trip Timeline (",s.length," events)"]}),r?a.jsx(uo,{className:"w-4 h-4"}):a.jsx(co,{className:"w-4 h-4"})]}),r&&a.jsx("div",{className:"px-6 pb-4 bg-gray-50",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((m,f)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mr-3"}),a.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.event}),a.jsx("p",{className:"text-xs text-gray-400",children:o(m.timestamp)})]})]},f))})})]})]})},Y4=({user:e})=>{const t=vg(),[r,n]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState(""),[d,m]=g.useState(new Date),[f,h]=g.useState(""),[p,y]=g.useState("ALL"),[x,v]=g.useState("ALL"),[b,j]=g.useState("ALL"),[w,N]=g.useState("ALL"),[S,P]=g.useState("ALL"),[O,A]=g.useState(!1),[E,D]=g.useState(null),[_,T]=g.useState(!1),[K,R]=g.useState("createdAt"),[M,B]=g.useState("desc"),I=async()=>{var L,C;try{l(!0);const F=await md.getAll();F.data.success?(n(F.data.data),i(F.data.data),m(new Date)):u(F.data.error||"Failed to fetch trips")}catch(F){u(((C=(L=F.response)==null?void 0:L.data)==null?void 0:C.error)||"Failed to fetch trips")}finally{l(!1)}};g.useEffect(()=>{I()},[]),g.useEffect(()=>{const L=setInterval(I,3e4);return()=>clearInterval(L)},[]),g.useEffect(()=>{let L=[...r];if(f){const C=f.toLowerCase();L=L.filter(F=>{var X;return F.tripNumber.toLowerCase().includes(C)||F.patientId.toLowerCase().includes(C)||F.fromLocation.toLowerCase().includes(C)||F.toLocation.toLowerCase().includes(C)||(((X=F.assignedAgency)==null?void 0:X.name)||"").toLowerCase().includes(C)})}if(p!=="ALL"&&(L=L.filter(C=>C.status===p)),x!=="ALL"&&(L=L.filter(C=>C.priority===x)),b!=="ALL"&&(L=L.filter(C=>C.transportLevel===b)),w!=="ALL"){const C=new Date,F=new Date;switch(w){case"24H":F.setHours(C.getHours()-24);break;case"7D":F.setDate(C.getDate()-7);break;case"30D":F.setDate(C.getDate()-30);break}w!=="ALL"&&(L=L.filter(X=>new Date(X.createdAt)>=F))}e.userType!=="ADMIN"&&e.facilityName&&(L=L.filter(C=>C.fromLocation.toLowerCase().includes(e.facilityName.toLowerCase()))),L.sort((C,F)=>{const X=C[K],re=F[K];return X<re?M==="asc"?-1:1:X>re?M==="asc"?1:-1:0}),i(L)},[r,f,p,x,b,w,S,K,M,e]);const H=L=>{const C={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:sr},ACCEPTED:{color:"bg-blue-100 text-blue-800",icon:De},DECLINED:{color:"bg-orange-100 text-orange-800",icon:Yt},IN_PROGRESS:{color:"bg-purple-100 text-purple-800",icon:Te},COMPLETED:{color:"bg-green-100 text-green-800",icon:De},CANCELLED:{color:"bg-red-100 text-red-800",icon:Yt}},F=C[L]||C.PENDING,X=F.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.color}`,children:[a.jsx(X,{className:"w-3 h-3 mr-1"}),L.replace("_"," ")]})},k=L=>{const C={LOW:{color:"bg-gray-100 text-gray-800"},MEDIUM:{color:"bg-yellow-100 text-yellow-800"},HIGH:{color:"bg-orange-100 text-orange-800"},CRITICAL:{color:"bg-red-100 text-red-800"}},F=C[L]||C.LOW;return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.color}`,children:L})},$=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),z=()=>{const L=["Trip Number","Patient ID","From Location","Pickup Location","Pickup Floor","Pickup Room","Pickup Contact","To Location","Status","Priority","Transport Level","Scheduled Time","Assigned Agency","Created At"],C=s.map(G=>{var ne,ae,q,Ve,he,rt;return[G.tripNumber,G.patientId,G.fromLocation,((ne=G.pickupLocation)==null?void 0:ne.name)||"N/A",((ae=G.pickupLocation)==null?void 0:ae.floor)||"N/A",((q=G.pickupLocation)==null?void 0:q.room)||"N/A",((Ve=G.pickupLocation)==null?void 0:Ve.contactPhone)||((he=G.pickupLocation)==null?void 0:he.contactEmail)||"N/A",G.toLocation,G.status,G.priority,G.transportLevel,$(G.scheduledTime),((rt=G.assignedAgency)==null?void 0:rt.name)||"Unassigned",$(G.createdAt)]}),F=[L,...C].map(G=>G.map(ne=>`"${ne}"`).join(",")).join(`
`),X=new Blob([F],{type:"text/csv"}),re=window.URL.createObjectURL(X),ce=document.createElement("a");ce.href=re,ce.download=`trips-${new Date().toISOString().split("T")[0]}.csv`,ce.click(),window.URL.revokeObjectURL(re)};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trip Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and monitor all transport requests"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:I,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:z,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(An,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3",children:[a.jsx("button",{onClick:()=>t("/dashboard/trips/create"),className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(Te,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Create Trip"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"New Transport Request"})]})})]})})}),a.jsx("button",{onClick:()=>window.location.href="/dashboard/units",className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx(Te,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Units"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"Manage Units"})]})})]})})}),a.jsx("button",{onClick:()=>window.location.href="/dashboard/route-optimization",className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-purple-500",children:a.jsx(St,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Route Optimization"}),a.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:"Optimize Routes"})]})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx(Te,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(sr,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(L=>L.status==="PENDING").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-purple-500",children:a.jsx(Te,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"In Progress"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(L=>L.status==="IN_PROGRESS").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(De,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.filter(L=>L.status==="COMPLETED").length})]})})]})})})]}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Filters"}),a.jsxs("button",{onClick:()=>A(!O),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(fd,{className:"w-4 h-4 mr-2"}),O?"Hide Filters":"Show Filters",O?a.jsx(uo,{className:"w-4 h-4 ml-2"}):a.jsx(co,{className:"w-4 h-4 ml-2"})]})]}),O&&a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(gd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:f,onChange:L=>h(L.target.value),className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search trips..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{value:p,onChange:L=>y(L.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Statuses"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"ACCEPTED",children:"Accepted"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),a.jsxs("select",{value:x,onChange:L=>v(L.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Priorities"}),a.jsx("option",{value:"LOW",children:"Low"}),a.jsx("option",{value:"MEDIUM",children:"Medium"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"CRITICAL",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport Level"}),a.jsxs("select",{value:b,onChange:L=>j(L.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Levels"}),a.jsx("option",{value:"BLS",children:"BLS"}),a.jsx("option",{value:"ALS",children:"ALS"}),a.jsx("option",{value:"CCT",children:"CCT"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date Range"}),a.jsxs("select",{value:w,onChange:L=>N(L.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"ALL",children:"All Time"}),a.jsx("option",{value:"24H",children:"Last 24 Hours"}),a.jsx("option",{value:"7D",children:"Last 7 Days"}),a.jsx("option",{value:"30D",children:"Last 30 Days"})]})]}),e.userType==="ADMIN"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hospital"}),a.jsx("select",{value:S,onChange:L=>P(L.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:a.jsx("option",{value:"ALL",children:"All Hospitals"})})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:s.length})," of"," ",a.jsx("span",{className:"font-medium",children:r.length})," trips"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",d.toLocaleTimeString()]})]}),a.jsxs("div",{className:"space-y-4",children:[s.map(L=>a.jsx(V4,{trip:L,user:e},L.id)),s.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Te,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No trips found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:f||p!=="ALL"||x!=="ALL"||b!=="ALL"||w!=="ALL"?"Try adjusting your filters to see more results.":"No trips have been created yet."})]})]}),_&&E&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>T(!1)}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Trip Details - ",E.tripNumber]}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Yt,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Patient ID"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.patientId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("div",{className:"mt-1",children:H(E.status)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),a.jsx("div",{className:"mt-1",children:k(E.priority)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport Level"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.transportLevel})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Location"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.fromLocation})]}),E.pickupLocation&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pickup Location"}),a.jsxs("div",{className:"mt-1 p-3 bg-blue-50 rounded-md",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.pickupLocation.name}),E.pickupLocation.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.pickupLocation.description}),a.jsxs("div",{className:"mt-2 space-y-1",children:[E.pickupLocation.floor&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Floor:"})," ",E.pickupLocation.floor]}),E.pickupLocation.room&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Room:"})," ",E.pickupLocation.room]}),E.pickupLocation.contactPhone&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",E.pickupLocation.contactPhone]}),E.pickupLocation.contactEmail&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",E.pickupLocation.contactEmail]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Location"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.toLocation})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scheduled Time"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:$(E.scheduledTime)})]}),E.assignedAgency&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Agency"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.assignedAgency.name})]}),E.diagnosis&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Diagnosis"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.diagnosis})]}),E.mobilityLevel&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobility Level"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.mobilityLevel})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Oxygen Required"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.oxygenRequired?"Yes":"No"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monitoring Required"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.monitoringRequired?"Yes":"No"})]})]})]})]}),a.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:a.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>T(!1),children:"Close"})})]})]})})]})},X4=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(null);g.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const A=await Q.get("/api/tcc/hospitals");t(A.data.data||[])}catch(A){i(A.message),console.error("Error fetching hospitals:",A)}finally{n(!1)}},l=async A=>{try{const E=await Q.put(`/api/tcc/hospitals/${A}/approve`);console.log("Hospital approved:",E.data),await o()}catch(E){console.error("Error approving hospital:",E),i("Failed to approve hospital")}},c=async A=>{try{const E=await Q.put(`/api/tcc/hospitals/${A}/reject`);console.log("Hospital rejected:",E.data),await o()}catch(E){console.error("Error rejecting hospital:",E),i("Failed to reject hospital")}},[u,d]=g.useState(null),[m,f]=g.useState({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",type:"",capabilities:[],region:"",latitude:"",longitude:""}),[h,p]=g.useState(!1),[y,x]=g.useState(null),[v,b]=g.useState(!1),j=A=>{var D,_;const E=e.find(T=>T.id===A);E&&(d(E),f({name:E.name,address:E.address,city:E.city,state:E.state,zipCode:E.zipCode,phone:E.phone||"",email:E.email||"",type:E.type,capabilities:E.capabilities,region:E.region,latitude:((D=E.latitude)==null?void 0:D.toString())||"",longitude:((_=E.longitude)==null?void 0:_.toString())||""}),x(null))},w=A=>{const{name:E,value:D}=A.target;f(_=>({..._,[E]:D}))},N=async()=>{if(!m.address||!m.city||!m.state||!m.zipCode){x("Please fill in address, city, state, and ZIP code before looking up coordinates");return}b(!0),x(null);try{const A=`${m.address}, ${m.city}, ${m.state} ${m.zipCode}`,E=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(A)}&limit=1`);if(!E.ok)throw new Error("Geocoding service unavailable");const D=await E.json();if(D&&D.length>0){const _=D[0];f(T=>({...T,latitude:_.lat,longitude:_.lon})),x(null)}else x("Address not found. Please enter coordinates manually.")}catch(A){console.error("Geocoding error:",A),x("Failed to lookup coordinates. Please enter them manually.")}finally{b(!1)}},S=async A=>{if(A.preventDefault(),!!u){p(!0),x(null);try{const E=await Q.put(`/api/tcc/hospitals/${u.id}`,m);await o(),d(null)}catch(E){console.error("Error updating hospital:",E),x(E.message||"Failed to update hospital")}finally{p(!1)}}},P=()=>{d(null),x(null)},O=async A=>{if(window.confirm("Are you sure you want to delete this hospital? This action cannot be undone."))try{const E=await Q.delete(`/api/tcc/hospitals/${A}`);console.log("Hospital deleted:",E.data),await o()}catch(E){console.error("Error deleting hospital:",E),i("Failed to delete hospital")}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading hospitals..."})]})}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(ir,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading hospitals"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:s})]})]})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Healthcare Facilities"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Manage healthcare facilities in the system. ",e.length," facilities found."]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Healthcare Facilities List"}),a.jsxs("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/?register=healthcare"},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),"Add Healthcare Facility"]})]})}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hospitals found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new hospital."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facility"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),a.jsx("div",{className:"text-sm text-gray-500",children:A.email})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[A.city,", ",A.state," ",A.zipCode]}),a.jsx("div",{className:"text-sm text-gray-500",children:A.address})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:A.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[A.isActive?a.jsx(De,{className:"h-4 w-4 text-green-500 mr-1"}):A.requiresReview?a.jsx(sr,{className:"h-4 w-4 text-yellow-500 mr-1"}):a.jsx(ir,{className:"h-4 w-4 text-red-500 mr-1"}),a.jsx("span",{className:`text-sm font-medium ${A.isActive?"text-green-800":A.requiresReview?"text-yellow-800":"text-red-800"}`,children:A.isActive?"Active":A.requiresReview?"Pending Review":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[A.requiresReview&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>l(A.id),className:"text-green-600 hover:text-green-900",children:"Approve"}),a.jsx("button",{onClick:()=>c(A.id),className:"text-red-600 hover:text-red-900",children:"Reject"})]}),a.jsx("button",{onClick:()=>j(A.id),className:"text-blue-600 hover:text-blue-900",title:"Edit hospital",children:a.jsx(hd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>O(A.id),className:"text-red-600 hover:text-red-900",title:"Delete hospital",children:a.jsx(xd,{className:"h-4 w-4"})})]})})]},A.id))})]})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Healthcare Facility"}),a.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600",children:a.jsx(ir,{className:"h-6 w-6"})})]}),y&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(ir,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:y})})]})}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Facility Name *"}),a.jsx("input",{type:"text",name:"name",value:m.name,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address *"}),a.jsx("input",{type:"text",name:"address",value:m.address,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City *"}),a.jsx("input",{type:"text",name:"city",value:m.city,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State *"}),a.jsx("input",{type:"text",name:"state",value:m.state,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zip Code *"}),a.jsx("input",{type:"text",name:"zipCode",value:m.zipCode,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:m.email,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type *"}),a.jsxs("select",{name:"type",value:m.type,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select type"}),a.jsx("option",{value:"Hospital",children:"Hospital"}),a.jsx("option",{value:"Clinic",children:"Clinic"}),a.jsx("option",{value:"Urgent Care",children:"Urgent Care"}),a.jsx("option",{value:"Rehabilitation Facility",children:"Rehabilitation Facility"}),a.jsx("option",{value:"Doctor's Office",children:"Doctor's Office"}),a.jsx("option",{value:"Dialysis Center",children:"Dialysis Center"}),a.jsx("option",{value:"Nursing Home",children:"Nursing Home"}),a.jsx("option",{value:"Assisted Living",children:"Assisted Living"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Region *"}),a.jsx("input",{type:"text",name:"region",value:m.region,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Vt,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for agency distance calculations. You can either lookup coordinates automatically or enter them manually."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:N,disabled:v||!m.address||!m.city||!m.state||!m.zipCode,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from the address"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",name:"latitude",value:m.latitude,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",name:"longitude",value:m.longitude,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., -78.5678"})]})]}),m.latitude&&m.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:[" Coordinates set: ",m.latitude,", ",m.longitude]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:h?"Updating...":"Update Facility"})]})]})]})})})]})},Q4=()=>{console.log("TCC_DEBUG: Agencies component mounted/rendered");const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(null),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d,m]=g.useState(null),[f,h]=g.useState({name:"",contactName:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",serviceType:"BLS/ALS"}),[p,y]=g.useState(!1),[x,v]=g.useState(null);g.useEffect(()=>{console.log("TCC_DEBUG: Agencies.useEffect() initial load"),b()},[]);const b=async()=>{try{n(!0),console.log("TCC_DEBUG: Agencies.loadAgencies(): calling agenciesAPI.getAll");const A=await kc.getAll();if(console.log("TCC_DEBUG: Agencies.loadAgencies(): response status",A.status),console.log("TCC_DEBUG: Agencies.loadAgencies(): response data",A.data),A.data.success){const E=A.data.data.map(D=>{var _,T,K,R,M,B,I,H,k,$,z,L;return{...D,contactName:((_=D.contactInfo)==null?void 0:_.contactName)||"N/A",phone:((T=D.contactInfo)==null?void 0:T.phone)||"N/A",email:((K=D.contactInfo)==null?void 0:K.email)||"N/A",address:((R=D.contactInfo)==null?void 0:R.address)||"N/A",city:((M=D.contactInfo)==null?void 0:M.city)||"N/A",state:((B=D.contactInfo)==null?void 0:B.state)||"N/A",zipCode:((I=D.contactInfo)==null?void 0:I.zipCode)||"N/A",capabilities:((H=D.contactInfo)==null?void 0:H.capabilities)||[],serviceArea:((k=D.contactInfo)==null?void 0:k.serviceArea)||[],operatingHours:(($=D.contactInfo)==null?void 0:$.operatingHours)||null,pricingStructure:((z=D.contactInfo)==null?void 0:z.pricingStructure)||null,status:((L=D.contactInfo)==null?void 0:L.status)||"ACTIVE"}});console.log("TCC_DEBUG: Agencies.loadAgencies(): transformed count",E.length),t(E)}else i("Failed to load agencies")}catch(A){console.error("TCC_DEBUG: Agencies.loadAgencies(): error",A),i("Failed to load agencies")}finally{n(!1)}},j=A=>{m(A),h({name:A.name,contactName:A.contactName,phone:A.phone,email:A.email,address:A.address,city:A.city,state:A.state,zipCode:A.zipCode,serviceType:"BLS/ALS"}),v(null)},w=A=>{const{name:E,value:D}=A.target;h(_=>({..._,[E]:D}))},N=async A=>{var E,D;if(A.preventDefault(),!!d){y(!0),v(null);try{const _=await kc.update(d.id,f);_.data.success?(t(e.map(T=>T.id===d.id?{...T,...f,updatedAt:new Date().toISOString()}:T)),m(null)):v(_.data.error||"Failed to update agency")}catch(_){console.error("Error updating agency:",_),v(((D=(E=_.response)==null?void 0:E.data)==null?void 0:D.error)||"Failed to update agency")}finally{y(!1)}}},S=()=>{m(null),h({name:"",contactName:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",serviceType:"BLS/ALS"}),v(null)},P=async A=>{if(window.confirm("Are you sure you want to delete this agency?"))try{await kc.delete(A),await b()}catch(E){console.error("Error deleting agency:",E),i("Failed to delete agency")}},O=e.filter(A=>{const E=A.name.toLowerCase().includes(o.toLowerCase())||A.contactName.toLowerCase().includes(o.toLowerCase())||A.city.toLowerCase().includes(o.toLowerCase()),D=c==="all"||c==="active"&&A.isActive||c==="inactive"&&!A.isActive;return E&&D});return r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"EMS Agencies"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage EMS agencies and their capabilities."})]}),s&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(gd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search agencies...",value:o,onChange:A=>l(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:c,onChange:A=>u(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]}),a.jsxs("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/?register=ems"},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),"Add Agency"]}),a.jsx("button",{onClick:b,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:a.jsx(Nr,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:O.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Te,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No agencies found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search terms.":"Get started by adding a new agency."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",A.id]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:A.contactName}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(pd,{className:"h-3 w-3 mr-1"}),A.phone]}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(nl,{className:"h-3 w-3 mr-1"}),A.email]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[A.city,", ",A.state]}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(St,{className:"h-3 w-3 mr-1"}),A.address]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:A.capabilities&&A.capabilities.length>0?A.capabilities.map(E=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:E},E)):a.jsx("span",{className:"text-gray-500 text-sm",children:"No capabilities"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[A.isActive?a.jsx(De,{className:"h-4 w-4 text-green-500 mr-2"}):a.jsx(ir,{className:"h-4 w-4 text-red-500 mr-2"}),a.jsx("span",{className:`text-sm font-medium ${A.isActive?"text-green-600":"text-red-600"}`,children:A.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>j(A),className:"text-primary-600 hover:text-primary-900",children:a.jsx(hd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>P(A.id),className:"text-red-600 hover:text-red-900",children:a.jsx(xd,{className:"h-4 w-4"})})]})})]},A.id))})]})})}),d&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Agency"}),a.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:a.jsx(ir,{className:"h-6 w-6"})})]}),x&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(ir,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:x})})]})}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agency Name"}),a.jsx("input",{type:"text",name:"name",value:f.name,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),a.jsx("input",{type:"text",name:"contactName",value:f.contactName,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:f.email,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("input",{type:"text",name:"address",value:f.address,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",name:"city",value:f.city,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",name:"state",value:f.state,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zipCode",value:f.zipCode,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),a.jsxs("select",{name:"serviceType",value:f.serviceType,onChange:w,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"BLS",children:"BLS Only"}),a.jsx("option",{value:"ALS",children:"ALS Only"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:p?"Saving...":"Save Changes"})]})]})]})})})]})},Z4=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[s,i]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,m]=g.useState({patientId:"",originFacilityId:"",destinationFacilityId:"",transportLevel:"BLS",priority:"MEDIUM",specialRequirements:"",readyStart:"",readyEnd:"",isolation:!1,bariatric:!1});g.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const y=await h2.getAll();t(y.data.data||[])}catch(y){console.error("TCC_DEBUG: Error loading facilities:",y),u("Failed to load facilities")}finally{n(!1)}},h=y=>{const{name:x,value:v,type:b}=y.target;if(b==="checkbox"){const j=y.target.checked;m(w=>({...w,[x]:j}))}else m(j=>({...j,[x]:v}))},p=async y=>{var x,v;if(y.preventDefault(),!d.patientId||!d.originFacilityId||!d.destinationFacilityId){u("Please fill in all required fields");return}if(!d.readyStart||!d.readyEnd){u("Please select ready time window");return}try{i(!0),u(null);const b=await md.create(d);b.data.success?(l(!0),m({patientId:"",originFacilityId:"",destinationFacilityId:"",transportLevel:"BLS",priority:"MEDIUM",specialRequirements:"",readyStart:"",readyEnd:"",isolation:!1,bariatric:!1}),setTimeout(()=>l(!1),5e3)):u(b.data.error||"Failed to create transport request")}catch(b){console.error("TCC_DEBUG: Error creating trip:",b),u(((v=(x=b.response)==null?void 0:x.data)==null?void 0:v.error)||"Failed to create transport request")}finally{i(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(fa,{className:"h-6 w-6 text-primary-600 mr-3"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Transport Request"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Submit a new transport request for patient transfer"})]}),a.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[o&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(De,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Transport request created successfully!"})})]})}),c&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(ir,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"patientId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID *"}),a.jsx("input",{type:"text",id:"patientId",name:"patientId",value:d.patientId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter patient ID",required:!0})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"originFacilityId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Origin Facility *"}),a.jsxs("select",{id:"originFacilityId",name:"originFacilityId",value:d.originFacilityId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"",children:"Select origin facility"}),e.map(y=>a.jsxs("option",{value:y.id,children:[y.name," - ",y.city,", ",y.state]},y.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"destinationFacilityId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Facility *"}),a.jsxs("select",{id:"destinationFacilityId",name:"destinationFacilityId",value:d.destinationFacilityId,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"",children:"Select destination facility"}),e.map(y=>a.jsxs("option",{value:y.id,children:[y.name," - ",y.city,", ",y.state]},y.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"transportLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Level of Service *"}),a.jsxs("select",{id:"transportLevel",name:"transportLevel",value:d.transportLevel,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"BLS",children:"BLS - Basic Life Support"}),a.jsx("option",{value:"ALS",children:"ALS - Advanced Life Support"}),a.jsx("option",{value:"CCT",children:"CCT - Critical Care Transport"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level *"}),a.jsxs("select",{id:"priority",name:"priority",value:d.priority,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[a.jsx("option",{value:"LOW",children:"LOW - Non-urgent"}),a.jsx("option",{value:"MEDIUM",children:"MEDIUM - Standard"}),a.jsx("option",{value:"HIGH",children:"HIGH - Urgent"}),a.jsx("option",{value:"CRITICAL",children:"CRITICAL - Emergency"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"readyStart",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ready Start Time *"}),a.jsx("input",{type:"datetime-local",id:"readyStart",name:"readyStart",value:d.readyStart,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"readyEnd",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ready End Time *"}),a.jsx("input",{type:"datetime-local",id:"readyEnd",name:"readyEnd",value:d.readyEnd,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"specialRequirements",className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),a.jsx("textarea",{id:"specialRequirements",name:"specialRequirements",value:d.specialRequirements,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter any special requirements or notes..."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Special Requirements"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isolation",name:"isolation",checked:d.isolation,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isolation",className:"ml-2 block text-sm text-gray-900",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sg,{className:"h-4 w-4 text-yellow-600 mr-1"}),"Isolation Required"]})})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"bariatric",name:"bariatric",checked:d.bariatric,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"bariatric",className:"ml-2 block text-sm text-gray-900",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(G4,{className:"h-4 w-4 text-blue-600 mr-1"}),"Bariatric Transport"]})})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Request..."]}):a.jsxs(a.Fragment,{children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),"Create Transport Request"]})})})]})]})})},J4="modulepreload",eL=function(e){return"/"+e},Sv={},Ch=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=eL(c),c in Sv)return;Sv[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":J4,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((f,h)=>{m.addEventListener("load",f),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Gl={AMBULANCE:"Ambulance",WHEELCHAIR_VAN:"Wheelchair Van",CRITICAL_CARE:"Critical Care",OTHER:"Other"},Cv={AVAILABLE:"Available",COMMITTED:"Committed",OUT_OF_SERVICE:"Out of Service",MAINTENANCE:"Maintenance",OFF_DUTY:"Off Duty"},tL={AVAILABLE:"text-green-600 bg-green-100",COMMITTED:"text-blue-600 bg-blue-100",OUT_OF_SERVICE:"text-red-600 bg-red-100",MAINTENANCE:"text-yellow-600 bg-yellow-100",OFF_DUTY:"text-gray-600 bg-gray-100"},kv={BLS:"Basic Life Support",ALS:"Advanced Life Support",CCT:"Critical Care Transport",WHEELCHAIR:"Wheelchair Transport",STRETCHER:"Stretcher Transport",OXYGEN:"Oxygen Delivery",MONITORING:"Patient Monitoring",VENTILATOR:"Ventilator Support",CUSTOM:"Custom Capability"},rL=({user:e})=>{const[t,r]=g.useState([]),[n,s]=g.useState(null),[i,o]=g.useState(!0),[l,c]=g.useState(null),[u,d]=g.useState(!1),[m,f]=g.useState(!1),[h,p]=g.useState(null),[y,x]=g.useState(""),[v,b]=g.useState("ALL"),[j,w]=g.useState("ALL"),[N,S]=g.useState({unitNumber:"",type:"AMBULANCE",capabilities:["BLS"],customCapabilities:[],isActive:!0}),[P,O]=g.useState(!1),[A,E]=g.useState(null),D=async()=>{var k;try{console.log(" UnitsManagement: fetchUnits called"),o(!0);const L=(await(await Ch(async()=>{const{default:C}=await Promise.resolve().then(()=>wh);return{default:C}},void 0)).default.get("/api/units",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})).data;if(console.log(" UnitsManagement: API response:",L),L.success)console.log(" UnitsManagement: Units count:",((k=L.data)==null?void 0:k.length)||0),r(L.data||[]);else throw new Error(L.error||"Failed to fetch units")}catch($){console.error("Error fetching units:",$),c($.message)}finally{o(!1)}},_=async()=>{try{const $=(await Q.get("/api/units/analytics",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})).data;$.success&&s($.data)}catch(k){console.error("Error fetching analytics:",k)}};g.useEffect(()=>{console.log(" UnitsManagement: useEffect called, component mounted"),D(),_()},[]);const T=async k=>{k.preventDefault(),O(!0),E(null);try{console.log("TCC_DEBUG: Simulating unit creation with data:",N),await new Promise(z=>setTimeout(z,1e3));const $={id:`mock-unit-${Date.now()}`,agencyId:"mock-agency",unitNumber:N.unitNumber,type:N.type,capabilities:N.capabilities,currentStatus:"AVAILABLE",currentLocation:"Station 1",crew:[],isActive:N.isActive,totalTripsCompleted:0,averageResponseTime:0,lastMaintenanceDate:new Date,nextMaintenanceDate:new Date(Date.now()+30*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};r(z=>[...z,$]),d(!1),f(!1),p(null),R(),console.log("TCC_DEBUG: Mock unit created successfully:",$)}catch($){console.error("Error saving unit:",$),E($.message)}finally{O(!1)}},K=async k=>{if(confirm("Are you sure you want to delete this unit?"))try{const L=(await(await Ch(async()=>{const{default:C}=await Promise.resolve().then(()=>wh);return{default:C}},void 0)).default.delete(`/api/units/${k}`)).data;if(L.success)await D(),await _();else throw new Error(L.error||"Failed to delete unit")}catch($){console.error("Error deleting unit:",$),c($.message)}},R=()=>{S({unitNumber:"",type:"AMBULANCE",capabilities:["BLS"],customCapabilities:[],isActive:!0}),E(null)},M=k=>{p(k),S({unitNumber:k.unitNumber,type:k.type,capabilities:k.capabilities,customCapabilities:[],isActive:k.isActive}),f(!0)},B=t.filter(k=>{const $=k.unitNumber.toLowerCase().includes(y.toLowerCase())||Gl[k.type].toLowerCase().includes(y.toLowerCase()),z=v==="ALL"||k.currentStatus===v,L=j==="ALL"||k.type===j;return $&&z&&L}),I=k=>{const $=tL[k];return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$}`,children:Cv[k]})},H=k=>k.map($=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 mr-1 mb-1",children:kv[$]},$));return i?a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(Nr,{className:"h-8 w-8 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading units..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Units Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage your EMS units and track their status"})]}),a.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:[a.jsx(fa,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Unit"})]})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Mock Implementation"}),a.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:a.jsx("p",{children:"Unit creation is currently simulated locally. Created units will appear in the list but won't persist after page refresh. Backend API endpoint needs to be implemented."})})]})]})}),n&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Units"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.totalUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(De,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.availableUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(wr,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.committedUnits})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ft,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Efficiency"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(n.efficiency*100),"%"]})]})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(gd,{className:"h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search units...",value:y,onChange:k=>x(k.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fd,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:v,onChange:k=>b(k.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"ALL",children:"All Statuses"}),Object.entries(Cv).map(([k,$])=>a.jsx("option",{value:k,children:$},k))]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{value:j,onChange:k=>w(k.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"ALL",children:"All Types"}),Object.entries(Gl).map(([k,$])=>a.jsx("option",{value:k,children:$},k))]})}),a.jsxs("button",{onClick:()=>{D(),_()},className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[a.jsx(Nr,{className:"h-4 w-4"}),a.jsx("span",{children:"Refresh"})]})]})}),l&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Ot,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["Units (",B.length,")"]}),B.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Te,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No units found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t.length===0?"Get started by creating your first unit.":"Try adjusting your search or filter criteria."}),t.length===0&&a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),"Add Unit"]})})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.unitNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:k.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Gl[k.type]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I(k.currentStatus)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex flex-wrap",children:H(k.capabilities)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("div",{children:[a.jsxs("div",{children:[k.totalTripsCompleted," trips"]}),k.averageResponseTime&&a.jsxs("div",{className:"text-gray-500",children:[k.averageResponseTime.toFixed(1),"min avg"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>M(k),className:"text-orange-600 hover:text-orange-900",children:a.jsx(hd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>K(k.id),className:"text-red-600 hover:text-red-900",children:a.jsx(xd,{className:"h-4 w-4"})})]})})]},k.id))})]})})]})}),(u||m)&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:h?"Edit Unit":"Create New Unit"}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Number"}),a.jsx("input",{type:"text",required:!0,value:N.unitNumber,onChange:k=>S({...N,unitNumber:k.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., A-101"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Type"}),a.jsx("select",{value:N.type,onChange:k=>S({...N,type:k.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:Object.entries(Gl).map(([k,$])=>a.jsx("option",{value:k,children:$},k))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capabilities"}),a.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(kv).map(([k,$])=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:N.capabilities.includes(k),onChange:z=>{const L=k;z.target.checked?S({...N,capabilities:[...N.capabilities,L]}):S({...N,capabilities:N.capabilities.filter(C=>C!==L)})},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:$})]},k))})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:N.isActive,onChange:k=>S({...N,isActive:k.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),a.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"On Duty"}),a.jsx("p",{className:"ml-2 text-xs text-gray-500",children:"Check if unit is currently on duty"})]}),A&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:a.jsx("p",{className:"text-sm text-red-700",children:A})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),f(!1),p(null),R()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:P,className:"px-4 py-2 bg-orange-600 text-white rounded-md text-sm font-medium hover:bg-orange-700 disabled:opacity-50",children:P?"Saving...":h?"Update":"Create"})]})]})]})})})]})},x2=()=>{const[e,t]=g.useState({baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialRequirementsSurcharge:50,insuranceRates:{medicare:.85,medicaid:.8,private:1}}),[r,n]=g.useState({standardRate:0,mileageRate:0,insuranceRate:0}),[s,i]=g.useState(!1),[o,l]=g.useState(!1);g.useEffect(()=>{c()},[]),g.useEffect(()=>{d()},[e]);const c=()=>{try{const f=localStorage.getItem("revenue_settings");if(f){const h=JSON.parse(f);t(p=>({...p,...h}))}}catch(f){console.error("Error loading saved settings:",f)}},u=()=>{try{localStorage.setItem("revenue_settings",JSON.stringify(e)),l(!0),setTimeout(()=>l(!1),2e3)}catch(f){console.error("Error saving settings:",f)}},d=()=>{const f="ALS",h="MEDIUM",y="medicare",x=e.baseRates[f],v=e.priorityMultipliers[h],b=e.perMileRates[f],j=e.insuranceRates[y],w=x*v,N=w+b*15,S=N*j;n({standardRate:Math.round(w*100)/100,mileageRate:Math.round(N*100)/100,insuranceRate:Math.round(S*100)/100})},m=(f,h,p)=>{t(y=>({...y,[f]:{...y[f],[h]:p}}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Revenue Calculation Settings"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:u,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:[a.jsx(K4,{className:"h-4 w-4 mr-2"}),o?"Saved!":"Save Settings"]})})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Configure pricing rates and see real-time revenue projections."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Base Rates by Transport Level"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.baseRates).map(([f,h])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[f," Base Rate ($):"]}),a.jsx("input",{type:"number",value:h,onChange:p=>m("baseRates",f,parseFloat(p.target.value)||0),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},f))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Per Mile Rates"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.perMileRates).map(([f,h])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[f," Per Mile ($):"]}),a.jsx("input",{type:"number",step:"0.01",value:h,onChange:p=>m("perMileRates",f,parseFloat(p.target.value)||0),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},f))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Priority Multipliers"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.priorityMultipliers).map(([f,h])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[f," Priority:"]}),a.jsx("input",{type:"number",step:"0.1",value:h,onChange:p=>m("priorityMultipliers",f,parseFloat(p.target.value)||1),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},f))})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Fees"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Special Requirements Surcharge ($):"}),a.jsx("input",{type:"number",value:e.specialRequirementsSurcharge,onChange:f=>t(h=>({...h,specialRequirementsSurcharge:parseFloat(f.target.value)||0})),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Insurance Rate Multipliers"}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.insuranceRates).map(([f,h])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[f.charAt(0).toUpperCase()+f.slice(1),":"]}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"2",value:h,onChange:p=>m("insuranceRates",f,parseFloat(p.target.value)||1),className:"w-24 px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]},f))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(U4,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Preview"})]}),a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Sample trip:"})," ALS transport, MEDIUM priority, 15 miles, medicare insurance"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Standard Rate:"}),a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",r.standardRate]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base rate  priority"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mileage Rate:"}),a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",r.mileageRate]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base + (per mile  distance)"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Insurance Rate:"}),a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",r.insuranceRate]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Insurance rate  mileage"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>{t({baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialRequirementsSurcharge:50,insuranceRates:{medicare:.85,medicaid:.8,private:1}})},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Reset to Defaults"}),a.jsxs("button",{onClick:c,className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:[a.jsx(Nr,{className:"h-4 w-4 inline mr-2"}),"Reload Saved Settings"]})]})]})]})]})]})},nL=({user:e})=>{var v,b,j;const[t,r]=g.useState("overview"),[n,s]=g.useState(!0),[i,o]=g.useState(null),[l,c]=g.useState(null),[u,d]=g.useState(null),[m,f]=g.useState(null),[h,p]=g.useState(null),y=[{id:"overview",name:"Overview",icon:ft},{id:"performance",name:"Performance",icon:rr},{id:"units",name:"Unit Management",icon:wr},{id:"revenue-settings",name:"Revenue Settings",icon:Do}],x=async()=>{var w,N,S,P;s(!0),o(null);try{const[O,A,E,D]=await Promise.all([Xi.getOverview(),Xi.getTrips(),Xi.getUnits(),Xi.getPerformance()]);c(((w=O.data)==null?void 0:w.data)||null),d(((N=A.data)==null?void 0:N.data)||null),f(((S=E.data)==null?void 0:S.data)||null),p(((P=D.data)==null?void 0:P.data)||null)}catch(O){o("Failed to load analytics data"),console.error("Analytics loading error:",O)}finally{s(!1)}};return g.useEffect(()=>{x()},[]),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["View performance metrics and analytics for ",e.agencyName||"your agency","."]})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:y.map(w=>{const N=w.icon;return a.jsxs("button",{onClick:()=>r(w.id),className:`${t===w.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[a.jsx(N,{className:"h-4 w-4"}),a.jsx("span",{children:w.name})]},w.id)})})}),t==="overview"&&a.jsxs("div",{className:"space-y-6",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading analytics data..."})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),!n&&!i&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:(l==null?void 0:l.agencyName)||e.agencyName||"Your Agency"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Agency Performance Dashboard"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Last Updated"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ft,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(l==null?void 0:l.totalTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(wr,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(l==null?void 0:l.completedTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(rr,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Efficiency"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l!=null&&l.efficiency?`${(l.efficiency*100).toFixed(1)}%`:"0%"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Response"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:l!=null&&l.averageResponseTime?`${l.averageResponseTime.toFixed(1)} min`:"0 min"})]})})]})})})]}),u&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trip Status Breakdown"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.completedTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Pending"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.pendingTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Cancelled"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.cancelledTrips||0})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transport Level Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"BLS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((v=u.tripsByLevel)==null?void 0:v.BLS)||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"ALS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((b=u.tripsByLevel)==null?void 0:b.ALS)||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"CCT"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:((j=u.tripsByLevel)==null?void 0:j.CCT)||0})]})]})]})]}),l&&l.totalTrips===0&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ft,{className:"mx-auto h-12 w-12 text-blue-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-blue-900",children:"No Trips Yet"}),a.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Your agency hasn't been assigned any trips yet. Once trips are assigned, you'll see detailed analytics and performance metrics here."})]})})]})]}),t==="performance"&&a.jsxs("div",{className:"space-y-6",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading performance data..."})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),!n&&!i&&h&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(rr,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Response Time"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:h.averageResponseTime?`${h.averageResponseTime.toFixed(1)} min`:"0 min"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(wr,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Trip Time"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:h.averageTripTime?`${h.averageTripTime.toFixed(1)} min`:"0 min"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ft,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completion Rate"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:`${(h.completionRate*100).toFixed(1)}%`})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["$",h.totalRevenue?h.totalRevenue.toFixed(2):"0.00"]})]})})]})})})]})]}),!n&&!i&&!h&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Performance Data"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Performance metrics will be displayed here when data is available."})]})]})]}),t==="units"&&a.jsxs("div",{className:"space-y-6",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading unit data..."})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),!n&&!i&&m&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Unit Management Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(wr,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:m.totalUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(rr,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:m.activeUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ft,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Available Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:m.availableUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Utilization"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:`${(m.averageUtilization*100).toFixed(1)}%`})]})})]})})})]}),m.topPerformingUnits&&m.topPerformingUnits.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Units"}),a.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Response Time"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.topPerformingUnits.map(w=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.unitNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.totalTripsCompleted}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.averageResponseTime?`${w.averageResponseTime.toFixed(1)} min`:"N/A"})]},w.id))})]})})]})]}),!n&&!i&&!m&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Unit Management Analytics"}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(wr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h4",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Unit Data"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unit management data will be displayed here when available."})]})]})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:i})})]})})}),t==="revenue-settings"&&a.jsx(x2,{})]})},y2=({user:e,onLogout:t})=>{const[r,n]=g.useState("overview"),[s,i]=g.useState({agencyName:e.agencyName||"",email:e.email||"",serviceType:"BLS/ALS",contactName:e.name||"",phone:"",address:"",city:"",state:"",zipCode:""}),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,m]=g.useState(!1),[f,h]=g.useState({baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialSurcharge:50,insuranceRates:{medicare:{BLS:120,ALS:200,CCT:350},medicaid:{BLS:100,ALS:180,CCT:300},private:{BLS:180,ALS:300,CCT:450},selfPay:{BLS:200,ALS:350,CCT:500}}}),[p,y]=g.useState(null),[x,v]=g.useState([]),[b,j]=g.useState([]),[w,N]=g.useState(!1),[S,P]=g.useState(null);g.useEffect(()=>{O()},[]);const O=async()=>{N(!0);try{const k=await fetch("/api/trips?status=PENDING",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(k.ok){const z=await k.json();if(z.success&&z.data){const L=z.data.map(C=>({id:C.id,patientId:C.patientId,origin:C.fromLocation,destination:C.toLocation,transportLevel:C.transportLevel||"BLS",priority:C.priority,distance:"12.5 miles",estimatedTime:"25 minutes",revenue:"$150",requestTime:new Date(C.createdAt).toLocaleString(),scheduledTime:C.scheduledTime}));v(L)}}const $=await fetch("/api/trips?status=ACCEPTED,IN_PROGRESS,COMPLETED",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if($.ok){const z=await $.json();if(z.success&&z.data){const L=z.data.map(C=>({id:C.id,patientId:C.patientId,origin:C.fromLocation,destination:C.toLocation,transportLevel:C.transportLevel||"BLS",priority:C.priority,status:C.status,pickupTime:C.actualStartTime?new Date(C.actualStartTime).toLocaleString():"Not started",scheduledTime:C.scheduledTime}));j(L)}}}catch(k){console.error("Error loading trips:",k),P("Failed to load trips")}finally{N(!1)}},A=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t()},E=k=>{const{name:$,value:z}=k.target;i(L=>({...L,[$]:z}))},D=k=>{const{name:$,value:z}=k.target,[L,C]=$.split(".");h(C?F=>({...F,[L]:{...F[L],[C]:parseFloat(z)||0}}):F=>({...F,[$]:parseFloat(z)||0})),_()},_=()=>{const k={transportLevel:"ALS",priority:"MEDIUM",distanceMiles:15,specialRequirements:!1,insuranceCompany:"medicare"},$=f.baseRates[k.transportLevel],z=f.perMileRates[k.transportLevel],L=f.priorityMultipliers[k.priority],C=f.insuranceRates[k.insuranceCompany][k.transportLevel],F=k.specialRequirements?f.specialSurcharge:0,X=$*L+F,re=($+z*k.distanceMiles+F)*L,ce=(C+z*k.distanceMiles+F)*L;y({sampleTrip:k,standardRevenue:Math.round(X*100)/100,mileageRevenue:Math.round(re*100)/100,insuranceRevenue:Math.round(ce*100)/100})};g.useEffect(()=>{_()},[f]);const T=async k=>{k.preventDefault(),l(!0),u(null);try{console.log("TCC_DEBUG: Frontend sending EMS agency update:",s),console.log("TCC_DEBUG: Frontend token:",localStorage.getItem("token"));const $=await fetch("/api/auth/ems/agency/update",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(console.log("TCC_DEBUG: Frontend response status:",$.status),console.log("TCC_DEBUG: Frontend response ok:",$.ok),!$.ok){const L=await $.json();throw console.log("TCC_DEBUG: Frontend error response:",L),new Error(L.error||"Failed to update agency information")}const z=await $.json();console.log("TCC_DEBUG: Frontend success response:",z),m(!0),n("overview"),setTimeout(()=>m(!1),3e3)}catch($){console.error("TCC_DEBUG: Frontend error updating agency:",$),u($.message||"Failed to update agency information")}finally{l(!1)}},K=()=>{i({agencyName:e.agencyName||"",email:e.email||"",serviceType:"BLS/ALS",contactName:e.name||"",phone:"",address:"",city:"",state:"",zipCode:""}),u(null),m(!1),n("overview")},R=async k=>{try{const $=await fetch(`/api/trips/${k}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:"ACCEPTED",assignedAgencyId:e.id,acceptedTimestamp:new Date().toISOString()})});if(!$.ok){const z=await $.json();throw new Error(z.error||"Failed to accept trip")}await O()}catch($){console.error("Error accepting trip:",$),P($.message||"Failed to accept trip")}},M=async k=>{try{const $=await fetch(`/api/trips/${k}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:"CANCELLED"})});if(!$.ok){const z=await $.json();throw new Error(z.error||"Failed to decline trip")}await O()}catch($){console.error("Error declining trip:",$),P($.message||"Failed to decline trip")}},B=async(k,$)=>{try{const z=await fetch(`/api/trips/${k}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:$,...$==="IN_PROGRESS"&&{pickupTimestamp:new Date().toISOString()},...$==="COMPLETED"&&{completionTimestamp:new Date().toISOString()}})});if(!z.ok){const L=await z.json();throw new Error(L.error||"Failed to update trip status")}await O()}catch(z){console.error("Error updating trip status:",z),P(z.message||"Failed to update trip status")}},I=k=>{switch(k){case"HIGH":return"text-red-600 bg-red-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},H=k=>{switch(k){case"ACCEPTED":return"text-green-600 bg-green-100";case"EN_ROUTE":return"text-blue-600 bg-blue-100";case"PICKUP":return"text-purple-600 bg-purple-100";case"COMPLETED":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-orange-100 p-2 rounded-lg mr-3",children:a.jsx(Te,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e.agencyName||"EMS Agency"}),a.jsx("p",{className:"text-sm text-gray-500",children:"EMS Agency Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Cg,{user:e}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rs,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:e.name})]}),a.jsxs("button",{onClick:A,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[a.jsx(Ng,{className:"h-4 w-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",name:"Overview",icon:Te},{id:"available",name:"Available Trips",icon:St},{id:"accepted",name:"My Trips",icon:De},{id:"units",name:"Units",icon:Do},{id:"analytics",name:"Analytics",icon:ft},{id:"revenue-settings",name:"Revenue Settings",icon:pt},{id:"settings",name:"Settings",icon:rs}].map(k=>{const $=k.icon;return a.jsxs("button",{onClick:()=>{console.log(" EMSDashboard: Tab clicked:",k.id),n(k.id)},className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${r===k.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx($,{className:"h-4 w-4"}),a.jsx("span",{children:k.name})]},k.id)})})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(St,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:x.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(De,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:b.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(sr,{className:"h-8 w-8 text-yellow-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed Today"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"8"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ot,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Today's Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"$1,250"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),a.jsx("div",{className:"p-6",children:x.length>0||b.length>0?a.jsxs("div",{className:"space-y-4",children:[x.slice(0,3).map(k=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Available: ",k.patientId," - ",k.origin," to ",k.destination]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[k.transportLevel,"  ",k.priority," Priority  ",k.requestTime]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"AVAILABLE"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I(k.priority)}`,children:k.priority})]})]},`available-${k.id}`)),b.slice(0,3).map(k=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${k.status==="ACCEPTED"?"bg-green-400":k.status==="IN_PROGRESS"?"bg-blue-400":(k.status==="COMPLETED","bg-gray-400")}`}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[k.status==="ACCEPTED"?"Accepted":k.status==="IN_PROGRESS"?"In Progress":k.status==="COMPLETED"?"Completed":k.status,": ",k.patientId," - ",k.origin," to ",k.destination]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[k.transportLevel,"  ",k.priority," Priority  ",k.requestTime]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${H(k.status)}`,children:k.status}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I(k.priority)}`,children:k.priority})]})]},`accepted-${k.id}`)),(x.length>3||b.length>3)&&a.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Showing recent activity - ",x.length+b.length," total trips"]})]}):a.jsx("p",{className:"text-gray-500",children:"No recent trip activity found."})})]})]}),r==="available"&&a.jsxs("div",{className:"space-y-6",children:[S&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Ot,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:S})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Available Transport Requests"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Accept or decline available transport requests"})]}),a.jsx("button",{onClick:O,disabled:w,className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 disabled:opacity-50",children:w?"Loading...":"Refresh"})]}),a.jsxs("div",{className:"divide-y divide-gray-200",children:[x.map(k=>a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Patient ",k.patientId]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[k.origin,"  ",k.destination]})]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I(k.priority)}`,children:k.priority})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Level:"})," ",k.transportLevel]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Distance:"})," ",k.distance]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Time:"})," ",k.estimatedTime]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Revenue:"})," ",k.revenue]})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>R(k.id),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm font-medium",children:"Accept"}),a.jsx("button",{onClick:()=>M(k.id),className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 text-sm font-medium",children:"Decline"})]})]})},k.id)),x.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No available transport requests at this time."})]})]})]}),r==="accepted"&&a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Accepted Trips"}),a.jsx("button",{onClick:O,disabled:w,className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 disabled:opacity-50",children:w?"Loading...":"Refresh"})]}),a.jsxs("div",{className:"divide-y divide-gray-200",children:[b.map(k=>a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Patient ",k.patientId]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${H(k.status)}`,children:k.status})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[k.origin,"  ",k.destination]}),a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Pickup Time:"})," ",k.pickupTime]})]}),a.jsxs("div",{className:"ml-4 flex space-x-2",children:[k.status==="ACCEPTED"&&a.jsx("button",{onClick:()=>B(k.id,"IN_PROGRESS"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 text-sm font-medium",children:"Start Trip"}),k.status==="IN_PROGRESS"&&a.jsx("button",{onClick:()=>B(k.id,"COMPLETED"),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm font-medium",children:"Complete Trip"}),k.status==="COMPLETED"&&a.jsx("span",{className:"text-sm text-gray-500",children:"Completed"})]})]})},k.id)),b.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No accepted trips at this time."})]})]}),r==="analytics"&&a.jsx(nL,{user:e}),r==="revenue-settings"&&a.jsx(x2,{}),r==="units"&&a.jsxs(a.Fragment,{children:[console.log(" EMSDashboard: Rendering UnitsManagement component, activeTab:",r),a.jsx(rL,{user:e})]}),r==="settings"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agency Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your agency information"})]}),a.jsxs("div",{className:"p-6",children:[d&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(De,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Agency information updated successfully!"})})]})}),c&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsxs("div",{className:"flex",children:[a.jsx(Ot,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agency Name"}),a.jsx("input",{type:"text",value:s.agencyName,onChange:E,name:"agencyName",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),a.jsx("input",{type:"text",value:s.contactName,onChange:E,name:"contactName",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",value:s.email,onChange:E,name:"email",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",value:s.phone,onChange:E,name:"phone",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),a.jsxs("select",{value:s.serviceType,onChange:E,name:"serviceType",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500",children:[a.jsx("option",{value:"BLS",children:"BLS Only"}),a.jsx("option",{value:"ALS",children:"ALS Only"}),a.jsx("option",{value:"BLS/ALS",children:"BLS/ALS"}),a.jsx("option",{value:"Critical Care",children:"Critical Care"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("input",{type:"text",value:s.address,onChange:E,name:"address",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("input",{type:"text",value:s.city,onChange:E,name:"city",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("input",{type:"text",value:s.state,onChange:E,name:"state",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("input",{type:"text",value:s.zipCode,onChange:E,name:"zipCode",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50",children:o?"Saving...":"Save Changes"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Revenue Calculation Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure pricing rates and see real-time revenue projections"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Base Rates by Transport Level"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BLS Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:f.baseRates.BLS,onChange:D,name:"baseRates.BLS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ALS Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:f.baseRates.ALS,onChange:D,name:"baseRates.ALS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CCT Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:f.baseRates.CCT,onChange:D,name:"baseRates.CCT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Per Mile Rates"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BLS Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:f.perMileRates.BLS,onChange:D,name:"perMileRates.BLS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ALS Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:f.perMileRates.ALS,onChange:D,name:"perMileRates.ALS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CCT Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:f.perMileRates.CCT,onChange:D,name:"perMileRates.CCT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Priority Multipliers"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Low Priority"}),a.jsx("input",{type:"number",step:"0.01",value:f.priorityMultipliers.LOW,onChange:D,name:"priorityMultipliers.LOW",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Medium Priority"}),a.jsx("input",{type:"number",step:"0.01",value:f.priorityMultipliers.MEDIUM,onChange:D,name:"priorityMultipliers.MEDIUM",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"High Priority"}),a.jsx("input",{type:"number",step:"0.01",value:f.priorityMultipliers.HIGH,onChange:D,name:"priorityMultipliers.HIGH",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Urgent Priority"}),a.jsx("input",{type:"number",step:"0.01",value:f.priorityMultipliers.URGENT,onChange:D,name:"priorityMultipliers.URGENT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Additional Fees"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Special Requirements Surcharge ($)"}),a.jsx("input",{type:"number",step:"0.01",value:f.specialSurcharge,onChange:D,name:"specialSurcharge",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})})]})]}),p&&a.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Revenue Preview"}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Sample trip: ",p.sampleTrip.transportLevel," transport, ",p.sampleTrip.priority," priority,",p.sampleTrip.distanceMiles," miles, ",p.sampleTrip.insuranceCompany," insurance"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Standard Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",p.standardRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base rate  priority"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Mileage Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",p.mileageRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base + (per mile  distance)"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Insurance Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",p.insuranceRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Insurance rate + mileage"})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>{localStorage.setItem("ems_revenue_settings",JSON.stringify(f)),alert("Revenue settings saved!")},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Save Revenue Settings"})})]})]})]})]})]})},aL=()=>{var w,N,S,P,O,A;const[e,t]=g.useState({emailNotifications:!0,smsNotifications:!1,phone:"",notificationTypes:{trip_assignment:{email:!0,sms:!1},trip_status_update:{email:!0,sms:!1},trip_accepted:{email:!0,sms:!1}}}),[r,n]=g.useState(!0),[s,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState("idle"),[d,m]=g.useState("idle"),[f,h]=g.useState("idle");g.useEffect(()=>{p()},[]),g.useEffect(()=>{console.log("TCC_DEBUG: NotificationSettings component mounted with settings:",e)},[e]);const p=async()=>{try{const E=await Q.get("/api/notifications/preferences");if(E.data.success){const D=E.data.data,_={emailNotifications:D.emailEnabled||!0,smsNotifications:D.smsEnabled||!1,phone:D.phone||"",notificationTypes:D.notificationTypes||{trip_assignment:{email:!0,sms:!1},trip_status_update:{email:!0,sms:!1},trip_accepted:{email:!0,sms:!1}}};console.log("TCC_DEBUG: Fetched settings for user:",_),t(_)}}catch(E){console.error("TCC_DEBUG: Error fetching notification settings:",E)}finally{n(!1)}},y=async()=>{var E,D;console.log("TCC_DEBUG: Save button clicked with settings:",e),i(!0),h("saving"),l(null);try{console.log("TCC_DEBUG: Sending settings to API:",e);const _=await Q.put("/api/notifications/preferences",{emailNotifications:e.emailNotifications,smsNotifications:e.smsNotifications,phone:e.phone,notificationTypes:e.notificationTypes});console.log("TCC_DEBUG: API response status:",_.status),console.log("TCC_DEBUG: Settings saved successfully:",_.data),h("success");const T={type:"success",text:"Notification settings saved successfully!"};console.log("TCC_DEBUG: Setting message to:",T),l(T),setTimeout(()=>{console.log("TCC_DEBUG: Clearing message after timeout"),l(null),h("idle")},3e3)}catch(_){console.error("TCC_DEBUG: Error saving notification settings:",_),h("error");const T=((D=(E=_.response)==null?void 0:E.data)==null?void 0:D.error)||"Failed to save settings";l({type:"error",text:T}),setTimeout(()=>{l(null),h("idle")},5e3)}finally{i(!1)}},x=async()=>{var E,D;u("testing"),l(null);try{const _=await Q.post("/api/notifications/test-email",{to:"test@example.com",template:"newTripRequest"});_.data.success?(u("success"),l({type:"success",text:"Email service connection successful!"})):(u("error"),l({type:"error",text:_.data.error||"Email service connection failed"}))}catch(_){console.error("TCC_DEBUG: Error testing email connection:",_),u("error");const T=((D=(E=_.response)==null?void 0:E.data)==null?void 0:D.error)||"Email service connection failed";l({type:"error",text:T})}},v=async()=>{var E,D;m("testing"),l(null);try{const _=await Q.post("/api/notifications/test-sms",{to:e.phone||"5551234567",message:"Test SMS from TCC notification system"});_.data.success?(m("success"),l({type:"success",text:"SMS service connection successful!"})):(m("error"),l({type:"error",text:_.data.error||"SMS service connection failed"}))}catch(_){console.error("TCC_DEBUG: Error testing SMS connection:",_),m("error");const T=((D=(E=_.response)==null?void 0:E.data)==null?void 0:D.error)||"SMS service connection failed";l({type:"error",text:T})}},b=(E,D)=>{console.log("TCC_DEBUG: Setting change:",{key:E,value:D,currentSettings:e}),t(_=>{const T={..._,[E]:D};return console.log("TCC_DEBUG: New settings after change:",T),T})},j=(E,D,_)=>{console.log("TCC_DEBUG: Notification type change:",{type:E,channel:D,enabled:_}),t(T=>{const K={...T,notificationTypes:{...T.notificationTypes,[E]:{...T.notificationTypes[E],[D]:_}}};return console.log("TCC_DEBUG: New notification types after change:",K.notificationTypes),K})};return r?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2",children:"Loading notification settings..."})]}):a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
          }
        `}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qs,{className:"h-6 w-6 text-blue-600 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure how you receive notifications about transport requests and updates."})]}),a.jsxs("div",{className:"p-6",children:[(console.log("TCC_DEBUG: Rendering message section, message state:",o),console.log("TCC_DEBUG: Message truthy check:",!!o),o?(console.log("TCC_DEBUG: Rendering message with type:",o.type,"text:",o.text),a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center border-2 ${o.type==="success"?"bg-green-50 text-green-800 border-green-200 shadow-lg":"bg-red-50 text-red-800 border-red-200 shadow-lg"}`,style:{zIndex:1e3,position:"relative",minHeight:"50px",fontSize:"16px",fontWeight:"600"},children:[o.type==="success"?a.jsx(De,{className:"h-5 w-5 mr-3 text-green-600"}):a.jsx(Ot,{className:"h-5 w-5 mr-3 text-red-600"}),a.jsx("span",{className:"text-lg font-semibold",children:o.text})]})):null),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(nl,{className:"h-5 w-5 text-gray-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications for transport request updates"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.emailNotifications,onChange:E=>b("emailNotifications",E.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:e.phone,onChange:E=>b("phone",E.target.value),placeholder:"Enter your phone number (e.g., 5551234567)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This phone number will receive SMS notifications"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qs,{className:"h-5 w-5 text-gray-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive SMS text messages for urgent transport requests"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.smsNotifications,onChange:E=>b("smsNotifications",E.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Types"}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Trip Assignment"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when new transport requests are assigned"})]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((w=e.notificationTypes.trip_assignment)==null?void 0:w.email)||!1,onChange:E=>j("trip_assignment","email",E.target.checked),disabled:!e.emailNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.emailNotifications?"text-gray-700":"text-gray-400"}`,children:"Email"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((N=e.notificationTypes.trip_assignment)==null?void 0:N.sms)||!1,onChange:E=>j("trip_assignment","sms",E.target.checked),disabled:!e.smsNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.smsNotifications?"text-gray-700":"text-gray-400"}`,children:"SMS"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Trip Status Updates"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when transport request status changes"})]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((S=e.notificationTypes.trip_status_update)==null?void 0:S.email)||!1,onChange:E=>j("trip_status_update","email",E.target.checked),disabled:!e.emailNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.emailNotifications?"text-gray-700":"text-gray-400"}`,children:"Email"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((P=e.notificationTypes.trip_status_update)==null?void 0:P.sms)||!1,onChange:E=>j("trip_status_update","sms",E.target.checked),disabled:!e.smsNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.smsNotifications?"text-gray-700":"text-gray-400"}`,children:"SMS"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Trip Accepted"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when transport requests are accepted"})]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((O=e.notificationTypes.trip_accepted)==null?void 0:O.email)||!1,onChange:E=>j("trip_accepted","email",E.target.checked),disabled:!e.emailNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.emailNotifications?"text-gray-700":"text-gray-400"}`,children:"Email"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:((A=e.notificationTypes.trip_accepted)==null?void 0:A.sms)||!1,onChange:E=>j("trip_accepted","sms",E.target.checked),disabled:!e.smsNotifications,className:"mr-2"}),a.jsx("span",{className:`text-sm ${e.smsNotifications?"text-gray-700":"text-gray-400"}`,children:"SMS"})]})]})]})]})]}),a.jsxs("div",{className:"mt-8 space-y-4",children:[a.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Service Test"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Test the email service connection to ensure notifications are working properly."}),a.jsx("button",{onClick:x,disabled:c==="testing",className:`px-4 py-2 rounded-md text-sm font-medium ${c==="testing"?"bg-gray-300 text-gray-500 cursor-not-allowed":c==="success"?"bg-green-600 text-white hover:bg-green-700":c==="error"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c==="testing"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline-block mr-2"}),"Testing..."]}):c==="success"?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"h-4 w-4 inline-block mr-2"}),"Connection Successful"]}):c==="error"?a.jsxs(a.Fragment,{children:[a.jsx(Ot,{className:"h-4 w-4 inline-block mr-2"}),"Connection Failed"]}):"Test Email Connection"})]}),a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"SMS Service Test"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Test the SMS service connection (placeholder for future Twilio integration)."}),a.jsx("button",{onClick:v,disabled:d==="testing",className:`px-4 py-2 rounded-md text-sm font-medium ${d==="testing"?"bg-gray-300 text-gray-500 cursor-not-allowed":d==="success"?"bg-green-600 text-white hover:bg-green-700":d==="error"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:d==="testing"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline-block mr-2"}),"Testing..."]}):d==="success"?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"h-4 w-4 inline-block mr-2"}),"Connection Successful"]}):d==="error"?a.jsxs(a.Fragment,{children:[a.jsx(Ot,{className:"h-4 w-4 inline-block mr-2"}),"Connection Failed"]}):"Test SMS Connection"})]})]}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx("button",{onClick:y,disabled:s,className:`px-6 py-2 rounded-md flex items-center transition-colors duration-200 ${f==="success"?"bg-green-600 text-white":f==="error"?"bg-red-600 text-white":f==="saving"?"bg-blue-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"} disabled:bg-gray-400 disabled:cursor-not-allowed`,children:f==="saving"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):f==="success"?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"h-4 w-4 mr-2"}),"Saved!"]}):f==="error"?a.jsxs(a.Fragment,{children:[a.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Error"]}):"Save Settings"})})]})]})]})},sL=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(null),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,m]=g.useState({name:"",email:"",password:"",userType:"USER"});g.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const b=await Xs.getUsers();b.data.success?t(b.data.users):i("Failed to load users")}catch{console.log("UserManagement: API endpoint not available, using mock data"),t([{id:"user-1",email:"admin@tcc.com",name:"TCC Administrator",userType:"ADMIN",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-09-22T15:43:00Z"},{id:"user-2",email:"manager@tcc.com",name:"TCC Manager",userType:"USER",isActive:!0,createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-09-20T10:30:00Z"},{id:"user-3",email:"coordinator@tcc.com",name:"TCC Coordinator",userType:"USER",isActive:!0,createdAt:"2024-02-01T00:00:00Z",updatedAt:"2024-09-18T14:20:00Z"}]),i(null)}finally{n(!1)}},h=async b=>{var j,w;b.preventDefault();try{if(i(null),c)console.log("Update user:",c.id,d),u(null);else{const N=await Xs.register(d);N.data.success?(await f(),l(!1),p()):i(N.data.error||"Failed to create user")}}catch(N){i(((w=(j=N.response)==null?void 0:j.data)==null?void 0:w.error)||"Failed to save user")}},p=()=>{m({name:"",email:"",password:"",userType:"USER"})},y=b=>{u(b),m({name:b.name,email:b.email,password:"",userType:b.userType}),l(!0)},x=()=>{l(!1),u(null),p()},v=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage system users and their access levels."})]}),a.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),s&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx(ir,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:s})})]})}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("div",{className:"px-4 py-5 sm:p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:a.jsx(rs,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.name}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(nl,{className:"h-3 w-3 mr-1"}),b.email]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[b.userType==="ADMIN"?a.jsx(Sg,{className:"h-4 w-4 text-red-500 mr-2"}):a.jsx(rs,{className:"h-4 w-4 text-blue-500 mr-2"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.userType==="ADMIN"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:b.userType})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.isActive?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"h-3 w-3 mr-1"}),"Active"]}):a.jsxs(a.Fragment,{children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ru,{className:"h-3 w-3 mr-1"}),v(b.createdAt)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>y(b),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(hd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this user?")&&console.log("Delete user:",b.id)},className:"text-red-600 hover:text-red-900",children:a.jsx(xd,{className:"h-4 w-4"})})]})})]},b.id))})]})})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c?"Edit User":"Add New User"}),a.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:a.jsx(ir,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",required:!0,value:d.name,onChange:b=>m({...d,name:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",required:!0,value:d.email,onChange:b=>m({...d,email:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{type:"password",required:!c,value:d.password,onChange:b=>m({...d,password:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:c?"Leave blank to keep current password":""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User Type"}),a.jsxs("select",{value:d.userType,onChange:b=>m({...d,userType:b.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[a.jsx("option",{value:"USER",children:"User (Standard Access)"}),a.jsx("option",{value:"ADMIN",children:"Admin (Full Access)"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:c?"Update User":"Create User"})]})]})]})})})]})};function v2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=v2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ue(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=v2(e))&&(n&&(n+=" "),n+=t);return n}var yd={},b2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(b2);var kg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(kg);var Eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Eg);var vd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const u=r[i];l?u==="\\"&&i+1<s?(i++,o+=r[i]):u===l?l="":o+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(o),o=""):o+=u:u==="["?(c=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,i++}return o&&n.push(o),n}e.toPath=t})(vd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b2,r=kg,n=Eg,s=vd;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let m=0;m<c.length;m++){if(d==null||t.isUnsafeProperty(c[m]))return u;d=d[c[m]]}return d===void 0?u:d}e.get=i})(yd);var iL=yd.get;const ns=_n(iL);var j2={exports:{}},be={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=Symbol.for("react.transitional.element"),Ag=Symbol.for("react.portal"),bd=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),wd=Symbol.for("react.profiler"),Nd=Symbol.for("react.consumer"),Sd=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),kd=Symbol.for("react.suspense"),Ed=Symbol.for("react.suspense_list"),Pd=Symbol.for("react.memo"),Ad=Symbol.for("react.lazy"),oL=Symbol.for("react.view_transition"),lL=Symbol.for("react.client.reference");function Or(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Pg:switch(e=e.type,e){case bd:case wd:case jd:case kd:case Ed:case oL:return e;default:switch(e=e&&e.$$typeof,e){case Sd:case Cd:case Ad:case Pd:return e;case Nd:return e;default:return t}}case Ag:return t}}}be.ContextConsumer=Nd;be.ContextProvider=Sd;be.Element=Pg;be.ForwardRef=Cd;be.Fragment=bd;be.Lazy=Ad;be.Memo=Pd;be.Portal=Ag;be.Profiler=wd;be.StrictMode=jd;be.Suspense=kd;be.SuspenseList=Ed;be.isContextConsumer=function(e){return Or(e)===Nd};be.isContextProvider=function(e){return Or(e)===Sd};be.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pg};be.isForwardRef=function(e){return Or(e)===Cd};be.isFragment=function(e){return Or(e)===bd};be.isLazy=function(e){return Or(e)===Ad};be.isMemo=function(e){return Or(e)===Pd};be.isPortal=function(e){return Or(e)===Ag};be.isProfiler=function(e){return Or(e)===wd};be.isStrictMode=function(e){return Or(e)===jd};be.isSuspense=function(e){return Or(e)===kd};be.isSuspenseList=function(e){return Or(e)===Ed};be.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bd||e===wd||e===jd||e===kd||e===Ed||typeof e=="object"&&e!==null&&(e.$$typeof===Ad||e.$$typeof===Pd||e.$$typeof===Sd||e.$$typeof===Nd||e.$$typeof===Cd||e.$$typeof===lL||e.getModuleId!==void 0)};be.typeOf=Or;j2.exports=be;var cL=j2.exports,it=e=>e===0?0:e>0?1:-1,Xt=e=>typeof e=="number"&&e!=+e,$a=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,te=e=>(typeof e=="number"||e instanceof Number)&&!Xt(e),on=e=>te(e)||typeof e=="string",uL=0,_o=e=>{var t=++uL;return"".concat(e||"").concat(t)},Ct=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(t)&&typeof t!="string")return n;var i;if($a(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Xt(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},w2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function xe(e,t,r){return te(e)&&te(t)?e+r*(t-e):t}function N2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ns(n,t))===r)}var ke=e=>e===null||typeof e>"u",al=e=>ke(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),dL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tg(e){if(typeof e!="string")return!1;var t=dL;return t.includes(e)}var mL=["viewBox","children"],Ev=["points","pathLength"],qm={svg:mL,polygon:Ev,polyline:Ev},Og=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Tg(s)&&(n[s]=i=>r[s](r,i))}),n},fL=(e,t,r)=>n=>(e(t,r,n),null),sl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];Tg(s)&&typeof i=="function"&&(n||(n={}),n[s]=fL(i,t,r))}),n},hL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function S2(e){if(typeof e!="string")return!1;var t=hL;return t.includes(e)}function Lr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return S2(n)});return Object.fromEntries(t)}var Pv=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Av=null,Vm=null,C2=e=>{if(e===Av&&Array.isArray(Vm))return Vm;var t=[];return g.Children.forEach(e,r=>{ke(r)||(cL.isFragment(r)?t=t.concat(C2(r.props.children)):t.push(r))}),Vm=t,Av=e,t};function Lg(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>Pv(s)):n=[Pv(t)],C2(e).forEach(s=>{var i=ns(s,"type.displayName")||ns(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var Td=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,pL=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&(qm==null?void 0:qm[n]))!==null&&s!==void 0?s:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||S2(t)),c=!!r&&Tg(t);return o||l||c},Ee=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;pL((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},gL=["children","width","height","viewBox","className","style","title","desc"];function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(null,arguments)}function xL(e,t){if(e==null)return{};var r,n,s=yL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mg=g.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=xL(e,gL),m=i||{width:n,height:s,x:0,y:0},f=ue("recharts-surface",o);return g.createElement("svg",kh({},Ee(d,!0,"svg"),{className:f,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),vL=["children","className"];function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(null,arguments)}function bL(e,t){if(e==null)return{};var r,n,s=jL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Be=g.forwardRef((e,t)=>{var{children:r,className:n}=e,s=bL(e,vL),i=ue("recharts-layer",n);return g.createElement("g",Eh({className:i},Ee(s,!0),{ref:t}),r)}),k2=g.createContext(null),wL=()=>g.useContext(k2);function je(e){return function(){return e}}const E2=Math.cos,nu=Math.sin,Qr=Math.sqrt,au=Math.PI,Od=2*au,Ph=Math.PI,Ah=2*Ph,Ta=1e-6,NL=Ah-Ta;function P2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function SL(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return P2;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class CL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?P2:SL(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,m=l-r,f=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Ta)if(!(Math.abs(m*c-u*d)>Ta)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,p=s-l,y=c*c+u*u,x=h*h+p*p,v=Math.sqrt(y),b=Math.sqrt(f),j=i*Math.tan((Ph-Math.acos((y+f-x)/(2*v*b)))/2),w=j/b,N=j/v;Math.abs(w-1)>Ta&&this._append`L${t+w*d},${r+w*m}`,this._append`A${i},${i},0,0,${+(m*h>d*p)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,m=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ta||Math.abs(this._y1-d)>Ta)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%Ah+Ah),f>NL?this._append`A${n},${n},0,1,${m},${t-l},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=d}`:f>Ta&&this._append`A${n},${n},0,${+(f>=Ph)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Dg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new CL(t)}function _g(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function A2(e){this._context=e}A2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ld(e){return new A2(e)}function T2(e){return e[0]}function O2(e){return e[1]}function L2(e,t){var r=je(!0),n=null,s=Ld,i=null,o=Dg(l);e=typeof e=="function"?e:e===void 0?T2:je(e),t=typeof t=="function"?t:t===void 0?O2:je(t);function l(c){var u,d=(c=_g(c)).length,m,f=!1,h;for(n==null&&(i=s(h=o())),u=0;u<=d;++u)!(u<d&&r(m=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,u,c),+t(m,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:je(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:je(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:je(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function ql(e,t,r){var n=null,s=je(!0),i=null,o=Ld,l=null,c=Dg(u);e=typeof e=="function"?e:e===void 0?T2:je(+e),t=typeof t=="function"?t:je(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?O2:je(+r);function u(m){var f,h,p,y=(m=_g(m)).length,x,v=!1,b,j=new Array(y),w=new Array(y);for(i==null&&(l=o(b=c())),f=0;f<=y;++f){if(!(f<y&&s(x=m[f],f,m))===v)if(v=!v)h=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=f-1;p>=h;--p)l.point(j[p],w[p]);l.lineEnd(),l.areaEnd()}v&&(j[f]=+e(x,f,m),w[f]=+t(x,f,m),l.point(n?+n(x,f,m):j[f],r?+r(x,f,m):w[f]))}if(b)return l=null,b+""||null}function d(){return L2().defined(s).curve(o).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:je(+m),n=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:je(+m),u):e},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:je(+m),u):n},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:je(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:je(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:je(+m),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(m){return arguments.length?(s=typeof m=="function"?m:je(!!m),u):s},u.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),u):o},u.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),u):i},u}class M2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function kL(e){return new M2(e,!0)}function EL(e){return new M2(e,!1)}const Rg={draw(e,t){const r=Qr(t/au);e.moveTo(r,0),e.arc(0,0,r,0,Od)}},PL={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},D2=Qr(1/3),AL=D2*2,TL={draw(e,t){const r=Qr(t/AL),n=r*D2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},OL={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},LL=.8908130915292852,_2=nu(au/10)/nu(7*au/10),ML=nu(Od/10)*_2,DL=-E2(Od/10)*_2,_L={draw(e,t){const r=Qr(t*LL),n=ML*r,s=DL*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Od*i/5,l=E2(o),c=nu(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Ym=Qr(3),RL={draw(e,t){const r=-Qr(t/(Ym*3));e.moveTo(0,r*2),e.lineTo(-Ym*r,-r),e.lineTo(Ym*r,-r),e.closePath()}},pr=-.5,gr=Qr(3)/2,Th=1/Qr(12),IL=(Th/2+1)*3,$L={draw(e,t){const r=Qr(t/IL),n=r/2,s=r*Th,i=n,o=r*Th+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(pr*n-gr*s,gr*n+pr*s),e.lineTo(pr*i-gr*o,gr*i+pr*o),e.lineTo(pr*l-gr*c,gr*l+pr*c),e.lineTo(pr*n+gr*s,pr*s-gr*n),e.lineTo(pr*i+gr*o,pr*o-gr*i),e.lineTo(pr*l+gr*c,pr*c-gr*l),e.closePath()}};function BL(e,t){let r=null,n=Dg(s);e=typeof e=="function"?e:je(e||Rg),t=typeof t=="function"?t:je(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:je(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:je(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function su(){}function iu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function R2(e){this._context=e}R2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FL(e){return new R2(e)}function I2(e){this._context=e}I2.prototype={areaStart:su,areaEnd:su,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:iu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UL(e){return new I2(e)}function $2(e){this._context=e}$2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:iu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zL(e){return new $2(e)}function B2(e){this._context=e}B2.prototype={areaStart:su,areaEnd:su,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WL(e){return new B2(e)}function Tv(e){return e<0?-1:1}function Ov(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Tv(i)+Tv(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Lv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Xm(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function ou(e){this._context=e}ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xm(this,this._t0,Lv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xm(this,Lv(this,r=Ov(this,e,t)),r);break;default:Xm(this,this._t0,r=Ov(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function F2(e){this._context=new U2(e)}(F2.prototype=Object.create(ou.prototype)).point=function(e,t){ou.prototype.point.call(this,t,e)};function U2(e){this._context=e}U2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function HL(e){return new ou(e)}function KL(e){return new F2(e)}function z2(e){this._context=e}z2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Mv(e),s=Mv(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Mv(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function GL(e){return new z2(e)}function Md(e,t){this._context=e,this._t=t}Md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function qL(e){return new Md(e,.5)}function VL(e){return new Md(e,0)}function YL(e){return new Md(e,1)}function Zs(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Oh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function XL(e,t){return e[t]}function QL(e){const t=[];return t.key=e,t}function ZL(){var e=je([]),t=Oh,r=Zs,n=XL;function s(i){var o=Array.from(e.apply(this,arguments),QL),l,c=o.length,u=-1,d;for(const m of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(m,o[l].key,u,i)]).data=m;for(l=0,d=_g(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:je(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:je(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Oh:typeof i=="function"?i:je(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Zs,s):r},s}function JL(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Zs(e,t)}}function e6(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Zs(e,t)}}function t6(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],m=d[n][1]||0,f=d[n-1][1]||0,h=(m-f)/2,p=0;p<l;++p){var y=e[t[p]],x=y[n][1]||0,v=y[n-1][1]||0;h+=x-v}c+=m,u+=h*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Zs(e,t)}}var r6=["type","size","sizeType"];function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lh.apply(null,arguments)}function Dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dv(Object(r),!0).forEach(function(n){n6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n6(e,t,r){return(t=a6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=s6(e,"string");return typeof t=="symbol"?t:t+""}function s6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i6(e,t){if(e==null)return{};var r,n,s=o6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function o6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W2={symbolCircle:Rg,symbolCross:PL,symbolDiamond:TL,symbolSquare:OL,symbolStar:_L,symbolTriangle:RL,symbolWye:$L},l6=Math.PI/180,c6=e=>{var t="symbol".concat(al(e));return W2[t]||Rg},u6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*l6;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},d6=(e,t)=>{W2["symbol".concat(al(e))]=t},Ig=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=i6(e,r6),i=_v(_v({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var f=c6(o),h=BL().type(f).size(u6(r,n,o));return h()},{className:c,cx:u,cy:d}=i,m=Ee(i,!0);return u===+u&&d===+d&&r===+r?g.createElement("path",Lh({},m,{className:ue("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};Ig.registerSymbol=d6;function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(null,arguments)}function Rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function m6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rv(Object(r),!0).forEach(function(n){$g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $g(e,t,r){return(t=f6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f6(e){var t=h6(e,"string");return typeof t=="symbol"?t:t+""}function h6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xr=32;class Bg extends g.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=xr/2,i=xr/6,o=xr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return g.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:xr,y2:s,className:"recharts-legend-icon"});if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(xr,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(xr/8,"h").concat(xr,"v").concat(xr*3/4,"h").concat(-xr,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var u=m6({},t);return delete u.legendIcon,g.cloneElement(t.legendIcon,u)}return g.createElement(Ig,{fill:l,cx:s,cy:s,size:xr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:xr,height:xr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,m)=>{var f=d.formatter||s,h=ue({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?i:d.color,y=f?f(d.value,d,m):d.value;return g.createElement("li",Mh({className:h,style:c,key:"legend-item-".concat(m)},sl(this.props,d,m)),g.createElement(Mg,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(y," legend icon")},this.renderIcon(d,o)),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},y))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}$g(Bg,"displayName","Legend");$g(Bg,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var H2={},K2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(K2);var Fg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Fg);var G2={},Dd={},q2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(q2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Dd);var V2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(V2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dd,r=V2;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(G2);var Y2={},X2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yd;function r(n){return function(s){return t.get(s,n)}}e.property=r})(X2);var Q2={},Qm={},Zm={},Ug={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ug);var zg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(zg);var Wg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Wg);var Iv;function p6(){return Iv||(Iv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hg(),r=Ug,n=zg,s=Wg;function i(m,f,h){return typeof h!="function"?t.isMatch(m,f):o(m,f,function p(y,x,v,b,j,w){const N=h(y,x,v,b,j,w);return N!==void 0?!!N:o(y,x,p,w)},new Map)}function o(m,f,h,p){if(f===m)return!0;switch(typeof f){case"object":return l(m,f,h,p);case"function":return Object.keys(f).length>0?o(m,{...f},h,p):s.eq(m,f);default:return r.isObject(m)?typeof f=="string"?f==="":!0:s.eq(m,f)}}function l(m,f,h,p){if(f==null)return!0;if(Array.isArray(f))return u(m,f,h,p);if(f instanceof Map)return c(m,f,h,p);if(f instanceof Set)return d(m,f,h,p);const y=Object.keys(f);if(m==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(f))return p.get(f)===m;p&&p.set(f,m);try{for(let x=0;x<y.length;x++){const v=y[x];if(!n.isPrimitive(m)&&!(v in m)||f[v]===void 0&&m[v]!==void 0||f[v]===null&&m[v]!==null||!h(m[v],f[v],v,m,f,p))return!1}return!0}finally{p&&p.delete(f)}}function c(m,f,h,p){if(f.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,x]of f.entries()){const v=m.get(y);if(h(v,x,y,m,f,p)===!1)return!1}return!0}function u(m,f,h,p){if(f.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let x=0;x<f.length;x++){const v=f[x];let b=!1;for(let j=0;j<m.length;j++){if(y.has(j))continue;const w=m[j];let N=!1;if(h(w,v,x,m,f,p)&&(N=!0),N){y.add(j),b=!0;break}}if(!b)return!1}return!0}function d(m,f,h,p){return f.size===0?!0:m instanceof Set?u([...m],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=d}(Zm)),Zm}var $v;function Hg(){return $v||($v=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p6();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(Qm)),Qm}var Z2={},Kg={},J2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(J2);var Gg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Gg);var qg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",m="[object Function]",f="[object ArrayBuffer]",h="[object Object]",p="[object Error]",y="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",w="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",A="[object Float32Array]",E="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=w,e.booleanTag=s,e.dataViewTag=y,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=E,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=v})(qg);var eS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(eS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2,r=Gg,n=qg,s=zg,i=eS;function o(d,m){return l(d,void 0,d,new Map,m)}function l(d,m,f,h=new Map,p=void 0){const y=p==null?void 0:p(d,m,f,h);if(y!==void 0)return y;if(s.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const x=new Array(d.length);h.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,f,h,p);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;h.set(d,x);for(const[v,b]of d)x.set(v,l(b,v,f,h,p));return x}if(d instanceof Set){const x=new Set;h.set(d,x);for(const v of d)x.add(l(v,void 0,f,h,p));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,f,h,p);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,x),c(x,d,f,h,p),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return h.set(d,x),c(x,d,f,h,p),x}if(d instanceof Blob){const x=new Blob([d],{type:d.type});return h.set(d,x),c(x,d,f,h,p),x}if(d instanceof Error){const x=new d.constructor;return h.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,f,h,p),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return h.set(d,x),c(x,d,f,h,p),x}return d}function c(d,m,f=d,h,p){const y=[...Object.keys(m),...t.getSymbols(m)];for(let x=0;x<y.length;x++){const v=y[x],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=l(m[v],v,f,h,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Kg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kg;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hg(),r=Z2;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(Q2);var tS={},rS={},nS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kg,r=qg;function n(s,i){return t.cloneDeepWith(s,(o,l,c,u)=>{const d=i==null?void 0:i(o,l,c,u);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(nS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(rS);var aS={},Vg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Vg);var sS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(sS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kg,r=Vg,n=sS,s=vd;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const m=c[d];if((u==null||!Object.hasOwn(u,m))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(m)&&m<u.length))return!1;u=u[m]}return!0}e.has=i})(aS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hg(),r=Eg,n=rS,s=yd,i=aS;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=s.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(tS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fg,r=X2,n=Q2,s=tS;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(Y2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K2,r=Fg,n=G2,s=Y2;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(H2);var g6=H2.uniqBy;const Bv=_n(g6);function iS(e,t,r){return t===!0?Bv(e,r):typeof t=="function"?Bv(e,t):e}var oS={exports:{}},lS={},cS={exports:{}},uS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=g;function x6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y6=typeof Object.is=="function"?Object.is:x6,v6=Js.useState,b6=Js.useEffect,j6=Js.useLayoutEffect,w6=Js.useDebugValue;function N6(e,t){var r=t(),n=v6({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return j6(function(){s.value=r,s.getSnapshot=t,Jm(s)&&i({inst:s})},[e,r,t]),b6(function(){return Jm(s)&&i({inst:s}),e(function(){Jm(s)&&i({inst:s})})},[e]),w6(r),r}function Jm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!y6(e,r)}catch{return!0}}function S6(e,t){return t()}var C6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S6:N6;uS.useSyncExternalStore=Js.useSyncExternalStore!==void 0?Js.useSyncExternalStore:C6;cS.exports=uS;var k6=cS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=g,E6=k6;function P6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A6=typeof Object.is=="function"?Object.is:P6,T6=E6.useSyncExternalStore,O6=_d.useRef,L6=_d.useEffect,M6=_d.useMemo,D6=_d.useDebugValue;lS.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=O6(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=M6(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return m=p}return m=h}if(p=m,A6(d,h))return p;var y=n(h);return s!==void 0&&s(p,y)?(d=h,p):(d=h,m=y)}var u=!1,d,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var l=T6(e,i[0],i[1]);return L6(function(){o.hasValue=!0,o.value=l},[l]),D6(l),l};oS.exports=lS;var _6=oS.exports,Yg=g.createContext(null),R6=e=>e,Ie=()=>{var e=g.useContext(Yg);return e?e.store.dispatch:R6},Ec=()=>{},I6=()=>Ec,$6=(e,t)=>e===t;function ee(e){var t=g.useContext(Yg);return _6.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:I6,t?t.store.getState:Ec,t?t.store.getState:Ec,t?e:Ec,$6)}function B6(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function F6(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function U6(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Fv=e=>Array.isArray(e)?e:[e];function z6(e){const t=Array.isArray(e[0])?e[0]:e;return U6(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function W6(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var H6=class{constructor(e){this.value=e}deref(){return this.value}},K6=typeof WeakRef<"u"?WeakRef:H6,G6=0,Uv=1;function Vl(){return{s:G6,v:void 0,o:null,p:null}}function dS(e,t={}){let r=Vl();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var m;let l=r;const{length:c}=arguments;for(let f=0,h=c;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(p);x===void 0?(l=Vl(),y.set(p,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(p);x===void 0?(l=Vl(),y.set(p,l)):l=x}}const u=l;let d;if(l.s===Uv)d=l.v;else if(d=e.apply(null,arguments),i++,n){const f=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;f!=null&&n(f,d)&&(d=f,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new K6(d):d}return u.s=Uv,u.v=d,d}return o.clearCache=()=>{r=Vl(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function q6(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),B6(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:m,memoizeOptions:f=[],argsMemoize:h=dS,argsMemoizeOptions:p=[]}=d,y=Fv(f),x=Fv(p),v=z6(s),b=m(function(){return i++,u.apply(null,arguments)},...y),j=h(function(){o++;const N=W6(v,arguments);return l=b.apply(null,N),l},...x);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var U=q6(dS),V6=Object.assign((e,t=U)=>{F6(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>V6}),mS={},fS={},hS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(hS);var pS={},Xg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Xg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(pS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hS,r=pS,n=vd;function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,p)=>{let y=h;for(let x=0;x<p.length&&y!=null;++x)y=y[p[x]];return y},d=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:u(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?u(p,h):typeof p=="object"?p[h]:p,m=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(p=>d(p,h))})).slice().sort((h,p)=>{for(let y=0;y<m.length;y++){const x=t.compareValues(h.criteria[y],p.criteria[y],l[y]);if(x!==0)return x}return 0}).map(h=>h.original)}e.orderBy=s})(fS);var gS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):s.push(d)}};return o(r,0),s}e.flatten=t})(gS);var Qg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vg,r=Dd,n=Ug,s=Wg;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(Qg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fS,r=gS,n=Qg;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(mS);var Y6=mS.sortBy;const Rd=_n(Y6);var xS=e=>e.legend.settings,X6=e=>e.legend.size,Q6=e=>e.legend.payload,Z6=U([Q6,xS],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Rd(n,r):n});function J6(){return ee(Z6)}var Yl=1;function yS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Yl||Math.abs(o.left-t.left)>Yl||Math.abs(o.top-t.top)>Yl||Math.abs(o.width-t.width)>Yl)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ut(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var e3=typeof Symbol=="function"&&Symbol.observable||"@@observable",zv=e3,ef=()=>Math.random().toString(36).substring(7).split("").join("."),t3={INIT:`@@redux/INIT${ef()}`,REPLACE:`@@redux/REPLACE${ef()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ef()}`},lu=t3;function Zg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function vS(e,t,r){if(typeof e!="function")throw new Error(ut(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ut(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ut(1));return r(vS)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((x,v)=>{o.set(v,x)}))}function d(){if(c)throw new Error(ut(3));return s}function m(x){if(typeof x!="function")throw new Error(ut(4));if(c)throw new Error(ut(5));let v=!0;u();const b=l++;return o.set(b,x),function(){if(v){if(c)throw new Error(ut(6));v=!1,u(),o.delete(b),i=null}}}function f(x){if(!Zg(x))throw new Error(ut(7));if(typeof x.type>"u")throw new Error(ut(8));if(typeof x.type!="string")throw new Error(ut(17));if(c)throw new Error(ut(9));try{c=!0,s=n(s,x)}finally{c=!1}return(i=o).forEach(b=>{b()}),x}function h(x){if(typeof x!="function")throw new Error(ut(10));n=x,f({type:lu.REPLACE})}function p(){const x=m;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ut(11));function b(){const w=v;w.next&&w.next(d())}return b(),{unsubscribe:x(b)}},[zv](){return this}}}return f({type:lu.INIT}),{dispatch:f,subscribe:m,getState:d,replaceReducer:h,[zv]:p}}function r3(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:lu.INIT})>"u")throw new Error(ut(12));if(typeof r(void 0,{type:lu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ut(13))})}function bS(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{r3(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<n.length;d++){const m=n[d],f=r[m],h=o[m],p=f(h,l);if(typeof p>"u")throw l&&l.type,new Error(ut(14));u[m]=p,c=c||p!==h}return c=c||n.length!==Object.keys(o).length,c?u:o}}function cu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function n3(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(ut(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=cu(...l)(s.dispatch),{...s,dispatch:i}}}function jS(e){return Zg(e)&&"type"in e&&typeof e.type=="string"}var wS=Symbol.for("immer-nothing"),Wv=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ei=Object.getPrototypeOf;function as(e){return!!e&&!!e[dr]}function Tn(e){var t;return e?NS(e)||Array.isArray(e)||!!e[Wv]||!!((t=e.constructor)!=null&&t[Wv])||il(e)||$d(e):!1}var a3=Object.prototype.constructor.toString();function NS(e){if(!e||typeof e!="object")return!1;const t=ei(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===a3}function uu(e,t){Id(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Id(e){const t=e[dr];return t?t.type_:Array.isArray(e)?1:il(e)?2:$d(e)?3:0}function Dh(e,t){return Id(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function SS(e,t,r){const n=Id(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function s3(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function il(e){return e instanceof Map}function $d(e){return e instanceof Set}function Oa(e){return e.copy_||e.base_}function _h(e,t){if(il(e))return new Map(e);if($d(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=NS(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[dr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(ei(e),n)}else{const n=ei(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Jg(e,t=!1){return Bd(e)||as(e)||!Tn(e)||(Id(e)>1&&Object.defineProperties(e,{set:{value:Xl},add:{value:Xl},clear:{value:Xl},delete:{value:Xl}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Jg(r,!0))),e}function Xl(){Wr(2)}function Bd(e){return Object.isFrozen(e)}var i3={};function ss(e){const t=i3[e];return t||Wr(0,e),t}var Ro;function CS(){return Ro}function o3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hv(e,t){t&&(ss("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rh(e){Ih(e),e.drafts_.forEach(l3),e.drafts_=null}function Ih(e){e===Ro&&(Ro=e.parent_)}function Kv(e){return Ro=o3(Ro,e)}function l3(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Gv(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[dr].modified_&&(Rh(t),Wr(4)),Tn(e)&&(e=du(t,e),t.parent_||mu(t,e)),t.patches_&&ss("Patches").generateReplacementPatches_(r[dr].base_,e,t.patches_,t.inversePatches_)):e=du(t,r,[]),Rh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wS?e:void 0}function du(e,t,r){if(Bd(t))return t;const n=t[dr];if(!n)return uu(t,(s,i)=>qv(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return mu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),uu(i,(l,c)=>qv(e,n,s,l,c,r,o)),mu(e,s,!1),r&&e.patches_&&ss("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function qv(e,t,r,n,s,i,o){if(as(s)){const l=i&&t&&t.type_!==3&&!Dh(t.assigned_,n)?i.concat(n):void 0,c=du(e,s,l);if(SS(r,n,c),as(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Tn(s)&&!Bd(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;du(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(il(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&mu(e,s)}}function mu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jg(t,r)}function c3(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:CS(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=ex;r&&(s=[n],i=Io);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var ex={get(e,t){if(t===dr)return e;const r=Oa(e);if(!Dh(r,t))return u3(e,r,t);const n=r[t];return e.finalized_||!Tn(n)?n:n===tf(e.base_,t)?(rf(e),e.copy_[t]=Bh(n,e)):n},has(e,t){return t in Oa(e)},ownKeys(e){return Reflect.ownKeys(Oa(e))},set(e,t,r){const n=kS(Oa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=tf(Oa(e),t),i=s==null?void 0:s[dr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(s3(r,s)&&(r!==void 0||Dh(e.base_,t)))return!0;rf(e),$h(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rf(e),$h(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Oa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return ei(e.base_)},setPrototypeOf(){Wr(12)}},Io={};uu(ex,(e,t)=>{Io[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Io.deleteProperty=function(e,t){return Io.set.call(this,e,t,void 0)};Io.set=function(e,t,r){return ex.set.call(this,e[0],t,r,e[0])};function tf(e,t){const r=e[dr];return(r?Oa(r):e)[t]}function u3(e,t,r){var s;const n=kS(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function kS(e,t){if(!(t in e))return;let r=ei(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ei(r)}}function $h(e){e.modified_||(e.modified_=!0,e.parent_&&$h(e.parent_))}function rf(e){e.copy_||(e.copy_=_h(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var d3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Wr(6),n!==void 0&&typeof n!="function"&&Wr(7);let s;if(Tn(t)){const i=Kv(this),o=Bh(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Rh(i):Ih(i)}return Hv(i,n),Gv(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===wS&&(s=void 0),this.autoFreeze_&&Jg(s,!0),n){const i=[],o=[];ss("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else Wr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tn(e)||Wr(8),as(e)&&(e=wn(e));const t=Kv(this),r=Bh(e,void 0);return r[dr].isManual_=!0,Ih(t),r}finishDraft(e,t){const r=e&&e[dr];(!r||!r.isManual_)&&Wr(9);const{scope_:n}=r;return Hv(n,t),Gv(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=ss("Patches").applyPatches_;return as(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Bh(e,t){const r=il(e)?ss("MapSet").proxyMap_(e,t):$d(e)?ss("MapSet").proxySet_(e,t):c3(e,t);return(t?t.scope_:CS()).drafts_.push(r),r}function wn(e){return as(e)||Wr(10,e),ES(e)}function ES(e){if(!Tn(e)||Bd(e))return e;const t=e[dr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=_h(e,t.scope_.immer_.useStrictShallowCopy_)}else r=_h(e,!0);return uu(r,(n,s)=>{SS(r,n,ES(s))}),t&&(t.finalized_=!1),r}var m3=new d3,PS=m3.produce;function AS(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var f3=AS(),h3=AS,p3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cu:cu.apply(null,arguments)};function Ar(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(lr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>jS(n)&&n.type===e,r}var TS=class Zi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zi.prototype)}static get[Symbol.species](){return Zi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zi(...t[0].concat(this)):new Zi(...t.concat(this))}};function Vv(e){return Tn(e)?PS(e,()=>{}):e}function Ql(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function g3(e){return typeof e=="boolean"}var x3=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new TS;return r&&(g3(r)?o.push(f3):o.push(h3(r.extraArgument))),o},y3="RTK_autoBatch",Yv=e=>t=>{setTimeout(t,e)},v3=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Yv(10):e.type==="callback"?e.queueNotification:Yv(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const m=()=>s&&d(),f=n.subscribe(m);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var m;try{return s=!((m=d==null?void 0:d.meta)!=null&&m[y3]),i=!s,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{s=!0}}})},b3=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new TS(e);return n&&s.push(v3(typeof n=="object"?n:void 0)),s};function j3(e){const t=x3(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Zg(r))l=bS(r);else throw new Error(lr(1));let c;typeof n=="function"?c=n(t):c=t();let u=cu;s&&(u=p3({trace:!1,...typeof s=="object"&&s}));const d=n3(...c),m=b3(d);let f=typeof o=="function"?o(m):m();const h=u(...f);return vS(l,i,h)}function OS(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(lr(28));if(l in t)throw new Error(lr(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function w3(e){return typeof e=="function"}function N3(e,t){let[r,n,s]=OS(t),i;if(w3(e))i=()=>Vv(e());else{const l=Vv(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,m)=>{if(m)if(as(d)){const h=m(d,c);return h===void 0?d:h}else{if(Tn(d))return PS(d,f=>m(f,c));{const f=m(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return o.getInitialState=i,o}var S3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",C3=(e=21)=>{let t="",r=e;for(;r--;)t+=S3[Math.random()*64|0];return t},k3=Symbol.for("rtk-slice-createasyncthunk");function E3(e,t){return`${e}/${t}`}function P3({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[k3];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(lr(11));const l=(typeof s.reducers=="function"?s.reducers(T3()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,N){const S=typeof w=="string"?w:w.type;if(!S)throw new Error(lr(12));if(S in u.sliceCaseReducersByType)throw new Error(lr(13));return u.sliceCaseReducersByType[S]=N,d},addMatcher(w,N){return u.sliceMatchers.push({matcher:w,reducer:N}),d},exposeAction(w,N){return u.actionCreators[w]=N,d},exposeCaseReducer(w,N){return u.sliceCaseReducersByName[w]=N,d}};c.forEach(w=>{const N=l[w],S={reducerName:w,type:E3(i,w),createNotation:typeof s.reducers=="function"};L3(N)?D3(S,N,d,t):O3(S,N,d)});function m(){const[w={},N=[],S=void 0]=typeof s.extraReducers=="function"?OS(s.extraReducers):[s.extraReducers],P={...w,...u.sliceCaseReducersByType};return N3(s.initialState,O=>{for(let A in P)O.addCase(A,P[A]);for(let A of u.sliceMatchers)O.addMatcher(A.matcher,A.reducer);for(let A of N)O.addMatcher(A.matcher,A.reducer);S&&O.addDefaultCase(S)})}const f=w=>w,h=new Map,p=new WeakMap;let y;function x(w,N){return y||(y=m()),y(w,N)}function v(){return y||(y=m()),y.getInitialState()}function b(w,N=!1){function S(O){let A=O[w];return typeof A>"u"&&N&&(A=Ql(p,S,v)),A}function P(O=f){const A=Ql(h,N,()=>new WeakMap);return Ql(A,O,()=>{const E={};for(const[D,_]of Object.entries(s.selectors??{}))E[D]=A3(_,O,()=>Ql(p,O,v),N);return E})}return{reducerPath:w,getSelectors:P,get selectors(){return P(S)},selectSlice:S}}const j={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(w,{reducerPath:N,...S}={}){const P=N??o;return w.inject({reducerPath:P,reducer:x},S),{...j,...b(P,!0)}}};return j}}function A3(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var hr=P3();function T3(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function O3({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!M3(n))throw new Error(lr(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Ar(e,o):Ar(e))}function L3(e){return e._reducerDefinitionType==="asyncThunk"}function M3(e){return e._reducerDefinitionType==="reducerWithPrepare"}function D3({type:e,reducerName:t},r,n,s){if(!s)throw new Error(lr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,m=s(e,i,d);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),c&&n.addCase(m.rejected,c),u&&n.addMatcher(m.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Zl,pending:l||Zl,rejected:c||Zl,settled:u||Zl})}function Zl(){}var _3="task",LS="listener",MS="completed",tx="cancelled",R3=`task-${tx}`,I3=`task-${MS}`,Fh=`${LS}-${tx}`,$3=`${LS}-${MS}`,Fd=class{constructor(e){El(this,"name","TaskAbortError");El(this,"message");this.code=e,this.message=`${_3} ${tx} (reason: ${e})`}},rx=(e,t)=>{if(typeof e!="function")throw new TypeError(lr(32))},fu=()=>{},DS=(e,t=fu)=>(e.catch(t),e),_S=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ka=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ga=e=>{if(e.aborted){const{reason:t}=e;throw new Fd(t)}};function RS(e,t){let r=fu;return new Promise((n,s)=>{const i=()=>s(new Fd(e.reason));if(e.aborted){i();return}r=_S(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=fu})}var B3=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Fd?"cancelled":"rejected",error:r}}finally{t==null||t()}},hu=e=>t=>DS(RS(e,t).then(r=>(Ga(e),r))),IS=e=>{const t=hu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:$s}=Object,Xv={},Ud="listenerMiddleware",F3=(e,t)=>{const r=n=>_S(e,()=>Ka(n,e.reason));return(n,s)=>{rx(n);const i=new AbortController;r(i);const o=B3(async()=>{Ga(e),Ga(i.signal);const l=await n({pause:hu(i.signal),delay:IS(i.signal),signal:i.signal});return Ga(i.signal),l},()=>Ka(i,I3));return s!=null&&s.autoJoin&&t.push(o.catch(fu)),{result:hu(e)(o),cancel(){Ka(i,R3)}}}},U3=(e,t)=>{const r=async(n,s)=>{Ga(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(m,f)=>{f.unsubscribe(),c([m,f.getState(),f.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await RS(t,Promise.race(l));return Ga(t),c}finally{i()}};return(n,s)=>DS(r(n,s))},$S=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Ar(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(lr(21));return rx(i),{predicate:s,type:t,effect:i}},BS=$s(e=>{const{type:t,predicate:r,effect:n}=$S(e);return{id:C3(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(lr(22))}}},{withTypes:()=>BS}),Qv=(e,t)=>{const{type:r,effect:n,predicate:s}=$S(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Uh=e=>{e.pending.forEach(t=>{Ka(t,Fh)})},z3=e=>()=>{e.forEach(Uh),e.clear()},Zv=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},FS=$s(Ar(`${Ud}/add`),{withTypes:()=>FS}),W3=Ar(`${Ud}/removeAll`),US=$s(Ar(`${Ud}/remove`),{withTypes:()=>US}),H3=(...e)=>{console.error(`${Ud}/error`,...e)},ol=(e={})=>{const t=new Map,{extra:r,onError:n=H3}=e;rx(n);const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),m=>{d.unsubscribe(),m!=null&&m.cancelActive&&Uh(d)}),i=d=>{const m=Qv(t,d)??BS(d);return s(m)};$s(i,{withTypes:()=>i});const o=d=>{const m=Qv(t,d);return m&&(m.unsubscribe(),d.cancelActive&&Uh(m)),!!m};$s(o,{withTypes:()=>o});const l=async(d,m,f,h)=>{const p=new AbortController,y=U3(i,p.signal),x=[];try{d.pending.add(p),await Promise.resolve(d.effect(m,$s({},f,{getOriginalState:h,condition:(v,b)=>y(v,b).then(Boolean),take:y,delay:IS(p.signal),pause:hu(p.signal),extra:r,signal:p.signal,fork:F3(p.signal,x),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,b,j)=>{v!==p&&(Ka(v,Fh),j.delete(v))})},cancel:()=>{Ka(p,Fh),d.pending.delete(p)},throwIfCancelled:()=>{Ga(p.signal)}})))}catch(v){v instanceof Fd||Zv(n,v,{raisedBy:"effect"})}finally{await Promise.all(x),Ka(p,$3),d.pending.delete(p)}},c=z3(t);return{middleware:d=>m=>f=>{if(!jS(f))return m(f);if(FS.match(f))return i(f.payload);if(W3.match(f)){c();return}if(US.match(f))return o(f.payload);let h=d.getState();const p=()=>{if(h===Xv)throw new Error(lr(23));return h};let y;try{if(y=m(f),t.size>0){const x=d.getState(),v=Array.from(t.values());for(const b of v){let j=!1;try{j=b.predicate(f,x,h)}catch(w){j=!1,Zv(n,w,{raisedBy:"predicate"})}j&&l(b,f,d,p)}}}finally{h=Xv}return y},startListening:i,stopListening:o,clearListeners:c}};function lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K3={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zS=hr({name:"chartLayout",initialState:K3,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:G3,setLayout:q3,setChartSize:V3,setScale:Y3}=zS.actions,X3=zS.reducer;function Jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jv(Object(r),!0).forEach(function(n){Q3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q3(e,t,r){return(t=Z3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z3(e){var t=J3(e,"string");return typeof t=="symbol"?t:t+""}function J3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pu=Math.PI/180,eM=e=>e*180/Math.PI,Ge=(e,t,r,n)=>({x:e+Math.cos(-pu*n)*r,y:t+Math.sin(-pu*n)*r}),WS=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tM=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},rM=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=tM({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:eM(c),angleInRadian:c}},nM=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},aM=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},sM=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=rM({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:u}=nM(t),d=i,m;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=c}return m?eb(eb({},t),{},{radius:s,angle:aM(d,t)}):null};function HS(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tb(Object(r),!0).forEach(function(n){iM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iM(e,t,r){return(t=oM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oM(e){var t=lM(e,"string");return typeof t=="symbol"?t:t+""}function lM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ye(e,t,r){return ke(e)||ke(t)?r:on(t)?ns(e,t,r):typeof t=="function"?t(e):r}var cM=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,m=c>=l-1?r[0].coordinate:r[c+1].coordinate,f=void 0;if(it(d-u)!==it(m-d)){var h=[];if(it(m-d)===it(s[1]-s[0])){f=m;var p=d+s[1]-s[0];h[0]=Math.min(p,(p+u)/2),h[1]=Math.max(p,(p+u)/2)}else{f=u;var y=m+s[1]-s[0];h[0]=Math.min(d,(y+d)/2),h[1]=Math.max(d,(y+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){({index:o}=r[c]);break}}else{var v=Math.min(u,m),b=Math.max(u,m);if(e>(v+d)/2&&e<=(b+d)/2){({index:o}=r[c]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},uM=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&te(e[i]))return jr(jr({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&te(e[o]))return jr(jr({},e),{},{[o]:e[o]+(s||0)})}return e},dn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",KS=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},GS=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:m,niceTicks:f,axisType:h}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=s==="category"&&o.bandwidth?o.bandwidth()/p:0;if(y=h==="angleAxis"&&i&&i.length>=2?it(i[0]-i[1])*2*y:y,m||f){var x=(m||f||[]).map((v,b)=>{var j=n?n.indexOf(v):v;return{coordinate:o(j)+y,value:v,offset:y,index:b}});return x.filter(v=>!Xt(v.coordinate))}return c&&u?u.map((v,b)=>({coordinate:o(v)+y,value:v,index:b,offset:y})):o.ticks&&d!=null?o.ticks(d).map((v,b)=>({coordinate:o(v)+y,value:v,offset:y,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+y,value:n?n[v]:v,index:b,offset:y}))},rb=1e-4,dM=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-rb,i=Math.max(n[0],n[1])+rb,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},mM=(e,t)=>{if(!t||t.length!==2||!te(t[0])||!te(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(s[0]=r),(!te(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},fM=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=Xt(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},hM=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=Xt(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},pM={sign:fM,expand:JL,none:Zs,silhouette:e6,wiggle:t6,positive:hM},gM=(e,t,r)=>{var n=pM[r],s=ZL().keys(t).value((i,o)=>+ye(i,o,0)).order(Oh).offset(n);return s(e)};function qS(e){return e==null?void 0:String(e)}function gu(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ke(s[t.dataKey])){var l=N2(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ye(s,ke(o)?t.dataKey:o);return ke(c)?null:t.scale(c)}var nb=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=ye(i,t.dataKey,t.scale.domain()[o]);return ke(l)?null:t.scale(l)-s/2+n},xM=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},yM=e=>{var t=e.flat(2).filter(te);return[Math.min(...t),Math.max(...t)]},vM=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],bM=(e,t,r)=>{if(e!=null)return vM(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=HS(u,t,r),m=yM(d);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},ab=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,is=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Rd(t,d=>d.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function ib(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return jr(jr({},t),{},{dataKey:r,payload:n,value:s,name:i})}function wa(e,t){if(e)return String(e);if(typeof t=="string")return t}function jM(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?sM({x:e,y:t},n):null}var wM=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return jr(jr(jr({},n),Ge(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return jr(jr(jr({},n),Ge(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},NM=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,In=e=>e.layout.width,$n=e=>e.layout.height,SM=e=>e.layout.scale,VS=e=>e.layout.margin,zd=U(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wd=U(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),YS="data-recharts-item-index",XS="data-recharts-item-data-key",ll=60;function ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ob(Object(r),!0).forEach(function(n){CM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CM(e,t,r){return(t=kM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kM(e){var t=EM(e,"string");return typeof t=="symbol"?t:t+""}function EM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PM=e=>e.brush.height;function AM(e){var t=Wd(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:ll;return r+s}return r},0)}function TM(e){var t=Wd(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:ll;return r+s}return r},0)}function OM(e){var t=zd(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function LM(e){var t=zd(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ze=U([In,$n,VS,PM,AM,TM,OM,LM,xS,X6],(e,t,r,n,s,i,o,l,c,u)=>{var d={left:(r.left||0)+s,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},f=Jl(Jl({},m),d),h=f.bottom;f.bottom+=n,f=uM(f,c,u);var p=e-f.left-f.right,y=t-f.top-f.bottom;return Jl(Jl({brushBottom:h},f),{},{width:Math.max(p,0),height:Math.max(y,0)})}),MM=U(Ze,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),nx=U(In,$n,(e,t)=>({x:0,y:0,width:e,height:t})),DM=g.createContext(null),Et=()=>g.useContext(DM)!=null,Hd=e=>e.brush,Kd=U([Hd,Ze,VS],(e,t,r)=>({height:e.height,x:te(e.x)?e.x:t.left,y:te(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:te(e.width)?e.width:t.width})),ax=()=>{var e,t=Et(),r=ee(MM),n=ee(Kd),s=(e=ee(Hd))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},_M={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QS=()=>{var e;return(e=ee(Ze))!==null&&e!==void 0?e:_M},sx=()=>ee(In),ix=()=>ee($n),RM=()=>ee(e=>e.layout.margin),le=e=>e.layout.layoutType,cl=()=>ee(le),IM={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZS=hr({name:"legend",initialState:IM,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=wn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:lb,setLegendSettings:$M,addLegendPayload:JS,removeLegendPayload:eC}=ZS.actions,BM=ZS.reducer,FM=["contextPayload"];function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zh.apply(null,arguments)}function cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(r),!0).forEach(function(n){ox(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ox(e,t,r){return(t=UM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UM(e){var t=zM(e,"string");return typeof t=="symbol"?t:t+""}function zM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WM(e,t){if(e==null)return{};var r,n,s=HM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function HM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KM(e){return e.value}function GM(e){var{contextPayload:t}=e,r=WM(e,FM),n=iS(t,e.payloadUniqBy,KM),s=ti(ti({},r),{},{payload:n});return g.isValidElement(e.content)?g.cloneElement(e.content,s):typeof e.content=="function"?g.createElement(e.content,s):g.createElement(Bg,s)}function qM(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((s||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ti(ti({},u),d)}function VM(e){var t=Ie();return g.useEffect(()=>{t($M(e))},[t,e]),null}function YM(e){var t=Ie();return g.useEffect(()=>(t(lb(e)),()=>{t(lb({width:0,height:0}))}),[t,e]),null}function XM(e){var t=J6(),r=wL(),n=RM(),{width:s,height:i,wrapperStyle:o,portal:l}=e,[c,u]=yS([t]),d=sx(),m=ix();if(d==null||m==null)return null;var f=d-(n.left||0)-(n.right||0),h=cr.getWidthOrHeight(e.layout,i,s,f),p=l?o:ti(ti({position:"absolute",width:(h==null?void 0:h.width)||s||"auto",height:(h==null?void 0:h.height)||i||"auto"},qM(o,e,n,d,m,c)),o),y=l??r;if(y==null)return null;var x=g.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},g.createElement(VM,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),g.createElement(YM,{width:c.width,height:c.height}),g.createElement(GM,zh({},e,h,{margin:n,chartWidth:d,chartHeight:m,contextPayload:t})));return hg.createPortal(x,y)}class cr extends g.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&te(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return g.createElement(XM,this.props)}}ox(cr,"displayName","Legend");ox(cr,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(null,arguments)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(n){QM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QM(e,t,r){return(t=ZM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZM(e){var t=JM(e,"string");return typeof t=="symbol"?t:t+""}function JM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eD(e){return Array.isArray(e)&&on(e[0])&&on(e[1])?e.join(" ~ "):e}var tD=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:m,accessibilityLayer:f=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},S=(l?Rd(i,l):i).map((P,O)=>{if(P.type==="none")return null;var A=P.formatter||o||eD,{value:E,name:D}=P,_=E,T=D;if(A){var K=A(E,D,P,O,i);if(Array.isArray(K))[_,T]=K;else if(K!=null)_=K;else return null}var R=nf({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:R},on(T)?g.createElement("span",{className:"recharts-tooltip-item-name"},T):null,on(T)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},_),g.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},p=nf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=nf({margin:0},s),x=!ke(d),v=x?d:"",b=ue("recharts-default-tooltip",c),j=ue("recharts-tooltip-label",u);x&&m&&i!==void 0&&i!==null&&(v=m(d,i));var w=f?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Wh({className:b,style:p},w),g.createElement("p",{className:j,style:y},g.isValidElement(v)?v:"".concat(v)),h())},$i="recharts-tooltip-wrapper",rD={visibility:"hidden"};function nD(e){var{coordinate:t,translateX:r,translateY:n}=e;return ue($i,{["".concat($i,"-right")]:te(r)&&t&&te(t.x)&&r>=t.x,["".concat($i,"-left")]:te(r)&&t&&te(t.x)&&r<t.x,["".concat($i,"-bottom")]:te(n)&&t&&te(t.y)&&n>=t.y,["".concat($i,"-top")]:te(n)&&t&&te(t.y)&&n<t.y})}function db(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&te(i[n]))return i[n];var d=r[n]-l-(s>0?s:0),m=r[n]+s;if(t[n])return o[n]?d:m;var f=c[n];if(f==null)return 0;if(o[n]){var h=d,p=f;return h<p?Math.max(m,f):Math.max(d,f)}if(u==null)return 0;var y=m+l,x=f+u;return y>x?Math.max(d,f):Math.max(m,f)}function aD(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function sD(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,m;return o.height>0&&o.width>0&&r?(d=db({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=db({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=aD({translateX:d,translateY:m,useTranslate3d:l})):u=rD,{cssProperties:u,cssClasses:nD({translateX:d,translateY:m,coordinate:r})}}function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){Hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hh(e,t,r){return(t=iD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iD(e){var t=oD(e,"string");return typeof t=="symbol"?t:t+""}function oD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lD extends g.PureComponent{constructor(){super(...arguments),Hh(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Hh(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:m,useTranslate3d:f,viewBox:h,wrapperStyle:p,lastBoundingBox:y,innerRef:x,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:j}=sD({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:m,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:h}),w=v?{}:ec(ec({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=ec(ec({},w),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:x},i)}}var cD=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Bn={devToolsEnabled:!1,isSsr:cD()},tC=()=>ee(e=>e.rootProps.accessibilityLayer);function xt(e){return Number.isFinite(e)}function ri(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kh.apply(null,arguments)}function fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fb(Object(r),!0).forEach(function(n){uD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uD(e,t,r){return(t=dD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dD(e){var t=mD(e,"string");return typeof t=="symbol"?t:t+""}function mD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pb={curveBasisClosed:UL,curveBasisOpen:zL,curveBasis:FL,curveBumpX:kL,curveBumpY:EL,curveLinearClosed:WL,curveLinear:Ld,curveMonotoneX:HL,curveMonotoneY:KL,curveNatural:GL,curveStep:qL,curveStepAfter:YL,curveStepBefore:VL},tc=e=>xt(e.x)&&xt(e.y),Bi=e=>e.x,Fi=e=>e.y,fD=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(al(e));return(r==="curveMonotone"||r==="curveBump")&&t?pb["".concat(r).concat(t==="vertical"?"Y":"X")]:pb[r]||Ld},hD=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=fD(t,s),l=i?r.filter(tc):r,c;if(Array.isArray(n)){var u=i?n.filter(m=>tc(m)):n,d=l.map((m,f)=>hb(hb({},m),{},{base:u[f]}));return s==="vertical"?c=ql().y(Fi).x1(Bi).x0(m=>m.base.x):c=ql().x(Bi).y1(Fi).y0(m=>m.base.y),c.defined(tc).curve(o),c(d)}return s==="vertical"&&te(n)?c=ql().y(Fi).x1(Bi).x0(n):te(n)?c=ql().x(Bi).y1(Fi).y0(n):c=L2().x(Bi).y(Fi),c.defined(tc).curve(o),c(l)},Bs=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?hD(e):n;return g.createElement("path",Kh({},Lr(e),Og(e),{className:ue("recharts-curve",t),d:i===null?void 0:i,ref:s}))},pD=["x","y","top","left","width","height","className"];function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(null,arguments)}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){xD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xD(e,t,r){return(t=yD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yD(e){var t=vD(e,"string");return typeof t=="symbol"?t:t+""}function vD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bD(e,t){if(e==null)return{};var r,n,s=jD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wD=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),ND=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=bD(e,pD),u=gD({x:t,y:r,top:n,left:s,width:i,height:o},c);return!te(t)||!te(r)||!te(i)||!te(o)||!te(n)||!te(s)?null:g.createElement("path",Gh({},Ee(u,!0),{className:ue("recharts-cross",l),d:wD(t,r,i,o,n,s)}))};function SD(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){kD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kD(e,t,r){return(t=ED(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ED(e){var t=PD(e,"string");return typeof t=="symbol"?t:t+""}function PD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(e,t){var r=CD({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function AD(){}function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(r),!0).forEach(function(n){TD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TD(e,t,r){return(t=OD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OD(e){var t=LD(e,"string");return typeof t=="symbol"?t:t+""}function LD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MD=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rC=(e,t,r)=>e.map(n=>"".concat(MD(n)," ").concat(t,"ms ").concat(r)).join(","),DD=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),$o=(e,t)=>Object.keys(t).reduce((r,n)=>vb(vb({},r),{},{[n]:e(n,t[n])}),{});function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){_D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _D(e,t,r){return(t=RD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RD(e){var t=ID(e,"string");return typeof t=="symbol"?t:t+""}function ID(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xu=(e,t,r)=>e+(t-e)*r,qh=e=>{var{from:t,to:r}=e;return t!==r},nC=(e,t,r)=>{var n=$o((s,i)=>{if(qh(i)){var[o,l]=e(i.from,i.to,i.velocity);return mt(mt({},i),{},{from:o,velocity:l})}return i},t);return r<1?$o((s,i)=>qh(i)?mt(mt({},i),{},{velocity:xu(i.velocity,n[s].velocity,r),from:xu(i.from,n[s].from,r)}):i,t):nC(e,n,r-1)};function $D(e,t,r,n,s,i){var o,l=n.reduce((f,h)=>mt(mt({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>$o((f,h)=>h.from,l),u=()=>!Object.values(l).filter(qh).length,d=null,m=f=>{o||(o=f);var h=f-o,p=h/r.dt;l=nC(r,l,p),s(mt(mt(mt({},e),t),c())),o=f,u()||(d=i.setTimeout(m))};return()=>(d=i.setTimeout(m),()=>{d()})}function BD(e,t,r,n,s,i,o){var l=null,c=s.reduce((m,f)=>mt(mt({},m),{},{[f]:[e[f],t[f]]}),{}),u,d=m=>{u||(u=m);var f=(m-u)/n,h=$o((y,x)=>xu(...x,r(f)),c);if(i(mt(mt(mt({},e),t),h)),f<1)l=o.setTimeout(d);else{var p=$o((y,x)=>xu(...x,r(1)),c);i(mt(mt(mt({},e),t),p))}};return()=>(l=o.setTimeout(d),()=>{l()})}const FD=(e,t,r,n,s,i)=>{var o=DD(e,t);return r.isStepper===!0?$D(e,t,r,o,s,i):BD(e,t,r,n,o,s,i)};var yu=1e-4,aC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],sC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),jb=(e,t)=>r=>{var n=aC(e,t);return sC(n,r)},UD=(e,t)=>r=>{var n=aC(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return sC(s,r)},wb=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([t,n,r,s]=o);var u=jb(t,r),d=jb(n,s),m=UD(t,r),f=p=>p>1?1:p<0?0:p,h=p=>{for(var y=p>1?1:p,x=y,v=0;v<8;++v){var b=u(x)-y,j=m(x);if(Math.abs(b-y)<yu||j<yu)return d(x);x=f(x-b/j)}return d(x)};return h.isStepper=!1,h},zD=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,m=c+(u-d)*s/1e3,f=c*s/1e3+o;return Math.abs(f-l)<yu&&Math.abs(m)<yu?[l,0]:[f,m]};return i.isStepper=!0,i.dt=s,i},WD=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wb(e);case"spring":return zD();default:if(e.split("(")[0]==="cubic-bezier")return wb(e)}return typeof e=="function"?e:null};function HD(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class KD{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function GD(){return HD(new KD)}var qD=g.createContext(GD);function VD(e,t){var r=g.useContext(qD);return g.useMemo(()=>t??r(e),[e,t,r])}var YD={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Nb={t:0},af={t:1};function xi(e){var t=Je(e,YD),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=VD(t.animationId,t.animationManager),[m,f]=g.useState(r?Nb:af),h=g.useRef(null);return g.useEffect(()=>{r||f(af)},[r]),g.useEffect(()=>{if(!r||!n)return AD;var p=FD(Nb,af,WD(i),s,f,d.getTimeoutController()),y=()=>{h.current=p()};return d.start([c,o,y,s,l]),()=>{d.stop(),h.current&&h.current(),l()}},[r,n,s,i,o,c,l,d]),u(m.t)}function yi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(_o(t)),n=g.useRef(e);return n.current!==e&&(r.current=_o(t),n.current=e),r.current}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){XD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XD(e,t,r){return(t=QD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QD(e){var t=ZD(e,"string");return typeof t=="symbol"?t:t+""}function ZD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(null,arguments)}var kb=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],m=0,f=4;m<f;m++)d[m]=s[m]>i?i:s[m];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var h=Math.min(i,s);u="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},JD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iC=e=>{var t=Je(e,JD),r=g.useRef(null),[n,s]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&s(K)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:m,animationDuration:f,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:y}=t,x=g.useRef(l),v=g.useRef(c),b=g.useRef(i),j=g.useRef(o),w=g.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),N=yi(w,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var S=ue("recharts-rectangle",d);if(!y)return g.createElement("path",vu({},Ee(t,!0),{className:S,d:kb(i,o,l,c,u)}));var P=x.current,O=v.current,A=b.current,E=j.current,D="0px ".concat(n===-1?1:n,"px"),_="".concat(n,"px 0px"),T=rC(["strokeDasharray"],f,typeof m=="string"?m:void 0);return g.createElement(xi,{animationId:N,key:N,canBegin:n>0,duration:f,easing:m,isActive:y,begin:h},K=>{var R=xe(P,l,K),M=xe(O,c,K),B=xe(A,i,K),I=xe(E,o,K);r.current&&(x.current=R,v.current=M,b.current=B,j.current=I);var H;return p?K>0?H={transition:T,strokeDasharray:_}:H={strokeDasharray:D}:H={strokeDasharray:_},g.createElement("path",vu({},Ee(t,!0),{className:S,d:kb(B,I,R,M,u),ref:r,style:Cb(Cb({},H),t.style)}))})};function oC(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=Ge(t,r,n,s),l=Ge(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vh.apply(null,arguments)}var e_=(e,t)=>{var r=it(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},rc=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/pu,m=c?s:s+i*d,f=Ge(t,r,u,m),h=Ge(t,r,n,m),p=c?s-i*d:s,y=Ge(t,r,u*Math.cos(d*pu),p);return{center:f,circleTangency:h,lineTangency:y,theta:d}},lC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=e_(i,o),c=i+l,u=Ge(t,r,s,i),d=Ge(t,r,s,c),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var f=Ge(t,r,n,i),h=Ge(t,r,n,c);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},t_=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=it(u-c),{circleTangency:m,lineTangency:f,theta:h}=rc({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:y,theta:x}=rc({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-h-x;if(v<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):lC({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var b="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:w,theta:N}=rc({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:P,theta:O}=rc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-N-O;if(A<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},r_={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cC=e=>{var t=Je(e,r_),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:m}=t;if(i<s||u===d)return null;var f=ue("recharts-sector",m),h=i-s,p=Ct(o,h,0,!0),y;return p>0&&Math.abs(u-d)<360?y=t_({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=lC({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",Vh({},Ee(t,!0),{className:f,d:y}))};function n_(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:m}=t,f=Ge(l,c,u,m),h=Ge(l,c,d,m);n=f.x,s=f.y,i=h.x,o=h.y}else return oC(t);return[{x:n,y:s},{x:i,y:o}]}var uC={},dC={},mC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(mC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(dC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qg,r=dC;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=s,s+=o;return c}e.range=n})(uC);var a_=uC.range;const fC=_n(a_);function ua(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s_(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lx(e){let t,r,n;e.length!==2?(t=ua,r=(l,c)=>ua(e(l),c),n=(l,c)=>e(l)-c):(t=e===ua||e===s_?e:i_,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<0?u=m+1:d=m}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<=0?u=m+1:d=m}while(u<d)}return u}function o(l,c,u=0,d=l.length){const m=s(l,c,u,d-1);return m>u&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function i_(){return 0}function hC(e){return e===null?NaN:+e}function*o_(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const l_=lx(ua),ul=l_.right;lx(hC).center;class Eb extends Map{constructor(t,r=d_){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Pb(this,t))}has(t){return super.has(Pb(this,t))}set(t,r){return super.set(c_(this,t),r)}delete(t){return super.delete(u_(this,t))}}function Pb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function c_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function u_({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function d_(e){return e!==null&&typeof e=="object"?e.valueOf():e}function m_(e=ua){if(e===ua)return pC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const f_=Math.sqrt(50),h_=Math.sqrt(10),p_=Math.sqrt(2);function bu(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=f_?10:i>=h_?5:i>=p_?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?bu(e,t,r*2):[l,c,u]}function Yh(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?bu(t,e,r):bu(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function Xh(e,t,r){return t=+t,e=+e,r=+r,bu(e,t,r)[2]}function Qh(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Xh(t,e,r):Xh(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function Ab(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Tb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function gC(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?pC:m_(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),m=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*m*(c-m)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*m/c+f)),p=Math.min(n,Math.floor(t+(c-u)*m/c+f));gC(e,t,h,p,s)}const i=e[t];let o=r,l=n;for(Ui(e,r,t),s(e[n],i)>0&&Ui(e,r,n);o<l;){for(Ui(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Ui(e,r,l):(++l,Ui(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ui(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g_(e,t,r){if(e=Float64Array.from(o_(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Tb(e);if(t>=1)return Ab(e);var n,s=(n-1)*t,i=Math.floor(s),o=Ab(gC(e,i).subarray(0,i+1)),l=Tb(e.subarray(i+1));return o+(l-o)*(s-i)}}function x_(e,t,r=hC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function y_(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zh=Symbol("implicit");function cx(){var e=new Eb,t=[],r=[],n=Zh;function s(i){let o=e.get(i);if(o===void 0){if(n!==Zh)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Eb;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return cx(t,r).unknown(n)},Mr.apply(s,arguments),s}function ux(){var e=cx().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function m(){var f=t().length,h=s<n,p=h?s:n,y=h?n:s;i=(y-p)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),p+=(y-p-i*(f-c))*d,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var x=y_(f).map(function(v){return p+i*v});return r(h?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),m()):t()},e.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,m()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),m()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,m()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),m()):d},e.copy=function(){return ux(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Mr.apply(m(),arguments)}function xC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xC(t())},e}function v_(){return xC(ux.apply(null,arguments).paddingInner(1))}function dx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function dl(){}var Bo=.7,ju=1/Bo,Fs="\\s*([+-]?\\d+)\\s*",Fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b_=/^#([0-9a-f]{3,8})$/,j_=new RegExp(`^rgb\\(${Fs},${Fs},${Fs}\\)$`),w_=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),N_=new RegExp(`^rgba\\(${Fs},${Fs},${Fs},${Fo}\\)$`),S_=new RegExp(`^rgba\\(${sn},${sn},${sn},${Fo}\\)$`),C_=new RegExp(`^hsl\\(${Fo},${sn},${sn}\\)$`),k_=new RegExp(`^hsla\\(${Fo},${sn},${sn},${Fo}\\)$`),Ob={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dx(dl,Uo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lb,formatHex:Lb,formatHex8:E_,formatHsl:P_,formatRgb:Mb,toString:Mb});function Lb(){return this.rgb().formatHex()}function E_(){return this.rgb().formatHex8()}function P_(){return vC(this).formatHsl()}function Mb(){return this.rgb().formatRgb()}function Uo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=b_.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Db(t):r===3?new zt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=j_.exec(e))?new zt(t[1],t[2],t[3],1):(t=w_.exec(e))?new zt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=N_.exec(e))?nc(t[1],t[2],t[3],t[4]):(t=S_.exec(e))?nc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=C_.exec(e))?Ib(t[1],t[2]/100,t[3]/100,1):(t=k_.exec(e))?Ib(t[1],t[2]/100,t[3]/100,t[4]):Ob.hasOwnProperty(e)?Db(Ob[e]):e==="transparent"?new zt(NaN,NaN,NaN,0):null}function Db(e){return new zt(e>>16&255,e>>8&255,e&255,1)}function nc(e,t,r,n){return n<=0&&(e=t=r=NaN),new zt(e,t,r,n)}function A_(e){return e instanceof dl||(e=Uo(e)),e?(e=e.rgb(),new zt(e.r,e.g,e.b,e.opacity)):new zt}function Jh(e,t,r,n){return arguments.length===1?A_(e):new zt(e,t,r,n??1)}function zt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}dx(zt,Jh,yC(dl,{brighter(e){return e=e==null?ju:Math.pow(ju,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bo:Math.pow(Bo,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zt(qa(this.r),qa(this.g),qa(this.b),wu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_b,formatHex:_b,formatHex8:T_,formatRgb:Rb,toString:Rb}));function _b(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}`}function T_(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}${Ba((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rb(){const e=wu(this.opacity);return`${e===1?"rgb(":"rgba("}${qa(this.r)}, ${qa(this.g)}, ${qa(this.b)}${e===1?")":`, ${e})`}`}function wu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ba(e){return e=qa(e),(e<16?"0":"")+e.toString(16)}function Ib(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,r,n)}function vC(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof dl||(e=Uo(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Hr(o,l,c,e.opacity)}function O_(e,t,r,n){return arguments.length===1?vC(e):new Hr(e,t,r,n??1)}function Hr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dx(Hr,O_,yC(dl,{brighter(e){return e=e==null?ju:Math.pow(ju,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bo:Math.pow(Bo,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new zt(sf(e>=240?e-240:e+120,s,n),sf(e,s,n),sf(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Hr($b(this.h),ac(this.s),ac(this.l),wu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wu(this.opacity);return`${e===1?"hsl(":"hsla("}${$b(this.h)}, ${ac(this.s)*100}%, ${ac(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $b(e){return e=(e||0)%360,e<0?e+360:e}function ac(e){return Math.max(0,Math.min(1,e||0))}function sf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const mx=e=>()=>e;function L_(e,t){return function(r){return e+r*t}}function M_(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function D_(e){return(e=+e)==1?bC:function(t,r){return r-t?M_(t,r,e):mx(isNaN(t)?r:t)}}function bC(e,t){var r=t-e;return r?L_(e,r):mx(isNaN(e)?t:e)}const Bb=function e(t){var r=D_(t);function n(s,i){var o=r((s=Jh(s)).r,(i=Jh(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=bC(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function __(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function R_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function I_(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=vi(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function $_(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Nu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function B_(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=vi(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var ep=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,of=new RegExp(ep.source,"g");function F_(e){return function(){return e}}function U_(e){return function(t){return e(t)+""}}function z_(e,t){var r=ep.lastIndex=of.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ep.exec(e))&&(s=of.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Nu(n,s)})),r=of.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?U_(c[0].x):F_(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)l[(m=c[d]).i]=m.x(u);return l.join("")})}function vi(e,t){var r=typeof t,n;return t==null||r==="boolean"?mx(t):(r==="number"?Nu:r==="string"?(n=Uo(t))?(t=n,Bb):z_:t instanceof Uo?Bb:t instanceof Date?$_:R_(t)?__:Array.isArray(t)?I_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?B_:Nu)(e,t)}function fx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function W_(e,t){t===void 0&&(t=e,e=vi);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function H_(e){return function(){return e}}function Su(e){return+e}var Fb=[0,1];function Lt(e){return e}function tp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:H_(isNaN(t)?NaN:.5)}function K_(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function G_(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=tp(s,n),i=r(o,i)):(n=tp(n,s),i=r(i,o)),function(l){return i(n(l))}}function q_(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=tp(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=ul(e,l,1,n)-1;return i[c](s[c](l))}}function ml(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gd(){var e=Fb,t=Fb,r=vi,n,s,i,o=Lt,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==Lt&&(o=K_(e[0],e[f-1])),l=f>2?q_:G_,c=u=null,m}function m(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return m.invert=function(f){return o(s((u||(u=l(t,e.map(n),Nu)))(f)))},m.domain=function(f){return arguments.length?(e=Array.from(f,Su),d()):e.slice()},m.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},m.rangeRound=function(f){return t=Array.from(f),r=fx,d()},m.clamp=function(f){return arguments.length?(o=f?!0:Lt,d()):o!==Lt},m.interpolate=function(f){return arguments.length?(r=f,d()):r},m.unknown=function(f){return arguments.length?(i=f,m):i},function(f,h){return n=f,s=h,d()}}function hx(){return Gd()(Lt,Lt)}function V_(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ni(e){return e=Cu(Math.abs(e)),e?e[1]:NaN}function Y_(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function X_(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Q_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zo(e){if(!(t=Q_.exec(e)))throw new Error("invalid format: "+e);var t;return new px({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zo.prototype=px.prototype;function px(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}px.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Z_(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var jC;function J_(e,t){var r=Cu(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(jC=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Cu(e,Math.max(0,t+i-1))[0]}function Ub(e,t){var r=Cu(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const zb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:V_,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ub(e*100,t),r:Ub,s:J_,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wb(e){return e}var Hb=Array.prototype.map,Kb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eR(e){var t=e.grouping===void 0||e.thousands===void 0?Wb:Y_(Hb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Wb:X_(Hb.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=zo(m);var f=m.fill,h=m.align,p=m.sign,y=m.symbol,x=m.zero,v=m.width,b=m.comma,j=m.precision,w=m.trim,N=m.type;N==="n"?(b=!0,N="g"):zb[N]||(j===void 0&&(j=12),w=!0,N="g"),(x||f==="0"&&h==="=")&&(x=!0,f="0",h="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=y==="$"?n:/[%p]/.test(N)?o:"",O=zb[N],A=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function E(D){var _=S,T=P,K,R,M;if(N==="c")T=O(D)+T,D="";else{D=+D;var B=D<0||1/D<0;if(D=isNaN(D)?c:O(Math.abs(D),j),w&&(D=Z_(D)),B&&+D==0&&p!=="+"&&(B=!1),_=(B?p==="("?p:l:p==="-"||p==="("?"":p)+_,T=(N==="s"?Kb[8+jC/3]:"")+T+(B&&p==="("?")":""),A){for(K=-1,R=D.length;++K<R;)if(M=D.charCodeAt(K),48>M||M>57){T=(M===46?s+D.slice(K+1):D.slice(K))+T,D=D.slice(0,K);break}}}b&&!x&&(D=t(D,1/0));var I=_.length+D.length+T.length,H=I<v?new Array(v-I+1).join(f):"";switch(b&&x&&(D=t(H+D,H.length?v-T.length:1/0),H=""),h){case"<":D=_+D+T+H;break;case"=":D=_+H+D+T;break;case"^":D=H.slice(0,I=H.length>>1)+_+D+T+H.slice(I);break;default:D=H+_+D+T;break}return i(D)}return E.toString=function(){return m+""},E}function d(m,f){var h=u((m=zo(m),m.type="f",m)),p=Math.max(-8,Math.min(8,Math.floor(ni(f)/3)))*3,y=Math.pow(10,-p),x=Kb[8+p/3];return function(v){return h(y*v)+x}}return{format:u,formatPrefix:d}}var sc,gx,wC;tR({thousands:",",grouping:[3],currency:["$",""]});function tR(e){return sc=eR(e),gx=sc.format,wC=sc.formatPrefix,sc}function rR(e){return Math.max(0,-ni(Math.abs(e)))}function nR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ni(t)/3)))*3-ni(Math.abs(e)))}function aR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ni(t)-ni(e))+1}function NC(e,t,r,n){var s=Qh(e,t,r),i;switch(n=zo(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=nR(s,o))&&(n.precision=i),wC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=aR(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=rR(s))&&(n.precision=i-(n.type==="%")*2);break}}return gx(n)}function Na(e){var t=e.domain;return e.ticks=function(r){var n=t();return Yh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return NC(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=Xh(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function SC(){var e=hx();return e.copy=function(){return ml(e,SC())},Mr.apply(e,arguments),Na(e)}function CC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Su),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return CC(e).unknown(t)},e=arguments.length?Array.from(e,Su):[0,1],Na(r)}function kC(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function Gb(e){return Math.log(e)}function qb(e){return Math.exp(e)}function sR(e){return-Math.log(-e)}function iR(e){return-Math.exp(-e)}function oR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lR(e){return e===10?oR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Vb(e){return(t,r)=>-e(-t,r)}function xx(e){const t=e(Gb,qb),r=t.domain;let n=10,s,i;function o(){return s=cR(n),i=lR(n),r()[0]<0?(s=Vb(s),i=Vb(i),e(sR,iR)):e(Gb,qb),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const m=d<u;m&&([u,d]=[d,u]);let f=s(u),h=s(d),p,y;const x=l==null?10:+l;let v=[];if(!(n%1)&&h-f<x){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<n;++p)if(y=f<0?p/i(-f):p*i(f),!(y<u)){if(y>d)break;v.push(y)}}else for(;f<=h;++f)for(p=n-1;p>=1;--p)if(y=f>0?p/i(-f):p*i(f),!(y<u)){if(y>d)break;v.push(y)}v.length*2<x&&(v=Yh(u,d,x))}else v=Yh(f,h,Math.min(h-f,x)).map(i);return m?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=zo(c)).precision==null&&(c.trim=!0),c=gx(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let m=d/i(Math.round(s(d)));return m*n<n-.5&&(m*=n),m<=u?c(d):""}},t.nice=()=>r(kC(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function EC(){const e=xx(Gd()).domain([1,10]);return e.copy=()=>ml(e,EC()).base(e.base()),Mr.apply(e,arguments),e}function Yb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Xb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yx(e){var t=1,r=e(Yb(t),Xb(t));return r.constant=function(n){return arguments.length?e(Yb(t=+n),Xb(t)):t},Na(r)}function PC(){var e=yx(Gd());return e.copy=function(){return ml(e,PC()).constant(e.constant())},Mr.apply(e,arguments)}function Qb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dR(e){return e<0?-e*e:e*e}function vx(e){var t=e(Lt,Lt),r=1;function n(){return r===1?e(Lt,Lt):r===.5?e(uR,dR):e(Qb(r),Qb(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Na(t)}function bx(){var e=vx(Gd());return e.copy=function(){return ml(e,bx()).exponent(e.exponent())},Mr.apply(e,arguments),e}function mR(){return bx.apply(null,arguments).exponent(.5)}function Zb(e){return Math.sign(e)*e*e}function fR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AC(){var e=hx(),t=[0,1],r=!1,n;function s(i){var o=fR(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(Zb(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Su)).map(Zb)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return AC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Mr.apply(s,arguments),Na(s)}function TC(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=x_(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[ul(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ua),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return TC().domain(e).range(t).unknown(n)},Mr.apply(i,arguments)}function OC(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[ul(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return OC().domain([e,t]).range(s).unknown(i)},Mr.apply(Na(o),arguments)}function LC(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[ul(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return LC().domain(e).range(t).unknown(r)},Mr.apply(s,arguments)}const lf=new Date,cf=new Date;function et(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>et(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(lf.setTime(+i),cf.setTime(+o),e(lf),e(cf),Math.floor(r(lf,cf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const ku=et(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ku.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?et(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ku);ku.range;const yn=1e3,Cr=yn*60,vn=Cr*60,On=vn*24,jx=On*7,Jb=On*30,uf=On*365,Fa=et(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yn)},(e,t)=>(t-e)/yn,e=>e.getUTCSeconds());Fa.range;const wx=et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yn)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getMinutes());wx.range;const Nx=et(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getUTCMinutes());Nx.range;const Sx=et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yn-e.getMinutes()*Cr)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getHours());Sx.range;const Cx=et(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getUTCHours());Cx.range;const fl=et(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cr)/On,e=>e.getDate()-1);fl.range;const qd=et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/On,e=>e.getUTCDate()-1);qd.range;const MC=et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/On,e=>Math.floor(e/On));MC.range;function fs(e){return et(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Cr)/jx)}const Vd=fs(0),Eu=fs(1),hR=fs(2),pR=fs(3),ai=fs(4),gR=fs(5),xR=fs(6);Vd.range;Eu.range;hR.range;pR.range;ai.range;gR.range;xR.range;function hs(e){return et(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/jx)}const Yd=hs(0),Pu=hs(1),yR=hs(2),vR=hs(3),si=hs(4),bR=hs(5),jR=hs(6);Yd.range;Pu.range;yR.range;vR.range;si.range;bR.range;jR.range;const kx=et(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kx.range;const Ex=et(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ex.range;const Ln=et(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ln.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:et(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ln.range;const Mn=et(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:et(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Mn.range;function DC(e,t,r,n,s,i){const o=[[Fa,1,yn],[Fa,5,5*yn],[Fa,15,15*yn],[Fa,30,30*yn],[i,1,Cr],[i,5,5*Cr],[i,15,15*Cr],[i,30,30*Cr],[s,1,vn],[s,3,3*vn],[s,6,6*vn],[s,12,12*vn],[n,1,On],[n,2,2*On],[r,1,jx],[t,1,Jb],[t,3,3*Jb],[e,1,uf]];function l(u,d,m){const f=d<u;f&&([u,d]=[d,u]);const h=m&&typeof m.range=="function"?m:c(u,d,m),p=h?h.range(u,+d+1):[];return f?p.reverse():p}function c(u,d,m){const f=Math.abs(d-u)/m,h=lx(([,,x])=>x).right(o,f);if(h===o.length)return e.every(Qh(u/uf,d/uf,m));if(h===0)return ku.every(Math.max(Qh(u,d,m),1));const[p,y]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(y)}return[l,c]}const[wR,NR]=DC(Mn,Ex,Yd,MC,Cx,Nx),[SR,CR]=DC(Ln,kx,Vd,fl,Sx,wx);function df(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zi(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function kR(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Wi(s),d=Hi(s),m=Wi(i),f=Hi(i),h=Wi(o),p=Hi(o),y=Wi(l),x=Hi(l),v=Wi(c),b=Hi(c),j={a:B,A:I,b:H,B:k,c:null,d:sj,e:sj,f:YR,g:sI,G:oI,H:GR,I:qR,j:VR,L:_C,m:XR,M:QR,p:$,q:z,Q:lj,s:cj,S:ZR,u:JR,U:eI,V:tI,w:rI,W:nI,x:null,X:null,y:aI,Y:iI,Z:lI,"%":oj},w={a:L,A:C,b:F,B:X,c:null,d:ij,e:ij,f:mI,g:wI,G:SI,H:cI,I:uI,j:dI,L:IC,m:fI,M:hI,p:re,q:ce,Q:lj,s:cj,S:pI,u:gI,U:xI,V:yI,w:vI,W:bI,x:null,X:null,y:jI,Y:NI,Z:CI,"%":oj},N={a:E,A:D,b:_,B:T,c:K,d:nj,e:nj,f:zR,g:rj,G:tj,H:aj,I:aj,j:$R,L:UR,m:IR,M:BR,p:A,q:RR,Q:HR,s:KR,S:FR,u:OR,U:LR,V:MR,w:TR,W:DR,x:R,X:M,y:rj,Y:tj,Z:_R,"%":WR};j.x=S(r,j),j.X=S(n,j),j.c=S(t,j),w.x=S(r,w),w.X=S(n,w),w.c=S(t,w);function S(G,ne){return function(ae){var q=[],Ve=-1,he=0,rt=G.length,Pt,Dr,Cl;for(ae instanceof Date||(ae=new Date(+ae));++Ve<rt;)G.charCodeAt(Ve)===37&&(q.push(G.slice(he,Ve)),(Dr=ej[Pt=G.charAt(++Ve)])!=null?Pt=G.charAt(++Ve):Dr=Pt==="e"?" ":"0",(Cl=ne[Pt])&&(Pt=Cl(ae,Dr)),q.push(Pt),he=Ve+1);return q.push(G.slice(he,Ve)),q.join("")}}function P(G,ne){return function(ae){var q=zi(1900,void 0,1),Ve=O(q,G,ae+="",0),he,rt;if(Ve!=ae.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ne&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(he=mf(zi(q.y,0,1)),rt=he.getUTCDay(),he=rt>4||rt===0?Pu.ceil(he):Pu(he),he=qd.offset(he,(q.V-1)*7),q.y=he.getUTCFullYear(),q.m=he.getUTCMonth(),q.d=he.getUTCDate()+(q.w+6)%7):(he=df(zi(q.y,0,1)),rt=he.getDay(),he=rt>4||rt===0?Eu.ceil(he):Eu(he),he=fl.offset(he,(q.V-1)*7),q.y=he.getFullYear(),q.m=he.getMonth(),q.d=he.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),rt="Z"in q?mf(zi(q.y,0,1)).getUTCDay():df(zi(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(rt+5)%7:q.w+q.U*7-(rt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,mf(q)):df(q)}}function O(G,ne,ae,q){for(var Ve=0,he=ne.length,rt=ae.length,Pt,Dr;Ve<he;){if(q>=rt)return-1;if(Pt=ne.charCodeAt(Ve++),Pt===37){if(Pt=ne.charAt(Ve++),Dr=N[Pt in ej?ne.charAt(Ve++):Pt],!Dr||(q=Dr(G,ae,q))<0)return-1}else if(Pt!=ae.charCodeAt(q++))return-1}return q}function A(G,ne,ae){var q=u.exec(ne.slice(ae));return q?(G.p=d.get(q[0].toLowerCase()),ae+q[0].length):-1}function E(G,ne,ae){var q=h.exec(ne.slice(ae));return q?(G.w=p.get(q[0].toLowerCase()),ae+q[0].length):-1}function D(G,ne,ae){var q=m.exec(ne.slice(ae));return q?(G.w=f.get(q[0].toLowerCase()),ae+q[0].length):-1}function _(G,ne,ae){var q=v.exec(ne.slice(ae));return q?(G.m=b.get(q[0].toLowerCase()),ae+q[0].length):-1}function T(G,ne,ae){var q=y.exec(ne.slice(ae));return q?(G.m=x.get(q[0].toLowerCase()),ae+q[0].length):-1}function K(G,ne,ae){return O(G,t,ne,ae)}function R(G,ne,ae){return O(G,r,ne,ae)}function M(G,ne,ae){return O(G,n,ne,ae)}function B(G){return o[G.getDay()]}function I(G){return i[G.getDay()]}function H(G){return c[G.getMonth()]}function k(G){return l[G.getMonth()]}function $(G){return s[+(G.getHours()>=12)]}function z(G){return 1+~~(G.getMonth()/3)}function L(G){return o[G.getUTCDay()]}function C(G){return i[G.getUTCDay()]}function F(G){return c[G.getUTCMonth()]}function X(G){return l[G.getUTCMonth()]}function re(G){return s[+(G.getUTCHours()>=12)]}function ce(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ne=S(G+="",j);return ne.toString=function(){return G},ne},parse:function(G){var ne=P(G+="",!1);return ne.toString=function(){return G},ne},utcFormat:function(G){var ne=S(G+="",w);return ne.toString=function(){return G},ne},utcParse:function(G){var ne=P(G+="",!0);return ne.toString=function(){return G},ne}}}var ej={"-":"",_:" ",0:"0"},lt=/^\s*\d+/,ER=/^%/,PR=/[\\^$*+?|[\]().{}]/g;function fe(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function AR(e){return e.replace(PR,"\\$&")}function Wi(e){return new RegExp("^(?:"+e.map(AR).join("|")+")","i")}function Hi(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function TR(e,t,r){var n=lt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function OR(e,t,r){var n=lt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function LR(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function MR(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DR(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tj(e,t,r){var n=lt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rj(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _R(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function RR(e,t,r){var n=lt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function IR(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nj(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $R(e,t,r){var n=lt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aj(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function BR(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function FR(e,t,r){var n=lt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function UR(e,t,r){var n=lt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function zR(e,t,r){var n=lt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function WR(e,t,r){var n=ER.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function HR(e,t,r){var n=lt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KR(e,t,r){var n=lt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sj(e,t){return fe(e.getDate(),t,2)}function GR(e,t){return fe(e.getHours(),t,2)}function qR(e,t){return fe(e.getHours()%12||12,t,2)}function VR(e,t){return fe(1+fl.count(Ln(e),e),t,3)}function _C(e,t){return fe(e.getMilliseconds(),t,3)}function YR(e,t){return _C(e,t)+"000"}function XR(e,t){return fe(e.getMonth()+1,t,2)}function QR(e,t){return fe(e.getMinutes(),t,2)}function ZR(e,t){return fe(e.getSeconds(),t,2)}function JR(e){var t=e.getDay();return t===0?7:t}function eI(e,t){return fe(Vd.count(Ln(e)-1,e),t,2)}function RC(e){var t=e.getDay();return t>=4||t===0?ai(e):ai.ceil(e)}function tI(e,t){return e=RC(e),fe(ai.count(Ln(e),e)+(Ln(e).getDay()===4),t,2)}function rI(e){return e.getDay()}function nI(e,t){return fe(Eu.count(Ln(e)-1,e),t,2)}function aI(e,t){return fe(e.getFullYear()%100,t,2)}function sI(e,t){return e=RC(e),fe(e.getFullYear()%100,t,2)}function iI(e,t){return fe(e.getFullYear()%1e4,t,4)}function oI(e,t){var r=e.getDay();return e=r>=4||r===0?ai(e):ai.ceil(e),fe(e.getFullYear()%1e4,t,4)}function lI(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fe(t/60|0,"0",2)+fe(t%60,"0",2)}function ij(e,t){return fe(e.getUTCDate(),t,2)}function cI(e,t){return fe(e.getUTCHours(),t,2)}function uI(e,t){return fe(e.getUTCHours()%12||12,t,2)}function dI(e,t){return fe(1+qd.count(Mn(e),e),t,3)}function IC(e,t){return fe(e.getUTCMilliseconds(),t,3)}function mI(e,t){return IC(e,t)+"000"}function fI(e,t){return fe(e.getUTCMonth()+1,t,2)}function hI(e,t){return fe(e.getUTCMinutes(),t,2)}function pI(e,t){return fe(e.getUTCSeconds(),t,2)}function gI(e){var t=e.getUTCDay();return t===0?7:t}function xI(e,t){return fe(Yd.count(Mn(e)-1,e),t,2)}function $C(e){var t=e.getUTCDay();return t>=4||t===0?si(e):si.ceil(e)}function yI(e,t){return e=$C(e),fe(si.count(Mn(e),e)+(Mn(e).getUTCDay()===4),t,2)}function vI(e){return e.getUTCDay()}function bI(e,t){return fe(Pu.count(Mn(e)-1,e),t,2)}function jI(e,t){return fe(e.getUTCFullYear()%100,t,2)}function wI(e,t){return e=$C(e),fe(e.getUTCFullYear()%100,t,2)}function NI(e,t){return fe(e.getUTCFullYear()%1e4,t,4)}function SI(e,t){var r=e.getUTCDay();return e=r>=4||r===0?si(e):si.ceil(e),fe(e.getUTCFullYear()%1e4,t,4)}function CI(){return"+0000"}function oj(){return"%"}function lj(e){return+e}function cj(e){return Math.floor(+e/1e3)}var xs,BC,FC;kI({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kI(e){return xs=kR(e),BC=xs.format,xs.parse,FC=xs.utcFormat,xs.utcParse,xs}function EI(e){return new Date(e)}function PI(e){return e instanceof Date?+e:+new Date(+e)}function Px(e,t,r,n,s,i,o,l,c,u){var d=hx(),m=d.invert,f=d.domain,h=u(".%L"),p=u(":%S"),y=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),b=u("%b %d"),j=u("%B"),w=u("%Y");function N(S){return(c(S)<S?h:l(S)<S?p:o(S)<S?y:i(S)<S?x:n(S)<S?s(S)<S?v:b:r(S)<S?j:w)(S)}return d.invert=function(S){return new Date(m(S))},d.domain=function(S){return arguments.length?f(Array.from(S,PI)):f().map(EI)},d.ticks=function(S){var P=f();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?N:u(P)},d.nice=function(S){var P=f();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?f(kC(P,S)):d},d.copy=function(){return ml(d,Px(e,t,r,n,s,i,o,l,c,u))},d}function AI(){return Mr.apply(Px(SR,CR,Ln,kx,Vd,fl,Sx,wx,Fa,BC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TI(){return Mr.apply(Px(wR,NR,Mn,Ex,Yd,qd,Cx,Nx,Fa,FC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xd(){var e=0,t=1,r,n,s,i,o=Lt,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function d(m){return function(f){var h,p;return arguments.length?([h,p]=f,o=m(h,p),u):[o(0),o(1)]}}return u.range=d(vi),u.rangeRound=d(fx),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),u}}function Sa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UC(){var e=Na(Xd()(Lt));return e.copy=function(){return Sa(e,UC())},Fn.apply(e,arguments)}function zC(){var e=xx(Xd()).domain([1,10]);return e.copy=function(){return Sa(e,zC()).base(e.base())},Fn.apply(e,arguments)}function WC(){var e=yx(Xd());return e.copy=function(){return Sa(e,WC()).constant(e.constant())},Fn.apply(e,arguments)}function Ax(){var e=vx(Xd());return e.copy=function(){return Sa(e,Ax()).exponent(e.exponent())},Fn.apply(e,arguments)}function OI(){return Ax.apply(null,arguments).exponent(.5)}function HC(){var e=[],t=Lt;function r(n){if(n!=null&&!isNaN(n=+n))return t((ul(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ua),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>g_(e,i/n))},r.copy=function(){return HC(t).domain(e)},Fn.apply(r,arguments)}function Qd(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Lt,d,m=!1,f;function h(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:c),u(m?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,r]=y,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h):[e,t,r]},h.clamp=function(y){return arguments.length?(m=!!y,h):m},h.interpolator=function(y){return arguments.length?(u=y,h):u};function p(y){return function(x){var v,b,j;return arguments.length?([v,b,j]=x,u=W_(y,[v,b,j]),h):[u(0),u(.5),u(1)]}}return h.range=p(vi),h.rangeRound=p(fx),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return d=y,s=y(e),i=y(t),o=y(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,h}}function KC(){var e=Na(Qd()(Lt));return e.copy=function(){return Sa(e,KC())},Fn.apply(e,arguments)}function GC(){var e=xx(Qd()).domain([.1,1,10]);return e.copy=function(){return Sa(e,GC()).base(e.base())},Fn.apply(e,arguments)}function qC(){var e=yx(Qd());return e.copy=function(){return Sa(e,qC()).constant(e.constant())},Fn.apply(e,arguments)}function Tx(){var e=vx(Qd());return e.copy=function(){return Sa(e,Tx()).exponent(e.exponent())},Fn.apply(e,arguments)}function LI(){return Tx.apply(null,arguments).exponent(.5)}const Ji=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ux,scaleDiverging:KC,scaleDivergingLog:GC,scaleDivergingPow:Tx,scaleDivergingSqrt:LI,scaleDivergingSymlog:qC,scaleIdentity:CC,scaleImplicit:Zh,scaleLinear:SC,scaleLog:EC,scaleOrdinal:cx,scalePoint:v_,scalePow:bx,scaleQuantile:TC,scaleQuantize:OC,scaleRadial:AC,scaleSequential:UC,scaleSequentialLog:zC,scaleSequentialPow:Ax,scaleSequentialQuantile:HC,scaleSequentialSqrt:OI,scaleSequentialSymlog:WC,scaleSqrt:mR,scaleSymlog:PC,scaleThreshold:LC,scaleTime:AI,scaleUtc:TI,tickFormat:NC},Symbol.toStringTag,{value:"Module"}));var Ca=e=>e.chartData,Ox=U([Ca],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hl=(e,t,r,n)=>n?Ox(e):Ca(e);function ii(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(xt(t)&&xt(r))return!0}return!1}function uj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function MI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(xt(r))s=r;else if(typeof r=="function")return;if(xt(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(ii(o))return o}}function DI(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ii(n))return uj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(te(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&ab.test(s)){var c=ab.exec(s);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(te(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&sb.test(i)){var d=sb.exec(i);if(d==null||t==null)l=void 0;else{var m=+d[1];l=t[1]+m}}else l=t==null?void 0:t[1];var f=[o,l];if(ii(f))return t==null?f:uj(f,t,r)}}}var bi=1e9,_I={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Mx,Oe=!0,Tr="[DecimalError] ",Va=Tr+"Invalid argument: ",Lx=Tr+"Exponent out of range: ",ji=Math.floor,La=Math.pow,RI=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nr,at=1e7,Se=7,VC=9007199254740991,Au=ji(VC/Se),J={};J.absoluteValue=J.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};J.comparedTo=J.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};J.decimalPlaces=J.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Se;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};J.dividedBy=J.div=function(e){return Nn(this,new this.constructor(e))};J.dividedToIntegerBy=J.idiv=function(e){var t=this,r=t.constructor;return ve(Nn(t,new r(e),0,1),r.precision)};J.equals=J.eq=function(e){return!this.cmp(e)};J.exponent=function(){return qe(this)};J.greaterThan=J.gt=function(e){return this.cmp(e)>0};J.greaterThanOrEqualTo=J.gte=function(e){return this.cmp(e)>=0};J.isInteger=J.isint=function(){return this.e>this.d.length-2};J.isNegative=J.isneg=function(){return this.s<0};J.isPositive=J.ispos=function(){return this.s>0};J.isZero=function(){return this.s===0};J.lessThan=J.lt=function(e){return this.cmp(e)<0};J.lessThanOrEqualTo=J.lte=function(e){return this.cmp(e)<1};J.logarithm=J.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(nr))throw Error(Tr+"NaN");if(r.s<1)throw Error(Tr+(r.s?"NaN":"-Infinity"));return r.eq(nr)?new n(0):(Oe=!1,t=Nn(Wo(r,i),Wo(e,i),i),Oe=!0,ve(t,s))};J.minus=J.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QC(t,e):YC(t,(e.s=-e.s,e))};J.modulo=J.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Tr+"NaN");return r.s?(Oe=!1,t=Nn(r,e,0,1).times(e),Oe=!0,r.minus(t)):ve(new n(r),s)};J.naturalExponential=J.exp=function(){return XC(this)};J.naturalLogarithm=J.ln=function(){return Wo(this)};J.negated=J.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};J.plus=J.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YC(t,e):QC(t,(e.s=-e.s,e))};J.precision=J.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Va+e);if(t=qe(s)+1,n=s.d.length-1,r=n*Se+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};J.squareRoot=J.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tr+"NaN")}for(e=qe(l),Oe=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=rn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ji((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Nn(l,i,o+2)).times(.5),rn(i.d).slice(0,o)===(t=rn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(ve(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Oe=!0,ve(n,r)};J.times=J.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,m=d.constructor,f=d.d,h=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,r=d.e+e.e,c=f.length,u=h.length,c<u&&(i=f,f=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+h[n]*f[s-n-1]+t,i[s--]=l%at|0,t=l/at|0;i[s]=(i[s]+t)%at|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Oe?ve(e,m.precision):e};J.toDecimalPlaces=J.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ln(e,0,bi),t===void 0?t=n.rounding:ln(t,0,8),ve(r,e+qe(r)+1,t))};J.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=os(n,!0):(ln(e,0,bi),t===void 0?t=s.rounding:ln(t,0,8),n=ve(new s(n),e+1,t),r=os(n,!0,e+1)),r};J.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?os(s):(ln(e,0,bi),t===void 0?t=i.rounding:ln(t,0,8),n=ve(new i(s),e+qe(s)+1,t),r=os(n.abs(),!1,e+qe(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};J.toInteger=J.toint=function(){var e=this,t=e.constructor;return ve(new t(e),qe(e)+1,t.rounding)};J.toNumber=function(){return+this};J.toPower=J.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(nr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Tr+"Infinity");return l}if(l.eq(nr))return l;if(n=c.precision,e.eq(nr))return ve(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=VC){for(s=new c(nr),t=Math.ceil(n/Se+4),Oe=!1;r%2&&(s=s.times(l),mj(s.d,t)),r=ji(r/2),r!==0;)l=l.times(l),mj(l.d,t);return Oe=!0,e.s<0?new c(nr).div(s):ve(s,n)}}else if(i<0)throw Error(Tr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Oe=!1,s=e.times(Wo(l,n+u)),Oe=!0,s=XC(s),s.s=i,s};J.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=qe(s),n=os(s,r<=i.toExpNeg||r>=i.toExpPos)):(ln(e,1,bi),t===void 0?t=i.rounding:ln(t,0,8),s=ve(new i(s),e,t),r=qe(s),n=os(s,e<=r||r<=i.toExpNeg,e)),n};J.toSignificantDigits=J.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ln(e,1,bi),t===void 0?t=n.rounding:ln(t,0,8)),ve(new n(r),e,t)};J.toString=J.valueOf=J.val=J.toJSON=J[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qe(e),r=e.constructor;return os(e,t<=r.toExpNeg||t>=r.toExpPos)};function YC(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Oe?ve(t,m):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(m/Se),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/at|0,c[i]%=at;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Oe?ve(t,m):t}function ln(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Va+e)}function rn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Se-n.length,r&&(i+=qn(r)),i+=n;o=e[t],n=o+"",r=Se-n.length,r&&(i+=qn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Nn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%at|0,o=i/at|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*at+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,m,f,h,p,y,x,v,b,j,w,N,S,P,O,A=n.constructor,E=n.s==s.s?1:-1,D=n.d,_=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(Tr+"Division by zero");for(c=n.e-s.e,P=_.length,N=D.length,h=new A(E),p=h.d=[],u=0;_[u]==(D[u]||0);)++u;if(_[u]>(D[u]||0)&&--c,i==null?b=i=A.precision:o?b=i+(qe(n)-qe(s))+1:b=i,b<0)return new A(0);if(b=b/Se+2|0,u=0,P==1)for(d=0,_=_[0],b++;(u<N||d)&&b--;u++)j=d*at+(D[u]||0),p[u]=j/_|0,d=j%_|0;else{for(d=at/(_[0]+1)|0,d>1&&(_=e(_,d),D=e(D,d),P=_.length,N=D.length),w=P,y=D.slice(0,P),x=y.length;x<P;)y[x++]=0;O=_.slice(),O.unshift(0),S=_[0],_[1]>=at/2&&++S;do d=0,l=t(_,y,P,x),l<0?(v=y[0],P!=x&&(v=v*at+(y[1]||0)),d=v/S|0,d>1?(d>=at&&(d=at-1),m=e(_,d),f=m.length,x=y.length,l=t(m,y,f,x),l==1&&(d--,r(m,P<f?O:_,f))):(d==0&&(l=d=1),m=_.slice()),f=m.length,f<x&&m.unshift(0),r(y,m,x),l==-1&&(x=y.length,l=t(_,y,P,x),l<1&&(d++,r(y,P<x?O:_,x))),x=y.length):l===0&&(d++,y=[0]),p[u++]=d,l&&y[0]?y[x++]=D[w]||0:(y=[D[w]],x=1);while((w++<N||y[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=c,ve(h,o?i+qe(h)+1:i)}}();function XC(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,m=d.precision;if(qe(e)>16)throw Error(Lx+qe(e));if(!e.s)return new d(nr);for(Oe=!1,l=m,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(La(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(nr),d.precision=l;;){if(s=ve(s.times(e),l),r=r.times(++c),o=i.plus(Nn(s,r,l)),rn(o.d).slice(0,l)===rn(i.d).slice(0,l)){for(;u--;)i=ve(i.times(i),l);return d.precision=m,t==null?(Oe=!0,ve(i,m)):i}i=o}}function qe(e){for(var t=e.e*Se,r=e.d[0];r>=10;r/=10)t++;return t}function ff(e,t,r){if(t>e.LN10.sd())throw Oe=!0,r&&(e.precision=r),Error(Tr+"LN10 precision limit exceeded");return ve(new e(e.LN10),t)}function qn(e){for(var t="";e--;)t+="0";return t}function Wo(e,t){var r,n,s,i,o,l,c,u,d,m=1,f=10,h=e,p=h.d,y=h.constructor,x=y.precision;if(h.s<1)throw Error(Tr+(h.s?"NaN":"-Infinity"));if(h.eq(nr))return new y(0);if(t==null?(Oe=!1,u=x):u=t,h.eq(10))return t==null&&(Oe=!0),ff(y,u);if(u+=f,y.precision=u,r=rn(p),n=r.charAt(0),i=qe(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=rn(h.d),n=r.charAt(0),m++;i=qe(h),n>1?(h=new y("0."+r),i++):h=new y(n+"."+r.slice(1))}else return c=ff(y,u+2,x).times(i+""),h=Wo(new y(n+"."+r.slice(1)),u-f).plus(c),y.precision=x,t==null?(Oe=!0,ve(h,x)):h;for(l=o=h=Nn(h.minus(nr),h.plus(nr),u),d=ve(h.times(h),u),s=3;;){if(o=ve(o.times(d),u),c=l.plus(Nn(o,new y(s),u)),rn(c.d).slice(0,u)===rn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(ff(y,u+2,x).times(i+""))),l=Nn(l,new y(m),u),y.precision=x,t==null?(Oe=!0,ve(l,x)):l;l=c,s+=2}}function dj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=ji(r/Se),e.d=[],n=(r+1)%Se,r<0&&(n+=Se),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Se;n<s;)e.d.push(+t.slice(n,n+=Se));t=t.slice(n),n=Se-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Oe&&(e.e>Au||e.e<-Au))throw Error(Lx+r)}else e.s=0,e.e=0,e.d=[0];return e}function ve(e,t,r){var n,s,i,o,l,c,u,d,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Se,s=t,u=m[d=0];else{if(d=Math.ceil((n+1)/Se),i=m.length,d>=i)return e;for(u=i=m[d],o=1;i>=10;i/=10)o++;n%=Se,s=n-Se+o}if(r!==void 0&&(i=La(10,o-s-1),l=u/i%10|0,c=t<0||m[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/La(10,o-s):0:m[d-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=qe(e),m.length=1,t=t-i-1,m[0]=La(10,(Se-t%Se)%Se),e.e=ji(-t/Se)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=d,i=1,d--):(m.length=d+1,i=La(10,Se-n),m[d]=s>0?(u/La(10,o-s)%La(10,s)|0)*i:0),c)for(;;)if(d==0){(m[0]+=i)==at&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=at)break;m[d--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Oe&&(e.e>Au||e.e<-Au))throw Error(Lx+qe(e));return e}function QC(e,t){var r,n,s,i,o,l,c,u,d,m,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Oe?ve(t,h):t;if(c=e.d,m=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=m.length):(r=m,n=u,l=c.length),s=Math.max(Math.ceil(h/Se),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){d=c[s]<m[s];break}o=0}for(d&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=at-1;--c[i],c[s]+=at}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Oe?ve(t,h):t):new f(0)}function os(e,t,r){var n,s=qe(e),i=rn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+qn(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+qn(-s-1)+i,r&&(n=r-o)>0&&(i+=qn(n))):s>=o?(i+=qn(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+qn(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=qn(n))),e.s<0?"-"+i:i}function mj(e,t){if(e.length>t)return e.length=t,!0}function ZC(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Va+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return dj(o,i.toString())}else if(typeof i!="string")throw Error(Va+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,RI.test(i))dj(o,i);else throw Error(Va+i)}if(s.prototype=J,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=ZC,s.config=s.set=II,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function II(e){if(!e||typeof e!="object")throw Error(Tr+"Object expected");var t,r,n,s=["precision",1,bi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(ji(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Va+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Va+r+": "+n);return this}var Mx=ZC(_I);nr=new Mx(1);const pe=Mx;var $I=e=>e,JC={},ek=e=>e===JC,fj=e=>function t(){return arguments.length===0||arguments.length===1&&ek(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},tk=(e,t)=>e===1?t:fj(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==JC).length;return i>=e?t(...n):tk(e-i,fj(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>ek(d)?l.shift():d);return t(...u,...l)}))}),Zd=e=>tk(e.length,e),rp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},BI=Zd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),FI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $I;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},np=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),rk=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function nk(e){var t;return e===0?t=1:t=Math.floor(new pe(e).abs().log(10).toNumber())+1,t}function ak(e,t,r){for(var n=new pe(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}Zd((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});Zd((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Zd((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var sk=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},ik=(e,t,r)=>{if(e.lte(0))return new pe(0);var n=nk(e.toNumber()),s=new pe(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new pe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new pe(c.toNumber()):new pe(Math.ceil(c.toNumber()))},UI=(e,t,r)=>{var n=new pe(1),s=new pe(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new pe(10).pow(nk(e)-1),s=new pe(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new pe(Math.floor(e)))}else e===0?s=new pe(Math.floor((t-1)/2)):r||(s=new pe(Math.floor(e)));var o=Math.floor((t-1)/2),l=FI(BI(c=>s.add(new pe(c-o).mul(n)).toNumber()),rp);return l(0,t)},ok=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new pe(0),tickMin:new pe(0),tickMax:new pe(0)};var o=ik(new pe(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new pe(0):(l=new pe(t).add(r).div(2),l=l.sub(new pe(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new pe(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?ok(t,r,n,s,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new pe(c).mul(o)),tickMax:l.add(new pe(u).mul(o))})};function zI(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=sk([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...rp(0,n-1).map(()=>1/0)]:[...rp(0,n-1).map(()=>-1/0),l];return t>r?np(c):c}if(o===l)return UI(o,n,s);var{step:u,tickMin:d,tickMax:m}=ok(o,l,i,s,0),f=ak(d,m.add(new pe(.1).mul(u)),u);return t>r?np(f):f}function WI(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=sk([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=ik(new pe(o).sub(i).div(l-1),s,0),u=[...ak(new pe(i),new pe(o),c),o];return s===!1&&(u=u.map(d=>Math.round(d))),r>n?np(u):u}var HI=rk(zI),KI=rk(WI),lk=e=>e.rootProps.maxBarSize,GI=e=>e.rootProps.barGap,ck=e=>e.rootProps.barCategoryGap,qI=e=>e.rootProps.barSize,pl=e=>e.rootProps.stackOffset,Dx=e=>e.options.chartName,_x=e=>e.rootProps.syncId,uk=e=>e.rootProps.syncMethod,Rx=e=>e.options.eventEmitter,hn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},er={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Jd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},VI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hn.angleAxisId,includeHidden:!1,name:void 0,reversed:hn.reversed,scale:hn.scale,tick:hn.tick,tickCount:void 0,ticks:void 0,type:hn.type,unit:void 0},YI={allowDataOverflow:er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:er.type,unit:void 0},XI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:hn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hn.scale,tick:hn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},QI={allowDataOverflow:er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:"category",unit:void 0},Ix=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?XI:VI,$x=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?QI:YI,em=e=>e.polarOptions,Bx=U([In,$n,Ze],WS),dk=U([em,Bx],(e,t)=>{if(e!=null)return Ct(e.innerRadius,t,0)}),mk=U([em,Bx],(e,t)=>{if(e!=null)return Ct(e.outerRadius,t,t*.8)}),ZI=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},fk=U([em],ZI);U([Ix,fk],Jd);var hk=U([Bx,dk,mk],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});U([$x,hk],Jd);var pk=U([le,em,dk,mk,In,$n],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Ct(o,s,s/2),cy:Ct(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Le=(e,t)=>t,gl=(e,t,r)=>r;function tm(e){return e==null?void 0:e.id}var tt=e=>{var t=le(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},wi=e=>e.tooltip.settings.axisId,ct=e=>{var t=tt(e),r=wi(e);return xl(e,t,r)},gk=U([ct],e=>e==null?void 0:e.dataKey);function xk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=tm(l);u.forEach((m,f)=>{var h=i==null||s?f:String(ye(m,i,null)),p=ye(m,l.dataKey,0),y;o.has(h)?y=o.get(h):y={},Object.assign(y,{[d]:p}),o.set(h,y)})}}),Array.from(o.values())}function rm(e){return e.stackId!=null&&e.dataKey!=null}function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){JI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JI(e,t,r){return(t=e$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e$(e){var t=t$(e,"string");return typeof t=="symbol"?t:t+""}function t$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ap=[0,"auto"],Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},yk=(e,t)=>e.cartesianAxis.xAxis[t],Un=(e,t)=>{var r=yk(e,t);return r??Qt},Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ap,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ll},vk=(e,t)=>e.cartesianAxis.yAxis[t],zn=(e,t)=>{var r=vk(e,t);return r??Zt},r$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Fx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??r$},He=(e,t,r)=>{switch(t){case"xAxis":return Un(e,r);case"yAxis":return zn(e,r);case"zAxis":return Fx(e,r);case"angleAxis":return Ix(e,r);case"radiusAxis":return $x(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},n$=(e,t,r)=>{switch(t){case"xAxis":return Un(e,r);case"yAxis":return zn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xl=(e,t,r)=>{switch(t){case"xAxis":return Un(e,r);case"yAxis":return zn(e,r);case"angleAxis":return Ix(e,r);case"radiusAxis":return $x(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ux(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var yl=e=>e.graphicalItems.cartesianItems,a$=U([Le,gl],Ux),zx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),vl=U([yl,He,a$],zx),jk=U([vl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rm)),wk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Nk=U([vl],wk),Wx=e=>e.map(t=>t.data).filter(Boolean).flat(1),s$=U([vl],Wx),Hx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Kx=U([s$,hl],Hx),Gx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ye(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:ye(s,n)}))):e.map(n=>({value:n})),nm=U([Kx,He,vl],Gx);function Sk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ps(e){return e.filter(t=>on(t)||t instanceof Date).map(Number).filter(t=>Xt(t)===!1)}function i$(e,t,r){return!r||typeof t!="number"||Xt(t)?[]:r.length?ps(r.flatMap(n=>{var s=ye(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!xt(i)||!xt(o)))return[t-i,t+o]})):[]}var o$=U([jk,hl,ct],xk),Ck=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(tm);return[o,{stackedData:gM(e,c,r),graphicalItems:l}]}))},Ho=U([o$,jk,pl],Ck),kk=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=bM(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},l$=U([Ho,Ca,Le],kk),Ek=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,u=(l=n[o.id])===null||l===void 0?void 0:l.filter(m=>Sk(s,m)),d=ye(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:i$(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:ye(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),am=e=>e.errorBars,Pk=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Sk(r,n));U([Nk,am,Le],Pk);var c$=U([Kx,He,Nk,am,Le],Ek);function u$(e){var{value:t}=e;if(on(t)||t instanceof Date)return t}var pj=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ps(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},d$=(e,t,r)=>{var n=e.map(u$).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&w2(n))?fC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},qx=e=>{var t;if(e==null||!("domain"in e))return ap;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ps(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ap},Ou=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},Ak=e=>e.referenceElements.dots,Ni=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),m$=U([Ak,Le,gl],Ni),Tk=e=>e.referenceElements.areas,f$=U([Tk,Le,gl],Ni),Ok=e=>e.referenceElements.lines,h$=U([Ok,Le,gl],Ni),Lk=(e,t)=>{var r=ps(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},p$=U(m$,Le,Lk),Mk=(e,t)=>{var r=ps(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},g$=U([f$,Le],Mk),Dk=(e,t)=>{var r=ps(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},x$=U(h$,Le,Dk),y$=U(p$,x$,g$,(e,t,r)=>Ou(e,r,t)),_k=U([He],qx),Vx=(e,t,r,n,s,i,o)=>{var l=MI(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=c?Ou(r,s,pj(n)):Ou(s,pj(n));return DI(t,u,e.allowDataOverflow)},v$=U([He,_k,l$,c$,y$,le,Le],Vx),b$=[0,1],Yx=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=dn(t,i);return u&&l==null?fC(0,r.length):c==="category"?d$(n,e,u):s==="expand"?b$:o}},Xx=U([He,le,Kx,nm,pl,Le,v$],Yx),Rk=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(al(i));return l in Ji?l:"point"}}},Si=U([He,le,bk,Dx,Le],Rk);function j$(e){if(e!=null){if(e in Ji)return Ji[e]();var t="scale".concat(al(e));if(t in Ji)return Ji[t]()}}function Qx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=j$(t);if(s!=null){var i=s.domain(r).range(n);return dM(i),i}}}var Zx=(e,t,r)=>{var n=qx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ii(e))return HI(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ii(e))return KI(e,t.tickCount,t.allowDecimals)}},Jx=U([Xx,xl,Si],Zx),e0=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ii(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},w$=U([He,Xx,Jx,Le],e0),N$=U(nm,He,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ps(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),Ik=U(N$,le,ck,Ze,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!xt(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=Ct(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),S$=(e,t)=>{var r=Un(e,t);return r==null||typeof r.padding!="string"?0:Ik(e,"xAxis",t,r.padding)},C$=(e,t)=>{var r=zn(e,t);return r==null||typeof r.padding!="string"?0:Ik(e,"yAxis",t,r.padding)},k$=U(Un,S$,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),E$=U(zn,C$,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),P$=U([Ze,k$,Kd,Hd,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),A$=U([Ze,le,E$,Kd,Hd,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),bl=(e,t,r,n)=>{var s;switch(t){case"xAxis":return P$(e,r,n);case"yAxis":return A$(e,r,n);case"zAxis":return(s=Fx(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return fk(e);case"radiusAxis":return hk(e,r);default:return}},$k=U([He,bl],Jd),Ci=U([He,Si,w$,$k],Qx);U([vl,am,Le],Pk);function Bk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sm=(e,t)=>t,im=(e,t,r)=>r,T$=U(zd,sm,im,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Bk)),O$=U(Wd,sm,im,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Bk)),Fk=(e,t)=>({width:e.width,height:t.height}),L$=(e,t)=>{var r=typeof t.width=="number"?t.width:ll;return{width:r,height:e.height}},Uk=U(Ze,Un,Fk),M$=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},D$=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},_$=U($n,Ze,T$,sm,im,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=Fk(t,l);o==null&&(o=M$(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),R$=U(In,Ze,O$,sm,im,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=L$(t,l);o==null&&(o=D$(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),I$=(e,t)=>{var r=Un(e,t);if(r!=null)return _$(e,r.orientation,r.mirror)},$$=U([Ze,Un,I$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),B$=(e,t)=>{var r=zn(e,t);if(r!=null)return R$(e,r.orientation,r.mirror)},F$=U([Ze,zn,B$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),zk=U(Ze,zn,(e,t)=>{var r=typeof t.width=="number"?t.width:ll;return{width:r,height:e.height}}),gj=(e,t,r)=>{switch(t){case"xAxis":return Uk(e,r).width;case"yAxis":return zk(e,r).height;default:return}},Wk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=dn(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&s&&w2(c))return c}},t0=U([le,nm,He,Le],Wk),Hk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=dn(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},r0=U([le,nm,xl,Le],Hk),xj=U([le,n$,Si,Ci,t0,r0,bl,Jx,Le],(e,t,r,n,s,i,o,l,c)=>{if(t==null)return null;var u=dn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}),U$=(e,t,r,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var u=dn(e,c),{type:d,ticks:m,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/h:0;p=c==="angleAxis"&&i!=null&&i.length>=2?it(i[0]-i[1])*2*p:p;var y=m||s;if(y){var x=y.map((v,b)=>{var j=o?o.indexOf(v):v;return{index:b,coordinate:n(j)+p,value:v,offset:p}});return x.filter(v=>!Xt(v.coordinate))}return u&&l?l.map((v,b)=>({coordinate:n(v)+p,value:v,index:b,offset:p})):n.ticks?n.ticks(f).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,b)=>({coordinate:n(v)+p,value:o?o[v]:v,index:b,offset:p}))}},Kk=U([le,xl,Si,Ci,Jx,bl,t0,r0,Le],U$),z$=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=dn(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?it(n[0]-n[1])*2*u:u,l&&i?i.map((d,m)=>({coordinate:r(d)+u,value:d,index:m,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,m)=>({coordinate:r(d)+u,value:s?s[d]:d,index:m,offset:u}))}},cn=U([le,xl,Ci,bl,t0,r0,Le],z$),un=U(He,Ci,(e,t)=>{if(!(e==null||t==null))return Tu(Tu({},e),{},{scale:t})}),W$=U([He,Si,Xx,$k],Qx);U((e,t,r)=>Fx(e,r),W$,(e,t)=>{if(!(e==null||t==null))return Tu(Tu({},e),{},{scale:t})});var H$=U([le,zd,Wd],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Gk=e=>e.options.defaultTooltipEventType,qk=e=>e.options.validateTooltipEventTypes;function Vk(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function n0(e,t){var r=Gk(e),n=qk(e);return Vk(t,r,n)}function K$(e){return ee(t=>n0(t,e))}var Yk=(e,t)=>{var r,n=Number(t);if(!(Xt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},G$=e=>e.tooltip.settings,Qn={active:!1,index:null,dataKey:void 0,coordinate:void 0},q$={itemInteraction:{click:Qn,hover:Qn},axisInteraction:{click:Qn,hover:Qn},keyboardInteraction:Qn,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Xk=hr({name:"tooltip",initialState:q$,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=wn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:V$,removeTooltipEntrySettings:Y$,setTooltipSettingsState:X$,setActiveMouseOverItemIndex:Qk,mouseLeaveItem:Q$,mouseLeaveChart:Zk,setActiveClickItemIndex:Z$,setMouseOverAxisIndex:Jk,setMouseClickAxisIndex:J$,setSyncInteraction:sp,setKeyboardInteraction:ip}=Xk.actions,eB=Xk.reducer;function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){tB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tB(e,t,r){return(t=rB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rB(e){var t=nB(e,"string");return typeof t=="symbol"?t:t+""}function nB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function sB(e){return e.index!=null}var eE=(e,t,r,n)=>{if(t==null)return Qn;var s=aB(e,t,r);if(s==null)return Qn;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(sB(s)){if(i)return ic(ic({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return ic(ic({},Qn),{},{coordinate:s.coordinate})},a0=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!xt(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},tE=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},rE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},jl=e=>e.options.tooltipPayloadSearcher,ki=e=>e.tooltip;function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){iB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iB(e,t,r){return(t=oB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oB(e){var t=lB(e,"string");return typeof t=="symbol"?t:t+""}function lB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cB(e,t){return e??t}var nE=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,m=[];return e.reduce((f,h)=>{var p,{dataDefinedOnItem:y,settings:x}=h,v=cB(y,l),b=Array.isArray(v)?HS(v,u,d):v,j=(p=x==null?void 0:x.dataKey)!==null&&p!==void 0?p:n,w=x==null?void 0:x.nameKey,N;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?N=N2(b,n,s):N=i(b,t,c,w),Array.isArray(N))N.forEach(P=>{var O=bj(bj({},x),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});f.push(ib({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:ye(P.payload,P.dataKey),name:P.name}))});else{var S;f.push(ib({tooltipEntrySettings:x,dataKey:j,payload:N,value:ye(N,j),name:(S=ye(N,w))!==null&&S!==void 0?S:x==null?void 0:x.name}))}return f},m)}},s0=U([ct,le,bk,Dx,tt],Rk),uB=U([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),dB=U([tt,wi],Ux),wl=U([uB,ct,dB],zx),mB=U([wl],e=>e.filter(rm)),fB=U([wl],Wx),Ei=U([fB,Ca],Hx),hB=U([mB,Ca,ct],xk),i0=U([Ei,ct,wl],Gx),pB=U([ct],qx),gB=U([wl],e=>e.filter(rm)),xB=U([hB,gB,pl],Ck),yB=U([xB,Ca,tt],kk),vB=U([wl],wk),bB=U([Ei,ct,vB,am,tt],Ek),jB=U([Ak,tt,wi],Ni),wB=U([jB,tt],Lk),NB=U([Tk,tt,wi],Ni),SB=U([NB,tt],Mk),CB=U([Ok,tt,wi],Ni),kB=U([CB,tt],Dk),EB=U([wB,kB,SB],Ou),PB=U([ct,pB,yB,bB,EB,le,tt],Vx),aE=U([ct,le,Ei,i0,pl,tt,PB],Yx),AB=U([aE,ct,s0],Zx),TB=U([ct,aE,AB,tt],e0),sE=e=>{var t=tt(e),r=wi(e),n=!1;return bl(e,t,r,n)},iE=U([ct,sE],Jd),oE=U([ct,s0,TB,iE],Qx),OB=U([le,i0,ct,tt],Wk),LB=U([le,i0,ct,tt],Hk),MB=(e,t,r,n,s,i,o,l)=>{if(t){var{type:c}=t,u=dn(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return m=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?it(s[0]-s[1])*2*m:m,u&&o?o.map((f,h)=>({coordinate:n(f)+m,value:f,index:h,offset:m})):n.domain().map((f,h)=>({coordinate:n(f)+m,value:i?i[f]:f,index:h,offset:m}))}}},Wn=U([le,ct,s0,oE,sE,OB,LB,tt],MB),o0=U([Gk,qk,G$],(e,t,r)=>Vk(r.shared,e,t)),lE=e=>e.tooltip.settings.trigger,l0=e=>e.tooltip.settings.defaultIndex,om=U([ki,o0,lE,l0],eE),ha=U([om,Ei],a0),cE=U([Wn,ha],Yk),uE=U([om],e=>{if(e)return e.dataKey}),dE=U([ki,o0,lE,l0],rE),DB=U([In,$n,le,Ze,Wn,l0,dE,jl],tE),_B=U([om,DB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),RB=U([om],e=>e.active),IB=U([dE,ha,Ca,gk,cE,jl,o0],nE),$B=U([IB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){BB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BB(e,t,r){return(t=FB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FB(e){var t=UB(e,"string");return typeof t=="symbol"?t:t+""}function UB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zB=()=>ee(ct),WB=()=>{var e=zB(),t=ee(Wn),r=ee(oE);return is(wj(wj({},e),{},{scale:r}),t)},mE=()=>ee(Dx),c0=(e,t)=>t,fE=(e,t,r)=>r,u0=(e,t,r,n)=>n,HB=U(Wn,e=>Rd(e,t=>t.coordinate)),d0=U([ki,c0,fE,u0],eE),hE=U([d0,Ei],a0),KB=(e,t,r)=>{if(t!=null){var n=ki(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},pE=U([ki,c0,fE,u0],rE),Lu=U([In,$n,le,Ze,Wn,u0,pE,jl],tE),GB=U([d0,Lu],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),gE=U(Wn,hE,Yk),qB=U([pE,hE,Ca,gk,gE,jl,c0],nE),VB=U([d0],e=>({isActive:e.active,activeIndex:e.index})),YB=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=jM(e.chartX,e.chartY,t,r,l);if(c){var u=NM(c,t),d=cM(u,o,i,n,s),m=wM(t,i,d,c);return{activeIndex:String(d),activeCoordinate:m}}}};function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=QB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=ZB(e,"string");return typeof t=="symbol"?t:t+""}function ZB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JB(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,m=r,f=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var h,p;if(u==="ScatterChart")h=d,p=ND;else if(u==="BarChart")h=SD(o,d,s,i),p=iC;else if(o==="radial"){var{cx:y,cy:x,radius:v,startAngle:b,endAngle:j}=oC(d);h={cx:y,cy:x,startAngle:b,endAngle:j,innerRadius:v,outerRadius:v},p=cC}else h={points:n_(o,d,s)},p=Bs;var w=typeof l=="object"&&"className"in l?l.className:void 0,N=oc(oc(oc(oc({stroke:"#ccc",pointerEvents:"none"},s),h),Ee(l,!1)),{},{payload:m,payloadIndex:f,className:ue("recharts-tooltip-cursor",w)});return g.isValidElement(l)?g.cloneElement(l,N):g.createElement(p,N)}function eF(e){var t=WB(),r=QS(),n=cl(),s=mE();return g.createElement(JB,op({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var xE=g.createContext(null),tF=()=>g.useContext(xE),yE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,m,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,m||c,f),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)t.call(d,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,h=m.length,p=new Array(h);f<h;f++)p[f]=m[f].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,m=this._events[d];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,d,m,f,h,p){var y=r?r+u:u;if(!this._events[y])return!1;var x=this._events[y],v=arguments.length,b,j;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,m),!0;case 4:return x.fn.call(x.context,d,m,f),!0;case 5:return x.fn.call(x.context,d,m,f,h),!0;case 6:return x.fn.call(x.context,d,m,f,h,p),!0}for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];x.fn.apply(x.context,b)}else{var w=x.length,N;for(j=0;j<w;j++)switch(x[j].once&&this.removeListener(u,x[j].fn,void 0,!0),v){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,d);break;case 3:x[j].fn.call(x[j].context,d,m);break;case 4:x[j].fn.call(x[j].context,d,m,f);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];x[j].fn.apply(x[j].context,b)}}return!0},l.prototype.on=function(u,d,m){return i(this,u,d,m,!1)},l.prototype.once=function(u,d,m){return i(this,u,d,m,!0)},l.prototype.removeListener=function(u,d,m,f){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!f||p.once)&&(!m||p.context===m)&&o(this,h);else{for(var y=0,x=[],v=p.length;y<v;y++)(p[y].fn!==d||f&&!p[y].once||m&&p[y].context!==m)&&x.push(p[y]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(yE);var rF=yE.exports;const nF=_n(rF);var Ko=new nF,lp="recharts.syncEvent.tooltip",Sj="recharts.syncEvent.brush";function lm(e,t){if(t){var r=Number.parseInt(t,10);if(!Xt(r))return e==null?void 0:e[r]}}var aF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vE=hr({name:"options",initialState:aF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sF=vE.reducer,{createEventEmitter:iF}=vE.actions;function oF(e){return e.tooltip.syncInteraction}var lF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bE=hr({name:"chartData",initialState:lF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Cj,setDataStartEndIndexes:cF,setComputedData:TK}=bE.actions,uF=bE.reducer,dF=["x","y"];function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){mF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mF(e,t,r){return(t=fF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pF(e,t){if(e==null)return{};var r,n,s=gF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jE=()=>{};function xF(){var e=ee(_x),t=ee(Rx),r=Ie(),n=ee(uk),s=ee(Wn),i=cl(),o=ax(),l=ee(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return jE;var c=(u,d,m)=>{if(t!==m&&e===u){if(n==="index"){var f;if(o&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate){var h=d.payload.coordinate,{x:p,y}=h,x=pF(h,dF),v=Ea(Ea(Ea({},x),typeof p=="number"&&{x:Math.max(o.x,Math.min(p,o.x+o.width))}),typeof y=="number"&&{y:Math.max(o.y,Math.min(y,o.y+o.height))}),b=Ea(Ea({},d),{},{payload:Ea(Ea({},d.payload),{},{coordinate:v})});r(b)}else r(d);return}if(s!=null){var j;if(typeof n=="function"){var w={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=n(s,w);j=s[N]}else n==="value"&&(j=s.find(T=>String(T.value)===d.payload.label));var{coordinate:S}=d.payload;if(j==null||d.payload.active===!1||S==null||o==null){r(sp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:O}=S,A=Math.min(P,o.x+o.width),E=Math.min(O,o.y+o.height),D={x:i==="horizontal"?j.coordinate:A,y:i==="horizontal"?E:j.coordinate},_=sp({active:d.payload.active,coordinate:D,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label});r(_)}}};return Ko.on(lp,c),()=>{Ko.off(lp,c)}},[l,r,t,e,n,s,i,o])}function yF(){var e=ee(_x),t=ee(Rx),r=Ie();g.useEffect(()=>{if(e==null)return jE;var n=(s,i,o)=>{t!==o&&e===s&&r(cF(i))};return Ko.on(Sj,n),()=>{Ko.off(Sj,n)}},[r,t,e])}function vF(){var e=Ie();g.useEffect(()=>{e(iF())},[e]),xF(),yF()}function bF(e,t,r,n,s,i){var o=ee(f=>KB(f,e,t)),l=ee(Rx),c=ee(_x),u=ee(uk),d=ee(oF),m=d==null?void 0:d.active;g.useEffect(()=>{if(!m&&c!=null&&l!=null){var f=sp({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});Ko.emit(lp,c,f,l)}},[m,r,o,s,n,l,c,u,i])}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){jF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jF(e,t,r){return(t=wF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wF(e){var t=NF(e,"string");return typeof t=="symbol"?t:t+""}function NF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SF(e){return e.dataKey}function CF(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(tD,t)}var Aj=[],kF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Bn.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Mt(e){var t=Je(e,kF),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:m,reverseDirection:f,useTranslate3d:h,wrapperStyle:p,cursor:y,shared:x,trigger:v,defaultIndex:b,portal:j,axisId:w}=t,N=Ie(),S=typeof b=="number"?String(b):b;g.useEffect(()=>{N(X$({shared:x,trigger:v,axisId:w,active:r,defaultIndex:S}))},[N,x,v,w,r,S]);var P=ax(),O=tC(),A=K$(x),{activeIndex:E,isActive:D}=ee(F=>VB(F,A,v,S)),_=ee(F=>qB(F,A,v,S)),T=ee(F=>gE(F,A,v,S)),K=ee(F=>GB(F,A,v,S)),R=_,M=tF(),B=r??D,[I,H]=yS([R,B]),k=A==="axis"?T:void 0;bF(A,v,K,k,E,B);var $=j??M;if($==null)return null;var z=R??Aj;B||(z=Aj),l&&z.length&&(z=iS(R.filter(F=>F.value!=null&&(F.hide!==!0||t.includeHidden)),d,SF));var L=z.length>0,C=g.createElement(lD,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:B,coordinate:K,hasPayload:L,offset:u,position:m,reverseDirection:f,useTranslate3d:h,viewBox:P,wrapperStyle:p,lastBoundingBox:I,innerRef:H,hasPortalFromProps:!!j},CF(o,Pj(Pj({},t),{},{payload:z,label:k,active:B,coordinate:K,accessibilityLayer:O})));return g.createElement(g.Fragment,null,hg.createPortal(C,$),B&&g.createElement(eF,{cursor:y,tooltipEventType:A,coordinate:K,payload:R,index:E}))}var wE={},NE={},SE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{u&&d(),y()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,m()},n)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),o=void 0,l=null},x=()=>{d()},v=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const j=f==null;h(),c&&j&&d()};return v.schedule=h,v.cancel=y,v.flush=x,s==null||s.addEventListener("abort",y,{once:!0}),v}e.debounce=t})(SE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SE;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,m=null;const f=t.debounce(function(...y){d=n.apply(this,y),m=null},s,{edges:u}),h=function(...y){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(d=n.apply(this,y),m=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,y),d)},p=()=>(f.flush(),d);return h.cancel=f.cancel,h.flush=p,h}e.debounce=r})(NE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NE;function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(wE);var EF=wE.throttle;const PF=_n(EF);var fo=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){AF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AF(e,t,r){return(t=TF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dt=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:m,className:f,onResize:h,style:p={}}=e,y=g.useRef(null),x=g.useRef();x.current=h,g.useImperativeHandle(t,()=>y.current);var[v,b]=g.useState({containerWidth:n.width,containerHeight:n.height}),j=g.useCallback((N,S)=>{b(P=>{var O=Math.round(N),A=Math.round(S);return P.containerWidth===O&&P.containerHeight===A?P:{containerWidth:O,containerHeight:A}})},[]);g.useEffect(()=>{var N=A=>{var E,{width:D,height:_}=A[0].contentRect;j(D,_),(E=x.current)===null||E===void 0||E.call(x,D,_)};d>0&&(N=PF(N,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(N),{width:P,height:O}=y.current.getBoundingClientRect();return j(P,O),S.observe(y.current),()=>{S.disconnect()}},[j,d]);var w=g.useMemo(()=>{var{containerWidth:N,containerHeight:S}=v;if(N<0||S<0)return null;fo($a(s)||$a(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),fo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=$a(s)?N:s,O=$a(i)?S:i;return r&&r>0&&(P?O=P/r:O&&(P=O*r),c&&O>c&&(O=c)),fo(P>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,O,s,i,o,l,r),g.Children.map(u,A=>g.cloneElement(A,{width:P,height:O,style:hf({width:P,height:O},A.props.style)}))},[r,u,i,c,l,o,v,s]);return g.createElement("div",{id:m?"".concat(m):void 0,className:ue("recharts-responsive-container",f),style:hf(hf({},p),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:y},g.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),Dn=e=>null;Dn.displayName="Cell";function LF(e,t,r){return(t=MF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e){var t=DF(e,"string");return typeof t=="symbol"?t:t+""}function DF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _F{constructor(t){LF(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){IF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IF(e,t,r){return(t=$F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=BF(e,"string");return typeof t=="symbol"?t:t+""}function BF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FF={cacheSize:2e3,enableCache:!0},CE=RF({},FF),Lj=new _F(CE.cacheSize),UF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mj="recharts_measurement_span";function zF(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var Dj=(e,t)=>{try{var r=document.getElementById(Mj);r||(r=document.createElement("span"),r.setAttribute("id",Mj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,UF,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ho=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bn.isSsr)return{width:0,height:0};if(!CE.enableCache)return Dj(t,r);var n=zF(t,r),s=Lj.get(n);if(s)return s;var i=Dj(t,r);return Lj.set(n,i),i},_j=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KF=Object.keys(kE),Os="NaN";function GF(e,t){return e*kE[t]}class $t{static parse(t){var r,[,n,s]=(r=HF.exec(t))!==null&&r!==void 0?r:[];return new $t(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Xt(t)&&(this.unit=""),r!==""&&!WF.test(r)&&(this.num=NaN,this.unit=""),KF.includes(r)&&(this.num=GF(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new $t(NaN,""):new $t(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new $t(NaN,""):new $t(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $t(NaN,""):new $t(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $t(NaN,""):new $t(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xt(this.num)}}function EE(e){if(e.includes(Os))return Os;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=_j.exec(t))!==null&&r!==void 0?r:[],o=$t.parse(n??""),l=$t.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Os;t=t.replace(_j,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,m,f]=(u=Rj.exec(t))!==null&&u!==void 0?u:[],h=$t.parse(d??""),p=$t.parse(f??""),y=m==="+"?h.add(p):h.subtract(p);if(y.isNaN())return Os;t=t.replace(Rj,y.toString())}return t}var Ij=/\(([^()]*)\)/;function qF(e){for(var t=e,r;(r=Ij.exec(t))!=null;){var[,n]=r;t=t.replace(Ij,EE(n))}return t}function VF(e){var t=e.replace(/\s+/g,"");return t=qF(t),t=EE(t),t}function YF(e){try{return VF(e)}catch{return Os}}function pf(e){var t=YF(e.slice(5,-1));return t===Os?"":t}var XF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QF=["dx","dy","angle","className","breakAll"];function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}function $j(e,t){if(e==null)return{};var r,n,s=ZF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ZF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PE=/[ \f\n\r\t\v\u2028\u2029]+/,AE=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];ke(t)||(r?s=t.toString().split(""):s=t.toString().split(PE));var i=s.map(l=>({word:l,width:ho(l,n).width})),o=r?0:ho("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},JF=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=te(i),d=o,m=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((_,T)=>{var{word:K,width:R}=T,M=_[_.length-1];if(M&&(n==null||s||M.width+R+r<Number(n)))M.words.push(K),M.width+=R+r;else{var B={words:[K],width:R};_.push(B)}return _},[])},f=m(t),h=E=>E.reduce((D,_)=>D.width>_.width?D:_);if(!u||s)return f;var p=f.length>i||h(f).width>Number(n);if(!p)return f;for(var y="",x=E=>{var D=d.slice(0,E),_=AE({breakAll:c,style:l,children:D+y}).wordsWithComputedWidth,T=m(_),K=T.length>i||h(T).width>Number(n);return[K,T]},v=0,b=d.length-1,j=0,w;v<=b&&j<=d.length-1;){var N=Math.floor((v+b)/2),S=N-1,[P,O]=x(S),[A]=x(N);if(!P&&!A&&(v=N+1),P&&A&&(b=N-1),!P&&A){w=O;break}j++}return w||f},Bj=e=>{var t=ke(e)?[]:e.toString().split(PE);return[{words:t}]},e8=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!Bn.isSsr){var l,c,u=AE({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:m}=u;l=d,c=m}else return Bj(n);return JF({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return Bj(n)},Fj="#808080",cm=g.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=Fj}=e,d=$j(e,XF),m=g.useMemo(()=>e8({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:h,angle:p,className:y,breakAll:x}=d,v=$j(d,QF);if(!on(r)||!on(n)||m.length===0)return null;var b=r+(te(f)?f:0),j=n+(te(h)?h:0),w;switch(c){case"start":w=pf("calc(".concat(i,")"));break;case"middle":w=pf("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:w=pf("calc(".concat(m.length-1," * -").concat(s,")"));break}var N=[];if(o){var S=m[0].width,{width:P}=d;N.push("scale(".concat(te(P)?P/S:1,")"))}return p&&N.push("rotate(".concat(p,", ").concat(b,", ").concat(j,")")),N.length&&(v.transform=N.join(" ")),g.createElement("text",cp({},Ee(v,!0),{ref:t,x:b,y:j,className:ue("recharts-text",y),textAnchor:l,fill:u.includes("url")?Fj:u}),m.map((O,A)=>{var E=O.words.join(x?"":" ");return g.createElement("tspan",{x:b,dy:A===0?w:s,key:"".concat(E,"-").concat(A)},E)}))});cm.displayName="Text";var t8=["labelRef"];function r8(e,t){if(e==null)return{};var r,n,s=n8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function n8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=i8(e,"string");return typeof t=="symbol"?t:t+""}function i8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pn.apply(null,arguments)}var TE=g.createContext(null),o8=e=>{var{x:t,y:r,width:n,height:s,children:i}=e,o=g.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return g.createElement(TE.Provider,{value:o},i)},OE=()=>{var e=g.useContext(TE),t=ax();return e||t},l8=g.createContext(null),c8=()=>{var e=g.useContext(l8),t=ee(pk);return e||t},u8=e=>{var{value:t,formatter:r}=e,n=ke(e.children)?t:e.children;return typeof r=="function"?r(n):n},m0=e=>e!=null&&typeof e=="function",d8=(e,t)=>{var r=it(t-e),n=Math.min(Math.abs(t-e),360);return r*n},m8=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:m,endAngle:f,clockWise:h}=s,p=(u+d)/2,y=d8(m,f),x=y>=0?1:-1,v,b;switch(t){case"insideStart":v=m+x*i,b=h;break;case"insideEnd":v=f-x*i,b=!h;break;case"end":v=f+x*i,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var j=Ge(l,c,p,v),w=Ge(l,c,p,v+(b?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(w.x,",").concat(w.y),S=ke(e.id)?_o("recharts-radial-line-"):e.id;return g.createElement("text",pn({},n,{dominantBaseline:"central",className:ue("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:S,d:N})),g.createElement("textPath",{xlinkHref:"#".concat(S)},r))},f8=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:m}=Ge(n,s,o+t,u);return{x:d,y:m,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var f=(i+o)/2,{x:h,y:p}=Ge(n,s,f,u);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},LE=e=>"cx"in e&&te(e.cx),h8=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!LE(r)&&(i=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,m=d*n,f=d>0?"end":"start",h=d>0?"start":"end",p=c>=0?1:-1,y=p*n,x=p>0?"end":"start",v=p>0?"start":"end";if(s==="top"){var b={x:o+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:f};return Fe(Fe({},b),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var j={x:o+c/2,y:l+u+m,textAnchor:"middle",verticalAnchor:h};return Fe(Fe({},j),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(s==="left"){var w={x:o-y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Fe(Fe({},w),i?{width:Math.max(w.x-i.x,0),height:u}:{})}if(s==="right"){var N={x:o+c+y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Fe(Fe({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:u}:{})}var S=i?{width:c,height:u}:{};return s==="insideLeft"?Fe({x:o+y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},S):s==="insideRight"?Fe({x:o+c-y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},S):s==="insideTop"?Fe({x:o+c/2,y:l+m,textAnchor:"middle",verticalAnchor:h},S):s==="insideBottom"?Fe({x:o+c/2,y:l+u-m,textAnchor:"middle",verticalAnchor:f},S):s==="insideTopLeft"?Fe({x:o+y,y:l+m,textAnchor:v,verticalAnchor:h},S):s==="insideTopRight"?Fe({x:o+c-y,y:l+m,textAnchor:x,verticalAnchor:h},S):s==="insideBottomLeft"?Fe({x:o+y,y:l+u-m,textAnchor:v,verticalAnchor:f},S):s==="insideBottomRight"?Fe({x:o+c-y,y:l+u-m,textAnchor:x,verticalAnchor:f},S):s&&typeof s=="object"&&(te(s.x)||$a(s.x))&&(te(s.y)||$a(s.y))?Fe({x:o+Ct(s.x,c),y:l+Ct(s.y,u),textAnchor:"end",verticalAnchor:"end"},S):Fe({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},p8={offset:5};function Vn(e){var t=Je(e,p8),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=c8(),m=OE(),f=n==="center"?m:d??m,h=r||f;if(!h||ke(s)&&ke(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var p=Fe(Fe({},t),{},{viewBox:h});if(g.isValidElement(o)){var{labelRef:y}=p,x=r8(p,t8);return g.cloneElement(o,x)}var v;if(typeof o=="function"){if(v=g.createElement(o,p),g.isValidElement(v))return v}else v=u8(t);var b=LE(h),j=Ee(t,!0);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return m8(t,n,v,j,h);var w=b?f8(h,t.offset,t.position):h8(t,h);return g.createElement(cm,pn({ref:u,className:ue("recharts-label",l)},j,w,{breakAll:c}),v)}Vn.displayName="Label";var g8=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(Vn,pn({key:"label-implicit"},n)):on(e)?g.createElement(Vn,pn({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===Vn?g.cloneElement(e,Fe({key:"label-implicit"},n)):g.createElement(Vn,pn({key:"label-implicit",content:e},n)):m0(e)?g.createElement(Vn,pn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(Vn,pn({},e,{key:"label-implicit"},n)):null};function x8(e){var{label:t}=e,r=OE();return g8(t,r)||null}var ME={},DE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(DE);var _E={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(_E);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DE,r=_E,n=Dd;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(ME);var y8=ME.last;const v8=_n(y8);var b8=["valueAccessor"],j8=["dataKey","clockWise","id","textBreakAll"];function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(null,arguments)}function zj(e,t){if(e==null)return{};var r,n,s=w8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function w8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var N8=e=>Array.isArray(e.value)?v8(e.value):e.value,RE=g.createContext(void 0),f0=RE.Provider,IE=g.createContext(void 0),S8=IE.Provider;function C8(){return g.useContext(RE)}function k8(){return g.useContext(IE)}function Pc(e){var{valueAccessor:t=N8}=e,r=zj(e,b8),{dataKey:n,clockWise:s,id:i,textBreakAll:o}=r,l=zj(r,j8),c=C8(),u=k8(),d=c||u;return!d||!d.length?null:g.createElement(Be,{className:"recharts-label-list"},d.map((m,f)=>{var h,p=ke(n)?t(m,f):ye(m&&m.payload,n),y=ke(i)?{}:{id:"".concat(i,"-").concat(f)};return g.createElement(Vn,Mu({},Ee(m,!0),l,y,{fill:(h=r.fill)!==null&&h!==void 0?h:m.fill,parentViewBox:m.parentViewBox,value:p,textBreakAll:o,viewBox:m.viewBox,key:"label-".concat(f),index:f}))}))}Pc.displayName="LabelList";function um(e){var{label:t}=e;return t?t===!0?g.createElement(Pc,{key:"labelList-implicit"}):g.isValidElement(t)||m0(t)?g.createElement(Pc,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Pc,Mu({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}var h0=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=ue("recharts-dot",s);return t===+t&&r===+r&&n===+n?g.createElement("circle",up({},Lr(e),Og(e),{className:i,cx:t,cy:r,r:n})):null},$E=e=>e.graphicalItems.polarItems,E8=U([Le,gl],Ux),p0=U([$E,He,E8],zx),P8=U([p0],Wx),g0=U([P8,Ox],Hx),A8=U([g0,He,p0],Gx),T8=U([g0,He,p0],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=ye(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ye(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),Wj=()=>{},O8=U([He,_k,Wj,T8,Wj,le,Le],Vx),BE=U([He,le,g0,A8,pl,Le,O8],Yx),L8=U([BE,He,Si],Zx);U([He,BE,L8,Le],e0);var M8={radiusAxis:{},angleAxis:{}},FE=hr({name:"polarAxis",initialState:M8,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:OK,removeRadiusAxis:LK,addAngleAxis:MK,removeAngleAxis:DK}=FE.actions,D8=FE.reducer;function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){_8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _8(e,t,r){return(t=R8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e){var t=I8(e,"string");return typeof t=="symbol"?t:t+""}function I8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $8=(e,t)=>t,x0=U([$E,$8],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),B8=[],y0=(e,t,r)=>(r==null?void 0:r.length)===0?B8:r,UE=U([Ox,x0,y0],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>Kj(Kj({},t.presentationProps),i.props))),s!=null)return s}}),F8=U([UE,x0,y0],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=ye(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:wa(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),U8=U([UE,x0,y0,Ze],(e,t,r,n)=>{if(!(t==null||e==null))return RU({offset:n,pieSettings:t,displayedData:e,cells:r})}),zE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(zE);var z8=zE.isPlainObject;const W8=_n(z8);function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){H8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H8(e,t,r){return(t=K8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=G8(e,"string");return typeof t=="symbol"?t:t+""}function G8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(null,arguments)}var Vj=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},q8={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V8=e=>{var t=Je(e,q8),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:m}=t,f=g.useRef(),[h,p]=g.useState(-1),y=g.useRef(s),x=g.useRef(i),v=g.useRef(o),b=g.useRef(r),j=g.useRef(n),w=yi(e,"trapezoid-");if(g.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var K=f.current.getTotalLength();K&&p(K)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var N=ue("recharts-trapezoid",l);if(!m)return g.createElement("g",null,g.createElement("path",Du({},Ee(t,!0),{className:N,d:Vj(r,n,s,i,o)})));var S=y.current,P=x.current,O=v.current,A=b.current,E=j.current,D="0px ".concat(h===-1?1:h,"px"),_="".concat(h,"px 0px"),T=rC(["strokeDasharray"],u,c);return g.createElement(xi,{animationId:w,key:w,canBegin:h>0,duration:u,easing:c,isActive:m,begin:d},K=>{var R=xe(S,s,K),M=xe(P,i,K),B=xe(O,o,K),I=xe(A,r,K),H=xe(E,n,K);f.current&&(y.current=R,x.current=M,v.current=B,b.current=I,j.current=H);var k=K>0?{transition:T,strokeDasharray:_}:{strokeDasharray:D};return g.createElement("path",Du({},Ee(t,!0),{className:N,d:Vj(I,H,R,M,B),ref:f,style:qj(qj({},k),t.style)}))})},Y8=["option","shapeType","propTransformer","activeClassName","isActive"];function X8(e,t){if(e==null)return{};var r,n,s=Q8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Q8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){Z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8(e,t,r){return(t=J8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8(e){var t=eU(e,"string");return typeof t=="symbol"?t:t+""}function eU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tU(e,t){return _u(_u({},t),e)}function rU(e,t){return e==="symbols"}function Xj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(iC,r);case"trapezoid":return g.createElement(V8,r);case"sector":return g.createElement(cC,r);case"symbols":if(rU(t))return g.createElement(Ig,r);break;default:return null}}function nU(e){return g.isValidElement(e)?e.props:e}function WE(e){var{option:t,shapeType:r,propTransformer:n=tU,activeClassName:s="recharts-active-shape",isActive:i}=e,o=X8(e,Y8),l;if(g.isValidElement(t))l=g.cloneElement(t,_u(_u({},o),nU(t)));else if(typeof t=="function")l=t(o);else if(W8(t)&&typeof t!="boolean"){var c=n(t,o);l=g.createElement(Xj,{shapeType:r,elementProps:c})}else{var u=o;l=g.createElement(Xj,{shapeType:r,elementProps:u})}return i?g.createElement(Be,{className:s},l):l}var v0=(e,t)=>{var r=Ie();return(n,s)=>i=>{e==null||e(n,s,i),r(Qk({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},b0=e=>{var t=Ie();return(r,n)=>s=>{e==null||e(r,n,s),t(Q$())}},j0=(e,t)=>{var r=Ie();return(n,s)=>i=>{e==null||e(n,s,i),r(Z$({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function dm(e){var{fn:t,args:r}=e,n=Ie(),s=Et();return g.useEffect(()=>{if(!s){var i=t(r);return n(V$(i)),()=>{n(Y$(i))}}},[t,r,n,s]),null}var HE=()=>{};function w0(e){var{legendPayload:t}=e,r=Ie(),n=Et();return g.useEffect(()=>n?HE:(r(JS(t)),()=>{r(eC(t))}),[r,n,t]),null}function aU(e){var{legendPayload:t}=e,r=Ie(),n=ee(le);return g.useEffect(()=>n!=="centric"&&n!=="radial"?HE:(r(JS(t)),()=>{r(eC(t))}),[r,n,t]),null}var gf,sU=()=>{var[e]=g.useState(()=>_o("uid-"));return e},iU=(gf=Aw.useId)!==null&&gf!==void 0?gf:sU;function oU(e,t){var r=iU();return t||(e?"".concat(e,"-").concat(r):r)}var lU=g.createContext(void 0),mm=e=>{var{id:t,type:r,children:n}=e,s=oU("recharts-".concat(r),t);return g.createElement(lU.Provider,{value:s},n(s))},cU={cartesianItems:[],polarItems:[]},KE=hr({name:"graphicalItems",initialState:cU,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=wn(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=wn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=wn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:uU,replaceCartesianGraphicalItem:dU,removeCartesianGraphicalItem:mU,addPolarGraphicalItem:fU,removePolarGraphicalItem:hU}=KE.actions,pU=KE.reducer;function N0(e){var t=Ie(),r=g.useRef(null);return g.useEffect(()=>{r.current===null?t(uU(e)):r.current!==e&&t(dU({prev:r.current,next:e})),r.current=e},[t,e]),g.useEffect(()=>()=>{r.current&&(t(mU(r.current)),r.current=null)},[t]),null}function gU(e){var t=Ie();return g.useEffect(()=>(t(fU(e)),()=>{t(hU(e))}),[t,e]),null}var xU=["onMouseEnter","onClick","onMouseLeave"],yU=["id"],vU=["id"];function S0(e,t){if(e==null)return{};var r,n,s=bU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return(t=wU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=NU(e,"string");return typeof t=="symbol"?t:t+""}function NU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(null,arguments)}function SU(e){var t=g.useMemo(()=>Lg(e.children,Dn),[e.children]),r=ee(n=>F8(n,e.id,t));return r==null?null:g.createElement(aU,{legendPayload:r})}function CU(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:wa(l,t),hide:c,type:u,color:o,unit:""}}}var kU=(e,t)=>e>t?"start":e<t?"end":"middle",EU=(e,t,r)=>Ct(typeof t=="function"?t(e):t,r,r*.8),PU=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=WS(i,o),c=s+Ct(e.cx,i,i/2),u=n+Ct(e.cy,o,o/2),d=Ct(e.innerRadius,l,0),m=EU(r,e.outerRadius,l),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:m,maxRadius:f}},AU=(e,t)=>{var r=it(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function TU(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var OU=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ue("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(Bs,pa({},t,{type:"linear",className:r}))},LU=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var s=ue("recharts-pie-label-text",TU(e));return g.createElement(cm,pa({},t,{alignmentBaseline:"middle",className:s}),n)};function MU(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=Lr(r),c=Ee(s,!1),u=Ee(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,m=t.map((f,h)=>{var p=(f.startAngle+f.endAngle)/2,y=Ge(f.cx,f.cy,f.outerRadius+d,p),x=Pe(Pe(Pe(Pe({},l),f),{},{stroke:"none"},c),{},{index:h,textAnchor:kU(y.x,f.cx)},y),v=Pe(Pe(Pe(Pe({},l),f),{},{fill:"none",stroke:f.fill},u),{},{index:h,points:[Ge(f.cx,f.cy,f.outerRadius,p),y],key:"line"});return g.createElement(Be,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(h)},i&&OU(i,v),LU(s,x,ye(f,o)))});return g.createElement(Be,{className:"recharts-pie-labels"},m)}function DU(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?g.createElement(um,{label:s}):g.createElement(MU,{sectors:t,props:r,showLabels:n})}function _U(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s}=e,i=ee(ha),{onMouseEnter:o,onClick:l,onMouseLeave:c}=s,u=S0(s,xU),d=v0(o,s.dataKey),m=b0(c),f=j0(l,s.dataKey);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((h,p)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var y=r&&String(p)===i,x=i?n:null,v=y?r:x,b=Pe(Pe({},h),{},{stroke:h.stroke,tabIndex:-1,[YS]:p,[XS]:s.dataKey});return g.createElement(Be,pa({tabIndex:-1,className:"recharts-pie-sector"},sl(u,h,p),{onMouseEnter:d(h,p),onMouseLeave:m(h,p),onClick:f(h,p),key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),g.createElement(WE,pa({option:v,isActive:y,shapeType:"sector"},b)))}))}function RU(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:m}=r,f=Math.abs(r.minAngle),h=AU(l,c),p=Math.abs(h),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(S=>ye(S,u,0)!==0).length,v=(p>=360?x:x-1)*y,b=p-x*f-v,j=n.reduce((S,P)=>{var O=ye(P,u,0);return S+(te(O)?O:0)},0),w;if(j>0){var N;w=n.map((S,P)=>{var O=ye(S,u,0),A=ye(S,d,P),E=PU(r,i,S),D=(te(O)?O:0)/j,_,T=Pe(Pe({},S),s&&s[P]&&s[P].props);P?_=N.endAngle+it(h)*y*(O!==0?1:0):_=l;var K=_+it(h)*((O!==0?f:0)+D*b),R=(_+K)/2,M=(E.innerRadius+E.outerRadius)/2,B=[{name:A,value:O,payload:T,dataKey:u,type:m}],I=Ge(E.cx,E.cy,M,R);return N=Pe(Pe(Pe(Pe({},r.presentationProps),{},{percent:D,cornerRadius:o,name:A,tooltipPayload:B,midAngle:R,middleRadius:M,tooltipPosition:I},T),E),{},{value:O,startAngle:_,endAngle:K,payload:T,paddingAngle:it(h)*y}),N})}return w}function IU(e){var{showLabels:t,sectors:r,children:n}=e,s=g.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return g.createElement(S8,{value:t?s:void 0},n)}function $U(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:m}=t,f=yi(t,"recharts-pie-"),h=r.current,[p,y]=g.useState(!1),x=g.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),v=g.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return g.createElement(IU,{showLabels:!p,sectors:n},g.createElement(xi,{animationId:f,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:v,onAnimationEnd:x,key:f},b=>{var j=[],w=n&&n[0],N=w==null?void 0:w.startAngle;return n==null||n.forEach((S,P)=>{var O=h&&h[P],A=P>0?ns(S,"paddingAngle",0):0;if(O){var E=xe(O.endAngle-O.startAngle,S.endAngle-S.startAngle,b),D=Pe(Pe({},S),{},{startAngle:N+A,endAngle:N+E+A});j.push(D),N=D.endAngle}else{var{endAngle:_,startAngle:T}=S,K=xe(0,_-T,b),R=Pe(Pe({},S),{},{startAngle:N+A,endAngle:N+K+A});j.push(R),N=R.endAngle}}),r.current=j,g.createElement(Be,null,g.createElement(_U,{sectors:j,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),g.createElement(DU,{showLabels:!p,sectors:n,props:t}),t.children)}var BU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Bn.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function FU(e){var{id:t}=e,r=S0(e,yU),{hide:n,className:s,rootTabIndex:i}=e,o=g.useMemo(()=>Lg(e.children,Dn),[e.children]),l=ee(d=>U8(d,t,o)),c=g.useRef(null),u=ue("recharts-pie",s);return n||l==null?(c.current=null,g.createElement(Be,{tabIndex:i,className:u})):g.createElement(g.Fragment,null,g.createElement(dm,{fn:CU,args:Pe(Pe({},e),{},{sectors:l})}),g.createElement(Be,{tabIndex:i,className:u},g.createElement($U,{props:Pe(Pe({},r),{},{sectors:l}),previousSectorsRef:c})))}function oi(e){var t=Je(e,BU),{id:r}=t,n=S0(t,vU),s=Lr(n);return g.createElement(mm,{id:r,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(gU,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),g.createElement(SU,pa({},n,{id:i})),g.createElement(FU,pa({},n,{id:i}))))}oi.displayName="Pie";function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return(t=zU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HU={xAxis:{},yAxis:{},zAxis:{}},GE=hr({name:"cartesianAxis",initialState:HU,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Jj(Jj({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:KU,removeXAxis:GU,addYAxis:qU,removeYAxis:VU,addZAxis:_K,removeZAxis:RK,updateYAxisWidth:YU}=GE.actions,XU=GE.reducer,QU=U([Ze],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ZU=U([QU,In,$n],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),fm=()=>ee(ZU),JU=()=>ee($B);function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){e9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e9(e,t,r){return(t=t9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=r9(e,"string");return typeof t=="symbol"?t:t+""}function r9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n9=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=tw(tw({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ee(s,!1)),Og(s)),l;return g.isValidElement(s)?l=g.cloneElement(s,o):typeof s=="function"?l=s(o):l=g.createElement(h0,o),g.createElement(Be,{className:"recharts-active-dot"},l)};function dp(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=ee(ha),o=JU();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return ke(l)?null:n9({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var a9="Invariant failed";function s9(e,t){throw new Error(a9)}var i9=["x","y"];function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){o9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o9(e,t,r){return(t=l9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l9(e){var t=c9(e,"string");return typeof t=="symbol"?t:t+""}function c9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u9(e,t){if(e==null)return{};var r,n,s=d9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function d9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function m9(e,t){var{x:r,y:n}=e,s=u9(e,i9),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),m="".concat(t.width||s.width),f=parseInt(m,10);return Ki(Ki(Ki(Ki(Ki({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function C0(e){return g.createElement(WE,mp({shapeType:"rectangle",propTransformer:m9,activeClassName:"recharts-active-bar"},e))}var f9=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(te(t))return t;var i=te(n)||ke(n);return i?t(n,s):(i||s9(),r)}},h9={},qE=hr({name:"errorBars",initialState:h9,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:IK,replaceErrorBar:$K,removeErrorBar:BK}=qE.actions,p9=qE.reducer,g9=["children"];function x9(e,t){if(e==null)return{};var r,n,s=y9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function y9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v9={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},b9=g.createContext(v9);function VE(e){var{children:t}=e,r=x9(e,g9);return g.createElement(b9.Provider,{value:r},t)}function hm(e,t){var r,n,s=ee(u=>Un(u,e)),i=ee(u=>zn(u,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Qt.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Zt.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function k0(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=fm(),{needClipX:i,needClipY:o,needClip:l}=hm(t,r);if(!l)return null;var{x:c,y:u,width:d,height:m}=s;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?c:c-d/2,y:o?u:u-m/2,width:i?d:d*2,height:o?m:m*2}))}var j9=["onMouseEnter","onMouseLeave","onClick"],w9=["value","background","tooltipPosition"],N9=["id"],S9=["onMouseEnter","onClick","onMouseLeave"];function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(null,arguments)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){C9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C9(e,t,r){return(t=k9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=E9(e,"string");return typeof t=="symbol"?t:t+""}function E9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ru(e,t){if(e==null)return{};var r,n,s=P9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function P9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var A9=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:wa(r,t),payload:e}]};function T9(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:wa(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function O9(e){var t=ee(ha),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=Ru(i,j9),d=v0(o,n),m=b0(l),f=j0(c,n);if(!s||r==null)return null;var h=Ee(s,!1);return g.createElement(g.Fragment,null,r.map((p,y)=>{var{value:x,background:v,tooltipPosition:b}=p,j=Ru(p,w9);if(!v)return null;var w=d(p,y),N=m(p,y),S=f(p,y),P=Tt(Tt(Tt(Tt(Tt({option:s,isActive:String(y)===t},j),{},{fill:"#eee"},v),h),sl(u,p,y)),{},{onMouseEnter:w,onMouseLeave:N,onClick:S,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return g.createElement(C0,ga({key:"background-bar-".concat(P.index)},P))}))}function L9(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Tt(Tt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return g.createElement(f0,{value:t?s:void 0},r)}function M9(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=ee(ha),c=ee(uE),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return g.createElement(C0,ga({},n,s,{isActive:u,option:d,index:i,dataKey:o}))}function D9(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return g.createElement(C0,ga({},r,n,{isActive:!1,option:t,index:s,dataKey:i}))}function _9(e){var{data:t,props:r}=e,n=Lr(r),{id:s}=n,i=Ru(n,N9),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:m}=r,f=Ru(r,S9),h=v0(u,l),p=b0(m),y=j0(d,l);return t?g.createElement(g.Fragment,null,t.map((x,v)=>g.createElement(Be,ga({className:"recharts-bar-rectangle"},sl(f,x,v),{onMouseEnter:h(x,v),onMouseLeave:p(x,v),onClick:y(x,v),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(v)}),c?g.createElement(M9,{shape:o,activeBar:c,baseProps:i,entry:x,index:v,dataKey:l}):g.createElement(D9,{shape:o,baseProps:i,entry:x,index:v,dataKey:l})))):null}function R9(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,m=r.current,f=yi(t,"recharts-bar-"),[h,p]=g.useState(!1),y=!h,x=g.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),v=g.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return g.createElement(L9,{showLabels:y,rects:n},g.createElement(xi,{animationId:f,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:v,key:f},b=>{var j=b===1?n:n==null?void 0:n.map((w,N)=>{var S=m&&m[N];if(S)return Tt(Tt({},w),{},{x:xe(S.x,w.x,b),y:xe(S.y,w.y,b),width:xe(S.width,w.width,b),height:xe(S.height,w.height,b)});if(s==="horizontal"){var P=xe(0,w.height,b);return Tt(Tt({},w),{},{y:w.y+w.height-P,height:P})}var O=xe(0,w.width,b);return Tt(Tt({},w),{},{width:O})});return b>0&&(r.current=j??null),j==null?null:g.createElement(Be,null,g.createElement(_9,{props:t,data:j}))}),g.createElement(um,{label:t.label}),t.children)}function I9(e){var t=g.useRef(null);return g.createElement(R9,{previousRectanglesRef:t,props:e})}var YE=0,$9=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ye(e,t)}};class B9 extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=ue("recharts-bar",s),m=u;return g.createElement(Be,{className:d,id:u},l&&g.createElement("defs",null,g.createElement(k0,{clipPathId:m,xAxisId:i,yAxisId:o})),g.createElement(Be,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},g.createElement(O9,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(I9,this.props)))}}var F9={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Bn.isSsr,legendType:"rect",minPointSize:YE,xAxisId:0,yAxisId:0};function U9(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:m}=hm(t,r),f=cl(),h=Et(),p=Lg(e.children,Dn),y=ee(b=>p7(b,t,r,h,e.id,p));if(f!=="vertical"&&f!=="horizontal")return null;var x,v=y==null?void 0:y[0];return v==null||v.height==null||v.width==null?x=0:x=f==="vertical"?v.height/2:v.width/2,g.createElement(VE,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:$9,errorBarOffset:x},g.createElement(B9,ga({},e,{layout:f,needClip:m,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function z9(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:m,offset:f,cells:h,parentViewBox:p}=e,y=t==="horizontal"?l:o,x=d?y.scale.domain():null,v=xM({numericAxis:y});return m.map((b,j)=>{var w,N,S,P,O,A;d?w=mM(d[j],x):(w=ye(b,r),Array.isArray(w)||(w=[v,w]));var E=f9(n,YE)(w[1],j);if(t==="horizontal"){var D,[_,T]=[l.scale(w[0]),l.scale(w[1])];N=nb({axis:o,ticks:c,bandSize:i,offset:s.offset,entry:b,index:j}),S=(D=T??_)!==null&&D!==void 0?D:void 0,P=s.size;var K=_-T;if(O=Xt(K)?0:K,A={x:N,y:f.top,width:P,height:f.height},Math.abs(E)>0&&Math.abs(O)<Math.abs(E)){var R=it(O||E)*(Math.abs(E)-Math.abs(O));S-=R,O+=R}}else{var[M,B]=[o.scale(w[0]),o.scale(w[1])];if(N=M,S=nb({axis:l,ticks:u,bandSize:i,offset:s.offset,entry:b,index:j}),P=B-M,O=s.size,A={x:f.left,y:S,width:f.width,height:O},Math.abs(E)>0&&Math.abs(P)<Math.abs(E)){var I=it(P||E)*(Math.abs(E)-Math.abs(P));P+=I}}if(N==null||S==null||P==null||O==null)return null;var H=Tt(Tt({},b),{},{x:N,y:S,width:P,height:O,value:d?w:w[1],payload:b,background:A,tooltipPosition:{x:N+P/2,y:S+O/2},parentViewBox:p},h&&h[j]&&h[j].props);return H}).filter(Boolean)}function W9(e){var t=Je(e,F9),r=Et();return g.createElement(mm,{id:t.id,type:"bar"},n=>g.createElement(g.Fragment,null,g.createElement(w0,{legendPayload:A9(t)}),g.createElement(dm,{fn:T9,args:t}),g.createElement(N0,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:qS(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),g.createElement(U9,ga({},t,{id:n}))))}var Ur=g.memo(W9);Ur.displayName="Bar";function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return(t=K9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q9=(e,t)=>t,V9=(e,t,r)=>r,Y9=(e,t,r,n)=>n,X9=(e,t,r,n,s)=>s,Nl=U([yl,X9],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Q9=U([Nl],e=>e==null?void 0:e.maxBarSize),Z9=(e,t,r,n,s,i)=>i,sw=(e,t,r)=>{var n=r??e;if(!ke(n))return Ct(n,t,0)},J9=U([le,yl,q9,V9,Y9],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),e7=(e,t,r,n)=>{var s=le(e);return s==="horizontal"?Ho(e,"yAxis",r,n):Ho(e,"xAxis",t,n)},t7=(e,t,r)=>{var n=le(e);return n==="horizontal"?gj(e,"xAxis",t):gj(e,"yAxis",r)},r7=(e,t,r)=>{var n={},s=e.filter(rm),i=e.filter(u=>u.stackId==null),o=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,m]=u,f=m.map(p=>p.dataKey),h=sw(t,r,m[0].barSize);return{stackId:d,dataKeys:f,barSize:h}}),c=i.map(u=>{var d=[u.dataKey].filter(f=>f!=null),m=sw(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:m}});return[...l,...c]},n7=U([J9,qI,t7],r7),a7=(e,t,r,n,s)=>{var i,o,l=Nl(e,t,r,n,s);if(l!=null){var c=le(e),u=lk(e),{maxBarSize:d}=l,m=ke(d)?u:d,f,h;return c==="horizontal"?(f=un(e,"xAxis",t,n),h=cn(e,"xAxis",t,n)):(f=un(e,"yAxis",r,n),h=cn(e,"yAxis",r,n)),(i=(o=is(f,h,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},XE=(e,t,r,n)=>{var s=le(e),i,o;return s==="horizontal"?(i=un(e,"xAxis",t,n),o=cn(e,"xAxis",t,n)):(i=un(e,"yAxis",r,n),o=cn(e,"yAxis",r,n)),is(i,o)};function s7(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=Ct(e,r,0,!0),l,c=[];if(xt(n[0].barSize)){var u=!1,d=r/i,m=n.reduce((v,b)=>v+(b.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&d>0&&(u=!0,d*=.9,m=i*d);var f=(r-m)/2>>0,h={offset:f-o,size:0};l=n.reduce((v,b)=>{var j,w={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+o,size:u?d:(j=b.barSize)!==null&&j!==void 0?j:0}},N=[...v,w];return h=N[N.length-1].position,N},c)}else{var p=Ct(t,r,0,!0);r-2*p-(i-1)*o<=0&&(o=0);var y=(r-2*p-(i-1)*o)/i;y>1&&(y>>=0);var x=xt(s)?Math.min(y,s):y;l=n.reduce((v,b,j)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(y+o)*j+(y-x)/2,size:x}}],c)}return l}}var i7=(e,t,r,n,s,i,o)=>{var l=ke(o)?t:o,c=s7(r,n,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(u=>lc(lc({},u),{},{position:lc(lc({},u.position),{},{offset:u.position.offset-s/2})}))),c},o7=U([n7,lk,GI,ck,a7,XE,Q9],i7),l7=(e,t,r,n)=>un(e,"xAxis",t,n),c7=(e,t,r,n)=>un(e,"yAxis",r,n),u7=(e,t,r,n)=>cn(e,"xAxis",t,n),d7=(e,t,r,n)=>cn(e,"yAxis",r,n),m7=U([o7,Nl],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),f7=(e,t)=>{var r=tm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},h7=U([e7,Nl],f7),p7=U([Ze,nx,l7,c7,u7,d7,m7,le,hl,XE,h7,Nl,Z9],(e,t,r,n,s,i,o,l,c,u,d,m,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:y}=c;if(!(m==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||u==null)){var{data:x}=m,v;if(x!=null&&x.length>0?v=x:v=h==null?void 0:h.slice(p,y+1),v!=null)return z9({layout:l,barSettings:m,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:d,displayedData:v,offset:e,cells:f})}}),QE=e=>{var{chartData:t}=e,r=Ie(),n=Et();return g.useEffect(()=>n?()=>{}:(r(Cj(t)),()=>{r(Cj(void 0))}),[t,r,n]),null},iw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZE=hr({name:"brush",initialState:iw,reducers:{setBrushSettings(e,t){return t.payload==null?iw:t.payload}}}),{setBrushSettings:FK}=ZE.actions,g7=ZE.reducer;function x7(e,t,r){return(t=y7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class E0{static create(t){return new E0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}x7(E0,"EPS",1e-4);function b7(e){return(e%180+180)%180}var j7=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=b7(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},w7={dots:[],areas:[],lines:[]},JE=hr({name:"referenceElements",initialState:w7,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=wn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=wn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=wn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:UK,removeDot:zK,addArea:WK,removeArea:HK,addLine:KK,removeLine:GK}=JE.actions,N7=JE.reducer,S7=g.createContext(void 0),C7=e=>{var{children:t}=e,[r]=g.useState("".concat(_o("recharts"),"-clip")),n=fm();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return g.createElement(S7.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function li(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function eP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function k7(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return j7(n,r)}function E7(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Iu(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function P7(e,t){return eP(e,t+1)}function A7(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,m=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:eP(n,u)};var y=c,x,v=()=>(x===void 0&&(x=r(p,y)),x),b=p.coordinate,j=c===0||Iu(e,b,v,d,l);j||(c=0,d=o,u+=1),j&&(d=b+e*(v()/2+s),c+=u)},f;u<=i.length;)if(f=m(),f)return f.v;return[]}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){T7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T7(e,t,r){return(t=O7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O7(e){var t=L7(e,"string");return typeof t=="symbol"?t:t+""}function L7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M7(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(f){var h=i[f],p,y=()=>(p===void 0&&(p=r(h,f)),p);if(f===o-1){var x=e*(h.coordinate+e*y()/2-c);i[f]=h=bt(bt({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else i[f]=h=bt(bt({},h),{},{tickCoord:h.coordinate});var v=Iu(e,h.tickCoord,y,l,c);v&&(c=h.tickCoord-e*(y()/2+s),i[f]=bt(bt({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function D7(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],m=r(d,l-1),f=e*(d.coordinate+e*m/2-u);o[l-1]=d=bt(bt({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var h=Iu(e,d.tickCoord,()=>m,c,u);h&&(u=d.tickCoord-e*(m/2+s),o[l-1]=bt(bt({},d),{},{isShow:!0}))}for(var p=i?l-1:l,y=function(b){var j=o[b],w,N=()=>(w===void 0&&(w=r(j,b)),w);if(b===0){var S=e*(j.coordinate-e*N()/2-c);o[b]=j=bt(bt({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[b]=j=bt(bt({},j),{},{tickCoord:j.coordinate});var P=Iu(e,j.tickCoord,N,c,u);P&&(c=j.tickCoord+e*(N()/2+s),o[b]=bt(bt({},j),{},{isShow:!0}))},x=0;x<p;x++)y(x);return o}function P0(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:m}=e;if(!s||!s.length||!n)return[];if(te(c)||Bn.isSsr){var f;return(f=P7(s,te(c)?c:0))!==null&&f!==void 0?f:[]}var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?ho(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(j,w)=>{var N=typeof u=="function"?u(j.value,w):j.value;return p==="width"?k7(ho(N,{fontSize:t,letterSpacing:r}),y,m):ho(N,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?it(s[1].coordinate-s[0].coordinate):1,b=E7(i,v,p);return c==="equidistantPreserveStart"?A7(v,b,x,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=D7(v,b,x,s,o,c==="preserveStartEnd"):h=M7(v,b,x,s,o),h.filter(j=>j.isShow))}var _7=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},R7=["axisLine","width","height","className","hide","ticks"],I7=["viewBox"],$7=["viewBox"];function fp(e,t){if(e==null)return{};var r,n,s=B7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function B7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(null,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){F7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F7(e,t,r){return(t=U7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=z7(e,"string");return typeof t=="symbol"?t:t+""}function z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function W7(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Xe(Xe(Xe({},c),Ee(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Xe(Xe({},u),{},{x1:t,y1:r+d*s,x2:t+n,y2:r+d*s})}else{var m=+(i==="left"&&!o||i==="right"&&o);u=Xe(Xe({},u),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return g.createElement("line",ls({},u,{className:ue("recharts-cartesian-axis-line",ns(l,"className"))}))}function H7(e,t,r,n,s,i,o,l,c){var u,d,m,f,h,p,y=l?-1:1,x=e.tickSize||o,v=te(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,f=r+ +!l*s,m=f-y*x,p=m-y*c,h=v;break;case"left":m=f=e.coordinate,d=t+ +!l*n,u=d-y*x,h=u-y*c,p=v;break;case"right":m=f=e.coordinate,d=t+ +l*n,u=d+y*x,h=u+y*c,p=v;break;default:u=d=e.coordinate,f=r+ +l*s,m=f+y*x,p=m+y*c,h=v;break}return{line:{x1:u,y1:m,x2:d,y2:f},tick:{x:h,y:p}}}function K7(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function G7(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function q7(e){var{option:t,tickProps:r,value:n}=e,s,i=ue(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))s=g.cloneElement(t,Xe(Xe({},r),{},{className:i}));else if(typeof t=="function")s=t(Xe(Xe({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ue(o,t==null?void 0:t.className)),s=g.createElement(cm,ls({},r,{className:o}),n)}return s}function V7(e){var{ticks:t=[],tick:r,tickLine:n,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:m,y:f,width:h,height:p,tickSize:y,tickMargin:x,fontSize:v,letterSpacing:b,getTicksConfig:j,events:w}=e,N=P0(Xe(Xe({},j),{},{ticks:t}),v,b),S=K7(u,d),P=G7(u,d),O=Lr(j),A=Ee(r,!1),E=Xe(Xe({},O),{},{fill:"none"},Ee(n,!1)),D=N.map((_,T)=>{var{line:K,tick:R}=H7(_,m,f,h,p,u,y,d,x),M=Xe(Xe(Xe(Xe({textAnchor:S,verticalAnchor:P},O),{},{stroke:"none",fill:s},A),R),{},{index:T,payload:_,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return g.createElement(Be,ls({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},sl(w,_,T)),n&&g.createElement("line",ls({},E,K,{className:ue("recharts-cartesian-axis-tick-line",ns(n,"className"))})),r&&g.createElement(q7,{option:r,tickProps:M,value:"".concat(typeof i=="function"?i(_.value,T):_.value).concat(o||"")}))});return D.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},D):null}var Y7=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:o,ticks:l}=e,c=fp(e,R7),[u,d]=g.useState(""),[m,f]=g.useState(""),h=g.useRef([]);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return _7({ticks:h.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=g.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(x);var v=x[0];if(v){var b=window.getComputedStyle(v),j=b.fontSize,w=b.letterSpacing;(j!==u||w!==m)&&(d(j),f(w))}}},[u,m]);return o||n!=null&&n<=0||s!=null&&s<=0?null:g.createElement(Be,{className:ue("recharts-cartesian-axis",i),ref:p},g.createElement(W7,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Lr(e)}),g.createElement(V7,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:m,getTicksConfig:e,events:c}),g.createElement(o8,{x:e.x,y:e.y,width:e.width,height:e.height},g.createElement(x8,{label:e.label}),e.children))}),X7=g.memo(Y7,(e,t)=>{var{viewBox:r}=e,n=fp(e,I7),{viewBox:s}=t,i=fp(t,$7);return li(r,s)&&li(n,i)}),T0=g.forwardRef((e,t)=>{var r=Je(e,A0);return g.createElement(X7,ls({},r,{ref:t}))});T0.displayName="CartesianAxis";var Q7=["x1","y1","x2","y2","key"],Z7=["offset"],J7=["xAxisId","yAxisId"],ez=["xAxisId","yAxisId"];function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){tz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tz(e,t,r){return(t=rz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rz(e){var t=nz(e,"string");return typeof t=="symbol"?t:t+""}function nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(null,arguments)}function $u(e,t){if(e==null)return{};var r,n,s=az(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function az(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sz=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return g.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function tP(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=$u(t,Q7),u=Lr(c),{offset:d}=u,m=$u(u,Z7);r=g.createElement("line",Ua({},m,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function iz(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=$u(e,J7),c=s.map((u,d)=>{var m=wt(wt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return tP(n,m)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function oz(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=$u(e,ez),c=s.map((u,d)=>{var m=wt(wt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return tP(n,m)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function lz(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(m=>Math.round(m+s-s)).sort((m,f)=>m-f);s!==u[0]&&u.unshift(0);var d=u.map((m,f)=>{var h=!u[f+1],p=h?s+o-m:u[f+1]-m;if(p<=0)return null;var y=f%t.length;return g.createElement("rect",{key:"react-".concat(f),y:m,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function cz(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(m=>Math.round(m+s-s)).sort((m,f)=>m-f);s!==u[0]&&u.unshift(0);var d=u.map((m,f)=>{var h=!u[f+1],p=h?s+o-m:u[f+1]-m;if(p<=0)return null;var y=f%r.length;return g.createElement("rect",{key:"react-".concat(f),x:m,y:i,width:p,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var uz=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return KS(P0(wt(wt(wt({},A0),r),{},{ticks:GS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},dz=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return KS(P0(wt(wt(wt({},A0),r),{},{ticks:GS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},mz={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function qr(e){var t=sx(),r=ix(),n=QS(),s=wt(wt({},Je(e,mz)),{},{x:te(e.x)?e.x:n.left,y:te(e.y)?e.y:n.top,width:te(e.width)?e.width:n.width,height:te(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:m,horizontalValues:f,verticalValues:h}=s,p=Et(),y=ee(A=>xj(A,"xAxis",i,p)),x=ee(A=>xj(A,"yAxis",o,p));if(!te(u)||u<=0||!te(d)||d<=0||!te(l)||l!==+l||!te(c)||c!==+c)return null;var v=s.verticalCoordinatesGenerator||uz,b=s.horizontalCoordinatesGenerator||dz,{horizontalPoints:j,verticalPoints:w}=s;if((!j||!j.length)&&typeof b=="function"){var N=f&&f.length,S=b({yAxis:x?wt(wt({},x),{},{ticks:N?f:x.ticks}):void 0,width:t,height:r,offset:n},N?!0:m);fo(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}if((!w||!w.length)&&typeof v=="function"){var P=h&&h.length,O=v({xAxis:y?wt(wt({},y),{},{ticks:P?h:y.ticks}):void 0,width:t,height:r,offset:n},P?!0:m);fo(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(w=O)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(sz,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement(lz,Ua({},s,{horizontalPoints:j})),g.createElement(cz,Ua({},s,{verticalPoints:w})),g.createElement(iz,Ua({},s,{offset:n,horizontalPoints:j,xAxis:y,yAxis:x})),g.createElement(oz,Ua({},s,{offset:n,verticalPoints:w,xAxis:y,yAxis:x})))}qr.displayName="CartesianGrid";var rP=(e,t,r,n)=>un(e,"xAxis",t,n),nP=(e,t,r,n)=>cn(e,"xAxis",t,n),aP=(e,t,r,n)=>un(e,"yAxis",r,n),sP=(e,t,r,n)=>cn(e,"yAxis",r,n),fz=U([le,rP,aP,nP,sP],(e,t,r,n,s)=>dn(e,"xAxis")?is(t,n,!1):is(r,s,!1)),hz=(e,t,r,n,s)=>s;function pz(e){return e.type==="line"}var gz=U([yl,hz],(e,t)=>e.filter(pz).find(r=>r.id===t)),xz=U([le,rP,aP,nP,sP,gz,fz,hl],(e,t,r,n,s,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:m,data:f}=i,h;if(f!=null&&f.length>0?h=f:h=c==null?void 0:c.slice(u,d+1),h!=null)return Bz({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:o,displayedData:h})}}),yz=["id"],vz=["type","layout","connectNulls","needClip"],bz=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jz(e,t,r){return(t=wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=Nz(e,"string");return typeof t=="symbol"?t:t+""}function Nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O0(e,t){if(e==null)return{};var r,n,s=Sz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(null,arguments)}var Cz=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:wa(r,t),payload:e}]};function kz(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:wa(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var iP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ez(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var Pz=(e,t,r)=>{var n=r.reduce((m,f)=>m+f);if(!n)return iP(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...Ez(r,s),...l,...d].map(m=>"".concat(m,"px")).join(", ")};function Az(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=ue("recharts-line-dot",typeof e!="boolean"?e.className:"");r=g.createElement(h0,cs({},t,{className:n}))}return r}function Tz(e,t){return e==null?!1:t?!0:e.length===1}function Oz(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!Tz(r,s))return null;var{id:l}=n,c=O0(n,yz),u=Td(s),d=Lr(c),m=Ee(s,!0),f=r.map((p,y)=>{var x=tr(tr(tr({key:"dot-".concat(y),r:3},d),m),{},{index:y,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return Az(s,x)}),h={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return g.createElement(Be,cs({className:"recharts-line-dots",key:"dots"},h),f)}function Lz(e){var{showLabels:t,children:r,points:n}=e,s=g.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return tr(tr({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return g.createElement(f0,{value:t?s:null},r)}function dw(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:u}=i,d=O0(i,vz),m=tr(tr({},Ee(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(Bs,cs({},m,{pathRef:r})),g.createElement(Oz,{points:n,clipPathId:t,props:i}))}function Mz(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Dz(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:m,animateNewValues:f,width:h,height:p,onAnimationEnd:y,onAnimationStart:x}=r,v=s.current,b=yi(r,"recharts-line-"),[j,w]=g.useState(!1),N=!j,S=g.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),P=g.useCallback(()=>{typeof x=="function"&&x(),w(!0)},[x]),O=Mz(n.current),A=i.current;return g.createElement(Lz,{points:o,showLabels:N},r.children,g.createElement(xi,{animationId:b,begin:u,duration:d,isActive:c,easing:m,onAnimationEnd:S,onAnimationStart:P,key:b},E=>{var D=xe(A,O+A,E),_=Math.min(D,O),T;if(c)if(l){var K="".concat(l).split(/[,\s]+/gim).map(B=>parseFloat(B));T=Pz(_,O,K)}else T=iP(O,_);else T=l==null?void 0:String(l);if(v){var R=v.length/o.length,M=E===1?o:o.map((B,I)=>{var H=Math.floor(I*R);if(v[H]){var k=v[H];return tr(tr({},B),{},{x:xe(k.x,B.x,E),y:xe(k.y,B.y,E)})}return f?tr(tr({},B),{},{x:xe(h*2,B.x,E),y:xe(p/2,B.y,E)}):tr(tr({},B),{},{x:B.x,y:B.y})});return s.current=M,g.createElement(dw,{props:r,points:M,clipPathId:t,pathRef:n,strokeDasharray:T})}return E>0&&O>0&&(s.current=o,i.current=_),g.createElement(dw,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:T})}),g.createElement(um,{label:r.label}))}function _z(e){var{clipPathId:t,props:r}=e,n=g.useRef(null),s=g.useRef(0),i=g.useRef(null);return g.createElement(Dz,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var Rz=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ye(e.payload,t)});class Iz extends g.Component{render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:l,top:c,left:u,width:d,height:m,id:f,needClip:h}=this.props;if(r)return null;var p=ue("recharts-line",i),y=f,{r:x=3,strokeWidth:v=2}=(t=Ee(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=Td(n),j=x*2+v;return g.createElement(g.Fragment,null,g.createElement(Be,{className:p},h&&g.createElement("defs",null,g.createElement(k0,{clipPathId:y,xAxisId:o,yAxisId:l}),!b&&g.createElement("clipPath",{id:"clipPath-dots-".concat(y)},g.createElement("rect",{x:u-j/2,y:c-j/2,width:d+j,height:m+j}))),g.createElement(VE,{xAxisId:o,yAxisId:l,data:s,dataPointFormatter:Rz,errorBarOffset:0},g.createElement(_z,{props:this.props,clipPathId:y}))),g.createElement(dp,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var oP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Bn.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function $z(e){var t=Je(e,oP),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:m,legendType:f,xAxisId:h,yAxisId:p,id:y}=t,x=O0(t,bz),{needClip:v}=hm(h,p),b=fm(),j=cl(),w=Et(),N=ee(E=>xz(E,h,p,w,y));if(j!=="horizontal"&&j!=="vertical"||N==null||b==null)return null;var{height:S,width:P,x:O,y:A}=b;return g.createElement(Iz,cs({},x,{id:y,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:m,legendType:f,xAxisId:h,yAxisId:p,points:N,layout:j,height:S,width:P,left:O,top:A,needClip:v}))}function Bz(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var m=ye(u,o);if(t==="horizontal"){var f=gu({axis:r,ticks:s,bandSize:l,entry:u,index:d}),h=ke(m)?null:n.scale(m);return{x:f,y:h,value:m,payload:u}}var p=ke(m)?null:r.scale(m),y=gu({axis:n,ticks:i,bandSize:l,entry:u,index:d});return p==null||y==null?null:{x:p,y,value:m,payload:u}}).filter(Boolean)}function Fz(e){var t=Je(e,oP),r=Et();return g.createElement(mm,{id:t.id,type:"line"},n=>g.createElement(g.Fragment,null,g.createElement(w0,{legendPayload:Cz(t)}),g.createElement(dm,{fn:kz,args:t}),g.createElement(N0,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),g.createElement($z,cs({},t,{id:n}))))}var zr=g.memo(Fz);zr.displayName="Line";var lP=(e,t,r,n)=>un(e,"xAxis",t,n),cP=(e,t,r,n)=>cn(e,"xAxis",t,n),uP=(e,t,r,n)=>un(e,"yAxis",r,n),dP=(e,t,r,n)=>cn(e,"yAxis",r,n),Uz=U([le,lP,uP,cP,dP],(e,t,r,n,s)=>dn(e,"xAxis")?is(t,n,!1):is(r,s,!1)),zz=(e,t,r,n,s)=>s,mP=U([yl,zz],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Wz=(e,t,r,n,s)=>{var i,o=mP(e,t,r,n,s);if(o!=null){var l=le(e),c=dn(l,"xAxis"),u;if(c?u=Ho(e,"yAxis",r,n):u=Ho(e,"xAxis",t,n),u!=null){var{stackId:d}=o,m=tm(o);if(!(d==null||m==null)){var f=(i=u[d])===null||i===void 0?void 0:i.stackedData;return f==null?void 0:f.find(h=>h.key===m)}}}},Hz=U([le,lP,uP,cP,dP,Wz,hl,Uz,mP],(e,t,r,n,s,i,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:m}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:f}=c,h;if(f&&f.length>0?h=f:h=u==null?void 0:u.slice(d,m+1),h!=null){var p=void 0;return dW({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:h,chartBaseValue:p,bandSize:l})}}}),Kz=["id"],Gz=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function fP(e,t){if(e==null)return{};var r,n,s=qz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){Vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vz(e,t,r){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Xz(e,"string");return typeof t=="symbol"?t:t+""}function Xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sn.apply(null,arguments)}function Bu(e,t){return e&&e!=="none"?e:t}var Qz=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Bu(n,s),value:wa(r,t),payload:e}]};function Zz(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:wa(o,t),hide:l,type:e.tooltipType,color:Bu(n,i),unit:c}}}var Jz=(e,t)=>{var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=ue("recharts-area-dot",typeof e!="boolean"?e.className:"");r=g.createElement(h0,Sn({},t,{className:n}))}return r};function eW(e,t){return e==null?!1:t?!0:e.length===1}function tW(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:i,dataKey:o}=n;if(!eW(r,i))return null;var l=Td(i),c=Lr(n),u=Ee(i,!0),d=r.map((f,h)=>{var p=bn(bn(bn({key:"dot-".concat(h),r:3},c),u),{},{index:h,cx:f.x,cy:f.y,dataKey:o,value:f.value,payload:f.payload,points:r});return Jz(i,p)}),m={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return g.createElement(Be,Sn({className:"recharts-area-dots"},m),d)}function rW(e){var{showLabels:t,children:r,points:n}=e,s=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return bn(bn({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return g.createElement(f0,{value:t?s:null},r)}function fw(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:m}=i,f=fP(i,Kz),h=Lr(f);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(Be,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},g.createElement(Bs,Sn({},h,{id:m,points:t,connectNulls:u,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&g.createElement(Bs,Sn({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&g.createElement(Bs,Sn({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:r}))),g.createElement(tW,{points:t,props:f,clipPathId:s}))}function nW(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].y,o=n[n.length-1].y;if(!xt(i)||!xt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.x||0));return te(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),te(c)?g.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function aW(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].x,o=n[n.length-1].x;if(!xt(i)||!xt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.y||0));return te(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),te(c)?g.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function sW(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:i}=e;return r==="vertical"?g.createElement(nW,{alpha:t,points:n,baseLine:s,strokeWidth:i}):g.createElement(aW,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function iW(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:m,onAnimationStart:f,onAnimationEnd:h}=n,p=yi(n,"recharts-area-"),[y,x]=g.useState(!1),v=!y,b=g.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),j=g.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]),w=s.current,N=i.current;return g.createElement(rW,{showLabels:v,points:o},n.children,g.createElement(xi,{animationId:p,begin:u,duration:d,isActive:c,easing:m,onAnimationEnd:b,onAnimationStart:j,key:p},S=>{if(w){var P=w.length/o.length,O=S===1?o:o.map((E,D)=>{var _=Math.floor(D*P);if(w[_]){var T=w[_];return bn(bn({},E),{},{x:xe(T.x,E.x,S),y:xe(T.y,E.y,S)})}return E}),A;return te(l)?A=xe(N,l,S):ke(l)||Xt(l)?A=xe(N,0,S):A=l.map((E,D)=>{var _=Math.floor(D*P);if(Array.isArray(N)&&N[_]){var T=N[_];return bn(bn({},E),{},{x:xe(T.x,E.x,S),y:xe(T.y,E.y,S)})}return E}),S>0&&(s.current=O,i.current=A),g.createElement(fw,{points:O,baseLine:A,needClip:t,clipPathId:r,props:n})}return S>0&&(s.current=o,i.current=l),g.createElement(Be,null,c&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(sW,{alpha:S,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),g.createElement(Be,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(fw,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),g.createElement(um,{label:n.label}))}function oW(e){var{needClip:t,clipPathId:r,props:n}=e,s=g.useRef(null),i=g.useRef();return g.createElement(iW,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i})}class lW extends g.PureComponent{render(){var t,{hide:r,dot:n,points:s,className:i,top:o,left:l,needClip:c,xAxisId:u,yAxisId:d,width:m,height:f,id:h,baseLine:p}=this.props;if(r)return null;var y=ue("recharts-area",i),x=h,{r:v=3,strokeWidth:b=2}=(t=Ee(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Td(n),w=v*2+b;return g.createElement(g.Fragment,null,g.createElement(Be,{className:y},c&&g.createElement("defs",null,g.createElement(k0,{clipPathId:x,xAxisId:u,yAxisId:d}),!j&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:l-w/2,y:o-w/2,width:m+w,height:f+w}))),g.createElement(oW,{needClip:c,clipPathId:x,props:this.props})),g.createElement(dp,{points:s,mainColor:Bu(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&g.createElement(dp,{points:p,mainColor:Bu(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var hP={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Bn.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function cW(e){var t,r=Je(e,hP),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:m,isAnimationActive:f,legendType:h,stroke:p,xAxisId:y,yAxisId:x}=r,v=fP(r,Gz),b=cl(),j=mE(),{needClip:w}=hm(y,x),N=Et(),{points:S,isRange:P,baseLine:O}=(t=ee(K=>Hz(K,y,x,N,e.id)))!==null&&t!==void 0?t:{},A=fm();if(b!=="horizontal"&&b!=="vertical"||A==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:E,width:D,x:_,y:T}=A;return!S||!S.length?null:g.createElement(lW,Sn({},v,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:O,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:E,hide:m,layout:b,isAnimationActive:f,isRange:P,legendType:h,needClip:w,points:S,stroke:p,width:D,left:_,top:T,xAxisId:y,yAxisId:x}))}var uW=(e,t,r,n,s)=>{var i=r??t;if(te(i))return i;var o=e==="horizontal"?s:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function dW(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:m,yAxisTicks:f,bandSize:h}=e,p=s&&s.length,y=uW(i,o,r,l,c),x=i==="horizontal",v=!1,b=u.map((w,N)=>{var S;p?S=s[d+N]:(S=ye(w,n),Array.isArray(S)?v=!0:S=[y,S]);var P=S[1]==null||p&&!t&&ye(w,n)==null;return x?{x:gu({axis:l,ticks:m,bandSize:h,entry:w,index:N}),y:P?null:c.scale(S[1]),value:S,payload:w}:{x:P?null:l.scale(S[1]),y:gu({axis:c,ticks:f,bandSize:h,entry:w,index:N}),value:S,payload:w}}),j;return p||v?j=b.map(w=>{var N=Array.isArray(w.value)?w.value[0]:null;return x?{x:w.x,y:N!=null&&w.y!=null?c.scale(N):null,payload:w.payload}:{x:N!=null?l.scale(N):null,y:w.y,payload:w.payload}}):j=x?c.scale(y):l.scale(y),{points:b,baseLine:j,isRange:v}}function mW(e){var t=Je(e,hP),r=Et();return g.createElement(mm,{id:t.id,type:"area"},n=>g.createElement(g.Fragment,null,g.createElement(w0,{legendPayload:Qz(t)}),g.createElement(dm,{fn:Zz,args:t}),g.createElement(N0,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:qS(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),g.createElement(cW,Sn({},t,{id:n}))))}var us=g.memo(mW);us.displayName="Area";var fW=["dangerouslySetInnerHTML","ticks"],hW=["id"],pW=["domain"],gW=["domain"];function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(null,arguments)}function Fu(e,t){if(e==null)return{};var r,n,s=xW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yW(e){var t=Ie();return g.useEffect(()=>(t(KU(e)),()=>{t(GU(e))}),[e,t]),null}var vW=e=>{var{xAxisId:t,className:r}=e,n=ee(nx),s=Et(),i="xAxis",o=ee(x=>Ci(x,i,t,s)),l=ee(x=>Kk(x,i,t,s)),c=ee(x=>Uk(x,t)),u=ee(x=>$$(x,t)),d=ee(x=>yk(x,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:m,ticks:f}=e,h=Fu(e,fW),{id:p}=d,y=Fu(d,hW);return g.createElement(T0,hp({},h,y,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:ue("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},bW={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,height:Qt.height,hide:!1,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tickCount:Qt.tickCount,type:Qt.type,xAxisId:0},jW=e=>{var t,r,n,s,i,o=Je(e,bW);return g.createElement(g.Fragment,null,g.createElement(yW,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),g.createElement(vW,o))},wW=(e,t)=>{var{domain:r}=e,n=Fu(e,pW),{domain:s}=t,i=Fu(t,gW);return li(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:li({domain:r},{domain:s}):!1},Vr=g.memo(jW,wW);Vr.displayName="XAxis";var NW=["dangerouslySetInnerHTML","ticks"],SW=["id"],CW=["domain"],kW=["domain"];function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(null,arguments)}function Uu(e,t){if(e==null)return{};var r,n,s=EW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function EW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PW(e){var t=Ie();return g.useEffect(()=>(t(qU(e)),()=>{t(VU(e))}),[e,t]),null}var AW=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=g.useRef(null),o=g.useRef(null),l=ee(nx),c=Et(),u=Ie(),d="yAxis",m=ee(N=>Ci(N,d,t,c)),f=ee(N=>zk(N,t)),h=ee(N=>F$(N,t)),p=ee(N=>Kk(N,d,t,c)),y=ee(N=>vk(N,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!f||m0(s)||g.isValidElement(s)||y==null)){var N=i.current;if(N){var S=N.getCalculatedWidth();Math.round(f.width)!==Math.round(S)&&u(YU({id:t,width:S}))}}},[p,f,u,s,t,n,y]),f==null||h==null||y==null)return null;var{dangerouslySetInnerHTML:x,ticks:v}=e,b=Uu(e,NW),{id:j}=y,w=Uu(y,SW);return g.createElement(T0,pp({},b,w,{ref:i,labelRef:o,scale:m,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:ue("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p}))},TW={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,hide:!1,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tickCount:Zt.tickCount,type:Zt.type,width:Zt.width,yAxisId:0},OW=e=>{var t,r,n,s,i,o=Je(e,TW);return g.createElement(g.Fragment,null,g.createElement(PW,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),g.createElement(AW,o))},LW=(e,t)=>{var{domain:r}=e,n=Uu(e,CW),{domain:s}=t,i=Uu(t,kW);return li(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:li({domain:r},{domain:s}):!1},Ft=g.memo(OW,LW);Ft.displayName="YAxis";var MW={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=g;function DW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _W=typeof Object.is=="function"?Object.is:DW,RW=Sl.useSyncExternalStore,IW=Sl.useRef,$W=Sl.useEffect,BW=Sl.useMemo,FW=Sl.useDebugValue;MW.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=IW(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=BW(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return m=p}return m=h}if(p=m,_W(d,h))return p;var y=n(h);return s!==void 0&&s(p,y)?(d=h,p):(d=h,m=y)}var u=!1,d,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var l=RW(e,i[0],i[1]);return $W(function(){o.hasValue=!0,o.value=l},[l]),FW(l),l};function UW(e){e()}function zW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){UW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var hw={notify(){},get:()=>[]};function WW(e,t){let r,n=hw,s=0,i=!1;function o(y){d();const x=n.subscribe(y);let v=!1;return()=>{v||(v=!0,x(),m())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),n=zW())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=hw)}function f(){i||(i=!0,d())}function h(){i&&(i=!1,m())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return p}var HW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KW=HW(),GW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qW=GW(),VW=()=>KW||qW?g.useLayoutEffect:g.useEffect,YW=VW(),xf=Symbol.for("react-redux-context"),yf=typeof globalThis<"u"?globalThis:{};function XW(){if(!g.createContext)return{};const e=yf[xf]??(yf[xf]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var QW=XW();function ZW(e){const{children:t,context:r,serverState:n,store:s}=e,i=g.useMemo(()=>{const c=WW(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=g.useMemo(()=>s.getState(),[s]);YW(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||QW;return g.createElement(l.Provider,{value:i},t)}var JW=ZW,eH=(e,t)=>t,L0=U([eH,le,pk,tt,iE,Wn,HB,Ze],YB),M0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},pP=Ar("mouseClick"),gP=ol();gP.startListening({actionCreator:pP,effect:(e,t)=>{var r=e.payload,n=L0(t.getState(),M0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(J$({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var gp=Ar("mouseMove"),xP=ol();xP.startListening({actionCreator:gp,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=n0(n,n.tooltip.settings.shared),i=L0(n,M0(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(Jk({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Zk()))}});var pw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},yP=hr({name:"rootProps",initialState:pw,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:pw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),tH=yP.reducer,{updateOptions:rH}=yP.actions,vP=hr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:nH}=vP.actions,aH=vP.reducer,bP=Ar("keyDown"),jP=Ar("focus"),D0=ol();D0.startListening({actionCreator:bP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(a0(s,Ei(r))),l=Wn(r);if(i==="Enter"){var c=Lu(r,"axis","hover",String(s.index));t.dispatch(ip({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=H$(r),d=u==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,f=o+m*d;if(!(l==null||f>=l.length||f<0)){var h=Lu(r,"axis","hover",String(f));t.dispatch(ip({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});D0.startListening({actionCreator:jP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=Lu(r,"axis","hover",String(i));t.dispatch(ip({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var yr=Ar("externalEvent"),wP=ol();wP.startListening({actionCreator:yr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:_B(r),activeDataKey:uE(r),activeIndex:ha(r),activeLabel:cE(r),activeTooltipIndex:ha(r),isTooltipActive:RB(r)};e.payload.handler(n,e.payload.reactEvent)}}});var sH=U([ki],e=>e.tooltipItemPayloads),iH=U([sH,jl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),NP=Ar("touchMove"),SP=ol();SP.startListening({actionCreator:NP,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=n0(n,n.tooltip.settings.shared);if(s==="axis"){var i=L0(n,M0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(Jk({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(YS),d=(o=c.getAttribute(XS))!==null&&o!==void 0?o:void 0,m=iH(t.getState(),u,d);t.dispatch(Qk({activeDataKey:d,activeIndex:u,activeCoordinate:m}))}}});var oH=bS({brush:g7,cartesianAxis:XU,chartData:uF,errorBars:p9,graphicalItems:pU,layout:X3,legend:BM,options:sF,polarAxis:D8,polarOptions:aH,referenceElements:N7,rootProps:tH,tooltip:eB}),lH=function(t){return j3({reducer:oH,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([gP.middleware,xP.middleware,D0.middleware,wP.middleware,SP.middleware]),devTools:Bn.devToolsEnabled})};function CP(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Et(),i=g.useRef(null);if(s)return r;i.current==null&&(i.current=lH(t));var o=Yg;return g.createElement(JW,{context:o,store:i.current},r)}function kP(e){var{layout:t,width:r,height:n,margin:s}=e,i=Ie(),o=Et();return g.useEffect(()=>{o||(i(q3(t)),i(V3({width:r,height:n})),i(G3(s)))},[i,o,t,r,n,s]),null}function EP(e){var t=Ie();return g.useEffect(()=>{t(rH(e))},[t,e]),null}var cH=["children"];function uH(e,t){if(e==null)return{};var r,n,s=dH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(null,arguments)}var mH={width:"100%",height:"100%"},fH=g.forwardRef((e,t)=>{var r=sx(),n=ix(),s=tC();if(!ri(r)||!ri(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=s?0:void 0,typeof o.role=="string"?d=o.role:d=s?"application":void 0,g.createElement(Mg,zu({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:mH,ref:t}),i)}),hH=e=>{var{children:t}=e,r=ee(Kd);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return g.createElement(Mg,{width:n,height:s,x:o,y:i},t)},gw=g.forwardRef((e,t)=>{var{children:r}=e,n=uH(e,cH),s=Et();return s?g.createElement(hH,null,r):g.createElement(fH,zu({ref:t},n),r)});function pH(){var e=Ie(),[t,r]=g.useState(null),n=ee(SM);return g.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;xt(i)&&i!==n&&e(Y3(i))}},[t,e,n]),r}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return(t=yH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=vH(e,"string");return typeof t=="symbol"?t:t+""}function vH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bH=g.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:m,onMouseUp:f,onTouchEnd:h,onTouchMove:p,onTouchStart:y,style:x,width:v}=e,b=Ie(),[j,w]=g.useState(null),[N,S]=g.useState(null);vF();var P=pH(),O=g.useCallback(z=>{P(z),typeof t=="function"&&t(z),w(z),S(z)},[P,t,w,S]),A=g.useCallback(z=>{b(pP(z)),b(yr({handler:i,reactEvent:z}))},[b,i]),E=g.useCallback(z=>{b(gp(z)),b(yr({handler:u,reactEvent:z}))},[b,u]),D=g.useCallback(z=>{b(Zk()),b(yr({handler:d,reactEvent:z}))},[b,d]),_=g.useCallback(z=>{b(gp(z)),b(yr({handler:m,reactEvent:z}))},[b,m]),T=g.useCallback(()=>{b(jP())},[b]),K=g.useCallback(z=>{b(bP(z.key))},[b]),R=g.useCallback(z=>{b(yr({handler:o,reactEvent:z}))},[b,o]),M=g.useCallback(z=>{b(yr({handler:l,reactEvent:z}))},[b,l]),B=g.useCallback(z=>{b(yr({handler:c,reactEvent:z}))},[b,c]),I=g.useCallback(z=>{b(yr({handler:f,reactEvent:z}))},[b,f]),H=g.useCallback(z=>{b(yr({handler:y,reactEvent:z}))},[b,y]),k=g.useCallback(z=>{b(NP(z)),b(yr({handler:p,reactEvent:z}))},[b,p]),$=g.useCallback(z=>{b(yr({handler:h,reactEvent:z}))},[b,h]);return g.createElement(xE.Provider,{value:j},g.createElement(k2.Provider,{value:N},g.createElement("div",{className:ue("recharts-wrapper",n),style:gH({position:"relative",cursor:"default",width:v,height:s},x),onClick:A,onContextMenu:R,onDoubleClick:M,onFocus:T,onKeyDown:K,onMouseDown:B,onMouseEnter:E,onMouseLeave:D,onMouseMove:_,onMouseUp:I,onTouchEnd:$,onTouchMove:k,onTouchStart:H,ref:O},r)))}),jH=["children","className","width","height","style","compact","title","desc"];function wH(e,t){if(e==null)return{};var r,n,s=NH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function NH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PP=g.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:l,title:c,desc:u}=e,d=wH(e,jH),m=Lr(d);return l?g.createElement(gw,{otherAttributes:m,title:c,desc:u},r):g.createElement(bH,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(gw,{otherAttributes:m,title:c,desc:u,ref:t},g.createElement(C7,null,r)))}),SH=["width","height"];function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}function CH(e,t){if(e==null)return{};var r,n,s=kH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EH={top:5,right:5,bottom:5,left:5},PH={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:EH,reverseStackOrder:!1,syncMethod:"index"},_0=g.forwardRef(function(t,r){var n,s=Je(t.categoricalChartProps,PH),{width:i,height:o}=s,l=CH(s,SH);if(!ri(i)||!ri(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,categoricalChartProps:f}=t,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return g.createElement(CP,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:c},g.createElement(QE,{chartData:f.data}),g.createElement(kP,{width:i,height:o,layout:s.layout,margin:s.margin}),g.createElement(EP,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(PP,xp({},l,{width:i,height:o,ref:r})))}),AH=["axis"],R0=g.forwardRef((e,t)=>g.createElement(_0,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:AH,tooltipPayloadSearcher:lm,categoricalChartProps:e,ref:t})),TH=["axis","item"],Wu=g.forwardRef((e,t)=>g.createElement(_0,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TH,tooltipPayloadSearcher:lm,categoricalChartProps:e,ref:t}));function OH(e){var t=Ie();return g.useEffect(()=>{t(nH(e))},[t,e]),null}var LH=["width","height","layout"];function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(null,arguments)}function MH(e,t){if(e==null)return{};var r,n,s=DH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _H={top:5,right:5,bottom:5,left:5},RH={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_H,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},IH=g.forwardRef(function(t,r){var n,s=Je(t.categoricalChartProps,RH),{width:i,height:o,layout:l}=s,c=MH(s,LH);if(!ri(i)||!ri(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:f}=t,h={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(CP,{preloadedState:{options:h},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:u},g.createElement(QE,{chartData:s.data}),g.createElement(kP,{width:i,height:o,layout:l,margin:s.margin}),g.createElement(EP,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(OH,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),g.createElement(PP,yp({width:i,height:o},c,{ref:r})))}),$H=["item"],BH={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Go=g.forwardRef((e,t)=>{var r=Je(e,BH);return g.createElement(IH,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:$H,tooltipPayloadSearcher:lm,categoricalChartProps:r,ref:t})}),FH=["axis"],I0=g.forwardRef((e,t)=>g.createElement(_0,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FH,tooltipPayloadSearcher:lm,categoricalChartProps:e,ref:t}));const UH=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(d),i=d=>`${d.toFixed(1)}%`,o=d=>d>=20?"text-green-600":d>=10?"text-yellow-600":"text-red-600",c=(()=>{const d=[],m=["Jan","Feb","Mar","Apr","May","Jun"];for(let f=0;f<m.length;f++){const h=e.totalRevenue*.8+f*e.totalRevenue*.1+Math.random()*e.totalRevenue*.1,p=e.totalCost*.8+f*e.totalCost*.1+Math.random()*e.totalCost*.1;d.push({month:m[f],revenue:Math.round(h),cost:Math.round(p),profit:Math.round(h-p)})}return d})(),u=[{name:"Crew Labor",value:e.totalCost*.35,color:"#8884d8"},{name:"Vehicle",value:e.totalCost*.25,color:"#82ca9d"},{name:"Fuel",value:e.totalCost*.15,color:"#ffc658"},{name:"Maintenance",value:e.totalCost*.12,color:"#ff7300"},{name:"Overhead",value:e.totalCost*.13,color:"#8dd1e1"}];return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Financial Summary Report"}),a.jsxs("p",{className:"text-blue-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-blue-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-blue-500 hover:bg-blue-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ts,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-blue-500 hover:bg-blue-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(An,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(e.totalRevenue)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(mo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Costs"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:s(e.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(rr,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:s(e.grossProfit)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ft,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${o(e.averageProfitMargin)}`,children:i(e.averageProfitMargin)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalTrips.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(St,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue per Mile"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.averageRevenuePerMile)})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(sr,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Utilization Rate"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:i(e.averageUtilizationRate*100)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(I0,{data:c,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ft,{tickFormatter:d=>`$${(d/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:d=>[s(d),""],labelFormatter:d=>`Month: ${d}`}),a.jsx(cr,{}),a.jsx(us,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(us,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(Go,{children:[a.jsx(oi,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,percent:m})=>`${d} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:u.map((d,m)=>a.jsx(Dn,{fill:d.color},`cell-${m}`))}),a.jsx(Mt,{formatter:d=>[s(d),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Summary Statistics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Financial Performance"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Average Revenue per Trip: ",s(e.totalRevenue/e.totalTrips)]}),a.jsxs("li",{children:[" Average Cost per Trip: ",s(e.totalCost/e.totalTrips)]}),a.jsxs("li",{children:[" Average Profit per Trip: ",s(e.grossProfit/e.totalTrips)]}),a.jsxs("li",{children:[" Cost per Mile: ",s(e.averageCostPerMile)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Operational Metrics"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Total Trips Completed: ",e.totalTrips.toLocaleString()]}),a.jsxs("li",{children:[" Average Revenue per Mile: ",s(e.averageRevenuePerMile)]}),a.jsxs("li",{children:[" Utilization Rate: ",i(e.averageUtilizationRate*100)]}),a.jsxs("li",{children:[" Profit Margin: ",i(e.averageProfitMargin)]})]})]})]})]})]})]})},zH=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(x),i=x=>`${x.toFixed(1)}%`,o=x=>x>=20?"text-green-600":x>=10?"text-yellow-600":"text-red-600",l=x=>x>=20?"bg-green-100":x>=10?"bg-yellow-100":"bg-red-100",c=x=>{switch(x){case"URGENT":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},u=x=>{switch(x){case"BLS":return"text-blue-600 bg-blue-100";case"ALS":return"text-purple-600 bg-purple-100";case"CCT":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},d=Object.entries(e.tripsByTransportLevel).map(([x,v])=>({level:x,revenue:v.revenue,cost:v.cost,profit:v.profit,margin:v.margin,count:v.count})),m=Object.entries(e.tripsByPriority).map(([x,v])=>({priority:x,revenue:v.revenue,cost:v.cost,profit:v.profit,margin:v.margin,count:v.count})),f=Object.entries(e.tripsByTransportLevel).map(([x,v])=>({name:x,value:v.revenue,color:x==="BLS"?"#3b82f6":x==="ALS"?"#8b5cf6":"#10b981"})),h=Object.entries(e.tripsByPriority).map(([x,v])=>({name:x,value:v.revenue,color:x==="URGENT"?"#ef4444":x==="HIGH"?"#f97316":x==="MEDIUM"?"#eab308":"#22c55e"})),p=Object.values(e.tripsByTransportLevel).reduce((x,v)=>x+v.revenue,0),y=Object.values(e.tripsByTransportLevel).reduce((x,v)=>x+v.count,0);return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Revenue Analysis Report"}),a.jsxs("p",{className:"text-green-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-green-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-green-500 hover:bg-green-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ts,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-green-500 hover:bg-green-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(An,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(p)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Total Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:y.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ft,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Avg Revenue/Mile"}),a.jsx("p",{className:"text-2xl font-semibold text-purple-900",children:s(e.averageRevenuePerMile)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(Wu,{data:d,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"level"}),a.jsx(Ft,{tickFormatter:x=>`$${(x/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:x=>[s(x),"Revenue"]}),a.jsx(cr,{}),a.jsx(Ur,{dataKey:"revenue",fill:"#10b981",name:"Revenue"}),a.jsx(Ur,{dataKey:"cost",fill:"#ef4444",name:"Cost"}),a.jsx(Ur,{dataKey:"profit",fill:"#3b82f6",name:"Profit"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Priority Level"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(Wu,{data:m,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"priority"}),a.jsx(Ft,{tickFormatter:x=>`$${(x/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:x=>[s(x),"Revenue"]}),a.jsx(cr,{}),a.jsx(Ur,{dataKey:"revenue",fill:"#10b981",name:"Revenue"}),a.jsx(Ur,{dataKey:"cost",fill:"#ef4444",name:"Cost"}),a.jsx(Ur,{dataKey:"profit",fill:"#3b82f6",name:"Profit"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Distribution by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(Go,{children:[a.jsx(oi,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,percent:v})=>`${x} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.map((x,v)=>a.jsx(Dn,{fill:x.color},`cell-${v}`))}),a.jsx(Mt,{formatter:x=>[s(x),"Revenue"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Distribution by Priority"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(Go,{children:[a.jsx(oi,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,percent:v})=>`${x} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((x,v)=>a.jsx(Dn,{fill:x.color},`cell-${v}`))}),a.jsx(Mt,{formatter:x=>[s(x),"Revenue"]})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transport Level Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(x=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(x.level)}`,children:x.level})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:x.count}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:s(x.revenue)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(x.margin)} ${o(x.margin)}`,children:i(x.margin)})})]},x.level))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Priority Level Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(x=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(x.priority)}`,children:x.priority})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:x.count}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:s(x.revenue)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(x.margin)} ${o(x.margin)}`,children:i(x.margin)})})]},x.priority))})]})})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Top Performing Transport Level"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Object.entries(e.tripsByTransportLevel).sort(([,x],[,v])=>v.revenue-x.revenue)[0][0]," generates the highest revenue at"," ",s(Object.entries(e.tripsByTransportLevel).sort(([,x],[,v])=>v.revenue-x.revenue)[0][1].revenue)]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Top Performing Priority Level"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Object.entries(e.tripsByPriority).sort(([,x],[,v])=>v.revenue-x.revenue)[0][0]," priority generates the highest revenue at"," ",s(Object.entries(e.tripsByPriority).sort(([,x],[,v])=>v.revenue-x.revenue)[0][1].revenue)]})]})]})]})]})]})},WH=({data:e,onClose:t,onDownload:r,onShare:n})=>{var R;const[s,i]=g.useState("all"),[o,l]=g.useState("all"),c=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(M),u=M=>`${M.toFixed(1)}%`,d=M=>M>=20?"text-green-600":M>=10?"text-yellow-600":"text-red-600",m=M=>M>=20?"bg-green-100":M>=10?"bg-yellow-100":"bg-red-100",f=M=>{switch(M){case"BLS":return"text-blue-600 bg-blue-100";case"ALS":return"text-purple-600 bg-purple-100";case"CCT":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},h=M=>{switch(M){case"URGENT":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};if(console.log("TCC_DEBUG: CostReport - Component render, data:",e),console.log("TCC_DEBUG: CostReport - data.tripCostBreakdowns:",e==null?void 0:e.tripCostBreakdowns),console.log("TCC_DEBUG: CostReport - typeof data.tripCostBreakdowns:",typeof(e==null?void 0:e.tripCostBreakdowns)),console.log("TCC_DEBUG: CostReport - Array.isArray(data.tripCostBreakdowns):",Array.isArray(e==null?void 0:e.tripCostBreakdowns)),!e||!e.tripCostBreakdowns&&!((R=e.tripCostBreakdowns)!=null&&R.breakdowns))return console.log("TCC_DEBUG: CostReport - Early return due to missing data"),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-500",children:"Loading cost analysis data..."})]})});let p=[];Array.isArray(e.tripCostBreakdowns)?p=e.tripCostBreakdowns:e.tripCostBreakdowns&&Array.isArray(e.tripCostBreakdowns.breakdowns)?p=e.tripCostBreakdowns.breakdowns:p=[],console.log("TCC_DEBUG: CostReport - tripBreakdowns after Array.isArray check:",p),console.log("TCC_DEBUG: CostReport - tripBreakdowns.length:",p.length);const y=p.filter(M=>!(s!=="all"&&M.transportLevel!==s||o!=="all"&&M.priorityLevel!==o));console.log("TCC_DEBUG: CostReport - filteredTrips after filter:",y),console.log("TCC_DEBUG: CostReport - filteredTrips.length:",y.length),console.log("TCC_DEBUG: CostReport - typeof filteredTrips:",typeof y),console.log("TCC_DEBUG: CostReport - Array.isArray(filteredTrips):",Array.isArray(y));const x=y.reduce((M,B)=>M+(B.crewLaborCost||0),0),v=y.reduce((M,B)=>M+(B.vehicleCost||0),0),b=y.reduce((M,B)=>M+(B.fuelCost||0),0),j=y.reduce((M,B)=>M+(B.maintenanceCost||0),0),w=y.reduce((M,B)=>M+(B.overheadCost||0),0),N=[{name:"Crew Labor",value:x,color:"#8884d8"},{name:"Vehicle",value:v,color:"#82ca9d"},{name:"Fuel",value:b,color:"#ffc658"},{name:"Maintenance",value:j,color:"#ff7300"},{name:"Overhead",value:w,color:"#8dd1e1"}],S=y.reduce((M,B)=>{const I=B.transportLevel||"Unknown";return M[I]||(M[I]={totalCost:0,tripCount:0,averageCost:0}),M[I].totalCost+=B.totalCost||0,M[I].tripCount+=1,M},{});Object.keys(S).forEach(M=>{S[M].averageCost=S[M].totalCost/S[M].tripCount});const P=Object.entries(S).map(([M,B])=>({level:M,totalCost:B.totalCost,tripCount:B.tripCount,averageCost:B.averageCost}));console.log("TCC_DEBUG: CostReport - About to filter recentTrips, filteredTrips:",y);const O=y.filter(M=>M.calculatedAt);console.log("TCC_DEBUG: CostReport - tripsWithDates after filter:",O);const A=O.sort((M,B)=>new Date(B.calculatedAt).getTime()-new Date(M.calculatedAt).getTime());console.log("TCC_DEBUG: CostReport - sortedTrips after sort:",A),console.log("TCC_DEBUG: CostReport - About to call slice on sortedTrips, typeof:",typeof A,"Array.isArray:",Array.isArray(A));const E=A.slice(0,10);console.log("TCC_DEBUG: CostReport - slicedTrips after slice:",E);const D=E.reverse();console.log("TCC_DEBUG: CostReport - recentTrips after reverse:",D);const _=D.map((M,B)=>({trip:`Trip ${B+1}`,totalCost:M.totalCost||0,crewLabor:M.crewLaborCost||0,vehicle:M.vehicleCost||0,fuel:M.fuelCost||0,maintenance:M.maintenanceCost||0,overhead:M.overheadCost||0})),T=[...new Set(p.map(M=>M.transportLevel).filter(Boolean))],K=[...new Set(p.map(M=>M.priorityLevel).filter(Boolean))];return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Cost Analysis Report"}),a.jsxs("p",{className:"text-red-100 mt-1",children:["Period: ",e.period," (",new Date(e.dateRange.start).toLocaleDateString()," - ",new Date(e.dateRange.end).toLocaleDateString(),")"]}),a.jsxs("p",{className:"text-red-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ts,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(An,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(mo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Cost"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:c(e.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Avg Cost/Mile"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:c(e.averageCostPerMile)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Total Trips"}),a.jsx("p",{className:"text-2xl font-semibold text-purple-900",children:y.length.toLocaleString()})]})]})})]}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(fd,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:s,onChange:M=>i(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"all",children:"All Transport Levels"}),T.map(M=>a.jsx("option",{value:M,children:M},M))]}),a.jsxs("select",{value:o,onChange:M=>l(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"all",children:"All Priorities"}),K.map(M=>a.jsx("option",{value:M,children:M},M))]})]})]})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(Go,{children:[a.jsx(oi,{data:N,cx:"50%",cy:"50%",labelLine:!1,label:({name:M,percent:B})=>`${M} ${(B*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:N.map((M,B)=>a.jsx(Dn,{fill:M.color},`cell-${B}`))}),a.jsx(Mt,{formatter:M=>[c(M),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost by Transport Level"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(Wu,{data:P,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"level"}),a.jsx(Ft,{tickFormatter:M=>`$${(M/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:M=>[c(M),"Cost"]}),a.jsx(cr,{}),a.jsx(Ur,{dataKey:"totalCost",fill:"#ef4444",name:"Total Cost"}),a.jsx(Ur,{dataKey:"averageCost",fill:"#f97316",name:"Average Cost per Trip"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Cost Trends (Last 10 Trips)"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(R0,{data:_,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"trip"}),a.jsx(Ft,{tickFormatter:M=>`$${(M/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:M=>[c(M),""]}),a.jsx(cr,{}),a.jsx(zr,{type:"monotone",dataKey:"totalCost",stroke:"#ef4444",strokeWidth:2,name:"Total Cost"}),a.jsx(zr,{type:"monotone",dataKey:"crewLabor",stroke:"#8884d8",strokeWidth:2,name:"Crew Labor"}),a.jsx(zr,{type:"monotone",dataKey:"vehicle",stroke:"#82ca9d",strokeWidth:2,name:"Vehicle"}),a.jsx(zr,{type:"monotone",dataKey:"fuel",stroke:"#ffc658",strokeWidth:2,name:"Fuel"}),a.jsx(zr,{type:"monotone",dataKey:"maintenance",stroke:"#ff7300",strokeWidth:2,name:"Maintenance"}),a.jsx(zr,{type:"monotone",dataKey:"overhead",stroke:"#8dd1e1",strokeWidth:2,name:"Overhead"})]})})})]}),e.costCenterBreakdown.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Center Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Center"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.costCenterBreakdown.map(M=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.costCenterName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(M.totalRevenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(M.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(M.grossProfit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(M.profitMargin)} ${d(M.profitMargin)}`,children:u(M.profitMargin)})})]},M.costCenterId))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Trip Cost Breakdowns"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trip ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crew Labor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fuel"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{console.log("TCC_DEBUG: CostReport - About to slice filteredTrips for table, filteredTrips:",y),console.log("TCC_DEBUG: CostReport - typeof filteredTrips for table:",typeof y,"Array.isArray:",Array.isArray(y));const M=y.slice(0,10);return console.log("TCC_DEBUG: CostReport - tableTrips after slice:",M),M.map(B=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[B.tripId.substring(0,8),"..."]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(B.transportLevel)}`,children:B.transportLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(B.priorityLevel)}`,children:B.priorityLevel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(B.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(B.crewLaborCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(B.vehicleCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(B.fuelCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(B.calculatedAt).toLocaleDateString()})]},B.id))})()})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Analysis Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Cost Breakdown"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Crew Labor: ",c(x)," (",(x/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Vehicle Costs: ",c(v)," (",(v/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Fuel Costs: ",c(b)," (",(b/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Maintenance: ",c(j)," (",(j/e.totalCost*100).toFixed(1),"%)"]}),a.jsxs("li",{children:[" Overhead: ",c(w)," (",(w/e.totalCost*100).toFixed(1),"%)"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Key Metrics"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Average Cost per Trip: ",c(e.totalCost/y.length)]}),a.jsxs("li",{children:[" Average Cost per Mile: ",c(e.averageCostPerMile)]}),a.jsxs("li",{children:[" Total Trips Analyzed: ",y.length.toLocaleString()]}),a.jsxs("li",{children:[" Highest Cost Category: ",N.sort((M,B)=>B.value-M.value)[0].name]})]})]})]})]})]})]})},HH=({data:e,onClose:t,onDownload:r,onShare:n})=>{const s=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(p),i=p=>`${p.toFixed(1)}%`,o=p=>p>=20?"text-green-600":p>=10?"text-yellow-600":"text-red-600",l=p=>p>=20?"bg-green-100":p>=10?"bg-yellow-100":"bg-red-100",c=e.profitabilityAnalysis.monthlyBreakdown.map(p=>({...p,profitMargin:p.margin})),d=["Jan","Feb","Mar","Apr","May","Jun"].map((y,x)=>({month:y,revenue:e.profitabilityAnalysis.trends.revenue[x]||0,cost:e.profitabilityAnalysis.trends.cost[x]||0,profit:e.profitabilityAnalysis.trends.profit[x]||0,margin:e.profitabilityAnalysis.trends.margin[x]||0})),m=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,y)=>p+y.margin,0)/e.profitabilityAnalysis.monthlyBreakdown.length,f=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,y)=>y.margin>p.margin?y:p),h=e.profitabilityAnalysis.monthlyBreakdown.reduce((p,y)=>y.margin<p.margin?y:p);return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Profitability Analysis Report"}),a.jsxs("p",{className:"text-purple-100 mt-1",children:["Period: ",e.period," - ",e.profitabilityAnalysis.period]}),a.jsxs("p",{className:"text-purple-100 text-sm",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-purple-500 hover:bg-purple-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ts,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-purple-500 hover:bg-purple-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(An,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-green-900",children:s(e.profitabilityAnalysis.totalRevenue)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(rr,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-700",children:"Total Cost"}),a.jsx("p",{className:"text-2xl font-semibold text-red-900",children:s(e.profitabilityAnalysis.totalCost)})]})]})}),a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ft,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:s(e.profitabilityAnalysis.grossProfit)})]})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sh,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${o(e.profitabilityAnalysis.profitMargin)}`,children:i(e.profitabilityAnalysis.profitMargin)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ru,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.profitabilityAnalysis.tripCount.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Revenue/Trip"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.profitabilityAnalysis.averageRevenuePerTrip)})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(rr,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Cost/Trip"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s(e.profitabilityAnalysis.averageCostPerTrip)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profitability Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(R0,{data:d,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ft,{yAxisId:"left"}),a.jsx(Ft,{yAxisId:"right",orientation:"right"}),a.jsx(Mt,{formatter:(p,y)=>[y==="margin"?`${p}%`:s(p),y==="margin"?"Margin":y==="profit"?"Profit":y==="revenue"?"Revenue":"Cost"],labelFormatter:p=>`Month: ${p}`}),a.jsx(cr,{}),a.jsx(zr,{yAxisId:"left",type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"}),a.jsx(zr,{yAxisId:"right",type:"monotone",dataKey:"margin",stroke:"#10b981",strokeWidth:2,name:"Margin %"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Analysis"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(I0,{data:d,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ft,{tickFormatter:p=>`$${(p/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:p=>[s(p),""],labelFormatter:p=>`Month: ${p}`}),a.jsx(cr,{}),a.jsx(us,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(us,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Profitability Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(Wu,{data:c,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ft,{yAxisId:"left"}),a.jsx(Ft,{yAxisId:"right",orientation:"right"}),a.jsx(Mt,{formatter:(p,y)=>[y==="profitMargin"?`${p}%`:s(p),y==="profitMargin"?"Margin":y==="profit"?"Profit":y==="revenue"?"Revenue":"Cost"],labelFormatter:p=>`Month: ${p}`}),a.jsx(cr,{}),a.jsx(Ur,{yAxisId:"left",dataKey:"profit",fill:"#3b82f6",name:"Profit"}),a.jsx(Ur,{yAxisId:"right",dataKey:"profitMargin",fill:"#10b981",name:"Margin %"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Breakdown Details"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.profitabilityAnalysis.monthlyBreakdown.map((p,y)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.month}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(p.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(p.margin)} ${o(p.margin)}`,children:i(p.margin)})})]},y))})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Best Performing Month"}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:f.month})," achieved the highest profit margin of"," ",a.jsx("span",{className:"font-semibold",children:i(f.margin)})," with"," ",a.jsx("span",{className:"font-semibold",children:s(f.profit)})," in profit from"," ",a.jsx("span",{className:"font-semibold",children:f.tripCount})," trips."]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Areas for Improvement"}),a.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:h.month})," had the lowest profit margin of"," ",a.jsx("span",{className:"font-semibold",children:i(h.margin)}),". Consider analyzing cost drivers and revenue optimization strategies."]})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Overall Performance Summary"}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:a.jsxs("p",{className:"text-sm text-blue-800",children:["Average profit margin across all months: ",a.jsx("span",{className:"font-semibold",children:i(m)}),". Total profit generated: ",a.jsx("span",{className:"font-semibold",children:s(e.profitabilityAnalysis.grossProfit)})," from"," ",a.jsx("span",{className:"font-semibold",children:e.profitabilityAnalysis.tripCount})," trips over the period."]})})]})]})]})]})},KH=({data:e,onClose:t,onDownload:r,onShare:n})=>{const[s,i]=g.useState(""),[o,l]=g.useState("all"),[c,u]=g.useState(new Set(["costAnalysis"])),[d,m]=g.useState("csv"),f=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(N),h=N=>new Date(N).toLocaleString(),p=N=>{const S=new Set(c);S.has(N)?S.delete(N):S.add(N),u(S)},y=[{id:"all",name:"All Data",count:3,description:"Complete dataset including all analysis"},{id:"costAnalysis",name:"Cost Analysis",count:1,description:"Financial cost breakdown and metrics"},{id:"profitabilityAnalysis",name:"Profitability Analysis",count:1,description:"Profit margins and trends"},{id:"tripCostBreakdowns",name:"Trip Details",count:e.tripCostBreakdowns.length,description:"Individual trip cost breakdowns"}],x=y.filter(N=>N.name.toLowerCase().includes(s.toLowerCase())||N.description.toLowerCase().includes(s.toLowerCase())),v=N=>{switch(N){case"costAnalysis":return a.jsx(vv,{className:"h-5 w-5 text-blue-600"});case"profitabilityAnalysis":return a.jsx(Ia,{className:"h-5 w-5 text-green-600"});case"tripCostBreakdowns":return a.jsx(ru,{className:"h-5 w-5 text-purple-600"});default:return a.jsx(Ia,{className:"h-5 w-5 text-gray-600"})}},b=()=>e.costAnalysis?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Financial Summary"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Total Revenue: ",f(e.costAnalysis.totalRevenue||0)]}),a.jsxs("li",{children:["Total Cost: ",f(e.costAnalysis.totalCost||0)]}),a.jsxs("li",{children:["Gross Profit: ",f(e.costAnalysis.grossProfit||0)]}),a.jsxs("li",{children:["Profit Margin: ",(e.costAnalysis.averageProfitMargin||0).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Operational Metrics"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Total Trips: ",(e.costAnalysis.totalTrips||0).toLocaleString()]}),a.jsxs("li",{children:["Avg Revenue/Mile: ",f(e.costAnalysis.averageRevenuePerMile||0)]}),a.jsxs("li",{children:["Avg Cost/Mile: ",f(e.costAnalysis.averageCostPerMile||0)]}),a.jsxs("li",{children:["Utilization Rate: ",((e.costAnalysis.averageUtilizationRate||0)*100).toFixed(1),"%"]})]})]})]})}):a.jsx("p",{className:"text-gray-500",children:"No cost analysis data available"}),j=()=>{var N;return e.profitabilityAnalysis?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Period Summary"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Period: ",e.profitabilityAnalysis.period||"N/A"]}),a.jsxs("li",{children:["Total Revenue: ",f(e.profitabilityAnalysis.totalRevenue||0)]}),a.jsxs("li",{children:["Total Cost: ",f(e.profitabilityAnalysis.totalCost||0)]}),a.jsxs("li",{children:["Gross Profit: ",f(e.profitabilityAnalysis.grossProfit||0)]}),a.jsxs("li",{children:["Profit Margin: ",(e.profitabilityAnalysis.profitMargin||0).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Trip Metrics"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("li",{children:["Trip Count: ",(e.profitabilityAnalysis.tripCount||0).toLocaleString()]}),a.jsxs("li",{children:["Avg Revenue/Trip: ",f(e.profitabilityAnalysis.averageRevenuePerTrip||0)]}),a.jsxs("li",{children:["Avg Cost/Trip: ",f(e.profitabilityAnalysis.averageCostPerTrip||0)]}),a.jsxs("li",{children:["Monthly Breakdown: ",((N=e.profitabilityAnalysis.monthlyBreakdown)==null?void 0:N.length)||0," months"]})]})]})]})}):a.jsx("p",{className:"text-gray-500",children:"No profitability analysis data available"})},w=()=>!e.tripCostBreakdowns||e.tripCostBreakdowns.length===0?a.jsx("p",{className:"text-gray-500",children:"No trip cost breakdown data available"}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Trip Summary"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[e.tripCostBreakdowns.length," trip records available with detailed cost breakdowns"]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Trip ID"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Level"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Profit"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.tripCostBreakdowns.slice(0,10).map((N,S)=>{var P;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[((P=N.tripId)==null?void 0:P.substring(0,8))||"N/A","..."]}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.transportLevel||"N/A"}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.priorityLevel||"N/A"}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(N.totalRevenue||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(N.totalCost||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:f(N.grossProfit||0)}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.calculatedAt?new Date(N.calculatedAt).toLocaleDateString():"N/A"})]},N.id||S)})})]}),e.tripCostBreakdowns.length>10&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-center",children:["Showing first 10 of ",e.tripCostBreakdowns.length," records"]})]})]});return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white p-6 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Data Export Report"}),a.jsx("p",{className:"text-gray-100 mt-1",children:"Comprehensive financial data export"}),a.jsxs("p",{className:"text-gray-100 text-sm",children:["Generated: ",h(e.exportDate)]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Share Report",children:a.jsx(ts,{className:"h-5 w-5"})}),a.jsx("button",{onClick:r,className:"p-2 bg-gray-500 hover:bg-gray-400 rounded-md transition-colors",title:"Download Report",children:a.jsx(An,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 bg-red-500 hover:bg-red-400 rounded-md transition-colors",title:"Close Report",children:a.jsx(Yt,{className:"h-5 w-5"})})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Options"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(gd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search data types...",value:s,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-gray-500 focus:border-gray-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fd,{className:"h-4 w-4 text-gray-500"}),a.jsx("select",{value:o,onChange:N=>l(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:y.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{value:d,onChange:N=>m(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(N=>a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[v(N.id),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:N.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[N.count," records"]})]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:N.id})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:N.description})]},N.id))}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("costAnalysis"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(vv,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Cost Analysis Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Financial cost breakdown and metrics"})]})]}),c.has("costAnalysis")?a.jsx(uo,{className:"h-5 w-5 text-gray-400"}):a.jsx(co,{className:"h-5 w-5 text-gray-400"})]}),c.has("costAnalysis")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:b()})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("profitabilityAnalysis"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ia,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Profitability Analysis Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Profit margins and trends"})]})]}),c.has("profitabilityAnalysis")?a.jsx(uo,{className:"h-5 w-5 text-gray-400"}):a.jsx(co,{className:"h-5 w-5 text-gray-400"})]}),c.has("profitabilityAnalysis")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:j()})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{onClick:()=>p("tripCostBreakdowns"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ru,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Trip Cost Breakdowns"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.tripCostBreakdowns.length," individual trip records"]})]})]}),c.has("tripCostBreakdowns")?a.jsx(uo,{className:"h-5 w-5 text-gray-400"}):a.jsx(co,{className:"h-5 w-5 text-gray-400"})]}),c.has("tripCostBreakdowns")&&a.jsx("div",{className:"px-6 pb-4 border-t border-gray-200",children:w()})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Data Overview"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{children:[" Total Records: ",e.tripCostBreakdowns.length+2]}),a.jsx("li",{children:" Data Types: 3 (Cost Analysis, Profitability, Trip Details)"}),a.jsxs("li",{children:[" Export Format: ",d.toUpperCase()]}),a.jsxs("li",{children:[" Generated: ",h(e.exportDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Export Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[a.jsx(An,{className:"h-4 w-4 mr-2"}),"Download ",d.toUpperCase()," Export"]}),a.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:[a.jsx(ts,{className:"h-4 w-4 mr-2"}),"Share Export Link"]})]})]})]})]})]})]})},GH=()=>{console.log("TCC_DEBUG: FinancialDashboard - Component rendering");const[e,t]=g.useState("overview"),[r,n]=g.useState(!0),[s,i]=g.useState(null),[o,l]=g.useState(null),[c,u]=g.useState(null),[d,m]=g.useState([]),[f,h]=g.useState([]),[p,y]=g.useState("month"),[x]=g.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),v=[{id:"overview",name:"Financial Overview",icon:ft},{id:"revenue",name:"Revenue Analysis",icon:rr},{id:"costs",name:"Cost Analysis",icon:mo},{id:"profitability",name:"Profitability",icon:Sh},{id:"billing",name:"Reports",icon:Ia}];g.useEffect(()=>{b()},[p,x]);const b=async()=>{var C,F,X,re,ce;try{n(!0),i(null),console.log("TCC_DEBUG: FinancialDashboard.loadFinancialData() fetching analytics",{period:p,startDate:x.start,endDate:x.end});const[G,ne,ae]=await Promise.all([tu.getCostAnalysis({startDate:x.start,endDate:x.end}),tu.getProfitability({period:p}),f2.getCostBreakdowns({limit:50})]);(C=G.data)!=null&&C.success&&l(G.data.data),(F=ne.data)!=null&&F.success&&u(ne.data.data),(X=ae.data)!=null&&X.success&&m(ae.data.data)}catch(G){console.error("Error loading financial data:",G),i(((ce=(re=G.response)==null?void 0:re.data)==null?void 0:ce.error)||"Failed to load financial data")}finally{n(!1)}},j=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(C),w=C=>`${C.toFixed(1)}%`,N=C=>C>=20?"text-green-600":C>=10?"text-yellow-600":"text-red-600",S=C=>C>=20?"bg-green-100":C>=10?"bg-yellow-100":"bg-red-100",P=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const C={period:p,dateRange:x,totalRevenue:o.totalRevenue,totalCost:o.totalCost,grossProfit:o.grossProfit,averageProfitMargin:o.averageProfitMargin,totalTrips:o.totalTrips,averageRevenuePerMile:o.averageRevenuePerMile,averageCostPerMile:o.averageCostPerMile,averageUtilizationRate:o.averageUtilizationRate,generatedAt:new Date().toISOString()};_("financial-summary","Financial Summary Report",C)},O=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const C={period:p,dateRange:x,tripsByTransportLevel:o.tripsByTransportLevel,tripsByPriority:o.tripsByPriority,averageRevenuePerMile:o.averageRevenuePerMile,generatedAt:new Date().toISOString()};_("revenue","Revenue Analysis Report",C)},A=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const C={period:p,dateRange:x,totalCost:o.totalCost,averageCostPerMile:o.averageCostPerMile,costCenterBreakdown:o.costCenterBreakdown,tripCostBreakdowns:((d==null?void 0:d.breakdowns)||d||[]).slice(0,50),generatedAt:new Date().toISOString()};_("cost","Cost Analysis Report",C)},E=()=>{if(!c){alert("No profitability data available. Please refresh the data first.");return}const C={period:p,profitabilityAnalysis:c,generatedAt:new Date().toISOString()};_("profitability","Profitability Analysis Report",C)},D=()=>{if(!o){alert("No financial data available. Please refresh the data first.");return}const C={costAnalysis:o,profitabilityAnalysis:c,tripCostBreakdowns:((d==null?void 0:d.breakdowns)||d||[]).slice(0,100),exportDate:new Date().toISOString()};_("export-data","Financial Data Export",C)},_=(C,F,X)=>{const re={id:`${C}-${Date.now()}`,type:C,name:F,data:X,generatedAt:new Date().toISOString(),isOpen:!0};h(ce=>[re,...ce])},T=C=>{h(F=>F.map(X=>X.id===C?{...X,isOpen:!1}:X))},K=C=>{h(F=>F.filter(X=>X.id!==C))},R=C=>{const F=f.find(X=>X.id===C);if(F)try{let X,re,ce;F.type==="export-data"?(X=M(F.data),re="text/csv",ce="csv"):(X=JSON.stringify(F.data,null,2),re="application/json",ce="json");const G=new Blob([X],{type:re}),ne=window.URL.createObjectURL(G),ae=document.createElement("a");ae.href=ne,ae.download=`${F.name}_${new Date().toISOString().split("T")[0]}.${ce}`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),window.URL.revokeObjectURL(ne)}catch(X){console.error("Error downloading report:",X),alert("Error downloading report. Please try again.")}},M=C=>{const F=[];return C.costAnalysis&&(F.push("=== COST ANALYSIS ==="),F.push("Metric,Value"),F.push(`Total Revenue,${C.costAnalysis.totalRevenue||0}`),F.push(`Total Cost,${C.costAnalysis.totalCost||0}`),F.push(`Gross Profit,${C.costAnalysis.grossProfit||0}`),F.push(`Average Profit Margin,${C.costAnalysis.averageProfitMargin||0}%`),F.push(`Total Trips,${C.costAnalysis.totalTrips||0}`),F.push(`Average Revenue per Mile,${C.costAnalysis.averageRevenuePerMile||0}`),F.push(`Average Cost per Mile,${C.costAnalysis.averageCostPerMile||0}`),F.push(`Average Utilization Rate,${C.costAnalysis.averageUtilizationRate||0}%`),F.push("")),C.profitabilityAnalysis&&(F.push("=== PROFITABILITY ANALYSIS ==="),F.push("Metric,Value"),F.push(`Period,${C.profitabilityAnalysis.period||"N/A"}`),F.push(`Total Revenue,${C.profitabilityAnalysis.totalRevenue||0}`),F.push(`Total Cost,${C.profitabilityAnalysis.totalCost||0}`),F.push(`Gross Profit,${C.profitabilityAnalysis.grossProfit||0}`),F.push(`Profit Margin,${C.profitabilityAnalysis.profitMargin||0}%`),F.push(`Trip Count,${C.profitabilityAnalysis.tripCount||0}`),F.push(`Average Revenue per Trip,${C.profitabilityAnalysis.averageRevenuePerTrip||0}`),F.push(`Average Cost per Trip,${C.profitabilityAnalysis.averageCostPerTrip||0}`),F.push("")),C.tripCostBreakdowns&&C.tripCostBreakdowns.length>0&&(F.push("=== TRIP COST BREAKDOWNS ==="),F.push("Trip ID,Transport Level,Priority,Total Revenue,Total Cost,Gross Profit,Profit Margin,Revenue per Mile,Cost per Mile,Calculated At"),C.tripCostBreakdowns.forEach(X=>{F.push([X.tripId||"N/A",X.transportLevel||"N/A",X.priorityLevel||"N/A",X.totalRevenue||0,X.totalCost||0,X.grossProfit||0,X.profitMargin||0,X.revenuePerMile||0,X.costPerMile||0,X.calculatedAt?new Date(X.calculatedAt).toISOString():"N/A"].join(","))})),F.join(`
`)},B=C=>{const F=f.find(X=>X.id===C);F&&alert(`Share link for ${F.name} would be generated here.`)},I=()=>{const C=[],F=["Jan","Feb","Mar","Apr","May","Jun"];for(let X=0;X<F.length;X++){const re=5e4+X*5e3+Math.random()*1e4,ce=35e3+X*3e3+Math.random()*8e3;C.push({month:F[X],revenue:Math.round(re),cost:Math.round(ce),profit:Math.round(re-ce)})}return C},H=()=>[{name:"Crew Labor",value:45e3,color:"#8884d8"},{name:"Vehicle",value:25e3,color:"#82ca9d"},{name:"Fuel",value:15e3,color:"#ffc658"},{name:"Maintenance",value:12e3,color:"#ff7300"},{name:"Overhead",value:18e3,color:"#8dd1e1"}],k=()=>{const C=[],F=["Jan","Feb","Mar","Apr","May","Jun"];for(let X=0;X<F.length;X++){const re=15+X*2+Math.random()*5;C.push({month:F[X],margin:Math.round(re*10)/10,profit:Math.round(2e4+X*3e3+Math.random()*5e3)})}return C},$=I(),z=H(),L=k();return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nr,{className:"h-5 w-5 animate-spin text-blue-600"}),a.jsx("span",{className:"text-gray-600",children:"Loading financial data..."})]})}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Ot,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:s}),a.jsx("button",{onClick:b,className:"mt-2 text-sm text-red-600 hover:text-red-500 underline",children:"Try again"})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Comprehensive financial analysis and reporting"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:p,onChange:C=>y(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[a.jsx("option",{value:"week",children:"Last Week"}),a.jsx("option",{value:"month",children:"Last Month"}),a.jsx("option",{value:"quarter",children:"Last Quarter"}),a.jsx("option",{value:"year",children:"Last Year"})]}),a.jsxs("button",{onClick:b,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:v.map(C=>a.jsx("button",{onClick:()=>{console.log("TCC_DEBUG: FinancialDashboard - Tab clicked:",C.id),t(C.id)},className:`py-2 px-1 border-b-2 font-medium text-sm ${e===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(C.icon,{className:"h-4 w-4 mr-2"}),C.name]})},C.id))})}),e==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.totalRevenue):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(mo,{className:"h-8 w-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Costs"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.totalCost):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(rr,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gross Profit"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o?j(o.grossProfit):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ft,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Profit Margin"}),a.jsx("p",{className:`text-2xl font-semibold ${N((o==null?void 0:o.averageProfitMargin)||0)}`,children:o?w(o.averageProfitMargin):"0.0%"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Te,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:(o==null?void 0:o.totalTrips)||0})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(St,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue per Mile"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o?j(o.averageRevenuePerMile):"$0.00"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(sr,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Utilization Rate"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o?w(o.averageUtilizationRate*100):"0.0%"})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue vs Cost Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(I0,{data:$,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ft,{tickFormatter:C=>`$${(C/1e3).toFixed(0)}k`}),a.jsx(Mt,{formatter:C=>[j(C),""],labelFormatter:C=>`Month: ${C}`}),a.jsx(cr,{}),a.jsx(us,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Revenue"}),a.jsx(us,{type:"monotone",dataKey:"cost",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Cost"})]})})})]})]}),e==="revenue"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Revenue Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Transport Level"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(o==null?void 0:o.tripsByTransportLevel)&&Object.entries(o.tripsByTransportLevel).map(([C,F])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.count}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(F.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(F.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(F.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(F.margin)} ${N(F.margin)}`,children:w(F.margin)})})]},C))})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Priority Level"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(o==null?void 0:o.tripsByPriority)&&Object.entries(o.tripsByPriority).map(([C,F])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.count}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(F.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(F.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(F.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(F.margin)} ${N(F.margin)}`,children:w(F.margin)})})]},C))})]})})]})]}),e==="costs"&&a.jsxs("div",{className:"space-y-6",children:[console.log("TCC_DEBUG: FinancialDashboard - Rendering Cost Analysis tab"),console.log("TCC_DEBUG: FinancialDashboard - costAnalysis data:",o),console.log("TCC_DEBUG: FinancialDashboard - tripCostBreakdowns:",d),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cost Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(Go,{children:[a.jsx(oi,{data:z,cx:"50%",cy:"50%",labelLine:!1,label:({name:C,percent:F})=>`${C} ${(F*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:z.map((C,F)=>a.jsx(Dn,{fill:C.color},`cell-${F}`))}),a.jsx(Mt,{formatter:C=>[j(C),"Cost"]})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Trip Cost Breakdowns"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trip ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:((d==null?void 0:d.breakdowns)||d||[]).slice(0,10).map(C=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[C.tripId.substring(0,8),"..."]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.transportLevel}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.totalRevenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.totalCost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.grossProfit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(C.profitMargin)} ${N(C.profitMargin)}`,children:w(C.profitMargin)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.calculatedAt).toLocaleDateString()})]},C.id))})]})})]})]}),e==="profitability"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profitability Analysis"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profitability Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Dt,{width:"100%",height:"100%",children:a.jsxs(R0,{data:L,children:[a.jsx(qr,{strokeDasharray:"3 3"}),a.jsx(Vr,{dataKey:"month"}),a.jsx(Ft,{yAxisId:"left"}),a.jsx(Ft,{yAxisId:"right",orientation:"right"}),a.jsx(Mt,{formatter:(C,F)=>[F==="margin"?`${C}%`:j(C),F==="margin"?"Margin":"Profit"],labelFormatter:C=>`Month: ${C}`}),a.jsx(cr,{}),a.jsx(zr,{yAxisId:"left",type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Profit"}),a.jsx(zr,{yAxisId:"right",type:"monotone",dataKey:"margin",stroke:"#10b981",strokeWidth:2,name:"Margin %"})]})})})]}),(c==null?void 0:c.monthlyBreakdown)&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.monthlyBreakdown.map((C,F)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.month}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.tripCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.revenue)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.cost)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(C.profit)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(C.margin)} ${N(C.margin)}`,children:w(C.margin)})})]},F))})]})})]})]}),e==="billing"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reports"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Generate Reports"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:P,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Ia,{className:"h-6 w-6 text-blue-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Financial Summary"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Complete financial overview"})]})]}),a.jsxs("button",{onClick:O,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(pt,{className:"h-6 w-6 text-green-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Revenue Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Detailed revenue analysis"})]})]}),a.jsxs("button",{onClick:A,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(mo,{className:"h-6 w-6 text-red-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Cost Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Detailed cost breakdown"})]})]}),a.jsxs("button",{onClick:E,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Sh,{className:"h-6 w-6 text-purple-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Profitability Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Profit margin analysis"})]})]}),a.jsxs("button",{onClick:D,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(An,{className:"h-6 w-6 text-gray-600 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Export Data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Export to CSV format"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Reports"}),f.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ia,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("p",{children:"No reports generated yet"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Generate your first report using the options above"})]}):a.jsx("div",{className:"space-y-4",children:f.map(C=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ia,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:C.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Generated: ",new Date(C.generatedAt).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>R(C.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Download Report",children:a.jsx(An,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>B(C.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Share Report",children:a.jsx(ts,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>K(C.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Remove Report",children:a.jsx(Yt,{className:"h-4 w-4"})})]})]})},C.id))})]})]}),f.filter(C=>C.isOpen).map(C=>a.jsxs("div",{className:"mt-6",children:[C.type==="financial-summary"&&a.jsx(UH,{data:C.data,onClose:()=>T(C.id),onDownload:()=>R(C.id),onShare:()=>B(C.id)}),C.type==="revenue"&&a.jsx(zH,{data:C.data,onClose:()=>T(C.id),onDownload:()=>R(C.id),onShare:()=>B(C.id)}),C.type==="cost"&&a.jsx(WH,{data:C.data,onClose:()=>T(C.id),onDownload:()=>R(C.id),onShare:()=>B(C.id)}),C.type==="profitability"&&a.jsx(HH,{data:C.data,onClose:()=>T(C.id),onDownload:()=>R(C.id),onShare:()=>B(C.id)}),C.type==="export-data"&&a.jsx(KH,{data:C.data,onClose:()=>T(C.id),onDownload:()=>R(C.id),onShare:()=>B(C.id)})]},C.id))]})},qH=()=>{const[e,t]=g.useState([]),[r,n]=g.useState([]),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,u]=g.useState("all"),[d,m]=g.useState("all");g.useEffect(()=>{f()},[]);const f=async()=>{var v,b,j,w,N;try{if(i(!0),!localStorage.getItem("token")){l("No authentication token found");return}const P=await Q.get("/api/tcc/agencies");if(!((v=P.data)!=null&&v.success))throw new Error(`Failed to fetch agencies: ${((b=P.data)==null?void 0:b.message)||"Unknown error"}`);const O=P.data;console.log(" TCCUnitsManagement: Agencies response:",O),O.success&&n(O.data||[]);const A=await Q.get("/api/tcc/units");if(!((j=A.data)!=null&&j.success))throw new Error(`Failed to fetch units: ${((w=A.data)==null?void 0:w.message)||"Unknown error"}`);const E=A.data;console.log(" TCCUnitsManagement: Units response:",E),E.success&&(t(E.data||[]),console.log(" TCCUnitsManagement: Units count:",((N=E.data)==null?void 0:N.length)||0))}catch(S){console.error("Error fetching data:",S),l(S instanceof Error?S.message:"An error occurred")}finally{i(!1)}},h=v=>{const b=r.find(j=>j.id===v);return b?b.name:`Agency ${v}`},p=v=>{switch(v){case"AVAILABLE":return"bg-green-100 text-green-800";case"COMMITTED":return"bg-blue-100 text-blue-800";case"OUT_OF_SERVICE":return"bg-red-100 text-red-800";case"MAINTENANCE":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},y=v=>{switch(v){case"AMBULANCE":return"bg-red-100 text-red-800";case"WHEELCHAIR_VAN":return"bg-blue-100 text-blue-800";case"CRITICAL_CARE":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},x=e.filter(v=>{const b=c==="all"||v.agencyId===c,j=d==="all"||v.currentStatus===d;return b&&j});return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:o})}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:f,className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",children:"Retry"})})]})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Units Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage and monitor all EMS units across agencies"})]}),a.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Refresh"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Units"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="AVAILABLE").length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Committed"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="COMMITTED").length})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Service"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(v=>v.currentStatus==="OUT_OF_SERVICE").length})]})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Agency"}),a.jsxs("select",{value:c,onChange:v=>u(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Agencies"}),r.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),a.jsxs("select",{value:d,onChange:v=>m(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"AVAILABLE",children:"Available"}),a.jsx("option",{value:"COMMITTED",children:"Committed"}),a.jsx("option",{value:"OUT_OF_SERVICE",children:"Out of Service"}),a.jsx("option",{value:"MAINTENANCE",children:"Maintenance"})]})]})]})}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Units (",x.length,")"]}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"All EMS units across all agencies"})]}),a.jsx("div",{className:"border-t border-gray-200",children:x.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No units found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c==="all"&&d==="all"?"No units have been created yet.":"No units match the current filters."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trips Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:v.unitNumber})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.unitNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:v.isActive?"Active":"Inactive"})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:h(v.agencyId)}),a.jsx("div",{className:"text-sm text-gray-500",children:v.agencyId})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(v.type)}`,children:v.type.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(v.currentStatus)}`,children:v.currentStatus.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:v.capabilities.map((b,j)=>a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:b},j))})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.totalTripsCompleted}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.lastStatusUpdate).toLocaleString()})]},v.id))})]})})})]})]})};class VH{constructor(){El(this,"baseUrl","/api/optimize")}async optimizeRoutes(t){try{const r=await fetch(`${this.baseUrl}/routes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||"Failed to optimize routes");return n}catch(r){return console.error("Error optimizing routes:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async analyzeBackhaul(t){try{const r=await fetch(`${this.baseUrl}/backhaul`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({requestIds:t})}),n=await r.json();if(!r.ok)throw new Error(n.error||"Failed to analyze backhaul opportunities");return n}catch(r){return console.error("Error analyzing backhaul:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async getRevenueAnalytics(t="24h",r){try{const n=new URLSearchParams({timeframe:t});r&&n.append("agencyId",r);const s=await fetch(`${this.baseUrl}/revenue?${n}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to get revenue analytics");return i}catch(n){return console.error("Error getting revenue analytics:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getPerformanceMetrics(t="24h",r){try{const n=new URLSearchParams({timeframe:t});r&&n.append("unitId",r);const s=await fetch(`${this.baseUrl}/performance?${n}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to get performance metrics");return i}catch(n){return console.error("Error getting performance metrics:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getAvailableUnits(){try{const t=await fetch("/api/units/available",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get available units");return r.data||[]}catch(t){return console.error("Error getting available units:",t),[]}}async getPendingRequests(){try{const t=await fetch("/api/trips?status=PENDING",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get pending requests");return(r.data||[]).map(n=>{var s,i,o,l;return{id:n.id,patientId:n.patientId,originFacilityId:n.fromFacilityId||"unknown",destinationFacilityId:n.toFacilityId||"unknown",transportLevel:n.transportLevel||"BLS",priority:n.priority||"MEDIUM",status:n.status||"PENDING",specialRequirements:n.specialRequirements||"",requestTimestamp:new Date(n.createdAt),readyStart:new Date(n.scheduledTime||n.createdAt),readyEnd:new Date(new Date(n.scheduledTime||n.createdAt).getTime()+60*60*1e3),originLocation:{lat:((s=n.fromLocation)==null?void 0:s.lat)||40.7128,lng:((i=n.fromLocation)==null?void 0:i.lng)||-74.006},destinationLocation:{lat:((o=n.toLocation)==null?void 0:o.lat)||40.7589,lng:((l=n.toLocation)==null?void 0:l.lng)||-73.9851}}})}catch(t){return console.error("Error getting pending requests:",t),[]}}async updateOptimizationWeights(t){try{const r=await fetch(`${this.baseUrl}/weights`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({weights:t})});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to update optimization weights")}return!0}catch(r){return console.error("Error updating optimization weights:",r),!1}}async getOptimizationSettings(){try{const t=await fetch(`${this.baseUrl}/settings`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to get optimization settings");return r.data||{}}catch(t){return console.error("Error getting optimization settings:",t),{}}}async saveOptimizationSettings(t){try{const r=await fetch(`${this.baseUrl}/settings`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to save optimization settings")}return!0}catch(r){return console.error("Error saving optimization settings:",r),!1}}}const cc=new VH,YH=()=>{const[e,t]=g.useState(""),[r,n]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(null),[d,m]=g.useState(null),[f,h]=g.useState(null),[p,y]=g.useState(null),[x,v]=g.useState(!1),[b,j]=g.useState(!1),[w,N]=g.useState(!1),[S,P]=g.useState(!1),[O,A]=g.useState(null),[E,D]=g.useState(!1),[_,T]=g.useState({weights:{deadheadMiles:.5,waitTime:.1,backhaulBonus:25,overtimeRisk:2,baseRevenue:1},constraints:{maxDeadheadMiles:50,maxWaitTime:120,maxOvertimeHours:2,maxBackhaulDistance:15,maxBackhaulTimeWindow:90},autoOptimize:!1,refreshInterval:30});g.useEffect(()=>{R(),K()},[]);const K=()=>{try{const L=localStorage.getItem("tcc_optimization_settings");if(L){const C=JSON.parse(L);T(F=>({...F,...C})),console.log("TCC_DEBUG: Loaded saved optimization settings")}}catch(L){console.error("TCC_DEBUG: Error loading saved settings:",L)}};g.useEffect(()=>{if(_.autoOptimize){const L=setInterval(()=>{e&&o.length>0&&H()},_.refreshInterval*1e3);return()=>clearInterval(L)}},[_.autoOptimize,_.refreshInterval,e,o]);const R=async()=>{try{await Promise.all([M(),B(),I()])}catch(L){console.error("TCC_DEBUG: Error loading initial data:",L),A("Failed to load initial data")}},M=async()=>{var L,C,F;j(!0);try{if(console.log("TCC_DEBUG: Loading system-wide units for TCC optimization"),!localStorage.getItem("token"))throw new Error("No authentication token found");const re=await Q.get("/api/tcc/units");if(!((L=re.data)!=null&&L.success))throw new Error(`Failed to fetch units: ${((C=re.data)==null?void 0:C.message)||"Unknown error"}`);const ce=re.data;if(console.log("TCC_DEBUG: Units API response:",ce),ce.success)console.log("TCC_DEBUG: Units loaded:",((F=ce.data)==null?void 0:F.length)||0),n(ce.data||[]);else throw new Error(ce.error||"Failed to load units")}catch(X){A("Failed to load units"),console.error("TCC_DEBUG: Units loading error:",X)}finally{j(!1)}},B=async()=>{var L,C;N(!0);try{if(console.log("TCC_DEBUG: Loading system-wide pending requests for TCC optimization"),!localStorage.getItem("token"))throw new Error("No authentication token found");const X=await Q.get("/api/trips?status=PENDING");if(!((L=X.data)!=null&&L.success))throw new Error(`Failed to fetch pending requests: ${((C=X.data)==null?void 0:C.message)||"Unknown error"}`);const re=X.data;if(console.log("TCC_DEBUG: Pending requests API response:",re),re.success){const ce=(re.data||[]).map(G=>({id:G.id,patientId:G.patientId,originFacilityId:G.fromFacilityId||G.fromLocation||"Unknown",destinationFacilityId:G.toFacilityId||G.toLocation||"Unknown",transportLevel:G.transportLevel||"BLS",priority:G.priority||"MEDIUM",status:G.status||"PENDING",specialRequirements:G.specialNeeds||G.specialRequirements||"",requestTimestamp:new Date(G.requestTimestamp||G.createdAt),readyStart:new Date(G.scheduledTime||G.createdAt),readyEnd:new Date(new Date(G.scheduledTime||G.createdAt).getTime()+36e5),originLocation:{lat:G.originLatitude||40.7128,lng:G.originLongitude||-74.006},destinationLocation:{lat:G.destinationLatitude||40.7589,lng:G.destinationLongitude||-73.9851}}));console.log("TCC_DEBUG: Pending requests loaded:",ce.length),i(ce)}else throw new Error(re.error||"Failed to load pending requests")}catch(F){A("Failed to load pending requests"),console.error("TCC_DEBUG: Requests loading error:",F)}finally{N(!1)}},I=async()=>{P(!0);try{console.log("TCC_DEBUG: Loading analytics data...");const[L,C]=await Promise.all([cc.getRevenueAnalytics("24h"),cc.getPerformanceMetrics("24h")]);console.log("TCC_DEBUG: Revenue analytics response:",L),console.log("TCC_DEBUG: Performance metrics response:",C),h(L),y(C)}catch(L){console.error("TCC_DEBUG: Analytics loading error:",L),A("Failed to load analytics data")}finally{P(!1)}},H=async()=>{if(!e||o.length===0){A("Please select a unit and at least one request");return}v(!0),A(null);try{const L=await cc.optimizeRoutes({unitId:e,requestIds:o,constraints:_.constraints});u(L)}catch(L){A("Failed to optimize routes"),console.error("Optimization error:",L)}finally{v(!1)}},k=async()=>{if(o.length<2){A("Please select at least 2 requests for backhaul analysis");return}v(!0),A(null);try{console.log("TCC_DEBUG: Starting backhaul analysis with selected requests:",o);const L=await cc.analyzeBackhaul(o);console.log("TCC_DEBUG: Backhaul analysis response:",L),m(L)}catch(L){A("Failed to analyze backhaul opportunities"),console.error("TCC_DEBUG: Backhaul analysis error:",L)}finally{v(!1)}},$=async()=>{var L,C;v(!0),A(null);try{if(console.log("TCC_DEBUG: Starting return trip analysis..."),!localStorage.getItem("token"))throw new Error("No authentication token found");const X=await Q.get("/api/optimize/return-trips");if(!((L=X.data)!=null&&L.success))throw new Error(`Failed to fetch return trips: ${((C=X.data)==null?void 0:C.message)||"Unknown error"}`);const re=X.data;if(console.log("TCC_DEBUG: Return trips response:",re),re.success){const ce={success:!0,data:{pairs:re.data.returnTrips||[],statistics:re.data.statistics||{},recommendations:re.data.recommendations||[]}};m(ce)}else throw new Error(re.error||"Failed to load return trips")}catch(F){A("Failed to analyze return trip opportunities"),console.error("TCC_DEBUG: Return trip analysis error:",F)}finally{v(!1)}},z=L=>{l(C=>C.includes(L)?C.filter(F=>F!==L):[...C,L])};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Route Optimization"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optimize routes across all agencies and units in the system."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>D(!E),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Do,{className:"h-4 w-4 mr-2"}),"Settings"]}),a.jsxs("button",{onClick:R,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),E&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Settings"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Auto-Optimization"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Auto-optimize every ",_.refreshInterval," seconds"]}),a.jsx("input",{type:"checkbox",checked:_.autoOptimize,onChange:L=>T(C=>({...C,autoOptimize:L.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Interval (seconds)"}),a.jsx("input",{type:"number",value:_.refreshInterval,onChange:L=>T(C=>({...C,refreshInterval:parseInt(L.target.value)||30})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"10",max:"300"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Optimization Weights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadhead Miles Weight"}),a.jsx("input",{type:"number",step:"0.1",value:_.weights.deadheadMiles,onChange:L=>T(C=>({...C,weights:{...C.weights,deadheadMiles:parseFloat(L.target.value)||.5}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wait Time Weight"}),a.jsx("input",{type:"number",step:"0.1",value:_.weights.waitTime,onChange:L=>T(C=>({...C,weights:{...C.weights,waitTime:parseFloat(L.target.value)||.1}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backhaul Bonus ($)"}),a.jsx("input",{type:"number",step:"5",value:_.weights.backhaulBonus,onChange:L=>T(C=>({...C,weights:{...C.weights,backhaulBonus:parseFloat(L.target.value)||25}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overtime Risk Weight"}),a.jsx("input",{type:"number",step:"0.5",value:_.weights.overtimeRisk,onChange:L=>T(C=>({...C,weights:{...C.weights,overtimeRisk:parseFloat(L.target.value)||2}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"5"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Constraints"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Deadhead Miles"}),a.jsx("input",{type:"number",value:_.constraints.maxDeadheadMiles,onChange:L=>T(C=>({...C,constraints:{...C.constraints,maxDeadheadMiles:parseInt(L.target.value)||50}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"10",max:"200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Wait Time (minutes)"}),a.jsx("input",{type:"number",value:_.constraints.maxWaitTime,onChange:L=>T(C=>({...C,constraints:{...C.constraints,maxWaitTime:parseInt(L.target.value)||120}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"30",max:"300"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Overtime Hours"}),a.jsx("input",{type:"number",value:_.constraints.maxOvertimeHours,onChange:L=>T(C=>({...C,constraints:{...C.constraints,maxOvertimeHours:parseInt(L.target.value)||2}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"0",max:"8"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Backhaul Distance (miles)"}),a.jsx("input",{type:"number",value:_.constraints.maxBackhaulDistance,onChange:L=>T(C=>({...C,constraints:{...C.constraints,maxBackhaulDistance:parseInt(L.target.value)||15}})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",min:"5",max:"50"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{localStorage.setItem("tcc_optimization_settings",JSON.stringify(_)),D(!1)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(Do,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Unit"}),b?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Nr,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading units..."})]}):a.jsxs("select",{value:e,onChange:L=>t(L.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"Select a unit..."}),r&&r.length>0?r.map(L=>a.jsxs("option",{value:L.id,children:[L.unitNumber||"Unknown"," (",L.type||"Unknown",") - ",L.currentStatus||"Unknown"]},L.id)):a.jsx("option",{disabled:!0,children:"No units available"})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Requests"}),w?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Nr,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading requests..."})]}):a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s&&s.length>0?s.map(L=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.includes(L.id),onChange:()=>z(L.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[L.patientId||"Unknown"," - ",L.originFacilityId||"Unknown","  ",L.destinationFacilityId||"Unknown"]})]},L.id)):a.jsx("p",{className:"text-sm text-gray-500",children:"No pending requests available"})})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:H,disabled:x||!e||o.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(Nr,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Nh,{className:"h-4 w-4 mr-2"}),"Optimize Routes"]}),a.jsxs("button",{onClick:k,disabled:x||o.length<2,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(g2,{className:"h-4 w-4 mr-2"}),"Analyze Backhaul"]}),a.jsxs("button",{onClick:$,disabled:x,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Nh,{className:"h-4 w-4 mr-2"}),"Find Return Trips"]})]}),O&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Ot,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:O})})]})]})}),c&&c.success&&c.data&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Results"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(pt,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Revenue"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:["$",typeof c.data.totalRevenue=="number"?c.data.totalRevenue.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(St,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Distance"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:[typeof c.data.totalDeadheadMiles=="number"?c.data.totalDeadheadMiles.toFixed(1):"0.0"," mi"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(sr,{className:"h-5 w-5 text-orange-600"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Total Wait Time"})]}),a.jsxs("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:[typeof c.data.totalWaitTime=="number"?c.data.totalWaitTime.toFixed(0):"0"," min"]})]})]}),c.data.optimizedRequests&&c.data.optimizedRequests.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Optimized Requests"}),a.jsx("div",{className:"space-y-2",children:c.data.optimizedRequests.map((L,C)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Request ",C+1]}),a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Score: ",typeof L.score=="number"?L.score.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Revenue: $",typeof L.revenue=="number"?L.revenue.toFixed(2):"0.00"," | Deadhead: ",typeof L.deadheadMiles=="number"?L.deadheadMiles.toFixed(1):"0.0"," mi"]})]},C))})]})]}),d&&d.success&&d.data&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Backhaul Analysis"}),a.jsxs("div",{className:"space-y-4",children:[d.data.pairs&&d.data.pairs.map((L,C)=>{var F,X;return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[((F=L.request1)==null?void 0:F.patientId)||"Unknown","  ",((X=L.request2)==null?void 0:X.patientId)||"Unknown"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Potential savings: $",typeof L.revenueBonus=="number"?L.revenueBonus.toFixed(2):"0.00"]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Distance: ",typeof L.distance=="number"?L.distance.toFixed(1):"0.0"," mi | Time Window: ",L.timeWindow||"0"," min | Efficiency: ",typeof L.efficiency=="number"?(L.efficiency*100).toFixed(1):"0.0","%"]})]}),a.jsx(De,{className:"h-5 w-5 text-green-500"})]})},C)}),(!d.data.pairs||d.data.pairs.length===0)&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No backhaul opportunities found"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Performance Analytics"}),S?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Nr,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading analytics..."})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f&&f.success&&f.data&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"System Revenue (24h)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue:"}),a.jsxs("span",{className:"text-sm font-medium",children:["$",typeof f.data.totalRevenue=="number"?f.data.totalRevenue.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Revenue per Hour:"}),a.jsxs("span",{className:"text-sm font-medium",children:["$",typeof f.data.revenuePerHour=="number"?f.data.revenuePerHour.toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof f.data.loadedMileRatio=="number"?(f.data.loadedMileRatio*100).toFixed(1):"0.0","%"]})]})]})]}),p&&p.success&&p.data&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"System Performance (24h)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Trips:"}),a.jsx("span",{className:"text-sm font-medium",children:p.data.totalTrips||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Average Response Time:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof p.data.averageResponseTime=="number"?p.data.averageResponseTime.toFixed(1):"0.0"," min"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency:"}),a.jsxs("span",{className:"text-sm font-medium",children:[typeof p.data.efficiency=="number"?(p.data.efficiency*100).toFixed(1):"0.0","%"]})]})]})]})]})]})]})},$r=(e,t=0)=>{if(e==null||e==="")return t;const r=Number(e);return isNaN(r)?t:r},vf=(e,t=2,r="0.00")=>$r(e,0).toFixed(t),uc=(e,t=1)=>`${($r(e,0)*100).toFixed(t)}%`,ys=(e,t=2)=>`$${$r(e,0).toFixed(t)}`,yw=({showBackhaulPairs:e=!0,showUnitManagement:t=!0,title:r="Revenue Optimization",className:n=""})=>{const[s,i]=g.useState(null),[o,l]=g.useState([]),[,c]=g.useState([]),[u,d]=g.useState(null),[m,f]=g.useState(!0);g.useEffect(()=>{h()},[]);const h=async()=>{try{f(!0);const p=await Q.get("/api/optimize/revenue?timeframe=24h");p.data.success&&i({totalRevenue:$r(p.data.data.totalRevenue,0),revenuePerHour:$r(p.data.data.revenuePerHour,0),loadedMileRatio:$r(p.data.data.loadedMileRatio,0),backhaulPairs:0,averageEfficiency:.75,potentialRevenueIncrease:0,totalTrips:$r(p.data.data.totalTrips,0),averageRevenuePerTrip:$r(p.data.data.averageRevenuePerTrip,0),totalMiles:$r(p.data.data.totalMiles,0),loadedMiles:$r(p.data.data.loadedMiles,0)});const y=await Q.get("/api/optimize/backhaul");y.data.success&&(l(y.data.data.pairs||[]),i(b=>{var j,w;return b?{...b,backhaulPairs:((j=y.data.data.pairs)==null?void 0:j.length)||0,potentialRevenueIncrease:((w=y.data.data.pairs)==null?void 0:w.reduce((N,S)=>N+$r(S.revenueBonus,0),0))||0}:null}));const x=await Q.get("/api/units");x.data.success&&c(x.data.data||[]);const v=await Q.get("/api/units/analytics");v.data.success&&d(v.data.data)}catch(p){console.error("Error loading optimization data:",p)}finally{f(!1)}};return m?a.jsx("div",{className:`bg-white rounded-lg p-6 shadow-sm ${n}`,children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})}):a.jsxs("div",{className:`space-y-6 ${n}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(wr,{className:"h-4 w-4"}),a.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Analytics"}),a.jsx(pt,{className:"h-6 w-6 text-green-600"})]}),s&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue:"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:ys(s.totalRevenue)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Revenue/Hour:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:ys(s.revenuePerHour)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:uc(s.loadedMileRatio)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Trips:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.totalTrips})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Revenue/Trip:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:ys(s.averageRevenuePerTrip)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backhaul Opportunities"}),a.jsx(bv,{className:"h-6 w-6 text-blue-600"})]}),s&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Available Pairs:"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:s.backhaulPairs})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Efficiency:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:uc(s.averageEfficiency)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Potential Increase:"}),a.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",ys(s.potentialRevenueIncrease)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Miles:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[vf(s.totalMiles,1)," mi"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Loaded Miles:"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[vf(s.loadedMiles,1)," mi"]})]})]})]}),t&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Unit Management"}),a.jsx(wr,{className:"h-6 w-6 text-purple-600"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Available Units:"}),a.jsx("span",{className:"text-lg font-semibold text-green-600",children:(u==null?void 0:u.availableUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Committed Units:"}),a.jsx("span",{className:"text-sm font-medium text-yellow-600",children:(u==null?void 0:u.committedUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Units:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:(u==null?void 0:u.totalUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Out of Service:"}),a.jsx("span",{className:"text-sm font-medium text-red-600",children:(u==null?void 0:u.outOfServiceUnits)||0})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:u!=null&&u.efficiency?`${(u.efficiency*100).toFixed(1)}%`:"0%"})]})]})]})]}),e&&o.length>0&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recommended Backhaul Pairs"}),a.jsx(g2,{className:"h-5 w-5 text-blue-600"})]}),a.jsx("div",{className:"space-y-4",children:o.slice(0,5).map((p,y)=>{var x,v,b,j,w,N;return a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(bv,{className:"h-5 w-5 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Pair #",y+1]}),a.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Efficiency: ",uc(p.efficiency)]})]}),a.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["+",ys(p.revenueBonus)," bonus"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"bg-white rounded p-3",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Request 1"}),a.jsxs("div",{children:["Patient: ",((x=p.request1)==null?void 0:x.patientId)||"N/A"]}),a.jsxs("div",{children:["Level: ",((v=p.request1)==null?void 0:v.transportLevel)||"N/A"]}),a.jsxs("div",{children:["Priority: ",((b=p.request1)==null?void 0:b.priority)||"N/A"]})]}),a.jsxs("div",{className:"bg-white rounded p-3",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Request 2"}),a.jsxs("div",{children:["Patient: ",((j=p.request2)==null?void 0:j.patientId)||"N/A"]}),a.jsxs("div",{children:["Level: ",((w=p.request2)==null?void 0:w.transportLevel)||"N/A"]}),a.jsxs("div",{children:["Priority: ",((N=p.request2)==null?void 0:N.priority)||"N/A"]})]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["Distance: ",vf(p.distance,1)," mi"]}),a.jsxs("span",{children:["Time Window: ",p.timeWindow," min"]})]})]},y)})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Metrics"}),a.jsx(ft,{className:"h-5 w-5 text-indigo-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?uc(s.loadedMileRatio):"0.0%"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Loaded Mile Ratio"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s?ys(s.revenuePerHour,0):"$0","/hr"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Revenue per Hour"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?s.totalTrips:0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Trips"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Backhaul Pairs"})]})]})]})]})},XH=()=>{const[e,t]=g.useState("overview"),[r,n]=g.useState(null),[s,i]=g.useState(null),[o,l]=g.useState(!0),[c,u]=g.useState(null),d=[{id:"overview",name:"System Overview",icon:ft},{id:"revenue",name:"Revenue Optimization",icon:pt},{id:"performance",name:"Performance",icon:rr},{id:"units",name:"Unit Management",icon:wr},{id:"settings",name:"Revenue Settings",icon:Do}];return g.useEffect(()=>{(async()=>{try{l(!0),u(null);const f=localStorage.getItem("token");if(!f){u("Authentication required");return}const h={Authorization:`Bearer ${f}`,"Content-Type":"application/json"},p=await fetch("/api/tcc/analytics/overview",{headers:h});if(!p.ok)throw new Error("Failed to fetch overview data");const y=await p.json();y.success&&n(y.data);const x=await fetch("/api/tcc/analytics/trips",{headers:h});if(!x.ok)throw new Error("Failed to fetch trip statistics");const v=await x.json();v.success&&i(v.data)}catch(f){console.error("Error fetching analytics data:",f),u(f instanceof Error?f.message:"Failed to load analytics data")}finally{l(!1)}})()},[]),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View system-wide analytics, performance metrics, and revenue optimization across all agencies."})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:d.map(m=>{const f=m.icon;return a.jsxs("button",{onClick:()=>t(m.id),className:`${e===m.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2`,children:[a.jsx(f,{className:"h-4 w-4"}),a.jsx("span",{children:m.name})]},m.id)})})}),e==="overview"&&a.jsxs("div",{className:"space-y-6",children:[o&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading analytics data..."})]}),c&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading analytics"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:c})]})]})}),!o&&!c&&r&&s&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ft,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.totalTrips})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(wr,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Units"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.activeUnits})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(rr,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Agencies"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.activeAgencies})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Hospitals"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.activeHospitals})]})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trip Status Breakdown"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.completedTrips})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Pending"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.pendingTrips})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Accepted"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.acceptedTrips})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Cancelled"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.cancelledTrips})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transport Level Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"BLS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.tripsByLevel.BLS})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"ALS"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.tripsByLevel.ALS})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"CCT"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.tripsByLevel.CCT})]})]})]})]})]})]}),e==="revenue"&&a.jsx(yw,{showBackhaulPairs:!0,showUnitManagement:!0,title:"Revenue Optimization Analytics"}),e==="performance"&&a.jsx(QH,{}),e==="units"&&a.jsx(yw,{showBackhaulPairs:!1,showUnitManagement:!0,title:"Unit Management Analytics"}),e==="settings"&&a.jsx(ZH,{})]})},QH=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(!0),[s,i]=g.useState(null);return g.useEffect(()=>{(async()=>{try{n(!0),i(null);const l=localStorage.getItem("token");if(!l){i("Authentication required");return}const c={Authorization:`Bearer ${l}`,"Content-Type":"application/json"},u=await fetch("/api/optimize/performance",{headers:c});if(!u.ok)throw new Error("Failed to fetch performance data");const d=await u.json();d.success&&t(d.data)}catch(l){console.error("Error fetching performance data:",l),i(l instanceof Error?l.message:"Failed to load performance data")}finally{n(!1)}})()},[]),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading performance data..."})]}):s?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading performance data"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:s})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(rr,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(e==null?void 0:e.totalTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(wr,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Trips"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(e==null?void 0:e.completedTrips)||0})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ft,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Efficiency"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e!=null&&e.efficiency?`${(e.efficiency*100).toFixed(1)}%`:"0%"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(pt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),a.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["$",(e==null?void 0:e.totalRevenue)||0]})]})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Response Times"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Average Response Time"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.averageResponseTime?`${e.averageResponseTime.toFixed(1)} min`:"0 min"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Average Trip Time"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.averageTripTime?`${e.averageTripTime.toFixed(1)} min`:"0 min"})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Satisfaction"}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Rating"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.customerSatisfaction?`${e.customerSatisfaction}/5.0`:"N/A"})]})})]})]})]})},ZH=()=>{const[e,t]=g.useState({baseRates:{BLS:150,ALS:250,CCT:400},perMileRates:{BLS:2.5,ALS:3.75,CCT:5},priorityMultipliers:{LOW:1,MEDIUM:1.1,HIGH:1.25,URGENT:1.5},specialSurcharge:50,insuranceRates:{medicare:{BLS:120,ALS:200,CCT:350},medicaid:{BLS:100,ALS:180,CCT:300},private:{BLS:180,ALS:300,CCT:450},selfPay:{BLS:200,ALS:350,CCT:500}}}),[r,n]=g.useState(null),s=o=>{const{name:l,value:c}=o.target,[u,d]=l.split(".");t(d?m=>({...m,[u]:{...m[u],[d]:parseFloat(c)||0}}):m=>({...m,[l]:parseFloat(c)||0})),i()},i=()=>{const o={transportLevel:"ALS",priority:"MEDIUM",distanceMiles:15,specialRequirements:!1,insuranceCompany:"medicare"},l=e.baseRates[o.transportLevel],c=e.perMileRates[o.transportLevel],u=e.priorityMultipliers[o.priority],d=e.insuranceRates[o.insuranceCompany][o.transportLevel],m=o.specialRequirements?e.specialSurcharge:0,f=l*u+m,h=(l+c*o.distanceMiles+m)*u,p=(d+c*o.distanceMiles+m)*u;n({sampleTrip:o,standardRevenue:Math.round(f*100)/100,mileageRevenue:Math.round(h*100)/100,insuranceRevenue:Math.round(p*100)/100})};return g.useEffect(()=>{i()},[e]),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Revenue Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure global pricing rates for revenue calculations"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Base Rates by Transport Level"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BLS Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.baseRates.BLS,onChange:s,name:"baseRates.BLS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ALS Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.baseRates.ALS,onChange:s,name:"baseRates.ALS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CCT Base Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.baseRates.CCT,onChange:s,name:"baseRates.CCT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Per Mile Rates"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BLS Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.perMileRates.BLS,onChange:s,name:"perMileRates.BLS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ALS Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.perMileRates.ALS,onChange:s,name:"perMileRates.ALS",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CCT Per Mile ($)"}),a.jsx("input",{type:"number",step:"0.01",value:e.perMileRates.CCT,onChange:s,name:"perMileRates.CCT",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),r&&a.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Revenue Preview"}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Sample trip: ",r.sampleTrip.transportLevel," transport, ",r.sampleTrip.priority," priority,",r.sampleTrip.distanceMiles," miles, ",r.sampleTrip.insuranceCompany," insurance"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Standard Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r.standardRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base rate  priority"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Mileage Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r.mileageRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Base + (per mile  distance)"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Insurance Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r.insuranceRevenue]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Insurance rate + mileage"})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>{localStorage.setItem("tcc_revenue_settings",JSON.stringify(e)),alert("Revenue settings saved!")},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save Revenue Settings"})})]})]})})},JH=({user:e,onLogout:t})=>{var c;const[r,n]=g.useState(!1),s=hi(),o=(()=>{const u=[{name:"Overview",href:"/dashboard",icon:W4},{name:"Trips",href:"/dashboard/trips",icon:Te},{name:"Analytics",href:"/dashboard/analytics",icon:ft},{name:"Units",href:"/dashboard/units",icon:Te},{name:"Healthcare Facilities",href:"/dashboard/hospitals",icon:Vt},{name:"EMS Agencies",href:"/dashboard/agencies",icon:Te},{name:"Route Optimization",href:"/dashboard/route-optimization",icon:Nh},{name:"Notifications",href:"/dashboard/notifications",icon:Qs}];return e.userType==="ADMIN"?[...u,{name:"Settings",href:"/dashboard/settings",icon:jv},{name:"Financial",href:"/dashboard/financial",icon:pt}]:u})(),l=((c=o.find(u=>s.pathname===u.href||u.href!=="/dashboard"&&s.pathname.startsWith(u.href)))==null?void 0:c.name)||"Overview";return a.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[a.jsxs("div",{className:`fixed inset-0 flex z-40 md:hidden ${r?"":"hidden"}`,children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>n(!1)}),a.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:a.jsx("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>n(!1),children:a.jsx(Yt,{className:"h-6 w-6 text-white"})})}),a.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[a.jsxs("div",{className:"flex-shrink-0 flex items-center px-4",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(Vt,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"TCC"})]}),a.jsx("nav",{className:"mt-5 px-2 space-y-1",children:o.map(u=>{const d=s.pathname===u.href||u.href!=="/dashboard"&&s.pathname.startsWith(u.href);return a.jsxs(ev,{to:u.href,className:`${d?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-base font-medium rounded-md`,onClick:()=>n(!1),children:[a.jsx(u.icon,{className:`${d?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-4 flex-shrink-0 h-6 w-6`}),u.name]},u.name)})})]})]})]}),a.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:a.jsx("div",{className:"flex flex-col w-64",children:a.jsxs("div",{className:"flex flex-col h-0 flex-1 border-r border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center flex-shrink-0 px-4",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(Vt,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"TCC"})]}),a.jsx("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:o.map(u=>{const d=s.pathname===u.href||u.href!=="/dashboard"&&s.pathname.startsWith(u.href);return a.jsxs(ev,{to:u.href,className:`${d?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-sm font-medium rounded-md`,children:[a.jsx(u.icon,{className:`${d?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-6 w-6`}),u.name]},u.name)})})]}),a.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:a.jsxs("div",{className:"flex-shrink-0 w-full group block",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:e.name}),a.jsx("p",{className:"text-xs font-medium text-gray-500 group-hover:text-gray-700",children:e.email})]})}),a.jsxs("button",{onClick:t,className:"mt-2 w-full flex items-center px-2 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-md",children:[a.jsx(Ng,{className:"mr-3 h-5 w-5 text-gray-400"}),"Sign out"]})]})})]})})}),a.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"relative z-10 flex-shrink-0 flex h-16 bg-white shadow",children:[a.jsx("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 md:hidden",onClick:()=>n(!0),children:a.jsx(jv,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex-1 px-4 flex justify-between",children:[a.jsx("div",{className:"flex-1 flex",children:a.jsx("div",{className:"w-full flex md:ml-0",children:a.jsx("div",{className:"relative w-full text-gray-400 focus-within:text-gray-600",children:a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:l})})})})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx(Cg,{user:e})})]})]}),a.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:a.jsxs(hh,{children:[a.jsx(nt,{path:"/",element:a.jsx(q4,{})}),a.jsx(nt,{path:"/trips",element:a.jsx(Y4,{user:e})}),a.jsx(nt,{path:"/analytics",element:a.jsx(XH,{})}),a.jsx(nt,{path:"/units",element:a.jsx(qH,{})}),a.jsx(nt,{path:"/hospitals/*",element:a.jsx(X4,{})}),a.jsx(nt,{path:"/agencies/*",element:a.jsx(Q4,{})}),a.jsx(nt,{path:"/route-optimization",element:a.jsx(YH,{})}),a.jsx(nt,{path:"/healthcare-portal",element:a.jsx(Z4,{})}),a.jsx(nt,{path:"/ems-dashboard",element:a.jsx(y2,{user:e,onLogout:t})}),a.jsx(nt,{path:"/notifications",element:a.jsx(aL,{})}),a.jsx(nt,{path:"/settings",element:a.jsx(sL,{})}),a.jsx(nt,{path:"/financial",element:a.jsx(GH,{})}),a.jsx(nt,{path:"/my-trips",element:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Trips"}),a.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})}),a.jsx(nt,{path:"/my-assignments",element:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Assignments"}),a.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})})]})})})})]})]})},eK=({user:e,onTripCreated:t,onCancel:r})=>{const[n,s]=g.useState(1),[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(!1),[m,f]=g.useState({diagnosis:[],mobility:[],transportLevel:[],urgency:[],insurance:[],facilities:[],agencies:[],pickupLocations:[]}),[h,p]=g.useState({patientId:"",patientWeight:"",specialNeeds:"",insuranceCompany:"",generateQRCode:!1,fromLocation:e.facilityName||"",pickupLocationId:"",toLocation:"",scheduledTime:new Date().toISOString().slice(0,16),transportLevel:"BLS",urgencyLevel:"Routine",diagnosis:"",mobilityLevel:"Ambulatory",oxygenRequired:!1,monitoringRequired:!1,selectedAgencies:[],notificationRadius:100,notes:""}),[y,x]=g.useState("select"),[v,b]=g.useState(!1),j=[{id:1,name:"Patient Info",icon:rs},{id:2,name:"Trip Details",icon:St},{id:3,name:"Clinical Info",icon:wv}];g.useEffect(()=>{w()},[]),g.useEffect(()=>{if(h.fromLocation&&m.facilities.length>0){const R=m.facilities.find(M=>M.name===h.fromLocation);R&&S(R.id)}},[h.fromLocation,m.facilities]),g.useEffect(()=>{if(console.log("TCC_DEBUG: Agency loading useEffect triggered",{currentStep:n,fromLocation:h.fromLocation,facilitiesCount:m.facilities.length}),n===4&&h.fromLocation&&m.facilities.length>0){const R=m.facilities.find(M=>M.name===h.fromLocation);console.log("TCC_DEBUG: Selected facility:",R),R&&N(R.id)}},[n,h.fromLocation,m.facilities]);const w=async()=>{try{console.log("TCC_DEBUG: Loading simplified form options for step 1 only...");const R={diagnosis:["Cardiac","Respiratory","Neurological","Trauma"],mobility:["Ambulatory","Wheelchair","Stretcher","Bed-bound"],transportLevel:["BLS","ALS","CCT","Other"],urgency:["Routine","Urgent","Emergent","Critical"],insurance:["Medicare","Medicaid","Private","Self-pay"],facilities:[{id:"1",name:"Test Hospital",type:"HOSPITAL"},{id:"2",name:"General Medical Center",type:"HOSPITAL"},{id:"3",name:"Emergency Care Facility",type:"CLINIC"}],agencies:[],pickupLocations:[]};console.log("TCC_DEBUG: Setting simplified form options:",R),f(R)}catch(R){console.error("Error loading form options:",R)}},N=async R=>{var M;try{if(console.log("TCC_DEBUG: Loading agencies for hospital:",R,"with radius:",h.notificationRadius),!R){console.warn("TCC_DEBUG: No hospital ID provided for agencies"),f(I=>({...I,agencies:[]}));return}const B=await md.getAgenciesForHospital(R,h.notificationRadius);console.log("TCC_DEBUG: Agencies response:",B.data),(M=B.data)!=null&&M.success&&Array.isArray(B.data.data)?(console.log("TCC_DEBUG: Setting agencies:",B.data.data.length,"agencies"),f(I=>({...I,agencies:B.data.data}))):(console.warn("TCC_DEBUG: Invalid agencies response structure:",B.data),f(I=>({...I,agencies:[]})))}catch(B){console.error("Error loading agencies:",B),f(I=>({...I,agencies:[]}))}},S=async R=>{var M;try{if(b(!0),console.log("TCC_DEBUG: Loading pickup locations for hospital:",R),!R){console.warn("TCC_DEBUG: No hospital ID provided for pickup locations"),f(I=>({...I,pickupLocations:[]}));return}const B=await Q.get(`/api/tcc/pickup-locations/hospital/${R}`);if(console.log("TCC_DEBUG: Pickup locations response:",B.data),(M=B.data)!=null&&M.success&&Array.isArray(B.data.data)){console.log("TCC_DEBUG: Setting pickup locations:",B.data.data.length,"locations");const I=B.data.data.map(H=>({id:H.id||`pickup-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,hospitalId:H.hospitalId||"",name:H.name||"Unnamed Location",description:H.description||"",contactPhone:H.contactPhone||"",contactEmail:H.contactEmail||"",floor:H.floor||"",room:H.room||"",isActive:H.isActive!==void 0?H.isActive:!0,createdAt:H.createdAt||new Date().toISOString(),updatedAt:H.updatedAt||new Date().toISOString(),hospital:H.hospital||H.hospitals||null,hospitals:H.hospitals||H.hospital||null}));console.log("TCC_DEBUG: Transformed pickup locations:",I),f(H=>({...H,pickupLocations:I}))}else console.warn("TCC_DEBUG: Invalid pickup locations response structure:",B.data),f(I=>({...I,pickupLocations:[]}))}catch(B){console.error("Error loading pickup locations:",B),f(I=>({...I,pickupLocations:[]}))}finally{b(!1)}},P=R=>{const{name:M,value:B,type:I}=R.target;if(p(H=>({...H,[M]:I==="checkbox"?R.target.checked:B})),M==="fromLocation"&&B){const H=m.facilities.find(k=>k.name===B);H?S(H.id):(f(k=>({...k,pickupLocations:[]})),p(k=>({...k,pickupLocationId:""})))}if(M==="toLocation"&&B&&y==="select"){const H=m.facilities.find(k=>k.name===B);H&&N(H.id)}},O=R=>{x(R),p(M=>({...M,toLocation:""})),R==="manual"&&f(M=>({...M,agencies:[]}))},A=()=>{const R="P"+Math.random().toString(36).substr(2,8).toUpperCase();p(M=>({...M,patientId:R}))},E=()=>{r&&r()},D=R=>{R==null||R.preventDefault(),console.log("TCC_DEBUG: handleNext called, current step:",n,"total steps:",j.length),n<j.length&&(s(n+1),console.log("TCC_DEBUG: Advanced to step:",n+1))},_=()=>{n>1&&s(n-1)},T=async R=>{var M,B;if(R.preventDefault(),console.log("TCC_DEBUG: handleSubmit called, current step:",n),n<j.length){console.log("TCC_DEBUG: Submission blocked - not on final step");return}o(!0),c(null);try{if(!h.patientId||!h.patientWeight)throw new Error("Please fill in Patient ID and Patient Weight");const I=parseFloat(h.patientWeight);if(isNaN(I)||I<=0)throw new Error("Please enter a valid patient weight");if(!h.fromLocation||!h.pickupLocationId||!h.toLocation||!h.scheduledTime||!h.transportLevel||!h.urgencyLevel)throw new Error("Please fill in all trip details: From Location, Pickup Location, To Location, Scheduled Time, Transport Level, and Urgency Level");if(new Date(h.scheduledTime)<new Date)throw new Error("Scheduled time cannot be in the past");if(!["BLS","ALS","CCT","Other"].includes(h.transportLevel))throw new Error("Invalid transport level");if(!["Routine","Urgent","Emergent","Critical"].includes(h.urgencyLevel))throw new Error("Invalid urgency level");console.log("TCC_DEBUG: Steps 1-3 validation passed:",h),d(!0),setTimeout(()=>{t()},3e3);return}catch(I){console.error("TCC_DEBUG: Trip creation error:",I),c(((B=(M=I.response)==null?void 0:M.data)==null?void 0:B.error)||I.message||"Failed to create transport request")}finally{o(!1)}},K=()=>{switch(n){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(rs,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Patient Information"})]}),a.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Enter patient details. No names or ages for HIPAA compliance."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",name:"patientId",value:h.patientId,onChange:P,required:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter patient ID"}),a.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Generate ID"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Weight (kgs)"}),a.jsx("input",{type:"number",name:"patientWeight",value:h.patientWeight,onChange:P,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter weight in kilograms"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Company"}),a.jsxs("select",{name:"insuranceCompany",value:h.insuranceCompany,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select insurance company"}),m.insurance.map(R=>a.jsx("option",{value:R,children:R},R))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Needs"}),a.jsx("input",{type:"text",name:"specialNeeds",value:h.specialNeeds,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter special needs"})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(St,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Trip Details"})]}),a.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Specify origin, destination, and transport requirements."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Location *"}),a.jsxs("select",{name:"fromLocation",value:h.fromLocation,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select origin facility"}),m.facilities.map(R=>a.jsxs("option",{value:R.name,children:[R.name," - ",R.type]},R.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Location *"}),(()=>{try{return a.jsxs("select",{name:"pickupLocationId",value:h.pickupLocationId,onChange:P,required:!0,disabled:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"",children:v?"Loading pickup locations...":"Select pickup location"}),m.pickupLocations&&m.pickupLocations.length>0?m.pickupLocations.map(R=>{try{return console.log("TCC_DEBUG: Rendering pickup location option:",R),!R||!R.id||!R.name?(console.warn("TCC_DEBUG: Invalid pickup location data:",R),null):a.jsxs("option",{value:R.id,children:[R.name," ",R.floor&&`(${R.floor})`]},R.id)}catch(M){return console.error("TCC_DEBUG: Error rendering pickup location option:",M,R),null}}).filter(Boolean):!v&&h.fromLocation&&a.jsx("option",{value:"",disabled:!0,children:"No pickup locations available for this facility"})]})}catch(R){return console.error("TCC_DEBUG: Error rendering pickup location select:",R),a.jsx("div",{className:"w-full px-3 py-2 border border-red-300 rounded-md bg-red-50 text-red-700",children:"Error loading pickup locations. Please refresh the page."})}})(),h.pickupLocationId&&m.pickupLocations&&a.jsx("div",{className:"mt-2 text-sm text-gray-600",children:(()=>{const R=m.pickupLocations.find(M=>M.id===h.pickupLocationId);return R?a.jsxs("div",{children:[R.contactPhone&&a.jsxs("p",{children:[a.jsx("strong",{children:"Contact:"})," ",R.contactPhone]}),R.contactEmail&&a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",R.contactEmail]}),R.room&&a.jsxs("p",{children:[a.jsx("strong",{children:"Room:"})," ",R.room]})]}):null})()})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Location *"}),a.jsxs("div",{className:"flex space-x-4 mb-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"destinationMode",value:"select",checked:y==="select",onChange:R=>O(R.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Select from list"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"destinationMode",value:"manual",checked:y==="manual",onChange:R=>O(R.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Enter manually"})]})]}),y==="select"?a.jsxs("select",{name:"toLocation",value:h.toLocation,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select destination"}),m.facilities.map(R=>a.jsxs("option",{value:R.name,children:[R.name," - ",R.type]},R.id))]}):a.jsx("input",{type:"text",name:"toLocation",value:h.toLocation,onChange:P,required:!0,placeholder:"Enter destination facility name and location",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"}),y==="select"&&m.facilities.length===0&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Loading facilities..."}),y==="manual"&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Enter the full facility name and location (e.g., "Johns Hopkins Hospital, Baltimore, MD")'})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Time *"}),a.jsx("input",{type:"datetime-local",name:"scheduledTime",value:h.scheduledTime,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Level *"}),a.jsx("select",{name:"transportLevel",value:h.transportLevel,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:m.transportLevel.map(R=>a.jsx("option",{value:R,children:R},R))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level *"}),a.jsx("select",{name:"urgencyLevel",value:h.urgencyLevel,onChange:P,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:m.urgency.map(R=>a.jsx("option",{value:R,children:R},R))})]})]})]});case 3:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(wv,{className:"h-5 w-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Clinical Details"})]}),a.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"Provide clinical information for appropriate transport planning."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Diagnosis"}),a.jsxs("select",{name:"diagnosis",value:h.diagnosis,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:[a.jsx("option",{value:"",children:"Select diagnosis"}),m.diagnosis.map(R=>a.jsx("option",{value:R,children:R},R))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobility Level"}),a.jsx("select",{name:"mobilityLevel",value:h.mobilityLevel,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:m.mobility.map(R=>a.jsx("option",{value:R,children:R},R))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"oxygenRequired",checked:h.oxygenRequired,onChange:P,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Oxygen Required"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"monitoringRequired",checked:h.monitoringRequired,onChange:P,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Continuous Monitoring Required"})]})]})]});default:return null}};return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between",children:j.map((R,M)=>{const B=R.icon,I=n===R.id,H=n>R.id;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${I?"border-blue-500 bg-blue-500 text-white":H?"border-green-500 bg-green-500 text-white":"border-gray-300 bg-white text-gray-400"}`,children:a.jsx(B,{className:"h-5 w-5"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:`text-sm font-medium ${I?"text-blue-600":H?"text-green-600":"text-gray-500"}`,children:R.name})}),M<j.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-4 ${H?"bg-green-500":"bg-gray-300"}`})]},R.id)})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Enhanced Transport Request"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Step ",n," of ",j.length]})]}),a.jsxs("div",{className:"p-6",children:[u&&a.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(De,{className:"h-5 w-5 text-green-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Transport request completed successfully!"}),a.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Patient: ",h.patientId," | From: ",h.fromLocation," | To: ",h.toLocation]}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Redirecting to dashboard in 3 seconds..."})]})]})}),l&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Ot,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:l})})]})}),a.jsxs("form",{onSubmit:T,children:[K(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{type:"button",onClick:E,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[a.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"button",onClick:_,disabled:n===1,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(z4,{className:"h-4 w-4 mr-2"}),"Previous"]})]}),n<j.length?a.jsxs("button",{type:"button",onClick:D,className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:["Next",a.jsx(p2,{className:"h-4 w-4 ml-2"})]}):a.jsx("button",{type:"submit",disabled:i,className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:i?"Creating...":"Create Request"})]})]})]})]})]})},tK=()=>{var $0;const[e,t]=g.useState("dropdowns"),[r,n]=g.useState([]),[s,i]=g.useState(""),[o,l]=g.useState([]),[c,u]=g.useState(!1),[d,m]=g.useState(null),[f,h]=g.useState(null),[p,y]=g.useState(""),[x,v]=g.useState(null),[b,j]=g.useState(""),[w,N]=g.useState([]),[S,P]=g.useState(""),[O,A]=g.useState([]),[E,D]=g.useState(!1),[_,T]=g.useState(null),[K,R]=g.useState(null),[M,B]=g.useState(!1),[I,H]=g.useState(null),[k,$]=g.useState({name:"",description:"",contactPhone:"",contactEmail:"",floor:"",room:""}),[z,L]=g.useState({contactName:"",contactTitle:"",contactEmail:"",contactPhone:"",contactNotes:""}),[C,F]=g.useState(!1),[X,re]=g.useState(null),[ce,G]=g.useState(null);g.useEffect(()=>{ne()},[]),g.useEffect(()=>{s&&ae(s)},[s]),g.useEffect(()=>{Pt()},[]),g.useEffect(()=>{S&&Dr(S)},[S]);const ne=async()=>{try{u(!0);const V=await Q.get("/api/public/categories");V.data.success&&(n(V.data.data),V.data.data.length>0&&i(V.data.data[0]))}catch(V){console.error("Error loading categories:",V),m("Failed to load categories")}finally{u(!1)}},ae=async V=>{try{u(!0);const de=await Qi.getByCategory(V);de.data.success&&l(de.data.data)}catch(de){console.error("Error loading options:",de),m("Failed to load options")}finally{u(!1)}},q=async V=>{if(V.preventDefault(),!(!p.trim()||!s))try{u(!0),(await Qi.create({category:s,value:p.trim()})).data.success&&(y(""),h("Option added successfully"),ae(s),setTimeout(()=>h(null),3e3))}catch(de){console.error("Error adding option:",de),m("Failed to add option")}finally{u(!1)}},Ve=V=>{v(V),j(V.value)},he=async V=>{if(V.preventDefault(),!(!x||!b.trim()))try{u(!0),(await Qi.update(x.id,{value:b.trim()})).data.success&&(v(null),j(""),h("Option updated successfully"),ae(s),setTimeout(()=>h(null),3e3))}catch(de){console.error("Error updating option:",de),m("Failed to update option")}finally{u(!1)}},rt=async V=>{if(window.confirm("Are you sure you want to delete this option?"))try{u(!0),(await Qi.delete(V)).data.success&&(h("Option deleted successfully"),ae(s),setTimeout(()=>h(null),3e3))}catch(de){console.error("Error deleting option:",de),m("Failed to delete option")}finally{u(!1)}},Pt=async()=>{try{D(!0);const V=await Q.get("/api/public/hospitals");V.data.success&&(N(V.data.data),V.data.data.length>0&&P(V.data.data[0].id))}catch(V){console.error("Error loading hospitals:",V),T("Failed to load hospitals")}finally{D(!1)}},Dr=async V=>{try{D(!0);const de=await Q.get(`/api/tcc/pickup-locations/hospital/${V}`);de.data.success&&A(de.data.data)}catch(de){console.error("Error loading pickup locations:",de),T("Failed to load pickup locations")}finally{D(!1)}},Cl=()=>{H(null),$({name:"",description:"",contactPhone:"",contactEmail:"",floor:"",room:""}),B(!0)},AP=V=>{H(V),$({name:V.name,description:V.description||"",contactPhone:V.contactPhone||"",contactEmail:V.contactEmail||"",floor:V.floor||"",room:V.room||""}),B(!0)},TP=async V=>{var de,ka;if(V.preventDefault(),!(!k.name.trim()||!S))try{D(!0);const _r={hospitalId:S,name:k.name.trim(),description:k.description.trim()||null,contactPhone:k.contactPhone.trim()||null,contactEmail:k.contactEmail.trim()||null,floor:k.floor.trim()||null,room:k.room.trim()||null};let pm;I?pm=await Q.put(`/api/tcc/pickup-locations/${I.id}`,_r):pm=await Q.post("/api/tcc/pickup-locations",_r),pm.data.success&&(B(!1),R(I?"Pickup location updated successfully":"Pickup location created successfully"),Dr(S),setTimeout(()=>R(null),3e3))}catch(_r){console.error("Error saving pickup location:",_r),T(((ka=(de=_r.response)==null?void 0:de.data)==null?void 0:ka.error)||"Failed to save pickup location")}finally{D(!1)}},OP=async V=>{var de,ka;if(window.confirm("Are you sure you want to delete this pickup location?"))try{D(!0),(await Q.delete(`/api/tcc/pickup-locations/${V}`)).data.success&&(R("Pickup location deleted successfully"),Dr(S),setTimeout(()=>R(null),3e3))}catch(_r){console.error("Error deleting pickup location:",_r),T(((ka=(de=_r.response)==null?void 0:de.data)==null?void 0:ka.error)||"Failed to delete pickup location")}finally{D(!1)}},Pi=V=>{const{name:de,value:ka}=V.target;L(_r=>({..._r,[de]:ka}))},LP=async V=>{if(V.preventDefault(),!z.contactName||!z.contactEmail){re("Contact name and email are required");return}try{F(!0),re(null),await new Promise(de=>setTimeout(de,1e3)),G("Contact information saved successfully"),setTimeout(()=>G(null),3e3)}catch(de){console.error("Error saving contact information:",de),re("Failed to save contact information")}finally{F(!1)}},kl=V=>({insurance:"Insurance Companies",diagnosis:"Primary Diagnosis",mobility:"Mobility Levels","transport-level":"Transport Levels",urgency:"Urgency Levels"})[V]||V;return a.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hospital Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage dropdown options and pickup locations for transport request forms"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>t("dropdowns"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="dropdowns"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dropdown Options"}),a.jsx("button",{onClick:()=>t("pickup-locations"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="pickup-locations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pickup Locations"}),a.jsx("button",{onClick:()=>t("main-contact"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="main-contact"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Main Contact"})]})})}),f&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:f})}),d&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("p",{className:"text-red-800",children:d}),a.jsx("button",{onClick:()=>m(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),K&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:K})}),_&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("p",{className:"text-red-800",children:_}),a.jsx("button",{onClick:()=>T(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),e==="dropdowns"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Category"}),a.jsxs("select",{id:"category",value:s,onChange:V=>i(V.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a category..."}),r.map(V=>a.jsx("option",{value:V,children:kl(V)},V))]})]}),s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Add New ",kl(s)]}),a.jsxs("form",{onSubmit:q,className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p,onChange:V=>y(V.target.value),placeholder:`Enter new ${kl(s).toLowerCase()}...`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("button",{type:"submit",disabled:c||!p.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Adding...":"Add"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Current ",kl(s)]}),c?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):o.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No options found for this category."}),a.jsx("p",{className:"text-sm",children:"Add some options using the form above."})]}):a.jsx("div",{className:"space-y-2",children:o.map(V=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-md",children:(x==null?void 0:x.id)===V.id?a.jsxs("form",{onSubmit:he,className:"flex items-center gap-2 flex-1",children:[a.jsx("input",{type:"text",value:b,onChange:de=>j(de.target.value),className:"flex-1 px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("button",{type:"submit",disabled:c,className:"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50",children:"Save"}),a.jsx("button",{type:"button",onClick:()=>{v(null),j("")},className:"px-3 py-1 bg-gray-500 text-white text-sm rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-900",children:V.value}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Ve(V),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit"}),a.jsx("button",{onClick:()=>rt(V.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Delete"})]})]})},V.id))})]}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Select a category to manage its dropdown options"}),a.jsx("li",{children:" Add new options using the form above"}),a.jsx("li",{children:' Edit existing options by clicking the "Edit" button'}),a.jsx("li",{children:' Delete options by clicking the "Delete" button'}),a.jsx("li",{children:" Changes will be reflected in the transport request forms immediately"})]})]})]})]}),e==="pickup-locations"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"hospital",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hospital"}),a.jsxs("select",{id:"hospital",value:S,onChange:V=>P(V.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a hospital..."}),w.map(V=>a.jsx("option",{value:V.id,children:V.name},V.id))]})]}),S&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Pickup Locations for ",($0=w.find(V=>V.id===S))==null?void 0:$0.name]}),a.jsx("button",{onClick:Cl,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add Pickup Location"})]}),E?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):O.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No pickup locations found for this hospital."}),a.jsx("p",{className:"text-sm",children:"Add some pickup locations using the button above."})]}):a.jsx("div",{className:"space-y-2",children:O.map(V=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-md",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:V.name}),V.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:V.description}),a.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-500",children:[V.floor&&a.jsxs("span",{children:["Floor: ",V.floor]}),V.room&&a.jsxs("span",{children:["Room: ",V.room]}),V.contactPhone&&a.jsxs("span",{children:["Phone: ",V.contactPhone]}),V.contactEmail&&a.jsxs("span",{children:["Email: ",V.contactEmail]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>AP(V),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit"}),a.jsx("button",{onClick:()=>OP(V.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Delete"})]})]},V.id))})]}),M&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:I?"Edit Pickup Location":"Add New Pickup Location"}),a.jsxs("form",{onSubmit:TP,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Name *"}),a.jsx("input",{type:"text",value:k.name,onChange:V=>$({...k,name:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Emergency Department",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:k.description,onChange:V=>$({...k,description:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional description",rows:2})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor"}),a.jsx("input",{type:"text",value:k.floor,onChange:V=>$({...k,floor:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1st Floor"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room"}),a.jsx("input",{type:"text",value:k.room,onChange:V=>$({...k,room:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Room 101"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),a.jsx("input",{type:"tel",value:k.contactPhone,onChange:V=>$({...k,contactPhone:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),a.jsx("input",{type:"email",value:k.contactEmail,onChange:V=>$({...k,contactEmail:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., ed@hospital.com"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:E||!k.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Saving...":I?"Update":"Create"})]})]})]})})}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Select a hospital to manage its pickup locations"}),a.jsx("li",{children:' Add new pickup locations using the "Add Pickup Location" button'}),a.jsx("li",{children:' Edit existing locations by clicking the "Edit" button'}),a.jsx("li",{children:' Delete locations by clicking the "Delete" button'}),a.jsx("li",{children:" Pickup locations will be available in the trip creation form"})]})]})]}),e==="main-contact"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Main Contact Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Set the main contact person for this facility's administration of the TCC application."})]}),a.jsxs("div",{className:"px-6 py-6",children:[ce&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800",children:ce})}),X&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:a.jsx("p",{className:"text-red-800",children:X})}),a.jsxs("form",{onSubmit:LP,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",value:z.contactName,onChange:Pi,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter contact name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title/Position"}),a.jsx("input",{type:"text",id:"contactTitle",name:"contactTitle",value:z.contactTitle,onChange:Pi,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., IT Director, Administrator"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",id:"contactEmail",name:"contactEmail",value:z.contactEmail,onChange:Pi,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"contact@hospital.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactPhone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",id:"contactPhone",name:"contactPhone",value:z.contactPhone,onChange:Pi,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(555) 123-4567"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),a.jsx("textarea",{id:"contactNotes",name:"contactNotes",value:z.contactNotes,onChange:Pi,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Any additional information about this contact person..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{L({contactName:"",contactTitle:"",contactEmail:"",contactPhone:"",contactNotes:""}),re(null),G(null)},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Clear"}),a.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":"Save Contact Information"})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" This contact person will be the main administrator for this facility's TCC application"}),a.jsx("li",{children:" They will receive notifications about system updates and important changes"}),a.jsx("li",{children:" This information may be used for support and troubleshooting purposes"}),a.jsx("li",{children:" Ensure the email address is monitored regularly for important communications"})]})]})]})]})},rK=({user:e,onLogout:t})=>{var _;const[r,n]=g.useState("create"),[s,i]=g.useState([]),[o,l]=g.useState(null),[c,u]=g.useState(!1),[d,m]=g.useState([{id:"1",patientId:"P001",destination:"General Hospital",transportLevel:"BLS",status:"PENDING",requestTime:"2025-09-07 10:30 AM",priority:"MEDIUM",urgencyLevel:"Urgent"},{id:"2",patientId:"P002",destination:"Rehabilitation Center",transportLevel:"ALS",status:"ACCEPTED",requestTime:"2025-09-07 09:15 AM",priority:"HIGH",urgencyLevel:"Emergent"},{id:"3",patientId:"P003",destination:"Emergency Room",transportLevel:"CCT",status:"IN_PROGRESS",requestTime:"2025-09-07 08:45 AM",priority:"HIGH",urgencyLevel:"Emergent"},{id:"4",patientId:"P004",destination:"Outpatient Clinic",transportLevel:"BLS",status:"COMPLETED",requestTime:"2025-09-07 07:30 AM",priority:"LOW",urgencyLevel:"Routine"}]),[f,h]=g.useState(null),[p,y]=g.useState({}),[x,v]=g.useState(!1);g.useEffect(()=>{j()},[]),g.useEffect(()=>{r==="responses"&&O()},[r]);const b=T=>{switch(T){case"Routine":return"text-black bg-transparent";case"Urgent":return"text-black bg-orange-200";case"Emergent":return"text-black bg-red-200";default:return"text-black bg-transparent"}},j=async()=>{try{const T=await fetch("/api/trips",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(T.ok){const K=await T.json();if(K.success&&K.data){const R=K.data.map(M=>({id:M.id,patientId:M.patientName,destination:M.toLocation,pickupLocation:M.pickupLocation,transportLevel:M.transportLevel||"BLS",status:M.status,requestTime:new Date(M.createdAt).toLocaleString(),priority:M.priority,urgencyLevel:M.urgencyLevel}));m(R)}}}catch(T){console.error("Error loading trips:",T)}},w=T=>{h(T),y({status:T.status,transportLevel:T.transportLevel,urgencyLevel:T.urgencyLevel||T.priority})},N=async()=>{if(f){v(!0);try{const T=await fetch(`/api/trips/${f.id}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:p.status,...p.status==="COMPLETED"&&{completionTimestamp:new Date().toISOString()}})});if(!T.ok){const K=await T.json();throw new Error(K.error||"Failed to update trip")}await j(),h(null),y({})}catch(T){console.error("Error updating trip:",T),alert(T.message||"Failed to update trip")}finally{v(!1)}}},S=async T=>{if(confirm("Are you sure you want to mark this trip as completed?")){v(!0);try{const K=await fetch(`/api/trips/${T}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:"COMPLETED",completionTimestamp:new Date().toISOString()})});if(!K.ok){const R=await K.json();throw new Error(R.error||"Failed to complete trip")}await j()}catch(K){console.error("Error completing trip:",K),alert(K.message||"Failed to complete trip")}finally{v(!1)}}},P=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t()},O=async T=>{u(!0);try{const K=T?`/api/agency-responses?tripId=${T}`:"/api/agency-responses",R=await fetch(K,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(R.ok){const M=await R.json();M.success&&M.data&&i(M.data)}}catch(K){console.error("Error loading agency responses:",K)}finally{u(!1)}},A=async(T,K,R)=>{try{const M=await fetch(`/api/agency-responses/select/${T}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({agencyResponseId:K,selectionNotes:R||"Selected by healthcare provider"})});if(!M.ok){const B=await M.json();throw new Error(B.error||"Failed to select agency")}await O(T),await j()}catch(M){console.error("Error selecting agency:",M),alert(M.message||"Failed to select agency")}},E=async T=>{l(T),await O(T.id)},D=T=>{switch(T){case"PENDING":return"text-yellow-600 bg-yellow-100";case"ACCEPTED":return"text-green-600 bg-green-100";case"IN_PROGRESS":return"text-blue-600 bg-blue-100";case"COMPLETED":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx(Vt,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e.facilityName||"Healthcare Facility"}),a.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[((_=e.facilityType)==null?void 0:_.toLowerCase())||"Healthcare","  Healthcare Portal"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Cg,{user:e}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rs,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:e.name})]}),a.jsxs("button",{onClick:P,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[a.jsx(Ng,{className:"h-4 w-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"trips",name:"Transport Requests",icon:sr},{id:"responses",name:"Agency Responses",icon:Qs},{id:"create",name:"Create Request",icon:fa},{id:"hospital-settings",name:"Hospital Settings",icon:Vt}].map(T=>{const K=T.icon;return a.jsxs("button",{onClick:()=>n(T.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${r===T.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(K,{className:"h-4 w-4"}),a.jsx("span",{children:T.name})]},T.id)})})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="trips"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(sr,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Requests"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:d.filter(T=>T.status==="PENDING").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(De,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Today"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:d.filter(T=>T.status==="COMPLETED").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-red-500",children:a.jsx(F4,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"High Priority"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:d.filter(T=>T.urgencyLevel==="Emergent"||T.priority==="HIGH").length})]})})]})})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transport Requests"})}),a.jsx("div",{className:"p-6",children:d.length>0?a.jsx("div",{className:"space-y-4",children:d.map(T=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Patient ID: ",T.patientId," - ",T.destination]}),T.pickupLocation&&a.jsxs("p",{className:"text-xs text-blue-600",children:["Pickup: ",T.pickupLocation.name,T.pickupLocation.floor&&` (Floor ${T.pickupLocation.floor})`,T.pickupLocation.room&&` - Room ${T.pickupLocation.room}`]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[T.transportLevel,"  ",T.urgencyLevel||T.priority,"  ",T.requestTime]})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D(T.status)}`,children:T.status}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(T.urgencyLevel||T.priority)}`,children:T.urgencyLevel||T.priority}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>E(T),className:"text-purple-600 hover:text-purple-900 text-xs px-2 py-1 rounded hover:bg-purple-50",children:"View Responses"}),a.jsx("button",{onClick:()=>w(T),className:"text-blue-600 hover:text-blue-900 text-xs px-2 py-1 rounded hover:bg-blue-50",disabled:x,children:"Edit"}),T.status!=="COMPLETED"&&a.jsx("button",{onClick:()=>S(T.id),className:"text-green-600 hover:text-green-900 text-xs px-2 py-1 rounded hover:bg-green-50",disabled:x,children:"Complete"})]})]})]},T.id))}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"No transport requests found"})})})]})]}),r==="create"&&a.jsx("div",{children:a.jsx(eK,{user:e,onTripCreated:()=>{j(),n("overview")},onCancel:()=>{n("overview")}})}),r==="responses"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Agency Responses"}),a.jsx("button",{onClick:()=>O(),disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Loading...":"Refresh Responses"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-blue-500",children:a.jsx(Qs,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Responses"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-green-500",children:a.jsx(De,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Accepted"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.filter(T=>T.response==="ACCEPTED").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-red-500",children:a.jsx(Yt,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Declined"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.filter(T=>T.response==="DECLINED").length})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 rounded-md bg-yellow-500",children:a.jsx(sr,{className:"h-6 w-6 text-white"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Selected"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.filter(T=>T.isSelected).length})]})})]})})})]}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Agency Response Details"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"View and manage agency responses for transport requests"})]}),a.jsx("ul",{className:"divide-y divide-gray-200",children:c?a.jsx("li",{className:"px-4 py-5 sm:px-6",children:a.jsx("div",{className:"text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mr-2"}),"Loading agency responses..."]})})}):s.length===0?a.jsx("li",{className:"px-4 py-5 sm:px-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"No agency responses found. Create a transport request to see responses."})}):s.map(T=>a.jsx("li",{className:"px-4 py-5 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`p-2 rounded-md ${T.response==="ACCEPTED"?"bg-green-100":T.response==="DECLINED"?"bg-red-100":"bg-gray-100"}`,children:T.response==="ACCEPTED"?a.jsx(De,{className:"h-5 w-5 text-green-600"}):T.response==="DECLINED"?a.jsx(Yt,{className:"h-5 w-5 text-red-600"}):a.jsx(sr,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Agency ",T.agencyId]}),T.isSelected&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Selected"})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Trip ID: ",T.tripId]}),T.responseNotes&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.responseNotes}),T.estimatedArrival&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ETA: ",new Date(T.estimatedArrival).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.response==="ACCEPTED"?"bg-green-100 text-green-800":T.response==="DECLINED"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:T.response}),T.response==="ACCEPTED"&&!T.isSelected&&a.jsx("button",{onClick:()=>A(T.tripId,T.id),className:"px-3 py-1 bg-green-600 text-white text-xs rounded-md hover:bg-green-700",children:"Select Agency"})]})]})},T.id))})]})]}),r==="hospital-settings"&&a.jsx(tK,{})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Trip Details"}),a.jsxs("form",{onSubmit:T=>{T.preventDefault(),N()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{value:p.status,onChange:T=>y({...p,status:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"ACCEPTED",children:"Accepted"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Level"}),a.jsxs("select",{value:p.transportLevel,onChange:T=>y({...p,transportLevel:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"BLS",children:"BLS - Basic Life Support"}),a.jsx("option",{value:"ALS",children:"ALS - Advanced Life Support"}),a.jsx("option",{value:"CCT",children:"CCT - Critical Care Transport"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),a.jsxs("select",{value:p.urgencyLevel,onChange:T=>y({...p,urgencyLevel:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"Routine",children:"Routine"}),a.jsx("option",{value:"Urgent",children:"Urgent"}),a.jsx("option",{value:"Emergent",children:"Emergent"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{h(null),y({})},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:x?"Updating...":"Update Trip"})]})]})]})})})]})},nK=({onRoleSelect:e,onShowRegistration:t,onClearSession:r})=>{const[n,s]=g.useState(!1),i=l=>{s(!0),e(l)},o=()=>{s(!1)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-primary-600 rounded-full flex items-center justify-center",children:a.jsx(Vt,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome to TCC"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Select your login type to continue"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>i("healthcare"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[a.jsx(Vt,{className:"h-5 w-5 mr-2"}),"Healthcare Facility Login"]}),a.jsxs("button",{onClick:()=>i("ems"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[a.jsx(Te,{className:"h-5 w-5 mr-2"}),"EMS Agency Login"]}),a.jsxs("button",{onClick:()=>i("tcc"),className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(Sg,{className:"h-5 w-5 mr-2"}),"Transport Center Login"]})]}),a.jsx("div",{className:"mt-8 border-t border-gray-200 pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Don't have an account? Create one for your organization:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>t("healthcare"),className:"w-full flex items-center justify-center px-4 py-2 border border-green-300 text-sm font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[a.jsx(Nv,{className:"h-4 w-4 mr-2"}),"Create Healthcare Facility Account"]}),a.jsxs("button",{onClick:()=>t("ems"),className:"w-full flex items-center justify-center px-4 py-2 border border-orange-300 text-sm font-medium rounded-md text-orange-700 bg-orange-50 hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[a.jsx(Nv,{className:"h-4 w-4 mr-2"}),"Create EMS Agency Account"]})]}),r&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsx("button",{onClick:r,className:"w-full text-xs text-gray-500 hover:text-gray-700 underline",children:"Clear Session & Start Fresh"})})]})}),n&&a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:o,className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200",children:[a.jsx(rl,{className:"h-4 w-4 mr-1"}),"Back to Selection"]})})]})})},aK=({onBack:e,onSuccess:t})=>{var v,b,j,w,N,S,P,O,A,E,D,_,T,K,R,M;const[r,n]=g.useState({facilityName:"",facilityType:"",contactName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",latitude:"",longitude:"",password:"",confirmPassword:""}),[s,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(!1),[d,m]=g.useState(!1),f=["Hospital","Clinic","Urgent Care","Rehabilitation Facility","Doctor's Office","Dialysis Center","Nursing Home","Assisted Living","Other"],h=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],p=async()=>{if(!r.address||!r.city||!r.state||!r.zipCode){l("Please fill in address, city, state, and ZIP code before looking up coordinates");return}m(!0),l(null);const B=`${r.address}, ${r.city}, ${r.state} ${r.zipCode}`;console.log("TCC_DEBUG: Geocoding address:",B);const I=[B,`${r.address}, ${r.city}, ${r.state}`,`${r.city}, ${r.state}`,`${r.facilityName}, ${r.city}, ${r.state}`],H=[{name:"OpenStreetMap Nominatim",url:k=>`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(k)}&limit=1&addressdetails=1`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}},{name:"OpenStreetMap Nominatim (alt)",url:k=>`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(k)}&format=json&limit=1&addressdetails=1&countrycodes=us`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}}];for(const k of I){console.log(`TCC_DEBUG: Trying address variation: "${k}"`);for(const $ of H)try{console.log(`TCC_DEBUG: Trying ${$.name} with "${k}"...`);const z=await fetch($.url(k),{method:"GET",headers:$.headers,mode:"cors"});if(console.log(`TCC_DEBUG: ${$.name} response status:`,z.status),!z.ok){console.log(`TCC_DEBUG: ${$.name} failed with status:`,z.status);continue}const L=await z.json();if(console.log(`TCC_DEBUG: ${$.name} response data:`,L),L&&L.length>0){const C=L[0];if(console.log(`TCC_DEBUG: ${$.name} result:`,C),C.lat&&C.lon){n(F=>({...F,latitude:C.lat,longitude:C.lon})),l(null),console.log("TCC_DEBUG: Coordinates set successfully:",C.lat,C.lon),m(!1);return}}console.log(`TCC_DEBUG: ${$.name} returned no valid results for "${k}"`)}catch(z){console.log(`TCC_DEBUG: ${$.name} error for "${k}":`,z);continue}}console.log("TCC_DEBUG: All geocoding services failed"),l("Address not found. Please enter coordinates manually or try a different address format."),m(!1)},y=B=>{const{name:I,value:H}=B.target;n(k=>({...k,[I]:H}))},x=async B=>{if(B.preventDefault(),i(!0),l(null),r.password!==r.confirmPassword){l("Passwords do not match"),i(!1);return}if(r.password.length<8){l("Password must be at least 8 characters long"),i(!1);return}if(!r.latitude||!r.longitude){l("Location coordinates are required. Please lookup or enter latitude and longitude."),i(!1);return}const I=parseFloat(r.latitude),H=parseFloat(r.longitude);if(isNaN(I)||isNaN(H)){l("Please enter valid numeric coordinates."),i(!1);return}if(I<-90||I>90){l("Latitude must be between -90 and 90 degrees."),i(!1);return}if(H<-180||H>180){l("Longitude must be between -180 and 180 degrees."),i(!1);return}try{console.log("TCC_DEBUG: Simulating healthcare registration with data:",r),await new Promise($=>setTimeout($,1500));const k={success:!0,message:"Healthcare facility registration submitted for approval",user:{id:`healthcare-${Date.now()}`,email:r.email,name:r.contactName,facilityName:r.facilityName,facilityType:r.facilityType,userType:"HEALTHCARE",isActive:!1}};console.log("TCC_DEBUG: Mock healthcare registration successful:",k),u(!0),setTimeout(()=>{t()},2e3)}catch(k){console.error("Healthcare registration error:",k);const $=k.message||"Registration failed. Please try again.";l($)}finally{i(!1)}};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(De,{className:"mx-auto h-16 w-16 text-green-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Registration Submitted!"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a verification email to ",r.email,". Please check your inbox and click the verification link to activate your account."]}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Your account will be reviewed by our team and approved within 24 hours."})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(Vt,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create Healthcare Facility Account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Register your healthcare facility to start using TCC"})]}),o&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(ir,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Healthcare Facility Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter your healthcare facility details to create an account"})]}),a.jsxs("div",{className:"px-6 py-6",children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Mock Implementation"}),a.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:a.jsx("p",{children:"Healthcare facility registration is currently simulated locally. The form will validate and show success, but the registration won't persist. Backend API endpoint needs to be implemented."})})]})]})}),a.jsxs("form",{className:"space-y-6",onSubmit:x,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"facilityName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Name *"}),a.jsx("input",{type:"text",id:"facilityName",name:"facilityName",required:!0,value:r.facilityName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter facility name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"facilityType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Type *"}),a.jsxs("select",{id:"facilityType",name:"facilityType",required:!0,value:r.facilityType,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"Select facility type"}),f.map(B=>a.jsx("option",{value:B,children:B},B))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",required:!0,value:r.contactName,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter contact person name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(nl,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter email address"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:r.phone,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter phone number"})]})]}),a.jsx("div",{})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(St,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"address",name:"address",required:!0,value:r.address,onChange:y,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter street address"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",required:!0,value:r.city,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsxs("select",{id:"state",name:"state",required:!0,value:r.state,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"",children:"State"}),h.map(B=>a.jsx("option",{value:B,children:B},B))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",required:!0,value:r.zipCode,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"ZIP Code"})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(St,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for agency distance calculations. You can either lookup coordinates automatically or enter them manually."}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Tip:"}),` If the exact address doesn't work, try using just the facility name and city (e.g., "Hurley Medical Center, Flint, MI") or a well-known address format like "123 Main St, City, State 12345"`]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:p,disabled:d||!((v=r.address)!=null&&v.trim())||!((b=r.city)!=null&&b.trim())||!((j=r.state)!=null&&j.trim())||!((w=r.zipCode)!=null&&w.trim()),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${d||!((N=r.address)!=null&&N.trim())||!((S=r.city)!=null&&S.trim())||!((P=r.state)!=null&&P.trim())||!((O=r.zipCode)!=null&&O.trim())?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(St,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),d||!((A=r.address)!=null&&A.trim())||!((E=r.city)!=null&&E.trim())||!((D=r.state)!=null&&D.trim())||!((_=r.zipCode)!=null&&_.trim())?a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d?"Looking up coordinates...":`Please fill in: ${[!((T=r.address)!=null&&T.trim())&&"Address",!((K=r.city)!=null&&K.trim())&&"City",!((R=r.state)!=null&&R.trim())&&"State",!((M=r.zipCode)!=null&&M.trim())&&"ZIP Code"].filter(Boolean).join(", ")}`}):a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from your address"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"latitude",className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",id:"latitude",name:"latitude",value:r.latitude,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"longitude",className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",id:"longitude",name:"longitude",value:r.longitude,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., -78.5678"})]})]}),r.latitude&&r.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:[" Coordinates set: ",r.latitude,", ",r.longitude]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:r.password,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter password (min 8 characters)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Confirm password"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(rl,{className:"h-4 w-4 mr-1 inline"}),"Back to Login Selection"]}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]})]})]})]})]})})},sK=({onBack:e,onSuccess:t})=>{var w,N,S,P,O,A,E,D,_,T,K,R,M,B,I,H;const[r,n]=g.useState({agencyName:"",contactName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",latitude:"",longitude:"",serviceArea:[],capabilities:[],operatingHours:{start:"",end:""},password:"",confirmPassword:""}),[s,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(!1),[d,m]=g.useState(!1),f=["Emergency Medical Services","Non-Emergency Medical Transport","Wheelchair Transport","Critical Care Transport","Neonatal Transport","Pediatric Transport","Bariatric Transport","Air Ambulance","Ground Ambulance","Specialized Medical Transport"],h=["BLS","ALS","CCT","Critical Care","Neonatal","Pediatric","Bariatric","Isolation"],p=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],y=async()=>{if(!r.address||!r.city||!r.state||!r.zipCode){l("Please fill in address, city, state, and ZIP code before looking up coordinates");return}m(!0),l(null);const k=`${r.address}, ${r.city}, ${r.state} ${r.zipCode}`;console.log("TCC_DEBUG: Geocoding address:",k);const $=[k,`${r.address}, ${r.city}, ${r.state}`,`${r.city}, ${r.state}`,`${r.agencyName}, ${r.city}, ${r.state}`],z=[{name:"OpenStreetMap Nominatim",url:L=>`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(L)}&limit=1&addressdetails=1`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}},{name:"OpenStreetMap Nominatim (alt)",url:L=>`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(L)}&format=json&limit=1&addressdetails=1&countrycodes=us`,headers:{"User-Agent":"TCC-Healthcare-App/1.0"}}];for(const L of $){console.log(`TCC_DEBUG: Trying address variation: "${L}"`);for(const C of z)try{console.log(`TCC_DEBUG: Trying ${C.name} with "${L}"...`);const F=await fetch(C.url(L),{method:"GET",headers:C.headers,mode:"cors"});if(console.log(`TCC_DEBUG: ${C.name} response status:`,F.status),!F.ok){console.log(`TCC_DEBUG: ${C.name} failed with status:`,F.status);continue}const X=await F.json();if(console.log(`TCC_DEBUG: ${C.name} response data:`,X),X&&X.length>0){const re=X[0];if(console.log(`TCC_DEBUG: ${C.name} result:`,re),re.lat&&re.lon){n(ce=>({...ce,latitude:re.lat,longitude:re.lon})),l(null),console.log("TCC_DEBUG: Coordinates set successfully:",re.lat,re.lon),m(!1);return}}console.log(`TCC_DEBUG: ${C.name} returned no valid results for "${L}"`)}catch(F){console.log(`TCC_DEBUG: ${C.name} error for "${L}":`,F);continue}}console.log("TCC_DEBUG: All geocoding services failed"),l("Address not found. Please enter coordinates manually or try a different address format."),m(!1)},x=k=>{const{name:$,value:z}=k.target;n($==="operatingHours.start"||$==="operatingHours.end"?L=>({...L,operatingHours:{...L.operatingHours,[$.split(".")[1]]:z}}):L=>({...L,[$]:z}))},v=k=>{n($=>({...$,capabilities:$.capabilities.includes(k)?$.capabilities.filter(z=>z!==k):[...$.capabilities,k]}))},b=k=>{n($=>({...$,serviceArea:$.serviceArea.includes(k)?$.serviceArea.filter(z=>z!==k):[...$.serviceArea,k]}))},j=async k=>{if(k.preventDefault(),i(!0),l(null),r.password!==r.confirmPassword){l("Passwords do not match"),i(!1);return}if(r.password.length<8){l("Password must be at least 8 characters long"),i(!1);return}if(r.serviceArea.length===0){l("Please select at least one service area"),i(!1);return}if(r.capabilities.length===0){l("Please select at least one service capability"),i(!1);return}if(!r.latitude||!r.longitude){l("Location coordinates are required. Please lookup or enter latitude and longitude."),i(!1);return}const $=parseFloat(r.latitude),z=parseFloat(r.longitude);if(isNaN($)||isNaN(z)){l("Please enter valid numeric coordinates."),i(!1);return}if($<-90||$>90){l("Latitude must be between -90 and 90 degrees."),i(!1);return}if(z<-180||z>180){l("Longitude must be between -180 and 180 degrees."),i(!1);return}try{console.log("TCC_DEBUG: Simulating EMS agency registration with data:",r),await new Promise(C=>setTimeout(C,1500));const L={success:!0,message:"EMS agency registration submitted for approval",user:{id:`ems-${Date.now()}`,email:r.email,name:r.contactName,agencyName:r.agencyName,userType:"EMS",isActive:!0}};console.log("TCC_DEBUG: Mock EMS agency registration successful:",L),u(!0),setTimeout(()=>{t()},2e3)}catch(L){console.error("EMS registration error:",L);const C=L.message||"Registration failed. Please try again.";l(C)}finally{i(!1)}};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(De,{className:"mx-auto h-16 w-16 text-orange-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Registration Submitted!"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a verification email to ",r.email,". Please check your inbox and click the verification link to activate your account."]}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Your account will be reviewed by our team and approved within 24 hours."})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-orange-600 rounded-full flex items-center justify-center",children:a.jsx(Te,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create EMS Agency Account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Register your EMS agency to start using TCC"})]}),o&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(ir,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"EMS Agency Information"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter your EMS agency details to create an account"})]}),a.jsxs("div",{className:"px-6 py-6",children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Mock Implementation"}),a.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:a.jsx("p",{children:"EMS agency registration is currently simulated locally. The form will validate and show success, but the registration won't persist. Backend API endpoint needs to be implemented."})})]})]})}),a.jsxs("form",{className:"space-y-6",onSubmit:j,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"agencyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency Name *"}),a.jsx("input",{type:"text",id:"agencyName",name:"agencyName",required:!0,value:r.agencyName,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter agency name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person Name *"}),a.jsx("input",{type:"text",id:"contactName",name:"contactName",required:!0,value:r.contactName,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter contact person name"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(nl,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:x,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter email address"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:r.phone,onChange:x,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter phone number"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(St,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"address",name:"address",required:!0,value:r.address,onChange:x,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter street address"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",id:"city",name:"city",required:!0,value:r.city,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsxs("select",{id:"state",name:"state",required:!0,value:r.state,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[a.jsx("option",{value:"",children:"State"}),p.map(k=>a.jsx("option",{value:k,children:k},k))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),a.jsx("input",{type:"text",id:"zipCode",name:"zipCode",required:!0,value:r.zipCode,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"ZIP Code"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Areas * (Select all that apply)"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(k=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:r.serviceArea.includes(k),onChange:()=>b(k),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:k})]},k))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(St,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Coordinates"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Location coordinates are required for distance calculations and agency matching. You can either lookup coordinates automatically or enter them manually."}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Tip:"}),` If the exact address doesn't work, try using just the agency name and city (e.g., "City EMS, Flint, MI") or a well-known address format like "123 Main St, City, State 12345"`]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:y,disabled:d||!((w=r.address)!=null&&w.trim())||!((N=r.city)!=null&&N.trim())||!((S=r.state)!=null&&S.trim())||!((P=r.zipCode)!=null&&P.trim()),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${d||!((O=r.address)!=null&&O.trim())||!((A=r.city)!=null&&A.trim())||!((E=r.state)!=null&&E.trim())||!((D=r.zipCode)!=null&&D.trim())?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",children:a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx(St,{className:"h-4 w-4 mr-2"}),"Lookup Coordinates"]})}),d||!((_=r.address)!=null&&_.trim())||!((T=r.city)!=null&&T.trim())||!((K=r.state)!=null&&K.trim())||!((R=r.zipCode)!=null&&R.trim())?a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d?"Looking up coordinates...":`Please fill in: ${[!((M=r.address)!=null&&M.trim())&&"Address",!((B=r.city)!=null&&B.trim())&&"City",!((I=r.state)!=null&&I.trim())&&"State",!((H=r.zipCode)!=null&&H.trim())&&"ZIP Code"].filter(Boolean).join(", ")}`}):a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to automatically find coordinates from your address"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",name:"latitude",value:r.latitude,onChange:x,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"e.g., 40.1234"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",name:"longitude",value:r.longitude,onChange:x,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"e.g., -78.5678"})]})]}),r.latitude&&r.longitude&&a.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded p-2",children:[" Coordinates set: ",r.latitude,", ",r.longitude]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Capabilities * (Select all that apply)"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(k=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:r.capabilities.includes(k),onChange:()=>v(k),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:k})]},k))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Availability (Optional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHoursStart",className:"block text-xs text-gray-500 mb-1",children:"Start Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(sr,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"time",id:"operatingHoursStart",name:"operatingHours.start",value:r.operatingHours.start,onChange:x,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"operatingHoursEnd",className:"block text-xs text-gray-500 mb-1",children:"End Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(sr,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"time",id:"operatingHoursEnd",name:"operatingHours.end",value:r.operatingHours.end,onChange:x,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave blank for 24/7 availability. Specify hours only if you have restrictions (e.g., "Monday-Friday 6 AM - 6 PM")'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:r.password,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter password (min 8 characters)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:r.confirmPassword,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirm password"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[a.jsx(rl,{className:"h-4 w-4 mr-1 inline"}),"Back to Login Selection"]}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]})]})]})]})]})})},iK=({onBack:e,onLogin:t})=>{console.log("TCC_DEBUG: HealthcareLogin component rendering");const[r,n]=g.useState({email:"",password:""}),[s,i]=g.useState(!1),[o,l]=g.useState(""),c=d=>{const{name:m,value:f}=d.target;n(h=>({...h,[m]:f}))},u=async d=>{var m,f;d.preventDefault(),i(!0),l("");try{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("TCC_DEBUG: Attempting healthcare login with data:",r);const h=await Xs.login(r);if(h.data.success){const{user:p,token:y}=h.data;console.log("TCC_DEBUG: Healthcare login successful:",p),localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify(p)),t(p,y)}else throw new Error(h.data.error||"Login failed")}catch(h){console.error("Healthcare login error:",h);const p=((f=(m=h.response)==null?void 0:m.data)==null?void 0:f.error)||h.message||"Login failed. Please try again.";l(p)}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(Vt,{className:"h-8 w-8 text-green-600"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Healthcare Facility Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your healthcare facility account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),o&&a.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[a.jsx(Ot,{className:"h-4 w-4 mr-2"}),o]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:e,className:"flex items-center justify-center text-gray-600 hover:text-gray-800 text-sm",children:[a.jsx(rl,{className:"h-4 w-4 mr-2"}),"Back to Login Options"]})})]})]})})},oK=({onBack:e,onLogin:t})=>{const[r,n]=g.useState({email:"",password:""}),[s,i]=g.useState(!1),[o,l]=g.useState(""),c=d=>{const{name:m,value:f}=d.target;n(h=>({...h,[m]:f}))},u=async d=>{var m,f,h;d.preventDefault(),i(!0),l("");try{localStorage.removeItem("token"),localStorage.removeItem("user");const{authAPI:p}=await Ch(async()=>{const{authAPI:x}=await Promise.resolve().then(()=>wh);return{authAPI:x}},void 0);console.log("TCC_DEBUG: EMS Login attempt with:",r.email);const y=await p.emsLogin({email:r.email,password:r.password});console.log("TCC_DEBUG: EMS Login response:",y.data),y.data.success?(console.log("TCC_DEBUG: EMS Login successful, calling onLogin with user:",y.data.user),t(y.data.user,y.data.token)):(console.log("TCC_DEBUG: EMS Login failed:",y.data.error),l(y.data.error||"Login failed"))}catch(p){console.error("TCC_DEBUG: EMS login error:",p),console.error("TCC_DEBUG: Error response:",(m=p.response)==null?void 0:m.data);const y=((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||p.message||"Network error. Please try again.";l(y)}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:a.jsx(Te,{className:"h-8 w-8 text-orange-600"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"EMS Agency Login"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your EMS agency account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:c,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),o&&a.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[a.jsx(Ot,{className:"h-4 w-4 mr-2"}),o]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:e,className:"flex items-center justify-center text-gray-600 hover:text-gray-800 text-sm",children:[a.jsx(rl,{className:"h-4 w-4 mr-2"}),"Back to Login Options"]})})]})]})})};class lK extends Np.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,message:(t==null?void 0:t.message)||"Render error"}}componentDidCatch(t,r){console.error("Render error boundary caught:",t,r)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:a.jsxs("div",{className:"bg-white shadow rounded-lg p-8 max-w-xl text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:this.state.message}),a.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Reload Page"})]})}):this.props.children}}function cK(){const[e,t]=g.useState(null),[r,n]=g.useState(!0),[s,i]=g.useState("public");g.useEffect(()=>{const h=async()=>{if(localStorage.getItem("token"))try{const v=await Xs.verify();t(v.data.user)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}n(!1)},y=new URLSearchParams(window.location.search).get("register");y==="healthcare"?i("healthcare-register"):y==="ems"&&i("ems-register"),h()},[]);const o=(h,p)=>{console.log("TCC_DEBUG: handleLogin called with userData:",h),console.log("TCC_DEBUG: handleLogin called with token:",p?"present":"missing"),t(h),localStorage.setItem("token",p),localStorage.setItem("user",JSON.stringify(h)),console.log("TCC_DEBUG: User state set, localStorage updated"),h.userType==="ADMIN"||h.userType==="USER"?(console.log("TCC_DEBUG: Redirecting to dashboard for admin/user"),window.location.href="/dashboard"):console.log("TCC_DEBUG: No redirect needed for healthcare/EMS - component should re-render")},l=()=>{t(null),localStorage.removeItem("token"),localStorage.removeItem("user"),i("public")},c=h=>{h==="tcc"?i("login"):h==="healthcare"?i("healthcare-login"):h==="ems"&&i("ems-login")},u=h=>{i(h==="healthcare"?"healthcare-register":"ems-register")},d=()=>{i("public")},m=()=>{i("public")},f=()=>{t(null),localStorage.removeItem("token"),localStorage.removeItem("user"),i("public")};return console.log("TCC_DEBUG: App render - user:",e,"loading:",r),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e?e.userType==="HEALTHCARE"?a.jsx(rK,{user:e,onLogout:l}):e.userType==="EMS"?a.jsx(y2,{user:e,onLogout:l}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs(hh,{children:[a.jsx(nt,{path:"/dashboard/*",element:a.jsx(JH,{user:e,onLogout:l})}),a.jsx(nt,{path:"*",element:a.jsx(XO,{to:"/dashboard",replace:!0})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx(hh,{children:a.jsx(nt,{path:"*",element:a.jsxs(a.Fragment,{children:[s==="public"&&a.jsx(nK,{onRoleSelect:c,onShowRegistration:u,onClearSession:f}),s==="healthcare-register"&&a.jsx(aK,{onBack:m,onSuccess:d}),s==="ems-register"&&a.jsx(sK,{onBack:m,onSuccess:d}),s==="login"&&a.jsx(I4,{onLogin:o}),s==="healthcare-login"&&a.jsx(iK,{onBack:m,onLogin:o}),s==="ems-login"&&a.jsx(oK,{onBack:m,onLogin:o})]})})})})}function uK(){return a.jsx(a5,{children:a.jsx(lK,{children:a.jsx(cK,{})})})}bf.createRoot(document.getElementById("root")).render(a.jsx(Np.StrictMode,{children:a.jsx(uK,{})}));
